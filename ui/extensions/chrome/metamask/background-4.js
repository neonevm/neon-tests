LavaPack.loadBundle([[4325,{"./constants":4323,"buffer/":2096,"js-sha3":4719},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.abiParsers=n.unpackAbiDef=n.getFuncSig=n.buildAddAbiPayload=n.ABI_DEF_SZ=n.MAX_ABI_DEFS=void 0;var r=e("buffer/"),i=e("js-sha3"),s=e("./constants"),o=100,a=32,u=18;n.MAX_ABI_DEFS=2,n.ABI_DEF_SZ=605;n.buildAddAbiPayload=function(e){if(!e||!Array.isArray(e))throw new Error("Missing definitions.");if(e.length>n.MAX_ABI_DEFS)throw new Error("You may only add ".concat(n.MAX_ABI_DEFS," ABI definitions per request."));var t=r.Buffer.alloc(1+n.MAX_ABI_DEFS*n.ABI_DEF_SZ),i=0;return t.writeUInt8(e.length,i),i++,e.forEach((function(e){if(!e.sig||!e.name||!e.params)throw new Error("name, sig, and params must be present for every ABI definition.");var n=r.Buffer.from(e.sig,"hex");if(4!==n.length)throw new Error("Function signatures must always be four bytes.");if(n.copy(t,i),i+=n.length,r.Buffer.from(e.name).length>99)throw new Error("Only function names shorter than ".concat(99," characters are supported."));r.Buffer.from(e.name).slice(0,o).copy(t,i),i+=o;var s=Array.isArray(e.params)?e.params.length:0;if(t.writeUInt8(s,i),i++,e.category&&"string"==typeof e.category){var c=r.Buffer.from(e.category);if(c.length>31)throw new Error("Category name must be shorter than ".concat(31,". Got ").concat(c.length));c.copy(t,i)}if(i+=a,s>u)throw new Error("Currently only ABI defintions with <=10 parameters are supported.");s>0?(e.params.forEach((function(e){if(e.name===undefined||e.latticeTypeIdx===undefined||e.isArray===undefined||e.arraySz===undefined)throw new Error("name, latticeTypeIdx, isArray, and arraySz must be defined for all ABI params.");r.Buffer.from(e.name).slice(0,20).copy(t,i),i+=20})),i+=20*(u-s),e.params.forEach((function(e){t.writeUInt8(e.latticeTypeIdx,i),i++,t.writeUInt8(e.isArray?1:0,i),i++,t.writeUInt32LE(e.arraySz,i),i+=4})),i+=6*(u-s)):i+=468})),t};n.getFuncSig=function(e){var t="".concat(e.name,"(");return e.inputs.forEach((function(e){if(e.type.indexOf("tuple")>-1){var n=e.type.slice(e.type.indexOf("tuple")+5);t+="(",e.components.forEach((function(n,r){t+="".concat(n.type).concat(r===e.components.length-1?"":",")})),t+=")".concat(n,",")}else t+="".concat(e.type,",")})),e.inputs.length>0&&(t=t.slice(0,t.length-1)),t+=")",(0,i.keccak256)(t).slice(0,8)};function c(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var r=[];if(e.forEach((function(e){var i=e.type,o={isArray:!1,arraySz:0,name:e.name},a=i.indexOf("["),u=i.indexOf("]");if(i.split("[").length>2)throw new Error("Skipping function with unsupported multidimensional array type");if(a>-1&&u>-1)if(a>=u);else if(a+1===u)o.isArray=!0;else{var l=parseInt(i.slice(a+1,u));if(isNaN(l))return o;o.isArray=!0,o.arraySz=l}var f,h=a>-1?i.slice(0,a):i;if("tuple"===h){if(!0===n)throw new Error("Nested tuples are not supported");h="tuple".concat(e.components.length),r=c(e.components,r,!0)}if(o.latticeTypeIdx=(f=h,s.ETH_ABI_LATTICE_FW_TYPE_MAP[f]),!o.latticeTypeIdx)throw new Error("Unsupported type: ".concat(i));t.push(o)})),t.concat(r).length>18)throw new Error("Function has too many parameters for Lattice firmware (18 max)");return t.concat(r)}n.unpackAbiDef=function(e){var t=0,n={header:{sig:"",name:"",numParam:0},category:"",params:[]};n.header.sig="0x"+e.slice(t,t+4).toString("hex"),t+=4,n.header.name=e.slice(t,t+o).toString().split("\0")[0],t+=o,n.header.numParam=e.readUInt8(t),t+=1,n.category=e.slice(t,t+a).toString().split("\0")[0],t+=a;for(var r=0;r<u;r++){if(r<n.header.numParam){var i={name:"",type:0,typeName:"",isArray:!1,arraySz:0};i.name=e.slice(t,t+20).toString().split("\0")[0],n.params.push(i)}t+=20}function c(e){var t=null;return Object.keys(s.ETH_ABI_LATTICE_FW_TYPE_MAP).forEach((function(n){s.ETH_ABI_LATTICE_FW_TYPE_MAP[n]===e&&(t=n)})),t}for(r=0;r<u;r++)r<n.header.numParam&&(n.params[r].type=e.readUInt8(t),t+=1,n.params[r].typeName=c(n.params[r].type),n.params[r].isArray=e.readUInt8(t),t+=1,n.params[r].arraySz=e.readUInt32LE(t),t+=4);return n},n.abiParsers={etherscan:function(e,t){void 0===t&&(t=!1);var r=[];return e.forEach((function(e){if(e.name&&e.inputs&&"function"===e.type&&"view"!==e.stateMutability&&!0!==e.constant)try{var i=(0,n.getFuncSig)(e),s=c(e.inputs);r.push({name:e.name,sig:i,params:s})}catch(n){if(!0!==t)throw new Error(n);console.error("Failed to load def:",e.name,n.toString())}})),r}},n.default={MAX_ABI_DEFS:n.MAX_ABI_DEFS,buildAddAbiPayload:n.buildAddAbiPayload,getFuncSig:n.getFuncSig,abiParsers:n.abiParsers}}}},{package:"gridplus-sdk",file:"/home/gudahtt/projects/metamask-extension/node_modules/gridplus-sdk/dist/ethereumAbi.js"}],[4326,{"./constants":4323,"./index":4327,"./util":4328,"buffer/":2096,"hash.js/lib/hash/sha":4366,"js-sha3":4719},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getEncodedPayload=n.parseGenericSigningResponse=n.buildGenericSigningMsgRequest=void 0;var r=e("buffer/"),i=e("js-sha3"),s=e("hash.js/lib/hash/sha"),o=e("./constants"),a=e("./index"),u=e("./util");n.buildGenericSigningMsgRequest=function(e){var t=e.signerPath,a=e.curveType,c=e.hashType,l=e.encodingType,f=void 0===l?null:l,h=e.omitPubkey,d=void 0!==h&&h,p=e.fwConstants,m=p.extraDataFrameSz,g=p.extraDataMaxFrames,b=p.prehashAllowed,_=p.genericSigning,w=p.varAddrPathSzAllowed,y=_.curveTypes,k=_.encodingTypes,v=_.hashTypes,x=_.baseDataSz,E=_.baseReqSz,S=(0,n.getEncodedPayload)(e.payload,f,k),j=S.encoding,R=S.payloadBuf;if(0===R.length)throw new Error("Payload could not be handled.");if(!(_&&m&&g&&b))throw new Error("Unsupported. Please update your Lattice firmware.");if(!(0,u.existsIn)(a,y))throw new Error("Unsupported curve type.");if(!(0,u.existsIn)(c,v))throw new Error("Unsupported hash type.");if(a===y.ED25519){if(c!==v.NONE)throw new Error("Signing on ed25519 requires unhashed message");t.forEach((function(e){if(e<o.HARDENED_OFFSET)throw new Error("Signing on ed25519 requires all signer path indices be hardened.")}))}var A=r.Buffer.alloc(E),I=0;A.writeUInt32LE(j,I),I+=4,A.writeUInt8(c,I),I+=1,A.writeUInt8(a,I),I+=1;var N=(0,u.buildSignerPathBuf)(t,w);N.copy(A,I),I+=N.length,A.writeUInt8(d?1:0,I),I+=1,A.writeUInt16LE(R.length,I),I+=2;var O=x+g*m,T=[],L=null;if(R.length>x)if(b&&R.length>O){if(c===v.NONE)throw new Error("Message too large to send and could not be prehashed (hashType=NONE).");if(c===v.KECCAK256)L=r.Buffer.from((0,i.keccak256)(R),"hex");else{if(c!==v.SHA256)throw new Error("Unsupported hash type.");L=r.Buffer.from((0,s.sha256)().update(R).digest("hex"),"hex")}}else{(0,u.splitFrames)(R.slice(x),m).forEach((function(e){var t=r.Buffer.alloc(4);t.writeUInt32LE(e.length,0),T.push(r.Buffer.concat([t,e]))}))}return(L||R).copy(A,I),{payload:A,extraDataPayloads:T,schema:o.signingSchema.GENERAL_SIGNING,curveType:a,omitPubkey:d}};n.parseGenericSigningResponse=function(e,t,n,i){var s={pubkey:null,sig:null};if(n===a.Constants.SIGNING.CURVES.SECP256K1){if(i)t+=65;else{var o=e.readUint8(t);if(t+=1,2===o||3===o)s.pubkey=r.Buffer.alloc(33),s.pubkey.writeUInt8(o,0),e.slice(t,t+32).copy(s.pubkey,1);else{if(4!==o)throw new Error("Bad compression byte in signing response.");s.pubkey=r.Buffer.alloc(65),s.pubkey.writeUInt8(o,0),e.slice(t).copy(s.pubkey,1)}t+=64}s.sig=(0,u.parseDER)(e.slice(t,t+2+e[t+1])),s.sig.r=(0,u.fixLen)(s.sig.r,32),s.sig.s=(0,u.fixLen)(s.sig.s,32)}else{if(n!==a.Constants.SIGNING.CURVES.ED25519)throw new Error("Unsupported curve.");i||(s.pubkey=r.Buffer.alloc(32),e.slice(t,t+32).copy(s.pubkey)),t+=32,s.sig={r:e.slice(t,t+32),s:e.slice(t+32,t+64)}}return s};n.getEncodedPayload=function(e,t,n){if(t||(t=a.Constants.SIGNING.ENCODINGS.NONE),!(0,u.existsIn)(t,n))throw new Error("Encoding not supported by Lattice firmware. You may want to update.");return{payloadBuf:"string"==typeof e&&"0x"===e.slice(0,2)?r.Buffer.from(e.slice(2),"hex"):r.Buffer.from(e),encoding:t}}}}},{package:"gridplus-sdk",file:"/home/gudahtt/projects/metamask-extension/node_modules/gridplus-sdk/dist/genericSigning.js"}],[4327,{"./client":4322,"./constants":4323},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Constants=n.Client=void 0;var r=e("./client");Object.defineProperty(n,"Client",{enumerable:!0,get:function(){return r.Client}});var i=e("./constants");Object.defineProperty(n,"Constants",{enumerable:!0,get:function(){return i.EXTERNAL}})}}},{package:"gridplus-sdk",file:"/home/gudahtt/projects/metamask-extension/node_modules/gridplus-sdk/dist/index.js"}],[4328,{"./constants":4323,"aes-js":1675,"bignumber.js":4330,"buffer/":2096,"crc-32":2156,elliptic:2315},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.randomBytes=n.promisifyCb=n.existsIn=n.isAsciiStr=n.buildSignerPathBuf=n.getP256KeyPairFromPub=n.getP256KeyPair=n.parseDER=n.aes256_decrypt=n.aes256_encrypt=n.fixLen=n.ensureHexBuffer=n.splitFrames=n.isValidAssetPath=n.toPaddedDER=n.checksum=n.parseLattice1Response=void 0;var s=i(e("aes-js")),o=i(e("bignumber.js")),a=e("buffer/"),u=i(e("crc-32")),c=i(e("elliptic")),l=e("./constants"),f=l.BIP_CONSTANTS.COINS,h=l.BIP_CONSTANTS.PURPOSES,d=new(0,c.default.ec)("p256");n.parseLattice1Response=function(e){var t={err:null,data:null},r=a.Buffer.from(e,"hex"),i=0,s=r.readUInt8(i);if(i++,s!==l.VERSION_BYTE)return t.err="Incorrect protocol version. Please update your SDK",t;var o=r.readUInt8(i);if(i++,0!==o)return t.err="Incorrect response from Lattice1",t;r.readUInt32BE(i),i+=4;var u=r.readUInt16BE(i);i+=2;var c=r.slice(i,i+u);i+=u;var f=c.readUInt8(0);return f!==l.responseCodes.RESP_SUCCESS?(t.err="".concat(l.responseMsgs[f]?l.responseMsgs[f]:"Unknown Error"," (Lattice)"),t.responseCode=f,t):(t.data=c.slice(1,c.length),r.readUInt32BE(i)!==(0,n.checksum)(r.slice(0,r.length-4))?(t.err="Invalid checksum from device response",t.data=null,t):t)};n.checksum=function(e){return u.default.buf(e)>>>0};n.toPaddedDER=function(e){var t=a.Buffer.alloc(74);return a.Buffer.from(e.toDER()).copy(t),t};n.isValidAssetPath=function(e,t){var n=[h.ETH,h.BTC_LEGACY,h.BTC_WRAPPED_SEGWIT,h.BTC_SEGWIT],r=[f.ETH,f.BTC,f.BTC_TESTNET];return!((e[1]===f.BTC||e[1]===f.BTC_TESTNET)&&e[0]!==h.BTC_WRAPPED_SEGWIT&&!t.allowBtcLegacyAndSegwitAddrs)&&(n.indexOf(e[0])>=0&&(r.indexOf(e[1])>=0||[60,61,966,700,9006,9e3,1007,553,178,137,37310,108,40,889,1987,820,6060,1620,1313114,76,246529,246785,1001,227,916,464,2221,344,73799,246].indexOf(e[1]-l.HARDENED_OFFSET)>0))};n.splitFrames=function(e,t){for(var n=[],r=Math.ceil(e.length/t),i=0,s=0;s<r;s++)n.push(e.slice(i,i+t)),i+=t;return n};n.ensureHexBuffer=function(e,t){void 0===t&&(t=!0);try{if(null===e||0===e&&!0===t)return a.Buffer.alloc(0);var n="number"==typeof e||function(e){var t=new o.default(e).toString().split(".").join(""),n=new String(e);return t.slice(0,8)===n.slice(0,8)}(e);return(e=n?"".concat(new o.default(e).toString(16)):"string"==typeof e&&"0x"===e.slice(0,2)?e.slice(2):e.toString("hex")).length%2>0&&(e="0".concat(e)),"00"!==e||n?a.Buffer.from(e,"hex"):a.Buffer.alloc(0)}catch(t){throw new Error("Cannot convert ".concat(e.toString()," to hex buffer (").concat(t.toString(),")"))}};n.fixLen=function(e,t){var n=a.Buffer.alloc(t);return e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)};n.aes256_encrypt=function(e,t){var n=a.Buffer.from(l.AES_IV),r=new s.default.ModeOfOperation.cbc(t,n),i=e.length%16==0?e:s.default.padding.pkcs7.pad(e);return a.Buffer.from(r.encrypt(i))};n.aes256_decrypt=function(e,t){var n=a.Buffer.from(l.AES_IV),r=new s.default.ModeOfOperation.cbc(t,n);return a.Buffer.from(r.decrypt(e))};n.parseDER=function(e){if(48!==e[0]||2!==e[2])return null;var t=3,n={r:null,s:null},r=e[t];if(t++,n.r=e.slice(t,t+r),2!==e[t+=r])return null;var i=e[++t];return t++,n.s=e.slice(t,t+i),n};n.getP256KeyPair=function(e){return d.keyFromPrivate(e,"hex")};n.getP256KeyPairFromPub=function(e){return d.keyFromPublic(e,"hex")};n.buildSignerPathBuf=function(e,t){var n=a.Buffer.alloc(24),r=0;if(t&&e.length>5)throw new Error("Signer path must be <=5 indices.");if(!t&&5!==e.length)throw new Error("Your Lattice firmware only supports 5-index derivation paths. Please upgrade.");n.writeUInt32LE(e.length,r),r+=4;for(var i=0;i<5;i++)i<e.length?n.writeUInt32LE(e[i],r):n.writeUInt32LE(0,r),r+=4;return n};n.isAsciiStr=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)return!1;for(var n=t?[32,10]:[],r=0;r<e.length;r++){var i=e.charCodeAt(r);if(n.indexOf(i)<0&&(i<32||i>127))return!1}return!0};n.existsIn=function(e,t){return Object.keys(t).some((function(n){return t[n]===e}))};n.promisifyCb=function(e,t,n){return function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n&&"function"==typeof n?n.apply(void 0,r([i],s,!1)):i&&"string"==typeof i?t(i):e.apply(void 0,s)}};n.randomBytes=function(e){for(var t=a.Buffer.alloc(e),n=0;n<e;n++)t[n]=Math.round(255*Math.random());return t}}}},{package:"gridplus-sdk",file:"/home/gudahtt/projects/metamask-extension/node_modules/gridplus-sdk/dist/util.js"}],[4329,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.bech32m=n.bech32=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={};for(let e=0;e<r.length;e++){const t=r.charAt(e);i[t]=e}function s(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=s(t)^r>>5}t=s(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=s(t)^31&r}return t}function a(e,t,n,r){let i=0,s=0;const o=(1<<n)-1,a=[];for(let r=0;r<e.length;++r)for(i=i<<t|e[r],s+=t;s>=n;)s-=n,a.push(i>>s&o);if(r)s>0&&a.push(i<<n-s&o);else{if(s>=t)return"Excess padding";if(i<<n-s&o)return"Non-zero padding"}return a}function u(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function l(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function f(e){let t;function n(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const r=e.toLowerCase(),a=e.toUpperCase();if(e!==r&&e!==a)return"Mixed-case string "+e;const u=(e=r).lastIndexOf("1");if(-1===u)return"No separator character for "+e;if(0===u)return"Missing prefix for "+e;const c=e.slice(0,u),l=e.slice(u+1);if(l.length<6)return"Data too short";let f=o(c);if("string"==typeof f)return f;const h=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=i[t];if(n===undefined)return"Unknown character "+t;f=s(f)^n,e+6>=l.length||h.push(n)}return f!==t?"Invalid checksum for "+e:{prefix:c,words:h}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const r=n(e,t);if("object"==typeof r)return r},decode:function(e,t){const r=n(e,t);if("object"==typeof r)return r;throw new Error(r)},encode:function(e,n,i){if(i=i||90,e.length+7+n.length>i)throw new TypeError("Exceeds length limit");let a=o(e=e.toLowerCase());if("string"==typeof a)throw new Error(a);let u=e+"1";for(let e=0;e<n.length;++e){const t=n[e];if(t>>5!=0)throw new Error("Non 5-bit word");a=s(a)^t,u+=r.charAt(t)}for(let e=0;e<6;++e)a=s(a);a^=t;for(let e=0;e<6;++e){u+=r.charAt(a>>5*(5-e)&31)}return u},toWords:u,fromWordsUnsafe:c,fromWords:l}}n.bech32=f("bech32"),n.bech32m=f("bech32m")}}},{package:"bech32",file:"/home/gudahtt/projects/metamask-extension/node_modules/gridplus-sdk/node_modules/bech32/dist/index.js"}],[4330,{},function(){with(this)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,d=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(t=e[r++]+"",n=c-t.length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function g(e,t){var n,r,i=e.c,s=t.c,o=e.s,a=t.s,u=e.e,c=t.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=u==c,!i||!s)return r?0:!i^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return u==c?0:u>c^n?1:-1}function b(e,t,n,r){if(e<t||e>n||e!==s(e))throw Error(o+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function _(e){var t=e.c.length-1;return p(e.e/c)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function y(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,k,v,x,E,S,j,R,A,I,N=H.prototype={constructor:H,toString:null,valueOf:null},O=new H(1),T=20,L=4,P=-7,D=21,B=-1e7,C=1e7,M=!1,z=1,F=0,U={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},$="0123456789abcdefghijklmnopqrstuvwxyz";function H(e,t){var n,i,o,u,f,h,d,p,m=this;if(!(m instanceof H))return new H(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>C?m.c=m.e=null:e.e<B?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,f=e;f>=10;f/=10,u++);return void(u>C?m.c=m.e=null:(m.e=u,m.c=[e]))}p=String(e)}else{if(!r.test(p=String(e)))return v(m,p,h);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(u=p.indexOf("."))>-1&&(p=p.replace(".","")),(f=p.search(/e/i))>0?(u<0&&(u=f),u+=+p.slice(f+1),p=p.substring(0,f)):u<0&&(u=p.length)}else{if(b(t,2,$.length,"Base"),10==t)return G(m=new H(e),T+m.e+1,L);if(p=String(e),h="number"==typeof e){if(0*e!=0)return v(m,p,h,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,H.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=$.slice(0,t),u=f=0,d=p.length;f<d;f++)if(n.indexOf(i=p.charAt(f))<0){if("."==i){if(f>u){u=d;continue}}else if(!o&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){o=!0,f=-1,u=0;continue}return v(m,String(e),h,t)}h=!1,(u=(p=k(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):u=p.length}for(f=0;48===p.charCodeAt(f);f++);for(d=p.length;48===p.charCodeAt(--d););if(p=p.slice(f,++d)){if(d-=f,h&&H.DEBUG&&d>15&&(e>l||e!==s(e)))throw Error(a+m.s*e);if((u=u-f-1)>C)m.c=m.e=null;else if(u<B)m.c=[m.e=0];else{if(m.e=u,m.c=[],f=(u+1)%c,u<0&&(f+=c),f<d){for(f&&m.c.push(+p.slice(0,f)),d-=c;f<d;)m.c.push(+p.slice(f,f+=c));f=c-(p=p.slice(f)).length}else f-=d;for(;f--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function q(e,t,n,r){var i,s,o,a,u;if(null==n?n=L:b(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)u=m(e.c),u=1==r||2==r&&(o<=P||o>=D)?w(u,o):y(u,o,"0");else if(s=(e=G(new H(e),t,n)).e,a=(u=m(e.c)).length,1==r||2==r&&(t<=s||s<=P)){for(;a<t;u+="0",a++);u=w(u,s)}else if(t-=o,u=y(u,s,"0"),s+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-a)>0)for(s+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function V(e,t){for(var n,r=1,i=new H(e[0]);r<e.length;r++){if(!(n=new H(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function W(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*c-1)>C?e.c=e.e=null:n<B?e.c=[e.e=0]:(e.e=n,e.c=t),e}function G(e,t,n,r){var o,a,l,h,d,p,m,g=e.c,b=f;if(g){e:{for(o=1,h=g[0];h>=10;h/=10,o++);if((a=t-o)<0)a+=c,l=t,m=(d=g[p=0])/b[o-l-1]%10|0;else if((p=i((a+1)/c))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));d=m=0,o=1,l=(a%=c)-c+1}else{for(d=h=g[p],o=1;h>=10;h/=10,o++);m=(l=(a%=c)-c+o)<0?0:d/b[o-l-1]%10|0}if(r=r||t<0||null!=g[p+1]||(l<0?d:d%b[o-l-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(a>0?l>0?d/b[o-l]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=b[(c-t%c)%c],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,h=1,p--):(g.length=p+1,h=b[c-a],g[p]=l>0?s(d/b[o-l]%b[l])*h:0),r)for(;;){if(0==p){for(a=1,l=g[0];l>=10;l/=10,a++);for(l=g[0]+=h,h=1;l>=10;l/=10,h++);a!=h&&(e.e++,g[0]==u&&(g[0]=1));break}if(g[p]+=h,g[p]!=u)break;g[p--]=0,h=1}for(a=g.length;0===g[--a];g.pop());}e.e>C?e.c=e.e=null:e.e<B&&(e.c=[e.e=0])}return e}function K(e){var t,n=e.e;return null===n?e.toString():(t=m(e.c),t=n<=P||n>=D?w(t,n):y(t,n,"0"),e.s<0?"-"+t:t)}return H.clone=e,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(o+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(n=e[t],0,d,t),T=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(n=e[t],0,8,t),L=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(b(n[0],-d,0,t),b(n[1],0,d,t),P=n[0],D=n[1]):(b(n,-d,d,t),P=-(D=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)b(n[0],-d,-1,t),b(n[1],1,d,t),B=n[0],C=n[1];else{if(b(n,-d,d,t),!n)throw Error(o+t+" cannot be zero: "+n);B=-(C=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(o+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw M=!n,Error(o+"crypto unavailable");M=n}else M=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(n=e[t],0,9,t),z=n),e.hasOwnProperty(t="POW_PRECISION")&&(b(n=e[t],0,d,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(o+t+" not an object: "+n);U=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(o+t+" invalid: "+n);$=n}}return{DECIMAL_PLACES:T,ROUNDING_MODE:L,EXPONENTIAL_AT:[P,D],RANGE:[B,C],CRYPTO:M,MODULO_MODE:z,POW_PRECISION:F,FORMAT:U,ALPHABET:$}},H.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!H.DEBUG)return!0;var t,n,r=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&i>=-d&&i<=d&&i===s(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%c)<1&&(t+=c),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=u||n!==s(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(o+"Invalid BigNumber: "+e)},H.maximum=H.max=function(){return V(arguments,N.lt)},H.minimum=H.min=function(){return V(arguments,N.gt)},H.random=(x=9007199254740992,E=Math.random()*x&2097151?function(){return s(Math.random()*x)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,u,l=0,h=[],p=new H(O);if(null==e?e=T:b(e,0,d),a=i(e/c),M)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(u=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(h.push(u%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw M=!1,Error(o+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(u=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(h.push(u%1e14),l+=7);l=a/7}if(!M)for(;l<a;)(u=E())<9e15&&(h[l++]=u%1e14);for(a=h[--l],e%=c,a&&e&&(u=f[c-e],h[l]=s(a/u)*u);0===h[l];h.pop(),l--);if(l<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=c);for(l=1,u=h[0];u>=10;u/=10,l++);l<c&&(r-=c-l)}return p.e=r,p.c=h,p}),H.sum=function(){for(var e=1,t=arguments,n=new H(t[0]);e<t.length;)n=n.plus(t[e++]);return n},k=function(){var e="0123456789";function t(e,t,n,r){for(var i,s,o=[0],a=0,u=e.length;a<u;){for(s=o.length;s--;o[s]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(r,i,s,o,a){var u,c,l,f,h,d,p,g,b=r.indexOf("."),_=T,w=L;for(b>=0&&(f=F,F=0,r=r.replace(".",""),d=(g=new H(i)).pow(r.length-b),F=f,g.c=t(y(m(d.c),d.e,"0"),10,s,e),g.e=g.c.length),l=f=(p=t(r,i,s,a?(u=$,e):(u=e,$))).length;0==p[--f];p.pop());if(!p[0])return u.charAt(0);if(b<0?--l:(d.c=p,d.e=l,d.s=o,p=(d=n(d,g,_,w,s)).c,h=d.r,l=d.e),b=p[c=l+_+1],f=s/2,h=h||c<0||null!=p[c+1],h=w<4?(null!=b||h)&&(0==w||w==(d.s<0?3:2)):b>f||b==f&&(4==w||h||6==w&&1&p[c-1]||w==(d.s<0?8:7)),c<1||!p[0])r=h?y(u.charAt(1),-_,u.charAt(0)):u.charAt(0);else{if(p.length=c,h)for(--s;++p[--c]>s;)p[c]=0,c||(++l,p=[1].concat(p));for(f=p.length;!p[--f];);for(b=0,r="";b<=f;r+=u.charAt(p[b++]));r=y(r,l,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,s,o,a=0,u=e.length,c=t%h,l=t/h|0;for(e=e.slice();u--;)a=((i=c*(s=e[u]%h)+(r=l*s+(o=e[u]/h|0)*c)%h*h+a)/n|0)+(r/h|0)+l*o,e[u]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,o,a,l){var f,h,d,m,g,b,_,w,y,k,v,x,E,S,j,R,A,I=r.s==i.s?1:-1,N=r.c,O=i.c;if(!(N&&N[0]&&O&&O[0]))return new H(r.s&&i.s&&(N?!O||N[0]!=O[0]:O)?N&&0==N[0]||!O?0*I:I/0:NaN);for(y=(w=new H(I)).c=[],I=o+(h=r.e-i.e)+1,l||(l=u,h=p(r.e/c)-p(i.e/c),I=I/c|0),d=0;O[d]==(N[d]||0);d++);if(O[d]>(N[d]||0)&&h--,I<0)y.push(1),m=!0;else{for(S=N.length,R=O.length,d=0,I+=2,(g=s(l/(O[0]+1)))>1&&(O=e(O,g,l),N=e(N,g,l),R=O.length,S=N.length),E=R,v=(k=N.slice(0,R)).length;v<R;k[v++]=0);A=O.slice(),A=[0].concat(A),j=O[0],O[1]>=l/2&&j++;do{if(g=0,(f=t(O,k,R,v))<0){if(x=k[0],R!=v&&(x=x*l+(k[1]||0)),(g=s(x/j))>1)for(g>=l&&(g=l-1),_=(b=e(O,g,l)).length,v=k.length;1==t(b,k,_,v);)g--,n(b,R<_?A:O,_,l),_=b.length,f=1;else 0==g&&(f=g=1),_=(b=O.slice()).length;if(_<v&&(b=[0].concat(b)),n(k,b,v,l),v=k.length,-1==f)for(;t(O,k,R,v)<1;)g++,n(k,R<v?A:O,v,l),v=k.length}else 0===f&&(g++,k=[0]);y[d++]=g,k[0]?k[v++]=N[E]||0:(k=[N[E]],v=1)}while((E++<S||null!=k[0])&&I--);m=null!=k[0],y[0]||y.splice(0,1)}if(l==u){for(d=1,I=y[0];I>=10;I/=10,d++);G(w,o+(w.e=d+h*c-1)+1,a,m)}else w.e=h,w.r=+m;return w}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,j=/^([^.]+)\.$/,R=/^\.([^.]+)$/,A=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,v=function(e,t,n,r){var i,s=n?t:t.replace(I,"");if(A.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(S,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(j,"$1").replace(R,"0.$1")),t!=s))return new H(s,i);if(H.DEBUG)throw Error(o+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},N.absoluteValue=N.abs=function(){var e=new H(this);return e.s<0&&(e.s=1),e},N.comparedTo=function(e,t){return g(this,new H(e,t))},N.decimalPlaces=N.dp=function(e,t){var n,r,i,s=this;if(null!=e)return b(e,0,d),null==t?t=L:b(t,0,8),G(new H(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((i=n.length-1)-p(this.e/c))*c,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},N.dividedBy=N.div=function(e,t){return n(this,new H(e,t),T,L)},N.dividedToIntegerBy=N.idiv=function(e,t){return n(this,new H(e,t),0,1)},N.exponentiatedBy=N.pow=function(e,t){var n,r,a,u,l,f,h,d,p=this;if((e=new H(e)).c&&!e.isInteger())throw Error(o+"Exponent not an integer: "+K(e));if(null!=t&&(t=new H(t)),l=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return d=new H(Math.pow(+K(p),l?2-_(e):+K(e))),t?d.mod(t):d;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new H(NaN);(r=!f&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return u=p.s<0&&_(e)?-0:0,p.e>-1&&(u=1/u),new H(f?1/u:u);F&&(u=i(F/c+2))}for(l?(n=new H(.5),f&&(e.s=1),h=_(e)):h=(a=Math.abs(+K(e)))%2,d=new H(O);;){if(h){if(!(d=d.times(p)).c)break;u?d.c.length>u&&(d.c.length=u):r&&(d=d.mod(t))}if(a){if(0===(a=s(a/2)))break;h=a%2}else if(G(e=e.times(n),e.e+1,1),e.e>14)h=_(e);else{if(0===(a=+K(e)))break;h=a%2}p=p.times(p),u?p.c&&p.c.length>u&&(p.c.length=u):r&&(p=p.mod(t))}return r?d:(f&&(d=O.div(d)),t?d.mod(t):u?G(d,F,L,undefined):d)},N.integerValue=function(e){var t=new H(this);return null==e?e=L:b(e,0,8),G(t,t.e+1,e)},N.isEqualTo=N.eq=function(e,t){return 0===g(this,new H(e,t))},N.isFinite=function(){return!!this.c},N.isGreaterThan=N.gt=function(e,t){return g(this,new H(e,t))>0},N.isGreaterThanOrEqualTo=N.gte=function(e,t){return 1===(t=g(this,new H(e,t)))||0===t},N.isInteger=function(){return!!this.c&&p(this.e/c)>this.c.length-2},N.isLessThan=N.lt=function(e,t){return g(this,new H(e,t))<0},N.isLessThanOrEqualTo=N.lte=function(e,t){return-1===(t=g(this,new H(e,t)))||0===t},N.isNaN=function(){return!this.s},N.isNegative=function(){return this.s<0},N.isPositive=function(){return this.s>0},N.isZero=function(){return!!this.c&&0==this.c[0]},N.minus=function(e,t){var n,r,i,s,o=this,a=o.s;if(t=(e=new H(e,t)).s,!a||!t)return new H(NaN);if(a!=t)return e.s=-t,o.plus(e);var l=o.e/c,f=e.e/c,h=o.c,d=e.c;if(!l||!f){if(!h||!d)return h?(e.s=-t,e):new H(d?o:NaN);if(!h[0]||!d[0])return d[0]?(e.s=-t,e):new H(h[0]?o:3==L?-0:0)}if(l=p(l),f=p(f),h=h.slice(),a=l-f){for((s=a<0)?(a=-a,i=h):(f=l,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(s=(a=h.length)<(t=d.length))?a:t,a=t=0;t<r;t++)if(h[t]!=d[t]){s=h[t]<d[t];break}if(s&&(i=h,h=d,d=i,e.s=-e.s),(t=(r=d.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=u-1;r>a;){if(h[--r]<d[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=u}h[r]-=d[r]}for(;0==h[0];h.splice(0,1),--f);return h[0]?W(e,h,f):(e.s=3==L?-1:1,e.c=[e.e=0],e)},N.modulo=N.mod=function(e,t){var r,i,s=this;return e=new H(e,t),!s.c||!e.s||e.c&&!e.c[0]?new H(NaN):!e.c||s.c&&!s.c[0]?new H(s):(9==z?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,z),(e=s.minus(r.times(e))).c[0]||1!=z||(e.s=s.s),e)},N.multipliedBy=N.times=function(e,t){var n,r,i,s,o,a,l,f,d,m,g,b,_,w,y,k=this,v=k.c,x=(e=new H(e,t)).c;if(!(v&&x&&v[0]&&x[0]))return!k.s||!e.s||v&&!v[0]&&!x||x&&!x[0]&&!v?e.c=e.e=e.s=null:(e.s*=k.s,v&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p(k.e/c)+p(e.e/c),e.s*=k.s,(l=v.length)<(m=x.length)&&(_=v,v=x,x=_,i=l,l=m,m=i),i=l+m,_=[];i--;_.push(0));for(w=u,y=h,i=m;--i>=0;){for(n=0,g=x[i]%y,b=x[i]/y|0,s=i+(o=l);s>i;)n=((f=g*(f=v[--o]%y)+(a=b*f+(d=v[o]/y|0)*g)%y*y+_[s]+n)/w|0)+(a/y|0)+b*d,_[s--]=f%w;_[s]=n}return n?++r:_.splice(0,1),W(e,_,r)},N.negated=function(){var e=new H(this);return e.s=-e.s||null,e},N.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new H(e,t)).s,!i||!t)return new H(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/c,o=e.e/c,a=r.c,l=e.c;if(!s||!o){if(!a||!l)return new H(i/0);if(!a[0]||!l[0])return l[0]?e:new H(a[0]?r:0*i)}if(s=p(s),o=p(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=l):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=l.length)<0&&(n=l,l=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+l[t]+i)/u|0,a[t]=u===a[t]?0:a[t]%u;return i&&(a=[i].concat(a),++o),W(e,a,o)},N.precision=N.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return b(e,1,d),null==t?t=L:b(t,0,8),G(new H(s),e,t);if(!(n=s.c))return null;if(r=(i=n.length-1)*c+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},N.shiftedBy=function(e){return b(e,-9007199254740991,l),this.times("1e"+e)},N.squareRoot=N.sqrt=function(){var e,t,r,i,s,o=this,a=o.c,u=o.s,c=o.e,l=T+4,f=new H("0.5");if(1!==u||!a||!a[0])return new H(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+K(o)))||u==1/0?(((t=m(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=p((c+1)/2)-(c<0||c%2),r=new H(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new H(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(s=r,r=f.times(s.plus(n(o,s,l,1))),m(s.c).slice(0,u)===(t=m(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(G(r,r.e+T+2,1),e=!r.times(r).eq(o));break}if(!i&&(G(s,s.e+T+2,0),s.times(s).eq(o))){r=s;break}l+=4,u+=4,i=1}return G(r,r.e+T+1,L,e)},N.toExponential=function(e,t){return null!=e&&(b(e,0,d),e++),q(this,e,t,1)},N.toFixed=function(e,t){return null!=e&&(b(e,0,d),e=e+this.e+1),q(this,e,t)},N.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=U;else if("object"!=typeof n)throw Error(o+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,a=r.split("."),u=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",f=a[0],h=a[1],d=i.s<0,p=d?f.slice(1):f,m=p.length;if(c&&(s=u,u=c,c=s,m-=s),u>0&&m>0){for(s=m%u||u,f=p.substr(0,s);s<m;s+=u)f+=l+p.substr(s,u);c>0&&(f+=l+p.slice(s)),d&&(f="-"+f)}r=h?f+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):f}return(n.prefix||"")+r+(n.suffix||"")},N.toFraction=function(e){var t,r,i,s,a,u,l,h,d,p,g,b,_=this,w=_.c;if(null!=e&&(!(l=new H(e)).isInteger()&&(l.c||1!==l.s)||l.lt(O)))throw Error(o+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+K(l));if(!w)return new H(_);for(t=new H(O),d=r=new H(O),i=h=new H(O),b=m(w),a=t.e=b.length-_.e-1,t.c[0]=f[(u=a%c)<0?c+u:u],e=!e||l.comparedTo(t)>0?a>0?t:d:l,u=C,C=1/0,l=new H(b),h.c[0]=0;p=n(l,t,0,1),1!=(s=r.plus(p.times(i))).comparedTo(e);)r=i,i=s,d=h.plus(p.times(s=d)),h=s,t=l.minus(p.times(s=t)),l=s;return s=n(e.minus(r),i,0,1),h=h.plus(s.times(d)),r=r.plus(s.times(i)),h.s=d.s=_.s,g=n(d,i,a*=2,L).minus(_).abs().comparedTo(n(h,r,a,L).minus(_).abs())<1?[d,i]:[h,r],C=u,g},N.toNumber=function(){return+K(this)},N.toPrecision=function(e,t){return null!=e&&b(e,1,d),q(this,e,t,2)},N.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=P||i>=D?w(m(n.c),i):y(m(n.c),i,"0"):10===e?t=y(m((n=G(new H(n),T+i+1,L)).c),n.e,"0"):(b(e,2,$.length,"Base"),t=k(y(m(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},N.valueOf=N.toJSON=function(){return K(this)},N._isBigNumber=!0,null!=t&&H.set(t),H}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"bignumber.js",file:"/home/gudahtt/projects/metamask-extension/node_modules/gridplus-sdk/node_modules/bignumber.js/bignumber.js"}],[4331,{},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e){if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++)t.push(r(e[n]));const n=d(...t);return d(o(n.length,192),n)}const t=b(e);return 1===t.length&&t[0]<128?t:d(o(t.length,128),t)}function i(e,t,n){if(n>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,n)}function s(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return f(l(e))}function o(e,t){if(e<56)return Uint8Array.from([e+t]);const n=m(e),r=m(t+55+n.length/2);return Uint8Array.from(h(r+n))}function a(e,t=!1){if(!e||0===e.length)return Uint8Array.from([]);const n=u(b(e));if(t)return n;if(0!==n.remainder.length)throw new Error("invalid RLP: remainder must be zero");return n.data}function u(e){let t,n,r,o,a;const c=[],l=e[0];if(l<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(l<=183){if(t=l-127,r=128===l?Uint8Array.from([]):i(e,1,t),2===t&&r[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:e.slice(t)}}if(l<=191){if(n=l-182,e.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(t=s(i(e,1,n)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return r=i(e,n,t+n),{data:r,remainder:e.slice(t+n)}}if(l<=247){for(t=l-191,o=i(e,1,t);o.length;)a=u(o),c.push(a.data),o=a.remainder;return{data:c,remainder:e.slice(t)}}{if(n=l-246,t=s(i(e,1,n)),t<56)throw new Error("invalid RLP: encoded list too short");const r=n+t;if(r>e.length)throw new Error("invalid RLP: total length is larger than the data");for(o=i(e,n,r);o.length;)a=u(o),c.push(a.data),o=a.remainder;return{data:c,remainder:e.slice(r)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.utils=n.decode=n.encode=void 0,n.encode=r,n.decode=a;const c=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function l(e){let t="";for(let n=0;n<e.length;n++)t+=c[e[n]];return t}function f(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function h(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n;t[n]=f(e.slice(r,r+2))}return t}function d(...e){if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}function p(e){return(new TextEncoder).encode(e)}function m(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function g(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function b(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return g(e)?h((t="string"!=typeof(n=e)?n:g(n)?n.slice(2):n).length%2?`0${t}`:t):p(e);var t,n;if("number"==typeof e||"bigint"==typeof e)return e?h(m(e)):Uint8Array.from([]);if(null===e||e===undefined)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}n.utils={bytesToHex:l,concatBytes:d,hexToBytes:h,utf8ToBytes:p};const _={encode:r,decode:a};n.default=_}}},{package:"rlp",file:"/home/gudahtt/projects/metamask-extension/node_modules/gridplus-sdk/node_modules/rlp/dist/index.js"}],[4333,{"is-deflate":4690,"is-gzip":4693,"peek-stream":5406,pumpify:4349,through2:4350,zlib:4335},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("zlib"),i=e("peek-stream"),s=e("through2"),o=e("pumpify"),a=e("is-gzip"),u=e("is-deflate"),c=function(e){return e===undefined&&(e=3),i({newline:!1,maxBuffer:10},(function(t,n){if(e<0)return n(new Error("Maximum recursion reached"));switch(function(e){return a(e)?1:u(e)?2:0}(t)){case 1:n(null,o(r.createGunzip(),c(e-1)));break;case 2:n(null,o(r.createInflate(),c(e-1)));break;default:n(null,s())}}))};t.exports=c}}},{package:"gunzip-maybe",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/index.js"}],[4334,{_process:5420,buffer:2081,"pako/lib/zlib/constants":4339,"pako/lib/zlib/deflate.js":4341,"pako/lib/zlib/inflate.js":4343,"pako/lib/zlib/messages":4345,"pako/lib/zlib/zstream":4347},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t,r){(function(){var i=e("pako/lib/zlib/messages"),s=e("pako/lib/zlib/zstream"),o=e("pako/lib/zlib/deflate.js"),a=e("pako/lib/zlib/inflate.js"),u=e("pako/lib/zlib/constants");for(var c in u)n[c]=u[c];function l(e){if(e<n.DEFLATE||e>n.UNZIP)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function f(e,t){for(var n=0;n<e.length;n++)this[t+n]=e[n]}n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7,l.prototype.init=function(e,t,r,i,u){switch(this.windowBits=e,this.level=t,this.memLevel=r,this.strategy=i,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-this.windowBits),this.strm=new s,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:var c=o.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:c=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}c===n.Z_OK?(this.write_in_progress=!1,this.init_done=!0):this._error(c)},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===n.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},l.prototype.write=function(e,n,r,i,s,o,a){this._writeCheck(),this.write_in_progress=!0;var u=this;return t.nextTick((function(){u.write_in_progress=!1;var t=u._write(e,n,r,i,s,o,a);u.callback(t[0],t[1]),u.pending_close&&u.close()})),this},l.prototype.writeSync=function(e,t,n,r,i,s,o){return this._writeCheck(),this._write(e,t,n,r,i,s,o)},l.prototype._write=function(e,t,i,s,u,c,l){if(this.write_in_progress=!0,e!==n.Z_NO_FLUSH&&e!==n.Z_PARTIAL_FLUSH&&e!==n.Z_SYNC_FLUSH&&e!==n.Z_FULL_FLUSH&&e!==n.Z_FINISH&&e!==n.Z_BLOCK)throw new Error("Invalid flush value");null==t&&(t=new r(0),s=0,i=0),u._set?u.set=u._set:u.set=f;var h=this.strm;switch(h.avail_in=s,h.input=t,h.next_in=i,h.avail_out=l,h.output=u,h.next_out=c,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:var d=o.deflate(h,e);break;case n.UNZIP:case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:d=a.inflate(h,e);break;default:throw new Error("Unknown mode "+this.mode)}return d!==n.Z_STREAM_END&&d!==n.Z_OK&&this._error(d),this.write_in_progress=!1,[h.avail_in,h.avail_out]},l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?o.deflateEnd(this.strm):a.inflateEnd(this.strm),this.mode=n.NONE)},l.prototype.reset=function(){switch(this.mode){case n.DEFLATE:case n.DEFLATERAW:var e=o.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:e=a.inflateReset(this.strm)}e!==n.Z_OK&&this._error(e)},l.prototype._error=function(e){this.onerror(i[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()},n.Zlib=l}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"browserify-zlib",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/browserify-zlib/src/binding.js"}],[4335,{"./binding":4334,_process:5420,_stream_transform:5701,assert:1700,buffer:2081,util:2087},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t,r){(function(){var i=e("_stream_transform"),s=e("./binding"),o=e("util"),a=e("assert").ok;function u(e,t,n){var i=[],s=0;function o(){for(var t;null!==(t=e.read());)i.push(t),s+=t.length;e.once("readable",o)}function a(){var t=r.concat(i,s);i=[],n(null,t),e.close()}e.on("error",(function(t){e.removeListener("end",a),e.removeListener("readable",o),n(t)})),e.on("end",a),e.end(t),o()}function c(e,t){if("string"==typeof t&&(t=new r(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=s.Z_FINISH;return e._processChunk(t,n)}function l(e){if(!(this instanceof l))return new l(e);b.call(this,e,s.DEFLATE)}function f(e){if(!(this instanceof f))return new f(e);b.call(this,e,s.INFLATE)}function h(e){if(!(this instanceof h))return new h(e);b.call(this,e,s.GZIP)}function d(e){if(!(this instanceof d))return new d(e);b.call(this,e,s.GUNZIP)}function p(e){if(!(this instanceof p))return new p(e);b.call(this,e,s.DEFLATERAW)}function m(e){if(!(this instanceof m))return new m(e);b.call(this,e,s.INFLATERAW)}function g(e){if(!(this instanceof g))return new g(e);b.call(this,e,s.UNZIP)}function b(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||n.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&e.flush!==s.Z_NO_FLUSH&&e.flush!==s.Z_PARTIAL_FLUSH&&e.flush!==s.Z_SYNC_FLUSH&&e.flush!==s.Z_FULL_FLUSH&&e.flush!==s.Z_FINISH&&e.flush!==s.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||s.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<n.Z_MIN_CHUNK||e.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<n.Z_MIN_WINDOWBITS||e.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<n.Z_MIN_LEVEL||e.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<n.Z_MIN_MEMLEVEL||e.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=n.Z_FILTERED&&e.strategy!=n.Z_HUFFMAN_ONLY&&e.strategy!=n.Z_RLE&&e.strategy!=n.Z_FIXED&&e.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new s.Zlib(t);var o=this;this._hadError=!1,this._binding.onerror=function(e,t){o._binding=null,o._hadError=!0;var r=new Error(e);r.errno=t,r.code=n.codes[t],o.emit("error",r)};var a=n.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(a=e.level);var u=n.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(u=e.strategy),this._binding.init(e.windowBits||n.Z_DEFAULT_WINDOWBITS,a,e.memLevel||n.Z_DEFAULT_MEMLEVEL,u,e.dictionary),this._buffer=new r(this._chunkSize),this._offset=0,this._closed=!1,this._level=a,this._strategy=u,this.once("end",this.close)}s.Z_MIN_WINDOWBITS=8,s.Z_MAX_WINDOWBITS=15,s.Z_DEFAULT_WINDOWBITS=15,s.Z_MIN_CHUNK=64,s.Z_MAX_CHUNK=Infinity,s.Z_DEFAULT_CHUNK=16384,s.Z_MIN_MEMLEVEL=1,s.Z_MAX_MEMLEVEL=9,s.Z_DEFAULT_MEMLEVEL=8,s.Z_MIN_LEVEL=-1,s.Z_MAX_LEVEL=9,s.Z_DEFAULT_LEVEL=s.Z_DEFAULT_COMPRESSION,Object.keys(s).forEach((function(e){e.match(/^Z/)&&(n[e]=s[e])})),n.codes={Z_OK:s.Z_OK,Z_STREAM_END:s.Z_STREAM_END,Z_NEED_DICT:s.Z_NEED_DICT,Z_ERRNO:s.Z_ERRNO,Z_STREAM_ERROR:s.Z_STREAM_ERROR,Z_DATA_ERROR:s.Z_DATA_ERROR,Z_MEM_ERROR:s.Z_MEM_ERROR,Z_BUF_ERROR:s.Z_BUF_ERROR,Z_VERSION_ERROR:s.Z_VERSION_ERROR},Object.keys(n.codes).forEach((function(e){n.codes[n.codes[e]]=e})),n.Deflate=l,n.Inflate=f,n.Gzip=h,n.Gunzip=d,n.DeflateRaw=p,n.InflateRaw=m,n.Unzip=g,n.createDeflate=function(e){return new l(e)},n.createInflate=function(e){return new f(e)},n.createDeflateRaw=function(e){return new p(e)},n.createInflateRaw=function(e){return new m(e)},n.createGzip=function(e){return new h(e)},n.createGunzip=function(e){return new d(e)},n.createUnzip=function(e){return new g(e)},n.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),u(new l(t),e,n)},n.deflateSync=function(e,t){return c(new l(t),e)},n.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),u(new h(t),e,n)},n.gzipSync=function(e,t){return c(new h(t),e)},n.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),u(new p(t),e,n)},n.deflateRawSync=function(e,t){return c(new p(t),e)},n.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),u(new g(t),e,n)},n.unzipSync=function(e,t){return c(new g(t),e)},n.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),u(new f(t),e,n)},n.inflateSync=function(e,t){return c(new f(t),e)},n.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),u(new d(t),e,n)},n.gunzipSync=function(e,t){return c(new d(t),e)},n.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),u(new m(t),e,n)},n.inflateRawSync=function(e,t){return c(new m(t),e)},o.inherits(b,i),b.prototype.params=function(e,r,i){if(e<n.Z_MIN_LEVEL||e>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(r!=n.Z_FILTERED&&r!=n.Z_HUFFMAN_ONLY&&r!=n.Z_RLE&&r!=n.Z_FIXED&&r!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==e||this._strategy!==r){var o=this;this.flush(s.Z_SYNC_FLUSH,(function(){o._binding.params(e,r),o._hadError||(o._level=e,o._strategy=r,i&&i())}))}else t.nextTick(i)},b.prototype.reset=function(){return this._binding.reset()},b.prototype._flush=function(e){this._transform(new r(0),"",e)},b.prototype.flush=function(e,n){var i=this._writableState;if(("function"==typeof e||void 0===e&&!n)&&(n=e,e=s.Z_FULL_FLUSH),i.ended)n&&t.nextTick(n);else if(i.ending)n&&this.once("end",n);else if(i.needDrain){var o=this;this.once("drain",(function(){o.flush(n)}))}else this._flushFlag=e,this.write(new r(0),"",n)},b.prototype.close=function(e){if(e&&t.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var n=this;t.nextTick((function(){n.emit("close")}))}},b.prototype._transform=function(e,t,n){var i,o=this._writableState,a=(o.ending||o.ended)&&(!e||o.length===e.length);if(null===!e&&!r.isBuffer(e))return n(new Error("invalid input"));a?i=s.Z_FINISH:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||s.Z_NO_FLUSH));this._processChunk(e,i,n)},b.prototype._processChunk=function(e,t,n){var i=e&&e.length,s=this._chunkSize-this._offset,o=0,u=this,c="function"==typeof n;if(!c){var l,f=[],h=0;this.on("error",(function(e){l=e}));do{var d=this._binding.writeSync(t,e,o,i,this._buffer,this._offset,s)}while(!this._hadError&&g(d[0],d[1]));if(this._hadError)throw l;var p=r.concat(f,h);return this.close(),p}var m=this._binding.write(t,e,o,i,this._buffer,this._offset,s);function g(l,d){if(!u._hadError){var p=s-d;if(a(p>=0,"have should not go down"),p>0){var m=u._buffer.slice(u._offset,u._offset+p);u._offset+=p,c?u.push(m):(f.push(m),h+=m.length)}if((0===d||u._offset>=u._chunkSize)&&(s=u._chunkSize,u._offset=0,u._buffer=new r(u._chunkSize)),0===d){if(o+=i-l,i=l,!c)return!0;var b=u._binding.write(t,e,o,i,u._buffer,u._offset,u._chunkSize);return b.callback=g,void(b.buffer=e)}if(!c)return!1;n()}}m.buffer=e,m.callback=g},o.inherits(l,b),o.inherits(f,b),o.inherits(h,b),o.inherits(d,b),o.inherits(p,b),o.inherits(m,b),o.inherits(g,b)}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"browserify-zlib",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/browserify-zlib/src/index.js"}],[4336,{_process:5420,buffer:2081,"end-of-stream":2338,inherits:4404,"readable-stream":5700,"stream-shift":5895},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n,r){(function(){var i=e("readable-stream"),s=e("end-of-stream"),o=e("inherits"),a=e("stream-shift"),u=r.from&&r.from!==Uint8Array.from?r.from([0]):new r([0]),c=function(e,t){e._corked?e.once("uncork",t):t()},l=function(e,t){return function(n){n?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===n.message?null:n):t&&!e._ended&&e.end()}},f=function(e,t,n){if(!(this instanceof f))return new f(e,t,n);i.Duplex.call(this,n),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!n||!1!==n.autoDestroy,this._forwardDestroy=!n||!1!==n.destroy,this._forwardEnd=!n||!1!==n.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};o(f,i.Duplex),f.obj=function(e,t,n){return n||(n={}),n.objectMode=!0,n.highWaterMark=16,new f(e,t,n)},f.prototype.cork=function(){1==++this._corked&&this.emit("cork")},f.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},f.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,r=s(e,{writable:!0,readable:!1},l(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&n.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=function(){t._writable.removeListener("drain",i),r()},this.uncork()}else this.end()},f.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,n=this,r=s(e,{writable:!1,readable:!0},l(this)),o=function(){n._forward()},a=function(){n.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new i.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",o),this._readable2.on("end",a),this._unread=function(){n._readable2.removeListener("readable",o),n._readable2.removeListener("end",a),r()},this._forward()}},f.prototype._read=function(){this._drained=!0,this._forward()},f.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},f.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;n.nextTick((function(){t._destroy(e)}))}},f.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},f.prototype._write=function(e,t,n){return this.destroyed?n():this._corked?c(this,this._write.bind(this,e,t,n)):e===u?this._finish(n):this._writable?void(!1===this._writable.write(e)?this._ondrain=n:n()):n()},f.prototype._finish=function(e){var t=this;this.emit("preend"),c(this,(function(){var n,r;n=t._forwardEnd&&t._writable,r=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),c(t,e)},n?n._writableState&&n._writableState.finished?r():n._writableState?n.end(r):(n.end(),r()):r()}))},f.prototype.end=function(e,t,n){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(u),i.Writable.prototype.end.call(this,n))},t.exports=f}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"duplexify",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/duplexify/index.js"}],[4337,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){var t,n,r,i,s,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)s=e[t],o.set(s,i),i+=s.length;return o}},s={arraySet:function(e,t,n,r,i){for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)}}},{package:"pako",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pako/lib/utils/common.js"}],[4338,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n,r){for(var i=65535&e|0,s=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{s=s+(i=i+t[r++]|0)|0}while(--o);i%=65521,s%=65521}return i|s<<16|0}}}},{package:"pako",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/adler32.js"}],[4339,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}}}},{package:"pako",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/constants.js"}],[4340,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var s=r,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}}}},{package:"pako",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/crc32.js"}],[4341,{"../utils/common":4337,"./adler32":4338,"./crc32":4340,"./messages":4345,"./trees":4346},function(){with(this)return function(){"use strict";return function(e,t,n){var r,i=e("../utils/common"),s=e("./trees"),o=e("./adler32"),a=e("./crc32"),u=e("./messages"),c=-2,l=258,f=262,h=103,d=113,p=666;function m(e,t){return e.msg=u[t],t}function g(e){return(e<<1)-(e>4?9:0)}function b(e){for(var t=e.length;--t>=0;)e[t]=0}function _(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function w(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_(e.strm)}function y(e,t){e.pending_buf[e.pending++]=t}function k(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function v(e,t){var n,r,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,u=e.strstart>e.w_size-f?e.strstart-(e.w_size-f):0,c=e.window,h=e.w_mask,d=e.prev,p=e.strstart+l,m=c[s+o-1],g=c[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+o]===g&&c[n+o-1]===m&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<p);if(r=l-(p-s),s=p-l,r>o){if(e.match_start=t,o=r,r>=a)break;m=c[s+o-1],g=c[s+o]}}}while((t=d[t&h])>u&&0!=--i);return o<=e.lookahead?o:e.lookahead}function x(e){var t,n,r,s,u,c,l,h,d,p,m=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-f)){i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=m?r-m:0}while(--n);t=n=m;do{r=e.prev[--t],e.prev[t]=r>=m?r-m:0}while(--n);s+=m}if(0===e.strm.avail_in)break;if(c=e.strm,l=e.window,h=e.strstart+e.lookahead,d=s,p=void 0,(p=c.avail_in)>d&&(p=d),n=0===p?0:(c.avail_in-=p,i.arraySet(l,c.input,c.next_in,p,h),1===c.state.wrap?c.adler=o(c.adler,l,p,h):2===c.state.wrap&&(c.adler=a(c.adler,l,p,h)),c.next_in+=p,c.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+3-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<f&&0!==e.strm.avail_in)}function E(e,t){for(var n,r;;){if(e.lookahead<f){if(x(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-f&&(e.match_length=v(e,n)),e.match_length>=3)if(r=s._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}function S(e,t){for(var n,r,i;;){if(e.lookahead<f){if(x(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-f&&(e.match_length=v(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(w(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=s._tr_tally(e,0,e.window[e.strstart-1]))&&w(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}function j(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function R(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),b(this.dyn_ltree),b(this.dyn_dtree),b(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),b(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),b(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,s._tr_init(t),0):m(e,c)}function I(e){var t,n=A(e);return 0===n&&((t=e.state).window_size=2*t.w_size,b(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function N(e,t,n,r,s,o){if(!e)return c;var a=1;if(-1===t&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),s<1||s>9||8!==n||r<8||r>15||t<0||t>9||o<0||o>4)return m(e,c);8===r&&(r=9);var u=new R;return e.state=u,u.strm=e,u.wrap=a,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=s+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<s+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=o,u.method=n,I(e)}r=[new j(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(x(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,w(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-f&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(w(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(w(e,!1),e.strm.avail_out),1)})),new j(4,4,8,4,E),new j(4,5,16,8,E),new j(4,6,32,32,E),new j(4,4,16,16,S),new j(8,16,32,32,S),new j(8,16,128,128,S),new j(8,32,128,256,S),new j(32,128,258,1024,S),new j(32,258,258,4096,S)],n.deflateInit=function(e,t){return N(e,t,8,15,8,0)},n.deflateInit2=N,n.deflateReset=I,n.deflateResetKeep=A,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},n.deflate=function(e,t){var n,i,o,u;if(!e||!e.state||t>5||t<0)return e?m(e,c):c;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return m(e,0===e.avail_out?-5:c);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,y(i,31),y(i,139),y(i,8),i.gzhead?(y(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),y(i,255&i.gzhead.time),y(i,i.gzhead.time>>8&255),y(i,i.gzhead.time>>16&255),y(i,i.gzhead.time>>24&255),y(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),y(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(y(i,255&i.gzhead.extra.length),y(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(y(i,0),y(i,0),y(i,0),y(i,0),y(i,0),y(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),y(i,3),i.status=d);else{var f=8+(i.w_bits-8<<4)<<8;f|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=d,k(i,f),0!==i.strstart&&(k(i,e.adler>>>16),k(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),_(e),o=i.pending,i.pending!==i.pending_buf_size));)y(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),_(e),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,y(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),_(e),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,y(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.status=h)}else i.status=h;if(i.status===h&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&_(e),i.pending+2<=i.pending_buf_size&&(y(i,255&e.adler),y(i,e.adler>>8&255),e.adler=0,i.status=d)):i.status=d),0!==i.pending){if(_(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(n)&&4!==t)return m(e,-5);if(i.status===p&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var v=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(x(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=l){if(x(e),e.lookahead<=l&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+l;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=l-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=s._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==v&&4!==v||(i.status=p),1===v||3===v)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===v&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(b(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),_(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(y(i,255&e.adler),y(i,e.adler>>8&255),y(i,e.adler>>16&255),y(i,e.adler>>24&255),y(i,255&e.total_in),y(i,e.total_in>>8&255),y(i,e.total_in>>16&255),y(i,e.total_in>>24&255)):(k(i,e.adler>>>16),k(i,65535&e.adler)),_(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==h&&t!==d&&t!==p?m(e,c):(e.state=null,t===d?m(e,-3):0):c},n.deflateSetDictionary=function(e,t){var n,r,s,a,u,l,f,h,d=t.length;if(!e||!e.state)return c;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return c;for(1===a&&(e.adler=o(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(b(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,d-n.w_size,n.w_size,0),t=h,d=n.w_size),u=e.avail_in,l=e.next_in,f=e.input,e.avail_in=d,e.next_in=0,e.input=t,x(n);n.lookahead>=3;){r=n.strstart,s=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--s);n.strstart=r,n.lookahead=2,x(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=f,e.avail_in=u,n.wrap=a,0},n.deflateInfo="pako deflate (from Nodeca project)"}}},{package:"pako",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/deflate.js"}],[4342,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){var n,r,i,s,o,a,u,c,l,f,h,d,p,m,g,b,_,w,y,k,v,x,E,S,j;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),s=e.next_out,j=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,b=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;e:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),w=m[d&b];t:for(;;){if(d>>>=y=w>>>24,p-=y,0===(y=w>>>16&255))j[s++]=65535&w;else{if(!(16&y)){if(0==(64&y)){w=m[(65535&w)+(d&(1<<y)-1)];continue t}if(32&y){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}k=65535&w,(y&=15)&&(p<y&&(d+=S[r++]<<p,p+=8),k+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),w=g[d&_];n:for(;;){if(d>>>=y=w>>>24,p-=y,!(16&(y=w>>>16&255))){if(0==(64&y)){w=g[(65535&w)+(d&(1<<y)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(v=65535&w,p<(y&=15)&&(d+=S[r++]<<p,(p+=8)<y&&(d+=S[r++]<<p,p+=8)),(v+=d&(1<<y)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=y,p-=y,v>(y=s-o)){if((y=v-y)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,E=h,0===f){if(x+=c-y,y<k){k-=y;do{j[s++]=h[x++]}while(--y);x=s-v,E=j}}else if(f<y){if(x+=c+f-y,(y-=f)<k){k-=y;do{j[s++]=h[x++]}while(--y);if(x=0,f<k){k-=y=f;do{j[s++]=h[x++]}while(--y);x=s-v,E=j}}}else if(x+=f-y,y<k){k-=y;do{j[s++]=h[x++]}while(--y);x=s-v,E=j}for(;k>2;)j[s++]=E[x++],j[s++]=E[x++],j[s++]=E[x++],k-=3;k&&(j[s++]=E[x++],k>1&&(j[s++]=E[x++]))}else{x=s-v;do{j[s++]=j[x++],j[s++]=j[x++],j[s++]=j[x++],k-=3}while(k>2);k&&(j[s++]=j[x++],k>1&&(j[s++]=j[x++]))}break}}break}}while(r<i&&s<a);r-=k=p>>3,d&=(1<<(p-=k<<3))-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=s<a?a-s+257:257-(s-a),n.hold=d,n.bits=p}}}},{package:"pako",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/inffast.js"}],[4343,{"../utils/common":4337,"./adler32":4338,"./crc32":4340,"./inffast":4342,"./inftrees":4344},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../utils/common"),i=e("./adler32"),s=e("./crc32"),o=e("./inffast"),a=e("./inftrees"),u=-2,c=12,l=30;function f(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):u}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):u}function m(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?u:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):u}function g(e,t){var n,r;return e?(r=new h,e.state=r,r.window=null,0!==(n=m(e,t))&&(e.state=null),n):u}var b,_,w=!0;function y(e){if(w){var t;for(b=new r.Buf32(512),_=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,b,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,_,0,e.work,{bits:5}),w=!1}e.lencode=b,e.lenbits=9,e.distcode=_,e.distbits=5}function k(e,t,n,i){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>i&&(s=i),r.arraySet(o.window,t,n-i,s,o.wnext),(i-=s)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}n.inflateReset=p,n.inflateReset2=m,n.inflateResetKeep=d,n.inflateInit=function(e){return g(e,15)},n.inflateInit2=g,n.inflate=function(e,t){var n,h,d,p,m,g,b,_,w,v,x,E,S,j,R,A,I,N,O,T,L,P,D,B,C=0,M=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;(n=e.state).mode===c&&(n.mode=13),m=e.next_out,d=e.output,b=e.avail_out,p=e.next_in,h=e.input,g=e.avail_in,_=n.hold,w=n.bits,v=g,x=b,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;w<16;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}if(2&n.wrap&&35615===_){n.check=0,M[0]=255&_,M[1]=_>>>8&255,n.check=s(n.check,M,2,0),_=0,w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&_)<<8)+(_>>8))%31){e.msg="incorrect header check",n.mode=l;break}if(8!=(15&_)){e.msg="unknown compression method",n.mode=l;break}if(w-=4,L=8+(15&(_>>>=4)),0===n.wbits)n.wbits=L;else if(L>n.wbits){e.msg="invalid window size",n.mode=l;break}n.dmax=1<<L,e.adler=n.check=1,n.mode=512&_?10:c,_=0,w=0;break;case 2:for(;w<16;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}if(n.flags=_,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=l;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=l;break}n.head&&(n.head.text=_>>8&1),512&n.flags&&(M[0]=255&_,M[1]=_>>>8&255,n.check=s(n.check,M,2,0)),_=0,w=0,n.mode=3;case 3:for(;w<32;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}n.head&&(n.head.time=_),512&n.flags&&(M[0]=255&_,M[1]=_>>>8&255,M[2]=_>>>16&255,M[3]=_>>>24&255,n.check=s(n.check,M,4,0)),_=0,w=0,n.mode=4;case 4:for(;w<16;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}n.head&&(n.head.xflags=255&_,n.head.os=_>>8),512&n.flags&&(M[0]=255&_,M[1]=_>>>8&255,n.check=s(n.check,M,2,0)),_=0,w=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}n.length=_,n.head&&(n.head.extra_len=_),512&n.flags&&(M[0]=255&_,M[1]=_>>>8&255,n.check=s(n.check,M,2,0)),_=0,w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((E=n.length)>g&&(E=g),E&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,p,E,L)),512&n.flags&&(n.check=s(n.check,h,E,p)),g-=E,p+=E,n.length-=E),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;E=0;do{L=h[p+E++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L))}while(L&&E<g);if(512&n.flags&&(n.check=s(n.check,h,E,p)),g-=E,p+=E,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;E=0;do{L=h[p+E++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L))}while(L&&E<g);if(512&n.flags&&(n.check=s(n.check,h,E,p)),g-=E,p+=E,L)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}if(_!==(65535&n.check)){e.msg="header crc mismatch",n.mode=l;break}_=0,w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=c;break;case 10:for(;w<32;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}e.adler=n.check=f(_),_=0,w=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=b,e.next_in=p,e.avail_in=g,n.hold=_,n.bits=w,2;e.adler=n.check=1,n.mode=c;case c:if(5===t||6===t)break e;case 13:if(n.last){_>>>=7&w,w-=7&w,n.mode=27;break}for(;w<3;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}switch(n.last=1&_,w-=1,3&(_>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6===t){_>>>=2,w-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=l}_>>>=2,w-=2;break;case 14:for(_>>>=7&w,w-=7&w;w<32;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}if((65535&_)!=(_>>>16^65535)){e.msg="invalid stored block lengths",n.mode=l;break}if(n.length=65535&_,_=0,w=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(E=n.length){if(E>g&&(E=g),E>b&&(E=b),0===E)break e;r.arraySet(d,h,p,E,m),g-=E,p+=E,b-=E,m+=E,n.length-=E;break}n.mode=c;break;case 17:for(;w<14;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}if(n.nlen=257+(31&_),_>>>=5,w-=5,n.ndist=1+(31&_),_>>>=5,w-=5,n.ncode=4+(15&_),_>>>=4,w-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=l;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}n.lens[z[n.have++]]=7&_,_>>>=3,w-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},P=a(0,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,P){e.msg="invalid code lengths set",n.mode=l;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(C=n.lencode[_&(1<<n.lenbits)-1])>>>16&255,I=65535&C,!((R=C>>>24)<=w);){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}if(I<16)_>>>=R,w-=R,n.lens[n.have++]=I;else{if(16===I){for(B=R+2;w<B;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}if(_>>>=R,w-=R,0===n.have){e.msg="invalid bit length repeat",n.mode=l;break}L=n.lens[n.have-1],E=3+(3&_),_>>>=2,w-=2}else if(17===I){for(B=R+3;w<B;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}w-=R,L=0,E=3+(7&(_>>>=R)),_>>>=3,w-=3}else{for(B=R+7;w<B;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}w-=R,L=0,E=11+(127&(_>>>=R)),_>>>=7,w-=7}if(n.have+E>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=l;break}for(;E--;)n.lens[n.have++]=L}}if(n.mode===l)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=l;break}if(n.lenbits=9,D={bits:n.lenbits},P=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,P){e.msg="invalid literal/lengths set",n.mode=l;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},P=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,P){e.msg="invalid distances set",n.mode=l;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(g>=6&&b>=258){e.next_out=m,e.avail_out=b,e.next_in=p,e.avail_in=g,n.hold=_,n.bits=w,o(e,x),m=e.next_out,d=e.output,b=e.avail_out,p=e.next_in,h=e.input,g=e.avail_in,_=n.hold,w=n.bits,n.mode===c&&(n.back=-1);break}for(n.back=0;A=(C=n.lencode[_&(1<<n.lenbits)-1])>>>16&255,I=65535&C,!((R=C>>>24)<=w);){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}if(A&&0==(240&A)){for(N=R,O=A,T=I;A=(C=n.lencode[T+((_&(1<<N+O)-1)>>N)])>>>16&255,I=65535&C,!(N+(R=C>>>24)<=w);){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}_>>>=N,w-=N,n.back+=N}if(_>>>=R,w-=R,n.back+=R,n.length=I,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=c;break}if(64&A){e.msg="invalid literal/length code",n.mode=l;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(B=n.extra;w<B;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}n.length+=_&(1<<n.extra)-1,_>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(C=n.distcode[_&(1<<n.distbits)-1])>>>16&255,I=65535&C,!((R=C>>>24)<=w);){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}if(0==(240&A)){for(N=R,O=A,T=I;A=(C=n.distcode[T+((_&(1<<N+O)-1)>>N)])>>>16&255,I=65535&C,!(N+(R=C>>>24)<=w);){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}_>>>=N,w-=N,n.back+=N}if(_>>>=R,w-=R,n.back+=R,64&A){e.msg="invalid distance code",n.mode=l;break}n.offset=I,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(B=n.extra;w<B;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}n.offset+=_&(1<<n.extra)-1,_>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=l;break}n.mode=25;case 25:if(0===b)break e;if(E=x-b,n.offset>E){if((E=n.offset-E)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=l;break}E>n.wnext?(E-=n.wnext,S=n.wsize-E):S=n.wnext-E,E>n.length&&(E=n.length),j=n.window}else j=d,S=m-n.offset,E=n.length;E>b&&(E=b),b-=E,n.length-=E;do{d[m++]=j[S++]}while(--E);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;d[m++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===g)break e;g--,_|=h[p++]<<w,w+=8}if(x-=b,e.total_out+=x,n.total+=x,x&&(e.adler=n.check=n.flags?s(n.check,d,x,m-x):i(n.check,d,x,m-x)),x=b,(n.flags?_:f(_))!==n.check){e.msg="incorrect data check",n.mode=l;break}_=0,w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===g)break e;g--,_+=h[p++]<<w,w+=8}if(_!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=l;break}_=0,w=0}n.mode=29;case 29:P=1;break e;case l:P=-3;break e;case 31:return-4;default:return u}return e.next_out=m,e.avail_out=b,e.next_in=p,e.avail_in=g,n.hold=_,n.bits=w,(n.wsize||x!==e.avail_out&&n.mode<l&&(n.mode<27||4!==t))&&k(e,e.output,e.next_out,x-e.avail_out)?(n.mode=31,-4):(v-=e.avail_in,x-=e.avail_out,e.total_in+=v,e.total_out+=x,n.total+=x,n.wrap&&x&&(e.adler=n.check=n.flags?s(n.check,d,x,e.next_out-x):i(n.check,d,x,e.next_out-x)),e.data_type=n.bits+(n.last?64:0)+(n.mode===c?128:0)+(20===n.mode||15===n.mode?256:0),(0===v&&0===x||4===t)&&0===P&&(P=-5),P)},n.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?u:(n.head=t,t.done=!1,0):u},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?u:11===n.mode&&i(1,t,r,0)!==n.check?-3:k(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):u},n.inflateInfo="pako inflate (from Nodeca project)"}}},{package:"pako",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/inflate.js"}],[4344,{"../utils/common":4337},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../utils/common"),i=15,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,l,f,h,d){var p,m,g,b,_,w,y,k,v,x=d.bits,E=0,S=0,j=0,R=0,A=0,I=0,N=0,O=0,T=0,L=0,P=null,D=0,B=new r.Buf16(16),C=new r.Buf16(16),M=null,z=0;for(E=0;E<=i;E++)B[E]=0;for(S=0;S<c;S++)B[t[n+S]]++;for(A=x,R=i;R>=1&&0===B[R];R--);if(A>R&&(A=R),0===R)return l[f++]=20971520,l[f++]=20971520,d.bits=1,0;for(j=1;j<R&&0===B[j];j++);for(A<j&&(A=j),O=1,E=1;E<=i;E++)if(O<<=1,(O-=B[E])<0)return-1;if(O>0&&(0===e||1!==R))return-1;for(C[1]=0,E=1;E<i;E++)C[E+1]=C[E]+B[E];for(S=0;S<c;S++)0!==t[n+S]&&(h[C[t[n+S]]++]=S);if(0===e?(P=M=h,w=19):1===e?(P=s,D-=257,M=o,z-=257,w=256):(P=a,M=u,w=-1),L=0,S=0,E=j,_=f,I=A,N=0,g=-1,b=(T=1<<A)-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){y=E-N,h[S]<w?(k=0,v=h[S]):h[S]>w?(k=M[z+h[S]],v=P[D+h[S]]):(k=96,v=0),p=1<<E-N,j=m=1<<I;do{l[_+(L>>N)+(m-=p)]=y<<24|k<<16|v|0}while(0!==m);for(p=1<<E-1;L&p;)p>>=1;if(0!==p?(L&=p-1,L+=p):L=0,S++,0==--B[E]){if(E===R)break;E=t[n+h[S]]}if(E>A&&(L&b)!==g){for(0===N&&(N=A),_+=j,O=1<<(I=E-N);I+N<R&&!((O-=B[I+N])<=0);)I++,O<<=1;if(T+=1<<I,1===e&&T>852||2===e&&T>592)return 1;l[g=L&b]=A<<24|I<<16|_-f|0}}return 0!==L&&(l[_+L]=E-N<<24|64<<16|0),d.bits=A,0}}}},{package:"pako",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/inftrees.js"}],[4345,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}}}},{package:"pako",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/messages.js"}],[4346,{"../utils/common":4337},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../utils/common");function i(e){for(var t=e.length;--t>=0;)e[t]=0}var s=256,o=286,a=30,u=15,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);i(d);var p=new Array(60);i(p);var m=new Array(512);i(m);var g=new Array(256);i(g);var b=new Array(29);i(b);var _,w,y,k=new Array(a);function v(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function E(e){return e<256?m[e]:m[256+(e>>>7)]}function S(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function j(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,S(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function R(e,t,n){j(e,n[2*t],n[2*t+1])}function A(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function I(e,t,n){var r,i,s=new Array(16),o=0;for(r=1;r<=u;r++)s[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=A(s[a]++,a))}}function N(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?S(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function T(e,t,n,r){var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function L(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&T(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!T(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function P(e,t,n){var r,i,o,a,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?R(e,i,t):(R(e,(o=g[i])+s+1,t),0!==(a=c[o])&&j(e,i-=b[o],a),R(e,o=E(--r),n),0!==(a=l[o])&&j(e,r-=k[o],a))}while(u<e.last_lit);R(e,256,t)}function D(e,t){var n,r,i,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==s[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=o[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)L(e,s,n);i=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],L(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,s[2*i]=s[2*n]+s[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,s[2*n+1]=s[2*r+1]=i,e.heap[1]=i++,L(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,s,o,a,c=t.dyn_tree,l=t.max_code,f=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(s=0;s<=u;s++)e.bl_count[s]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(s=c[2*c[2*(r=e.heap[n])+1]+1]+1)>m&&(s=m,g++),c[2*r+1]=s,r>l||(e.bl_count[s]++,o=0,r>=p&&(o=d[r-p]),a=c[2*r],e.opt_len+=a*(s+o),h&&(e.static_len+=a*(f[2*r+1]+o)));if(0!==g){do{for(s=m-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[m]--,g-=2}while(g>0);for(s=m;0!==s;s--)for(r=e.bl_count[s];0!==r;)(i=e.heap[--n])>l||(c[2*i+1]!==s&&(e.opt_len+=(s-c[2*i+1])*c[2*i],c[2*i+1]=s),r--)}}(e,t),I(s,l,e.bl_count)}function B(e,t,n){var r,i,s=-1,o=t[1],a=0,u=7,c=4;for(0===o&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++a<u&&i===o||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4))}function C(e,t,n){var r,i,s=-1,o=t[1],a=0,u=7,c=4;for(0===o&&(u=138,c=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++a<u&&i===o)){if(a<c)do{R(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(R(e,i,e.bl_tree),a--),R(e,16,e.bl_tree),j(e,a-3,2)):a<=10?(R(e,17,e.bl_tree),j(e,a-3,3)):(R(e,18,e.bl_tree),j(e,a-11,7));a=0,s=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4)}}i(k);var M=!1;function z(e,t,n,i){j(e,0+(i?1:0),3),function(e,t,n,i){O(e),i&&(S(e,n),S(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){M||(!function(){var e,t,n,r,i,s=new Array(16);for(n=0,r=0;r<28;r++)for(b[r]=n,e=0;e<1<<c[r];e++)g[n++]=r;for(g[n-1]=r,i=0,r=0;r<16;r++)for(k[r]=i,e=0;e<1<<l[r];e++)m[i++]=r;for(i>>=7;r<a;r++)for(k[r]=i<<7,e=0;e<1<<l[r]-7;e++)m[256+i++]=r;for(t=0;t<=u;t++)s[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,s[8]++;for(;e<=255;)d[2*e+1]=9,e++,s[9]++;for(;e<=279;)d[2*e+1]=7,e++,s[7]++;for(;e<=287;)d[2*e+1]=8,e++,s[8]++;for(I(d,287,s),e=0;e<a;e++)p[2*e+1]=5,p[2*e]=A(e,5);_=new v(d,c,257,o,u),w=new v(p,l,0,a,u),y=new v(new Array(0),f,0,19,7)}(),M=!0),e.l_desc=new x(e.dyn_ltree,_),e.d_desc=new x(e.dyn_dtree,w),e.bl_desc=new x(e.bl_tree,y),e.bi_buf=0,e.bi_valid=0,N(e)},n._tr_stored_block=z,n._tr_flush_block=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),a=function(e){var t;for(B(e,e.dyn_ltree,e.l_desc.max_code),B(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?z(e,t,n,r):4===e.strategy||o===i?(j(e,2+(r?1:0),3),P(e,d,p)):(j(e,4+(r?1:0),3),function(e,t,n,r){var i;for(j(e,t-257,5),j(e,n-1,5),j(e,r-4,4),i=0;i<r;i++)j(e,e.bl_tree[2*h[i]+1],3);C(e,e.dyn_ltree,t-1),C(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),P(e,e.dyn_ltree,e.dyn_dtree)),N(e),r&&O(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+s+1)]++,e.dyn_dtree[2*E(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){j(e,2,3),R(e,256,d),function(e){16===e.bi_valid?(S(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}}}},{package:"pako",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/trees.js"}],[4347,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}}},{package:"pako",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/zstream.js"}],[4348,{"end-of-stream":2338,fs:2080,once:5307},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("once"),i=e("end-of-stream"),s=e("fs"),o=function(){},a=function(e){return"function"==typeof e},u=function(e,t,n,u){u=r(u);var c=!1;e.on("close",(function(){c=!0})),i(e,{readable:t,writable:n},(function(e){if(e)return u(e);c=!0,u()}));var l=!1;return function(t){if(!c&&!l)return l=!0,function(e){return!!s&&(e instanceof(s.ReadStream||o)||e instanceof(s.WriteStream||o))&&a(e.close)}(e)?e.close(o):function(e){return e.setHeader&&a(e.abort)}(e)?e.abort():a(e.destroy)?e.destroy():void u(t||new Error("stream was destroyed"))}},c=function(e){e()},l=function(e,t){return e.pipe(t)};t.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=a(t[t.length-1]||o)&&t.pop()||o;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(i,s){var o=s<t.length-1;return u(i,o,s>0,(function(t){e||(e=t),t&&r.forEach(c),o||(r.forEach(c),n(e))}))}));return t.reduce(l)}}}},{package:"pump",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pump/index.js"}],[4349,{duplexify:4336,inherits:4404,pump:4348},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("pump"),i=e("inherits"),s=e("duplexify"),o=function(e){return e.length?Array.isArray(e[0])?e[0]:Array.prototype.slice.call(e):[]},a=function(e){var t=function(){var n=o(arguments);if(!(this instanceof t))return new t(n);s.call(this,null,null,e),n.length&&this.setPipeline(n)};return i(t,s),t.prototype.setPipeline=function(){var e=o(arguments),t=this,n=!1,i=e[0],s=e[e.length-1];s=s.readable?s:null,i=i.writable?i:null;var a=function(){e[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",a),this.on("prefinish",(function(){n||t.cork()})),r(e,(function(e){if(t.removeListener("close",a),e)return t.destroy(e);n=!0,t.uncork()})),this.destroyed)return a();this.setWritable(i),this.setReadable(s)},t};t.exports=a({destroy:!1}),t.exports.obj=a({destroy:!1,objectMode:!0,highWaterMark:16})}}},{package:"pumpify",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/pumpify/index.js"}],[4350,{_process:5420,"readable-stream":5700,util:2087,xtend:6171},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("readable-stream").Transform,i=e("util").inherits,s=e("xtend");function o(e){r.call(this,e),this._destroyed=!1}function a(e,t,n){n(null,e)}function u(e){return function(t,n,r){return"function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=a),"function"!=typeof r&&(r=null),e(t,n,r)}}i(o,r),o.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;n.nextTick((function(){e&&t.emit("error",e),t.emit("close")}))}},t.exports=u((function(e,t,n){var r=new o(e);return r._transform=t,n&&(r._flush=n),r})),t.exports.ctor=u((function(e,t,n){function r(t){if(!(this instanceof r))return new r(t);this.options=s(e,t),o.call(this,this.options)}return i(r,o),r.prototype._transform=t,n&&(r.prototype._flush=n),r})),t.exports.obj=u((function(e,t,n){var r=new o(s({objectMode:!0,highWaterMark:16},e));return r._transform=t,n&&(r._flush=n),r}))}).call(this)}).call(this,e("_process"))}}},{package:"through2",file:"/home/gudahtt/projects/metamask-extension/node_modules/gunzip-maybe/node_modules/through2/through2.js"}],[4351,{"./consumable-hash":4353,"sparse-array":5862},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("sparse-array"),i=e("./consumable-hash"),s={bits:8};class o{constructor(e,t,n){if(this._options=Object.assign({},s,e),this._popCount=0,this._parent=t,this._posAtParent=n,!this._options.hashFn)throw new Error("please define an options.hashFn");this._options.hash||(this._options.hash=i(this._options.hashFn)),this._children=new r}static isBucket(e){return e instanceof o}async put(e,t){const n=await this._findNewBucketAndPos(e);await n.bucket._putAt(n,e,t)}async get(e){const t=await this._findChild(e);if(t)return t.value}async del(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);n&&n.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce(((e,t)=>t instanceof o?e+t.leafCount():e+1),0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const t of e)if(t instanceof o)for(const e of t.eachLeafSeries())yield e;else yield t}serialize(e,t){return t(this._children.reduce(((n,r,i)=>(r&&(r instanceof o?n.push(r.serialize(e,t)):n.push(e(r,i))),n)),[]))}async asyncTransform(e,t){return l(this,e,t)}toJSON(){return this.serialize(u,c)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);if(n&&n.key===e)return n}async _findPlace(e){const t=this._options.hash(e),n=await t.take(this._options.bits),r=this._children.get(n);return r instanceof o?r._findPlace(t):{bucket:this,pos:n,hash:t}}async _findNewBucketAndPos(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);if(n&&n.key!==e){const e=new o(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);const r=await e._findPlace(n.hash);return r.bucket._putAt(r,n.key,n.value),e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,n){this._putObjectAt(e.pos,{key:t,value:n,hash:e.hash})}_putObjectAt(e,t){this._children.get(e)||this._popCount++,this._children.set(e,t)}_delAt(e){this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(1===this._popCount){const e=this._children.find(a);if(!(e instanceof o)){const t=e.hash;t.untake(this._options.bits);const n={pos:this._posAtParent,hash:t};this._parent._putAt(n,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}}function a(e){return Boolean(e)}function u(e,t){return e.key}function c(e){return e}async function l(e,t,n){const r=[];for(const i of e._children.compactArray()){if(i instanceof o)await l(i,t,n);else{const n=await t(i);r.push({bitField:e._children.bitField(),children:n})}return n(r)}}t.exports=o}}},{package:"hamt-sharding",file:"/home/gudahtt/projects/metamask-extension/node_modules/hamt-sharding/src/bucket.js"}],[4352,{},function(){with(this)return function(){"use strict";return function(e,t,n){const r=[255,254,252,248,240,224,192,128],i=[1,3,7,15,31,63,127,255];function s(e,t,n){const s=function(e,t){return r[e]&i[Math.min(t+e-1,7)]}(t,n);return(e&s)>>>t}t.exports=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,n=0;for(;t&&this._haveBits();){const e=this._value[this._currentBytePos],r=this._currentBitPos+1,i=Math.min(r,t);n=(n<<i)+s(e,r-i,i),t-=i,this._currentBitPos-=i,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return n}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}}}},{package:"hamt-sharding",file:"/home/gudahtt/projects/metamask-extension/node_modules/hamt-sharding/src/consumable-buffer.js"}],[4353,{"../../is-buffer/index.js":4686,"./consumable-buffer":4352},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("./consumable-buffer");t.exports=function(e){return function(t){return t instanceof i?t:new i(t,e)}};class i{constructor(e,t){if("string"!=typeof e&&!n.isBuffer(e))throw new Error("can only hash strings or buffers");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let n=0;for(;t>0;){const e=this._buffers[this._currentBufferIndex],r=Math.min(e.availableBits(),t);n=(n<<r)+e.take(r),t-=r,this._availableBits-=r,0===e.availableBits()&&this._currentBufferIndex++}return n}untake(e){let t=e;for(;t>0;){const e=this._buffers[this._currentBufferIndex],n=Math.min(e.totalBits()-e.availableBits(),t);e.untake(n),t-=n,this._availableBits+=n,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth?this._value+this._depth:this._value,t=await this._hashFn(e),n=new r(t);this._buffers.push(n),this._availableBits+=n.availableBits()}}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"hamt-sharding",file:"/home/gudahtt/projects/metamask-extension/node_modules/hamt-sharding/src/consumable-hash.js"}],[4354,{"./bucket":4351},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./bucket");t.exports=function(e){return new r(e)},t.exports.isBucket=r.isBucket}}},{package:"hamt-sharding",file:"/home/gudahtt/projects/metamask-extension/node_modules/hamt-sharding/src/index.js"}],[4355,{buffer:2081,isarray:4356},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("isarray"),i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(r(t)){for(var i=0,a=t.length;i<a;i++)if(e(t[i]))return!0;return!1}if("function"==typeof n&&n.isBuffer&&n.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||o&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)&&e(t[u]))return!0;return!1}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"has-binary2",file:"/home/gudahtt/projects/metamask-extension/node_modules/has-binary2/index.js"}],[4356,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}}}},{package:"isarray",file:"/home/gudahtt/projects/metamask-extension/node_modules/has-binary2/node_modules/isarray/index.js"}],[4357,{},function(){with(this)return function(){"use strict";return function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}}}},{package:"has-cors",file:"/home/gudahtt/projects/metamask-extension/node_modules/has-cors/index.js"}],[4374,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function i(i,s){n[i]=s,++t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(e){return n[e]!==undefined||r[e]!==undefined},remove:function(e){n[e]!==undefined&&(n[e]=undefined),r[e]!==undefined&&(r[e]=undefined)},get:function(e){var t=n[e];return t!==undefined?t:(t=r[e])!==undefined?(i(e,t),t):void 0},set:function(e,t){n[e]!==undefined?n[e]=t:i(e,t)},clear:function(){n=Object.create(null),r=Object.create(null)}}}}}},{package:"hashlru",file:"/home/gudahtt/projects/metamask-extension/node_modules/hashlru/index.js"}],[4377,{"./lib/heap":4378},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("./lib/heap")}}},{package:"heap",file:"/home/gudahtt/projects/metamask-extension/node_modules/heap/index.js"}],[4378,{},function(){with(this)return function(){"use strict";return function(e,t,n){(function(){var e,r,i,s,o,a,u,c,l,f,h,d,p,m,g,b,_;i=Math.floor,f=Math.min,r=function(e,t){return e<t?-1:e>t?1:0},l=function(e,t,n,s,o){var a;if(null==n&&(n=0),null==o&&(o=r),n<0)throw new Error("lo must be non-negative");for(null==s&&(s=e.length);n<s;)o(t,e[a=i((n+s)/2)])<0?s=a:n=a+1;return[].splice.apply(e,[n,n-n].concat(t)),t},a=function(e,t,n){return null==n&&(n=r),e.push(t),m(e,0,e.length-1,n)},o=function(e,t){var n,i;return null==t&&(t=r),n=e.pop(),e.length?(i=e[0],e[0]=n,g(e,0,t)):i=n,i},c=function(e,t,n){var i;return null==n&&(n=r),i=e[0],e[0]=t,g(e,0,n),i},u=function(e,t,n){var i;return null==n&&(n=r),e.length&&n(e[0],t)<0&&(t=(i=[e[0],t])[0],e[0]=i[1],g(e,0,n)),t},s=function(e,t){var n,s,o,a,u,c;for(null==t&&(t=r),a=function(){c=[];for(var t=0,n=i(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)c.push(t);return c}.apply(this).reverse(),u=[],s=0,o=a.length;s<o;s++)n=a[s],u.push(g(e,n,t));return u},p=function(e,t,n){var i;if(null==n&&(n=r),-1!==(i=e.indexOf(t)))return m(e,0,i,n),g(e,i,n)},h=function(e,t,n){var i,o,a,c,l;if(null==n&&(n=r),!(o=e.slice(0,t)).length)return o;for(s(o,n),a=0,c=(l=e.slice(t)).length;a<c;a++)i=l[a],u(o,i,n);return o.sort(n).reverse()},d=function(e,t,n){var i,a,u,c,h,d,p,m,g;if(null==n&&(n=r),10*t<=e.length){if(!(u=e.slice(0,t).sort(n)).length)return u;for(a=u[u.length-1],c=0,d=(p=e.slice(t)).length;c<d;c++)n(i=p[c],a)<0&&(l(u,i,0,null,n),u.pop(),a=u[u.length-1]);return u}for(s(e,n),g=[],h=0,m=f(t,e.length);0<=m?h<m:h>m;0<=m?++h:--h)g.push(o(e,n));return g},m=function(e,t,n,i){var s,o,a;for(null==i&&(i=r),s=e[n];n>t&&i(s,o=e[a=n-1>>1])<0;)e[n]=o,n=a;return e[n]=s},g=function(e,t,n){var i,s,o,a,u;for(null==n&&(n=r),s=e.length,u=t,o=e[t],i=2*t+1;i<s;)(a=i+1)<s&&!(n(e[i],e[a])<0)&&(i=a),e[t]=e[i],i=2*(t=i)+1;return e[t]=o,m(e,u,t,n)},e=function(){function e(e){this.cmp=null!=e?e:r,this.nodes=[]}return e.push=a,e.pop=o,e.replace=c,e.pushpop=u,e.heapify=s,e.updateItem=p,e.nlargest=h,e.nsmallest=d,e.prototype.push=function(e){return a(this.nodes,e,this.cmp)},e.prototype.pop=function(){return o(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return c(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return u(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return s(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return p(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),b=this,_=function(){return e},"function"==typeof define&&define.amd?define([],_):"object"==typeof n?t.exports=_():b.Heap=_()}).call(this)}}},{package:"heap",file:"/home/gudahtt/projects/metamask-extension/node_modules/heap/lib/heap.js"}],[4379,{_process:5420},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){
/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.5.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
!function(){var n="object"==typeof window?window:{};!n.HI_BASE32_NO_NODE_JS&&"object"==typeof e&&e.versions&&e.versions.node&&(n=global);var r=!n.HI_BASE32_NO_COMMON_JS&&"object"==typeof t&&t.exports,i="function"==typeof define&&define.amd,s="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),o={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},a=[0,0,0,0,0,0,0,0],u=function(e,t){t.length>10&&(t="..."+t.substr(-10));var n=new Error("Decoded data is not valid UTF-8."+" Maybe try base32.decode.asBytes()?"+" Partial data after reading "+e+" bytes: "+t+" <-");throw n.position=e,n},c=function(e){if(!/^[A-Z2-7=]+$/.test(e))throw new Error("Invalid base32 characters");for(var t,n,r,i,s,a,u,c,l=[],f=0,h=(e=e.replace(/=/g,"")).length,d=0,p=h>>3<<3;d<p;)t=o[e.charAt(d++)],n=o[e.charAt(d++)],r=o[e.charAt(d++)],i=o[e.charAt(d++)],s=o[e.charAt(d++)],a=o[e.charAt(d++)],u=o[e.charAt(d++)],c=o[e.charAt(d++)],l[f++]=255&(t<<3|n>>>2),l[f++]=255&(n<<6|r<<1|i>>>4),l[f++]=255&(i<<4|s>>>1),l[f++]=255&(s<<7|a<<2|u>>>3),l[f++]=255&(u<<5|c);var m=h-p;return 2===m?(t=o[e.charAt(d++)],n=o[e.charAt(d++)],l[f++]=255&(t<<3|n>>>2)):4===m?(t=o[e.charAt(d++)],n=o[e.charAt(d++)],r=o[e.charAt(d++)],i=o[e.charAt(d++)],l[f++]=255&(t<<3|n>>>2),l[f++]=255&(n<<6|r<<1|i>>>4)):5===m?(t=o[e.charAt(d++)],n=o[e.charAt(d++)],r=o[e.charAt(d++)],i=o[e.charAt(d++)],s=o[e.charAt(d++)],l[f++]=255&(t<<3|n>>>2),l[f++]=255&(n<<6|r<<1|i>>>4),l[f++]=255&(i<<4|s>>>1)):7===m&&(t=o[e.charAt(d++)],n=o[e.charAt(d++)],r=o[e.charAt(d++)],i=o[e.charAt(d++)],s=o[e.charAt(d++)],a=o[e.charAt(d++)],u=o[e.charAt(d++)],l[f++]=255&(t<<3|n>>>2),l[f++]=255&(n<<6|r<<1|i>>>4),l[f++]=255&(i<<4|s>>>1),l[f++]=255&(s<<7|a<<2|u>>>3)),l},l=function(e,t){if(!t)return function(e){for(var t,n,r="",i=e.length,s=0,o=0;s<i;)if((t=e[s++])<=127)r+=String.fromCharCode(t);else{t>191&&t<=223?(n=31&t,o=1):t<=239?(n=15&t,o=2):t<=247?(n=7&t,o=3):u(s,r);for(var a=0;a<o;++a)((t=e[s++])<128||t>191)&&u(s,r),n<<=6,n+=63&t;n>=55296&&n<=57343&&u(s,r),n>1114111&&u(s,r),n<=65535?r+=String.fromCharCode(n):(n-=65536,r+=String.fromCharCode(55296+(n>>10)),r+=String.fromCharCode(56320+(1023&n)))}return r}(c(e));if(!/^[A-Z2-7=]+$/.test(e))throw new Error("Invalid base32 characters");var n,r,i,s,a,l,f,h,d="",p=e.indexOf("=");-1===p&&(p=e.length);for(var m=0,g=p>>3<<3;m<g;)n=o[e.charAt(m++)],r=o[e.charAt(m++)],i=o[e.charAt(m++)],s=o[e.charAt(m++)],a=o[e.charAt(m++)],l=o[e.charAt(m++)],f=o[e.charAt(m++)],h=o[e.charAt(m++)],d+=String.fromCharCode(255&(n<<3|r>>>2))+String.fromCharCode(255&(r<<6|i<<1|s>>>4))+String.fromCharCode(255&(s<<4|a>>>1))+String.fromCharCode(255&(a<<7|l<<2|f>>>3))+String.fromCharCode(255&(f<<5|h));var b=p-g;return 2===b?(n=o[e.charAt(m++)],r=o[e.charAt(m++)],d+=String.fromCharCode(255&(n<<3|r>>>2))):4===b?(n=o[e.charAt(m++)],r=o[e.charAt(m++)],i=o[e.charAt(m++)],s=o[e.charAt(m++)],d+=String.fromCharCode(255&(n<<3|r>>>2))+String.fromCharCode(255&(r<<6|i<<1|s>>>4))):5===b?(n=o[e.charAt(m++)],r=o[e.charAt(m++)],i=o[e.charAt(m++)],s=o[e.charAt(m++)],a=o[e.charAt(m++)],d+=String.fromCharCode(255&(n<<3|r>>>2))+String.fromCharCode(255&(r<<6|i<<1|s>>>4))+String.fromCharCode(255&(s<<4|a>>>1))):7===b&&(n=o[e.charAt(m++)],r=o[e.charAt(m++)],i=o[e.charAt(m++)],s=o[e.charAt(m++)],a=o[e.charAt(m++)],l=o[e.charAt(m++)],f=o[e.charAt(m++)],d+=String.fromCharCode(255&(n<<3|r>>>2))+String.fromCharCode(255&(r<<6|i<<1|s>>>4))+String.fromCharCode(255&(s<<4|a>>>1))+String.fromCharCode(255&(a<<7|l<<2|f>>>3))),d},f={encode:function(e,t){var n="string"!=typeof e;return n&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),n?function(e){for(var t,n,r,i,o,a="",u=e.length,c=0,l=5*parseInt(u/5);c<l;)t=e[c++],n=e[c++],r=e[c++],i=e[c++],o=e[c++],a+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[31&(n<<4|r>>>4)]+s[31&(r<<1|i>>>7)]+s[i>>>2&31]+s[31&(i<<3|o>>>5)]+s[31&o];var f=u-l;return 1===f?(t=e[c],a+=s[t>>>3]+s[t<<2&31]+"======"):2===f?(t=e[c++],n=e[c],a+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[n<<4&31]+"===="):3===f?(t=e[c++],n=e[c++],r=e[c],a+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[31&(n<<4|r>>>4)]+s[r<<1&31]+"==="):4===f&&(t=e[c++],n=e[c++],r=e[c++],i=e[c],a+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[31&(n<<4|r>>>4)]+s[31&(r<<1|i>>>7)]+s[i>>>2&31]+s[i<<3&31]+"="),a}(e):t?function(e){for(var t,n,r,i,o,a="",u=e.length,c=0,l=5*parseInt(u/5);c<l;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),r=e.charCodeAt(c++),i=e.charCodeAt(c++),o=e.charCodeAt(c++),a+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[31&(n<<4|r>>>4)]+s[31&(r<<1|i>>>7)]+s[i>>>2&31]+s[31&(i<<3|o>>>5)]+s[31&o];var f=u-l;return 1===f?(t=e.charCodeAt(c),a+=s[t>>>3]+s[t<<2&31]+"======"):2===f?(t=e.charCodeAt(c++),n=e.charCodeAt(c),a+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[n<<4&31]+"===="):3===f?(t=e.charCodeAt(c++),n=e.charCodeAt(c++),r=e.charCodeAt(c),a+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[31&(n<<4|r>>>4)]+s[r<<1&31]+"==="):4===f&&(t=e.charCodeAt(c++),n=e.charCodeAt(c++),r=e.charCodeAt(c++),i=e.charCodeAt(c),a+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[31&(n<<4|r>>>4)]+s[31&(r<<1|i>>>7)]+s[i>>>2&31]+s[i<<3&31]+"="),a}(e):function(e){var t,n,r,i,o,u,c,l=!1,f="",h=0,d=0,p=e.length;do{for(a[0]=a[5],a[1]=a[6],a[2]=a[7],c=d;h<p&&c<5;++h)(u=e.charCodeAt(h))<128?a[c++]=u:u<2048?(a[c++]=192|u>>6,a[c++]=128|63&u):u<55296||u>=57344?(a[c++]=224|u>>12,a[c++]=128|u>>6&63,a[c++]=128|63&u):(u=65536+((1023&u)<<10|1023&e.charCodeAt(++h)),a[c++]=240|u>>18,a[c++]=128|u>>12&63,a[c++]=128|u>>6&63,a[c++]=128|63&u);d=c-5,h===p&&++h,h>p&&c<6&&(l=!0),t=a[0],c>4?(n=a[1],r=a[2],i=a[3],o=a[4],f+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[31&(n<<4|r>>>4)]+s[31&(r<<1|i>>>7)]+s[i>>>2&31]+s[31&(i<<3|o>>>5)]+s[31&o]):1===c?f+=s[t>>>3]+s[t<<2&31]+"======":2===c?(n=a[1],f+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[n<<4&31]+"===="):3===c?(n=a[1],r=a[2],f+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[31&(n<<4|r>>>4)]+s[r<<1&31]+"==="):(n=a[1],r=a[2],i=a[3],f+=s[t>>>3]+s[31&(t<<2|n>>>6)]+s[n>>>1&31]+s[31&(n<<4|r>>>4)]+s[31&(r<<1|i>>>7)]+s[i>>>2&31]+s[i<<3&31]+"=")}while(!l);return f}(e)},decode:l};l.asBytes=c,r?t.exports=f:(n.base32=f,i&&define((function(){return f})))}()}).call(this)}).call(this,e("_process"))}}},{package:"hi-base32",file:"/home/gudahtt/projects/metamask-extension/node_modules/hi-base32/src/base32.js"}],[4383,{"did-resolver":2274,xmlhttprequest:2080},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("did-resolver");function o(t){return new Promise((function(n,r){var i=new("undefined"!=typeof window?window.XMLHttpRequest:e("xmlhttprequest").XMLHttpRequest);i.open("GET",t),i.onreadystatechange=function(){i&&4===i.readyState&&(200===i.status?n(i.responseText):r(new Error(("Invalid http response status "+i.status+" "+i.responseText).trim())))},i.setRequestHeader("accept","application/json"),i.send()}))}n.default=function(){s.registerMethod("https",(function(e,t){return r(this,void 0,void 0,(function(){var n,r,s,a;return i(this,(function(i){switch(i.label){case 0:n="https://"+t.id+"/.well-known/did.json",r=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o(n)];case 2:return r=i.sent(),[3,4];case 3:throw s=i.sent(),new Error("DID must resolve to a valid https URL: "+s.message);case 4:a=null;try{a=JSON.parse(r)}catch(e){throw new Error("DID must resolve to a JSON document")}if(!("https://w3id.org/did/v1"===a["@context"]))throw new Error("DID document missing context");if(!(a.id===e))throw new Error("DID document id does not match requested did");if(!(Array.isArray(a.publicKey)&&a.publicKey.length>0))throw new Error("DID document has no public keys");return[2,a]}}))}))}))}}}},{package:"https-did-resolver",file:"/home/gudahtt/projects/metamask-extension/node_modules/https-did-resolver/lib/register.js"}],[4386,{"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=/^((\d+(\.\d+)*)(ns|ms|us|Âµs|m|s|h))+$/,s=/((\d+(\.\d+)*)(ns|ms|us|Âµs|m|s|h))/g,o=/(ns|ms|us|Âµs|m|s|h)/g,a={ns:1e-6,us:.001,"Âµs":.001,ms:1,s:1e3,m:6e4,h:36e5};t.exports=r((function(e,t){return"string"!=typeof e?t(new Error("the first argument must be a string")):i.test(e)?void t(null,e.match(s).reduce(((e,t)=>e+function(e){let t=e.match(o)[0];return e=e.substring(0,e.length-t.length),parseFloat(e)*a[t]}(t)),0)):t(new Error("invalid time"))}))}}},{package:"human-to-milliseconds",file:"/home/gudahtt/projects/metamask-extension/node_modules/human-to-milliseconds/src/index.js"}],[4388,{stream:2084,xtend:6171},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("stream"),i=e("xtend");t.exports=function(e,t,n){if("object"!=typeof e)throw new TypeError("db must be an object");if("string"!=typeof t)throw new TypeError("storeName must be a string");if(null==n&&(n={}),"object"!=typeof n)throw new TypeError("opts must be an object");var s=new r.Transform(i(n,{objectMode:!0,transform:function(e,t,n){n(null,e)}}));n=i({snapshot:!1},n);var o=null;return s._cursorsOpened=0,function r(){var i,a,u,c,l,f=n.direction||"next",h=n.range||{};i=h.lower,a=h.upper,u=!!h.lowerOpen,c=!!h.upperOpen,o&&("next"===f?(u=!0,i=o):(c=!0,a=o)),i&&a?l=IDBKeyRange.bound(i,a,u,c):i?l=IDBKeyRange.lowerBound(i,u):a&&(l=IDBKeyRange.upperBound(a,c));var d=e.transaction(t,"readonly"),p=d.objectStore(t);s._cursorsOpened++;var m=p.openCursor(l,n.direction);function g(e){try{e.continue()}catch(e){"TransactionInactiveError"!==e.name||n.snapshot?s.emit("error",e):r()}}m.onsuccess=function(){var e=m.result;if(e){o=e.key;var t=s.write({key:e.key,value:e.value});n.snapshot||t?g(e):s.once("drain",(function(){g(e)}))}else s.end()},d.onabort=function(){s.emit("error",d.error)},d.onerror=function(){s.emit("error",d.error)}}(),s}}}},{package:"idb-readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/idb-readable-stream/index.js"}],[4394,{"./messageChannel":4395,"./mutation.js":4396,"./nextTick":4397,"./stateChange":4398,"./timeout":4399},function(){with(this)return function(){"use strict";return function(e,t,n){var r,i,s,o=[e("./nextTick"),e("./mutation.js"),e("./messageChannel"),e("./stateChange"),e("./timeout")],a=-1,u=[],c=!1;function l(){r&&i&&(r=!1,i.length?u=i.concat(u):a=-1,u.length&&f())}function f(){if(!r){c=!1,r=!0;for(var e=u.length,t=setTimeout(l);e;){for(i=u,u=[];i&&++a<e;)i[a].run();a=-1,e=u.length}i=null,a=-1,r=!1,clearTimeout(t)}}for(var h=-1,d=o.length;++h<d;)if(o[h]&&o[h].test&&o[h].test()){s=o[h].install(f);break}function p(e,t){this.fun=e,this.array=t}p.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},t.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),c||r||(c=!0,s())}}}},{package:"immediate",file:"/home/gudahtt/projects/metamask-extension/node_modules/immediate/lib/index.js"}],[4395,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},n.install=function(e){var t=new global.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}}}},{package:"immediate",file:"/home/gudahtt/projects/metamask-extension/node_modules/immediate/lib/messageChannel.js"}],[4396,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=global.MutationObserver||global.WebKitMutationObserver;n.test=function(){return r},n.install=function(e){var t=0,n=new r(e),i=global.document.createTextNode("");return n.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}}}},{package:"immediate",file:"/home/gudahtt/projects/metamask-extension/node_modules/immediate/lib/mutation.js"}],[4397,{_process:5420},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){n.test=function(){return void 0!==e&&!e.browser},n.install=function(t){return function(){e.nextTick(t)}}}).call(this)}).call(this,e("_process"))}}},{package:"immediate",file:"/home/gudahtt/projects/metamask-extension/node_modules/immediate/lib/nextTick.js"}],[4398,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},n.install=function(e){return function(){var t=global.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},global.document.documentElement.appendChild(t),e}}}}},{package:"immediate",file:"/home/gudahtt/projects/metamask-extension/node_modules/immediate/lib/stateChange.js"}],[4399,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.test=function(){return!0},n.install=function(e){return function(){setTimeout(e,0)}}}}},{package:"immediate",file:"/home/gudahtt/projects/metamask-extension/node_modules/immediate/lib/timeout.js"}],[44,{"eth-rpc-errors":2455},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("eth-rpc-errors");var i=(e,t)=>async n=>{if(t._writableState.ended)return;if(!e[n.method])return void t.write({jsonrpc:"2.0",error:r.ethErrors.rpc.methodNotFound({message:`${n.method} not found`}),id:n.id});let i,s;try{i=await e[n.method](...n.params)}catch(e){s=e}t._writableState.ended?s&&console.error(s):s?t.write({jsonrpc:"2.0",error:(0,r.serializeError)(s,{shouldIncludeStack:!0}),id:n.id}):t.write({jsonrpc:"2.0",result:i,id:n.id})};n.default=i}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/createMetaRPCHandler.js"}],[4403,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}}},{package:"indexof",file:"/home/gudahtt/projects/metamask-extension/node_modules/indexof/index.js"}],[4405,{"pull-defer/duplex":5451},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-defer/duplex");t.exports=class{constructor(e,t){this.peerInfo=null,this.conn=r(),e?this.setInnerConn(e,t):t&&(this.info=t)}get source(){return this.conn.source}get sink(){return this.conn.sink}getPeerInfo(e){return this.info&&this.info.getPeerInfo?this.info.getPeerInfo(e):this.peerInfo?void e(null,this.peerInfo):e(new Error("Peer Info not set yet"))}setPeerInfo(e){if(this.info&&this.info.setPeerInfo)return this.info.setPeerInfo(e);this.peerInfo=e}getObservedAddrs(e){if(this.info&&this.info.getObservedAddrs)return this.info.getObservedAddrs(e);e(null,[])}setInnerConn(e,t){this.conn.resolve(e),this.info=t||e}}}}},{package:"interface-connection",file:"/home/gudahtt/projects/metamask-extension/node_modules/interface-connection/src/connection.js"}],[4406,{"./connection":4405},function(){with(this)return function(){"use strict";return function(e,t,n){n.Connection=e("./connection")}}},{package:"interface-connection",file:"/home/gudahtt/projects/metamask-extension/node_modules/interface-connection/src/index.js"}],[4407,{},function(){with(this)return function(){"use strict";return function(e,t,n){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}}}},{package:"uuid",file:"/home/gudahtt/projects/metamask-extension/node_modules/interface-datastore/node_modules/uuid/lib/bytesToUuid.js"}],[4408,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);t.exports=function(){return r(i),i}}else{var s=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;return s}}}}},{package:"uuid",file:"/home/gudahtt/projects/metamask-extension/node_modules/interface-datastore/node_modules/uuid/lib/rng-browser.js"}],[4409,{"./lib/bytesToUuid":4407,"./lib/rng":4408},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./lib/rng"),i=e("./lib/bytesToUuid");t.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[s+a]=o[a];return t||i(o)}}}},{package:"uuid",file:"/home/gudahtt/projects/metamask-extension/node_modules/interface-datastore/node_modules/uuid/v4.js"}],[4410,{"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code");t.exports.dbOpenFailedError=e=>(e=e||new Error("Cannot open database"),r(e,"ERR_DB_OPEN_FAILED")),t.exports.dbDeleteFailedError=e=>(e=e||new Error("Delete failed"),r(e,"ERR_DB_DELETE_FAILED")),t.exports.dbWriteFailedError=e=>(e=e||new Error("Write failed"),r(e,"ERR_DB_WRITE_FAILED")),t.exports.notFoundError=e=>(e=e||new Error("Not Found"),r(e,"ERR_NOT_FOUND"))}}},{package:"interface-datastore",file:"/home/gudahtt/projects/metamask-extension/node_modules/interface-datastore/src/errors.js"}],[4411,{"./errors":4410,"./key":4412,"./memory":4413,"./utils":4414},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./key"),i=e("./memory"),s=e("./utils"),o=e("./errors");n.Key=r,n.MemoryDatastore=i,n.utils=s,n.Errors=o}}},{package:"interface-datastore",file:"/home/gudahtt/projects/metamask-extension/node_modules/interface-datastore/src/index.js"}],[4412,{buffer:2081,"class-is":2121,"uuid/v4":4409},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("uuid/v4"),i=e("class-is"),s="/",o=n.from(s),a=o[0];class u{constructor(e,t){if("string"==typeof e?this._buf=n.from(e):n.isBuffer(e)&&(this._buf=e),null==t&&(t=!0),t&&this.clean(),0===this._buf.length||this._buf[0]!==a)throw new Error(`Invalid key: ${this.toString()}`)}toString(e){return this._buf.toString(e||"utf8")}toBuffer(){return this._buf}get[Symbol.toStringTag](){return`[Key ${this.toString()}]`}static withNamespaces(e){return new c(e.join(s))}static random(){return new c(r().replace(/-/g,""))}clean(){for(this._buf&&0!==this._buf.length||(this._buf=n.from(s)),this._buf[0]!==a&&(this._buf=n.concat([o,this._buf]));this._buf.length>1&&this._buf[this._buf.length-1]===a;)this._buf=this._buf.slice(0,-1)}less(e){const t=this.list(),n=e.list();for(let e=0;e<t.length;e++){if(n.length<e+1)return!1;const r=t[e],i=n[e];if(r<i)return!0;if(r>i)return!1}return t.length<n.length}reverse(){return u.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(s).slice(1)}type(){return function(e){const t=e.split(":");if(t.length<2)return"";return t.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(e){const t=e.split(":");return t[t.length-1]}(this.baseNamespace())}instance(e){return new c(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(s)||(e+=s),e+=this.type(),new c(e)}parent(){const e=this.list();return 1===e.length?new c(s):new c(e.slice(0,-1).join(s))}child(e){return this.toString()===s?e:e.toString()===s?this:new c(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()!==this.toString()&&e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()!==this.toString()&&this.toString().startsWith(e.toString())}isTopLevel(){return 1===this.list().length}}const c=i(u,{className:"Key",symbolName:"@ipfs/interface-datastore/key"});t.exports=c}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"interface-datastore",file:"/home/gudahtt/projects/metamask-extension/node_modules/interface-datastore/src/key.js"}],[4413,{"./errors":4410,"./key":4412,"./utils":4414,"async/setImmediate":1773,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream"),i=e("async/setImmediate"),s=e("./utils").asyncFilter,o=e("./utils").asyncSort,a=e("./key"),u=e("./errors");t.exports=class{constructor(){this.data={}}open(e){i(e)}put(e,t,n){this.data[e.toString()]=t,i(n)}get(e,t){this.has(e,((n,r)=>n?t(n):r?void t(null,this.data[e.toString()]):t(u.notFoundError())))}has(e,t){i((()=>{t(null,this.data[e.toString()]!==undefined)}))}delete(e,t){delete this.data[e.toString()],i((()=>{t()}))}batch(){let e=[],t=[];return{put(t,n){e.push([t,n])},delete(e){t.push(e)},commit:n=>{e.forEach((e=>{this.data[e[0].toString()]=e[1]})),e=[],t.forEach((e=>{delete this.data[e.toString()]})),t=[],i(n)}}}query(e){let t=[r.keys(this.data),r.map((e=>({key:new a(e),value:this.data[e]})))],n=[];if(null!=e.prefix){const t=e.prefix;n.push(((e,n)=>n(null,e.key.toString().startsWith(t))))}if(null!=e.filters&&(n=n.concat(e.filters)),t=t.concat(n.map((e=>s(e)))),null!=e.orders&&(t=t.concat(e.orders.map((e=>o(e))))),null!=e.offset){let n=0;t.push(r.filter((()=>n++>=e.offset)))}return null!=e.limit&&t.push(r.take(e.limit)),!0===e.keysOnly&&t.push(r.map((e=>({key:e.key})))),r.apply(null,t)}close(e){i(e)}}}}},{package:"interface-datastore",file:"/home/gudahtt/projects/metamask-extension/node_modules/interface-datastore/src/memory.js"}],[4414,{os:5363,path:5396,"pull-defer/source":5454,"pull-stream":5477,"uuid/v4":4409},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream"),i=e("pull-defer/source"),s=e("path"),o=e("os"),a=e("uuid/v4");n.asyncFilter=function(e){let t,n,r=!1;return function(i){return function s(o,a){if(n)return a(n);o?(n=o,i(o,r?()=>{r?t=a:a(o)}:a)):i(null,((i,o)=>{i?a(i):n?a(n):(r=!0,e(o,((e,i)=>{r=!1,n?(a(n),t(n)):e?s(e,a):i?a(null,o):s(null,a)})))}))}}},n.asyncSort=function(e){const t=i(),n=r.collect(((n,i)=>{if(n)return t.abort(n);e(i,((e,n)=>{if(e)return t.abort(e);t.resolve(r.values(i))}))}));return function(e){return n(e),t}},n.replaceStartWith=function(e,t){const n=new RegExp("^"+t);return e.replace(n,"")},n.tmpdir=()=>s.join(o.tmpdir(),a())}}},{package:"interface-datastore",file:"/home/gudahtt/projects/metamask-extension/node_modules/interface-datastore/src/utils.js"}],[4416,{},function(){with(this)return function(){"use strict";return function(e,t,n){const r="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}",i="[0-9a-fA-F]{1,4}",s=`\n(\n(?:${i}:){7}(?:${i}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${i}:){6}(?:${r}|:${i}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${i}:){5}(?::${r}|(:${i}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${i}:){4}(?:(:${i}){0,1}:${r}|(:${i}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${i}:){3}(?:(:${i}){0,2}:${r}|(:${i}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${i}:){2}(?:(:${i}){0,3}:${r}|(:${i}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${i}:){1}(?:(:${i}){0,4}:${r}|(:${i}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::((?::${i}){0,5}:${r}|(?::${i}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=t.exports=e=>e&&e.exact?new RegExp(`(?:^${r}$)|(?:^${s}$)`):new RegExp(`(?:${r})|(?:${s})`,"g");o.v4=e=>e&&e.exact?new RegExp(`^${r}$`):new RegExp(r,"g"),o.v6=e=>e&&e.exact?new RegExp(`^${s}$`):new RegExp(s,"g")}}},{package:"ip-regex",file:"/home/gudahtt/projects/metamask-extension/node_modules/ip-regex/index.js"}],[4417,{buffer:2081,os:5363},function(){with(this)return function(){"use strict";return function(e,t,n){var r=n,i=e("buffer").Buffer,s=e("os");r.toBuffer=function(e,t,n){var r;if(n=~~n,this.isV4Format(e))r=t||new i(n+4),e.split(/\./g).map((function(e){r[n++]=255&parseInt(e,10)}));else if(this.isV6Format(e)){var s,o=e.split(":",8);for(s=0;s<o.length;s++){var a;this.isV4Format(o[s])&&(a=this.toBuffer(o[s]),o[s]=a.slice(0,2).toString("hex")),a&&++s<8&&o.splice(s,0,a.slice(2,4).toString("hex"))}if(""===o[0])for(;o.length<8;)o.unshift("0");else if(""===o[o.length-1])for(;o.length<8;)o.push("0");else if(o.length<8){for(s=0;s<o.length&&""!==o[s];s++);var u=[s,1];for(s=9-o.length;s>0;s--)u.push("0");o.splice.apply(o,u)}for(r=t||new i(n+16),s=0;s<o.length;s++){var c=parseInt(o[s],16);r[n++]=c>>8&255,r[n++]=255&c}}if(!r)throw Error("Invalid ip address: "+e);return r},r.toString=function(e,t,n){t=~~t;var r=[];if(4===(n=n||e.length-t)){for(var i=0;i<n;i++)r.push(e[t+i]);r=r.join(".")}else if(16===n){for(i=0;i<n;i+=2)r.push(e.readUInt16BE(t+i).toString(16));r=(r=(r=r.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return r};var o=/^(\d{1,3}\.){3,3}\d{1,3}$/,a=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function u(e){return e?e.toLowerCase():"ipv4"}r.isV4Format=function(e){return o.test(e)},r.isV6Format=function(e){return a.test(e)},r.fromPrefixLen=function(e,t){var n=4;"ipv6"===(t=e>32?"ipv6":u(t))&&(n=16);for(var s=new i(n),o=0,a=s.length;o<a;++o){var c=8;e<8&&(c=e),e-=c,s[o]=255&~(255>>c)}return r.toString(s)},r.mask=function(e,t){e=r.toBuffer(e),t=r.toBuffer(t);var n=new i(Math.max(e.length,t.length)),s=0;if(e.length===t.length)for(s=0;s<e.length;s++)n[s]=e[s]&t[s];else if(4===t.length)for(s=0;s<t.length;s++)n[s]=e[e.length-4+s]&t[s];else{for(s=0;s<n.length-6;s++)n[s]=0;for(n[10]=255,n[11]=255,s=0;s<e.length;s++)n[s+12]=e[s]&t[s+12];s+=12}for(;s<n.length;s++)n[s]=0;return r.toString(n)},r.cidr=function(e){var t=e.split("/"),n=t[0];if(2!==t.length)throw new Error("invalid CIDR subnet: "+n);var i=r.fromPrefixLen(parseInt(t[1],10));return r.mask(n,i)},r.subnet=function(e,t){for(var n=r.toLong(r.mask(e,t)),i=r.toBuffer(t),s=0,o=0;o<i.length;o++)if(255===i[o])s+=8;else for(var a=255&i[o];a;)a=a<<1&255,s++;var u=Math.pow(2,32-s);return{networkAddress:r.fromLong(n),firstAddress:u<=2?r.fromLong(n):r.fromLong(n+1),lastAddress:u<=2?r.fromLong(n+u-1):r.fromLong(n+u-2),broadcastAddress:r.fromLong(n+u-1),subnetMask:t,subnetMaskLength:s,numHosts:u<=2?u:u-2,length:u,contains:function(e){return n===r.toLong(r.mask(e,t))}}},r.cidrSubnet=function(e){var t=e.split("/"),n=t[0];if(2!==t.length)throw new Error("invalid CIDR subnet: "+n);var i=r.fromPrefixLen(parseInt(t[1],10));return r.subnet(n,i)},r.not=function(e){for(var t=r.toBuffer(e),n=0;n<t.length;n++)t[n]=255^t[n];return r.toString(t)},r.or=function(e,t){if(e=r.toBuffer(e),t=r.toBuffer(t),e.length===t.length){for(var n=0;n<e.length;++n)e[n]|=t[n];return r.toString(e)}var i=e,s=t;t.length>e.length&&(i=t,s=e);var o=i.length-s.length;for(n=o;n<i.length;++n)i[n]|=s[n-o];return r.toString(i)},r.isEqual=function(e,t){if(e=r.toBuffer(e),t=r.toBuffer(t),e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if(4===t.length){var i=t;t=e,e=i}for(n=0;n<10;n++)if(0!==t[n])return!1;var s=t.readUInt16BE(10);if(0!==s&&65535!==s)return!1;for(n=0;n<4;n++)if(e[n]!==t[n+12])return!1;return!0},r.isPrivate=function(e){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^f[cd][0-9a-f]{2}:/i.test(e)||/^fe80:/i.test(e)||/^::1$/.test(e)||/^::$/.test(e)},r.isPublic=function(e){return!r.isPrivate(e)},r.isLoopback=function(e){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(e)||/^fe80::1$/.test(e)||/^::1$/.test(e)||/^::$/.test(e)},r.loopback=function(e){if("ipv4"!==(e=u(e))&&"ipv6"!==e)throw new Error("family must be ipv4 or ipv6");return"ipv4"===e?"127.0.0.1":"fe80::1"},r.address=function(e,t){var n,i=s.networkInterfaces();if(t=u(t),e&&"private"!==e&&"public"!==e){var o=i[e].filter((function(e){return e.family.toLowerCase()===t}));return 0===o.length?undefined:o[0].address}return(n=Object.keys(i).map((function(n){var s=i[n].filter((function(n){return n.family=n.family.toLowerCase(),n.family===t&&!r.isLoopback(n.address)&&(!e||("public"===e?r.isPrivate(n.address):r.isPublic(n.address)))}));return s.length?s[0].address:undefined})).filter(Boolean)).length?n[0]:r.loopback(t)},r.toLong=function(e){var t=0;return e.split(".").forEach((function(e){t<<=8,t+=parseInt(e)})),t>>>0},r.fromLong=function(e){return(e>>>24)+"."+(e>>16&255)+"."+(e>>8&255)+"."+(255&e)}}}},{package:"ip",file:"/home/gudahtt/projects/metamask-extension/node_modules/ip/lib/ip.js"}],[4418,{},function(){with(this)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=Math.ceil,o=Math.floor,a="[BigNumber Error] ",u=a+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,f=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,p=1e9;function m(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(t=e[r++]+"",n=l-t.length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function b(e,t){var n,r,i=e.c,s=t.c,o=e.s,a=t.s,u=e.e,c=t.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=u==c,!i||!s)return r?0:!i^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return u==c?0:u>c^n?1:-1}function _(e,t,n,r){if(e<t||e>n||e!==o(e))throw Error(a+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function w(e){var t=e.c.length-1;return m(e.e/l)==t&&e.c[t]%2!=0}function y(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function k(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,v,x,E,S,j,R,A,I,N,O=q.prototype={constructor:q,toString:null,valueOf:null},T=new q(1),L=20,P=4,D=-7,B=21,C=-1e7,M=1e7,z=!1,F=1,U=0,$={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz";function q(e,t){var n,i,s,a,c,h,d,p,m=this;if(!(m instanceof q))return new q(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>M?m.c=m.e=null:e.e<C?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(a=0,c=e;c>=10;c/=10,a++);return void(a>M?m.c=m.e=null:(m.e=a,m.c=[e]))}p=String(e)}else{if(!r.test(p=String(e)))return x(m,p,h);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(a=p.indexOf("."))>-1&&(p=p.replace(".","")),(c=p.search(/e/i))>0?(a<0&&(a=c),a+=+p.slice(c+1),p=p.substring(0,c)):a<0&&(a=p.length)}else{if(_(t,2,H.length,"Base"),10==t)return K(m=new q(e),L+m.e+1,P);if(p=String(e),h="number"==typeof e){if(0*e!=0)return x(m,p,h,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,q.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=H.slice(0,t),a=c=0,d=p.length;c<d;c++)if(n.indexOf(i=p.charAt(c))<0){if("."==i){if(c>a){a=d;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,c=-1,a=0;continue}return x(m,String(e),h,t)}h=!1,(a=(p=v(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):a=p.length}for(c=0;48===p.charCodeAt(c);c++);for(d=p.length;48===p.charCodeAt(--d););if(p=p.slice(c,++d)){if(d-=c,h&&q.DEBUG&&d>15&&(e>f||e!==o(e)))throw Error(u+m.s*e);if((a=a-c-1)>M)m.c=m.e=null;else if(a<C)m.c=[m.e=0];else{if(m.e=a,m.c=[],c=(a+1)%l,a<0&&(c+=l),c<d){for(c&&m.c.push(+p.slice(0,c)),d-=l;c<d;)m.c.push(+p.slice(c,c+=l));c=l-(p=p.slice(c)).length}else c-=d;for(;c--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function V(e,t,n,r){var i,s,o,a,u;if(null==n?n=P:_(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)u=g(e.c),u=1==r||2==r&&(o<=D||o>=B)?y(u,o):k(u,o,"0");else if(s=(e=K(new q(e),t,n)).e,a=(u=g(e.c)).length,1==r||2==r&&(t<=s||s<=D)){for(;a<t;u+="0",a++);u=y(u,s)}else if(t-=o,u=k(u,s,"0"),s+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-a)>0)for(s+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function W(e,t){for(var n,r=1,i=new q(e[0]);r<e.length;r++){if(!(n=new q(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function G(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*l-1)>M?e.c=e.e=null:n<C?e.c=[e.e=0]:(e.e=n,e.c=t),e}function K(e,t,n,r){var i,a,u,f,d,p,m,g=e.c,b=h;if(g){e:{for(i=1,f=g[0];f>=10;f/=10,i++);if((a=t-i)<0)a+=l,u=t,m=(d=g[p=0])/b[i-u-1]%10|0;else if((p=s((a+1)/l))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));d=m=0,i=1,u=(a%=l)-l+1}else{for(d=f=g[p],i=1;f>=10;f/=10,i++);m=(u=(a%=l)-l+i)<0?0:d/b[i-u-1]%10|0}if(r=r||t<0||null!=g[p+1]||(u<0?d:d%b[i-u-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(a>0?u>0?d/b[i-u]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=b[(l-t%l)%l],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,f=1,p--):(g.length=p+1,f=b[l-a],g[p]=u>0?o(d/b[i-u]%b[u])*f:0),r)for(;;){if(0==p){for(a=1,u=g[0];u>=10;u/=10,a++);for(u=g[0]+=f,f=1;u>=10;u/=10,f++);a!=f&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[p]+=f,g[p]!=c)break;g[p--]=0,f=1}for(a=g.length;0===g[--a];g.pop());}e.e>M?e.c=e.e=null:e.e<C&&(e.c=[e.e=0])}return e}function Z(e){var t,n=e.e;return null===n?e.toString():(t=g(e.c),t=n<=D||n>=B?y(t,n):k(t,n,"0"),e.s<0?"-"+t:t)}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(_(n=e[t],0,p,t),L=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(_(n=e[t],0,8,t),P=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(_(n[0],-p,0,t),_(n[1],0,p,t),D=n[0],B=n[1]):(_(n,-p,p,t),D=-(B=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)_(n[0],-p,-1,t),_(n[1],1,p,t),C=n[0],M=n[1];else{if(_(n,-p,p,t),!n)throw Error(a+t+" cannot be zero: "+n);C=-(M=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw z=!n,Error(a+"crypto unavailable");z=n}else z=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(_(n=e[t],0,9,t),F=n),e.hasOwnProperty(t="POW_PRECISION")&&(_(n=e[t],0,p,t),U=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);$=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);H=n}}return{DECIMAL_PLACES:L,ROUNDING_MODE:P,EXPONENTIAL_AT:[D,B],RANGE:[C,M],CRYPTO:z,MODULO_MODE:F,POW_PRECISION:U,FORMAT:$,ALPHABET:H}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,n,r=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&i>=-p&&i<=p&&i===o(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%l)<1&&(t+=l),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==o(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return W(arguments,O.lt)},q.minimum=q.min=function(){return W(arguments,O.gt)},q.random=(E=9007199254740992,S=Math.random()*E&2097151?function(){return o(Math.random()*E)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,u,c=0,f=[],d=new q(T);if(null==e?e=L:_(e,0,p),i=s(e/l),z)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));c<i;)(u=131072*t[c]+(t[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(f.push(u%1e14),c+=2);c=i/2}else{if(!crypto.randomBytes)throw z=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(i*=7);c<i;)(u=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(f.push(u%1e14),c+=7);c=i/7}if(!z)for(;c<i;)(u=S())<9e15&&(f[c++]=u%1e14);for(i=f[--c],e%=l,i&&e&&(u=h[l-e],f[c]=o(i/u)*u);0===f[c];f.pop(),c--);if(c<0)f=[r=0];else{for(r=-1;0===f[0];f.splice(0,1),r-=l);for(c=1,u=f[0];u>=10;u/=10,c++);c<l&&(r-=l-c)}return d.e=r,d.c=f,d}),q.sum=function(){for(var e=1,t=arguments,n=new q(t[0]);e<t.length;)n=n.plus(t[e++]);return n},v=function(){var e="0123456789";function t(e,t,n,r){for(var i,s,o=[0],a=0,u=e.length;a<u;){for(s=o.length;s--;o[s]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(r,i,s,o,a){var u,c,l,f,h,d,p,m,b=r.indexOf("."),_=L,w=P;for(b>=0&&(f=U,U=0,r=r.replace(".",""),d=(m=new q(i)).pow(r.length-b),U=f,m.c=t(k(g(d.c),d.e,"0"),10,s,e),m.e=m.c.length),l=f=(p=t(r,i,s,a?(u=H,e):(u=e,H))).length;0==p[--f];p.pop());if(!p[0])return u.charAt(0);if(b<0?--l:(d.c=p,d.e=l,d.s=o,p=(d=n(d,m,_,w,s)).c,h=d.r,l=d.e),b=p[c=l+_+1],f=s/2,h=h||c<0||null!=p[c+1],h=w<4?(null!=b||h)&&(0==w||w==(d.s<0?3:2)):b>f||b==f&&(4==w||h||6==w&&1&p[c-1]||w==(d.s<0?8:7)),c<1||!p[0])r=h?k(u.charAt(1),-_,u.charAt(0)):u.charAt(0);else{if(p.length=c,h)for(--s;++p[--c]>s;)p[c]=0,c||(++l,p=[1].concat(p));for(f=p.length;!p[--f];);for(b=0,r="";b<=f;r+=u.charAt(p[b++]));r=k(r,l,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,s,o,a=0,u=e.length,c=t%d,l=t/d|0;for(e=e.slice();u--;)a=((i=c*(s=e[u]%d)+(r=l*s+(o=e[u]/d|0)*c)%d*d+a)/n|0)+(r/d|0)+l*o,e[u]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,a,u){var f,h,d,p,g,b,_,w,y,k,v,x,E,S,j,R,A,I=r.s==i.s?1:-1,N=r.c,O=i.c;if(!(N&&N[0]&&O&&O[0]))return new q(r.s&&i.s&&(N?!O||N[0]!=O[0]:O)?N&&0==N[0]||!O?0*I:I/0:NaN);for(y=(w=new q(I)).c=[],I=s+(h=r.e-i.e)+1,u||(u=c,h=m(r.e/l)-m(i.e/l),I=I/l|0),d=0;O[d]==(N[d]||0);d++);if(O[d]>(N[d]||0)&&h--,I<0)y.push(1),p=!0;else{for(S=N.length,R=O.length,d=0,I+=2,(g=o(u/(O[0]+1)))>1&&(O=e(O,g,u),N=e(N,g,u),R=O.length,S=N.length),E=R,v=(k=N.slice(0,R)).length;v<R;k[v++]=0);A=O.slice(),A=[0].concat(A),j=O[0],O[1]>=u/2&&j++;do{if(g=0,(f=t(O,k,R,v))<0){if(x=k[0],R!=v&&(x=x*u+(k[1]||0)),(g=o(x/j))>1)for(g>=u&&(g=u-1),_=(b=e(O,g,u)).length,v=k.length;1==t(b,k,_,v);)g--,n(b,R<_?A:O,_,u),_=b.length,f=1;else 0==g&&(f=g=1),_=(b=O.slice()).length;if(_<v&&(b=[0].concat(b)),n(k,b,v,u),v=k.length,-1==f)for(;t(O,k,R,v)<1;)g++,n(k,R<v?A:O,v,u),v=k.length}else 0===f&&(g++,k=[0]);y[d++]=g,k[0]?k[v++]=N[E]||0:(k=[N[E]],v=1)}while((E++<S||null!=k[0])&&I--);p=null!=k[0],y[0]||y.splice(0,1)}if(u==c){for(d=1,I=y[0];I>=10;I/=10,d++);K(w,s+(w.e=d+h*l-1)+1,a,p)}else w.e=h,w.r=+p;return w}}(),j=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,A=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,N=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,n,r){var i,s=n?t:t.replace(N,"");if(I.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(j,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(R,"$1").replace(A,"0.$1")),t!=s))return new q(s,i);if(q.DEBUG)throw Error(a+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},O.absoluteValue=O.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},O.comparedTo=function(e,t){return b(this,new q(e,t))},O.decimalPlaces=O.dp=function(e,t){var n,r,i,s=this;if(null!=e)return _(e,0,p),null==t?t=P:_(t,0,8),K(new q(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((i=n.length-1)-m(this.e/l))*l,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},O.dividedBy=O.div=function(e,t){return n(this,new q(e,t),L,P)},O.dividedToIntegerBy=O.idiv=function(e,t){return n(this,new q(e,t),0,1)},O.exponentiatedBy=O.pow=function(e,t){var n,r,i,u,c,f,h,d,p=this;if((e=new q(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+Z(e));if(null!=t&&(t=new q(t)),c=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return d=new q(Math.pow(+Z(p),c?2-w(e):+Z(e))),t?d.mod(t):d;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new q(NaN);(r=!f&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||c&&p.c[1]>=24e7:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return u=p.s<0&&w(e)?-0:0,p.e>-1&&(u=1/u),new q(f?1/u:u);U&&(u=s(U/l+2))}for(c?(n=new q(.5),f&&(e.s=1),h=w(e)):h=(i=Math.abs(+Z(e)))%2,d=new q(T);;){if(h){if(!(d=d.times(p)).c)break;u?d.c.length>u&&(d.c.length=u):r&&(d=d.mod(t))}if(i){if(0===(i=o(i/2)))break;h=i%2}else if(K(e=e.times(n),e.e+1,1),e.e>14)h=w(e);else{if(0===(i=+Z(e)))break;h=i%2}p=p.times(p),u?p.c&&p.c.length>u&&(p.c.length=u):r&&(p=p.mod(t))}return r?d:(f&&(d=T.div(d)),t?d.mod(t):u?K(d,U,P,undefined):d)},O.integerValue=function(e){var t=new q(this);return null==e?e=P:_(e,0,8),K(t,t.e+1,e)},O.isEqualTo=O.eq=function(e,t){return 0===b(this,new q(e,t))},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(e,t){return b(this,new q(e,t))>0},O.isGreaterThanOrEqualTo=O.gte=function(e,t){return 1===(t=b(this,new q(e,t)))||0===t},O.isInteger=function(){return!!this.c&&m(this.e/l)>this.c.length-2},O.isLessThan=O.lt=function(e,t){return b(this,new q(e,t))<0},O.isLessThanOrEqualTo=O.lte=function(e,t){return-1===(t=b(this,new q(e,t)))||0===t},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&0==this.c[0]},O.minus=function(e,t){var n,r,i,s,o=this,a=o.s;if(t=(e=new q(e,t)).s,!a||!t)return new q(NaN);if(a!=t)return e.s=-t,o.plus(e);var u=o.e/l,f=e.e/l,h=o.c,d=e.c;if(!u||!f){if(!h||!d)return h?(e.s=-t,e):new q(d?o:NaN);if(!h[0]||!d[0])return d[0]?(e.s=-t,e):new q(h[0]?o:3==P?-0:0)}if(u=m(u),f=m(f),h=h.slice(),a=u-f){for((s=a<0)?(a=-a,i=h):(f=u,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(s=(a=h.length)<(t=d.length))?a:t,a=t=0;t<r;t++)if(h[t]!=d[t]){s=h[t]<d[t];break}if(s&&(i=h,h=d,d=i,e.s=-e.s),(t=(r=d.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=c-1;r>a;){if(h[--r]<d[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=c}h[r]-=d[r]}for(;0==h[0];h.splice(0,1),--f);return h[0]?G(e,h,f):(e.s=3==P?-1:1,e.c=[e.e=0],e)},O.modulo=O.mod=function(e,t){var r,i,s=this;return e=new q(e,t),!s.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||s.c&&!s.c[0]?new q(s):(9==F?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,F),(e=s.minus(r.times(e))).c[0]||1!=F||(e.s=s.s),e)},O.multipliedBy=O.times=function(e,t){var n,r,i,s,o,a,u,f,h,p,g,b,_,w,y,k=this,v=k.c,x=(e=new q(e,t)).c;if(!(v&&x&&v[0]&&x[0]))return!k.s||!e.s||v&&!v[0]&&!x||x&&!x[0]&&!v?e.c=e.e=e.s=null:(e.s*=k.s,v&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=m(k.e/l)+m(e.e/l),e.s*=k.s,(u=v.length)<(p=x.length)&&(_=v,v=x,x=_,i=u,u=p,p=i),i=u+p,_=[];i--;_.push(0));for(w=c,y=d,i=p;--i>=0;){for(n=0,g=x[i]%y,b=x[i]/y|0,s=i+(o=u);s>i;)n=((f=g*(f=v[--o]%y)+(a=b*f+(h=v[o]/y|0)*g)%y*y+_[s]+n)/w|0)+(a/y|0)+b*h,_[s--]=f%w;_[s]=n}return n?++r:_.splice(0,1),G(e,_,r)},O.negated=function(){var e=new q(this);return e.s=-e.s||null,e},O.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new q(e,t)).s,!i||!t)return new q(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/l,o=e.e/l,a=r.c,u=e.c;if(!s||!o){if(!a||!u)return new q(i/0);if(!a[0]||!u[0])return u[0]?e:new q(a[0]?r:0*i)}if(s=m(s),o=m(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=u):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=u.length)<0&&(n=u,u=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+u[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++o),G(e,a,o)},O.precision=O.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return _(e,1,p),null==t?t=P:_(t,0,8),K(new q(s),e,t);if(!(n=s.c))return null;if(r=(i=n.length-1)*l+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},O.shiftedBy=function(e){return _(e,-9007199254740991,f),this.times("1e"+e)},O.squareRoot=O.sqrt=function(){var e,t,r,i,s,o=this,a=o.c,u=o.s,c=o.e,l=L+4,f=new q("0.5");if(1!==u||!a||!a[0])return new q(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+Z(o)))||u==1/0?(((t=g(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=m((c+1)/2)-(c<0||c%2),r=new q(t=u==1/0?"1e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new q(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(s=r,r=f.times(s.plus(n(o,s,l,1))),g(s.c).slice(0,u)===(t=g(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(K(r,r.e+L+2,1),e=!r.times(r).eq(o));break}if(!i&&(K(s,s.e+L+2,0),s.times(s).eq(o))){r=s;break}l+=4,u+=4,i=1}return K(r,r.e+L+1,P,e)},O.toExponential=function(e,t){return null!=e&&(_(e,0,p),e++),V(this,e,t,1)},O.toFixed=function(e,t){return null!=e&&(_(e,0,p),e=e+this.e+1),V(this,e,t)},O.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=$;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,o=r.split("."),u=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",f=o[0],h=o[1],d=i.s<0,p=d?f.slice(1):f,m=p.length;if(c&&(s=u,u=c,c=s,m-=s),u>0&&m>0){for(s=m%u||u,f=p.substr(0,s);s<m;s+=u)f+=l+p.substr(s,u);c>0&&(f+=l+p.slice(s)),d&&(f="-"+f)}r=h?f+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):f}return(n.prefix||"")+r+(n.suffix||"")},O.toFraction=function(e){var t,r,i,s,o,u,c,f,d,p,m,b,_=this,w=_.c;if(null!=e&&(!(c=new q(e)).isInteger()&&(c.c||1!==c.s)||c.lt(T)))throw Error(a+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Z(c));if(!w)return new q(_);for(t=new q(T),d=r=new q(T),i=f=new q(T),b=g(w),o=t.e=b.length-_.e-1,t.c[0]=h[(u=o%l)<0?l+u:u],e=!e||c.comparedTo(t)>0?o>0?t:d:c,u=M,M=1/0,c=new q(b),f.c[0]=0;p=n(c,t,0,1),1!=(s=r.plus(p.times(i))).comparedTo(e);)r=i,i=s,d=f.plus(p.times(s=d)),f=s,t=c.minus(p.times(s=t)),c=s;return s=n(e.minus(r),i,0,1),f=f.plus(s.times(d)),r=r.plus(s.times(i)),f.s=d.s=_.s,m=n(d,i,o*=2,P).minus(_).abs().comparedTo(n(f,r,o,P).minus(_).abs())<1?[d,i]:[f,r],M=u,m},O.toNumber=function(){return+Z(this)},O.toPrecision=function(e,t){return null!=e&&_(e,1,p),V(this,e,t,2)},O.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=D||i>=B?y(g(n.c),i):k(g(n.c),i,"0"):10===e?t=k(g((n=K(new q(n),L+i+1,P)).c),n.e,"0"):(_(e,2,H.length,"Base"),t=v(k(g(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},O.valueOf=O.toJSON=function(){return Z(this)},O._isBigNumber=!0,i&&(O[Symbol.toStringTag]="BigNumber",O[Symbol.for("nodejs.util.inspect.custom")]=O.valueOf),null!=t&&q.set(t),q}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"bignumber.js",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/node_modules/bignumber.js/bignumber.js"}],[4419,{"./utils":4423,blakejs:2034,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("blakejs"),i=e("./utils").toCallback,s={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},o={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},a=(e,t)=>i((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/node_modules/multihashing-async/src/blake.js"}],[4420,{buffer:2081,nodeify:5294},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("nodeify"),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function s(e){if(!i)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,s)=>{const o=i.digest({name:e},t);if("function"!=typeof o.then)return o.onerror=()=>{s(new Error(`hashing data using ${e}`))},void(o.oncomplete=e=>{s(null,e.target.result)});r(o.then((e=>n.from(new Uint8Array(e)))),s)}}t.exports={sha1:function(e,t){s("SHA-1")(e,t)},sha2256:function(e,t){s("SHA-256")(e,t)},sha2512:function(e,t){s("SHA-512")(e,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/node_modules/multihashing-async/src/crypto-sha1-2-browser.js"}],[4421,{"./blake":4419,"./crypto-sha1-2":4420,"./utils":4423,buffer:2081,"js-sha3":4719,murmurhash3js:5254},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("js-sha3"),i=e("murmurhash3js"),s=e("./utils"),o=e("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;t.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(r.sha3_512)),sha3384:a(u(r.sha3_384)),sha3256:a(u(r.sha3_256)),sha3224:a(u(r.sha3_224)),shake128:a(u(r.shake_128,128)),shake256:a(u(r.shake_256,256)),keccak224:a(u(r.keccak_224)),keccak256:a(u(r.keccak_256)),keccak384:a(u(r.keccak_384)),keccak512:a(u(r.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/node_modules/multihashing-async/src/crypto.js"}],[4422,{"./crypto":4421,buffer:2081,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("multihashes"),i=e("./crypto");function s(e,t,n,i){if("function"==typeof n&&(i=n,n=undefined),!i)throw new Error("Missing callback");s.digest(e,t,n,((e,s)=>{if(e)return i(e);i(null,r.encode(s,t,n))}))}t.exports=s,s.Buffer=n,s.multihash=r,s.digest=function(e,t,n,r){if("function"==typeof n&&(r=n,n=undefined),!r)throw new Error("Missing callback");let i,o=r;n&&(o=(e,t)=>{if(e)return r(e);r(null,t.slice(0,n))});try{i=s.createHash(t)}catch(e){return o(e)}i(e,o)},s.createHash=function(e){if(e=r.coerceCode(e),!s.functions[e])throw new Error("multihash function "+e+" not yet supported");return s.functions[e]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/node_modules/multihashing-async/src/index.js"}],[4423,{_process:5420,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e,t){(function(){n.toCallback=t=>function(n,r){let i;try{i=t(n)}catch(t){return void e.nextTick(r,t)}e.nextTick(r,null,i)},n.toBuf=(e,n)=>r=>{let i=e(r,n);return t.from(i,"hex")},n.fromString=(e,n)=>r=>{const i=t.isBuffer(r)?r.toString():r;return e(i,n)},n.fromNumberTo32BitBuf=(e,n)=>r=>{let i=e(r,n);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return t.from(s)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/node_modules/multihashing-async/src/utils.js"}],[4424,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={maxProvidersPerRequest:3,providerRequestTimeout:1e4,hasBlockTimeout:15e3,provideTimeout:15e3,kMaxPriority:Math.pow(2,31)-1,rebroadcastDelay:1e4,maxListeners:1e3}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/constants.js"}],[4425,{"../types/message":4433,"../types/wantlist":4436,"../utils":4437,"./ledger":4426,"async/each":1733,"async/eachSeries":1738,"async/map":1764,"async/nextTick":1767,"async/waterfall":1779,"just-debounce-it":4751},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/each"),i=e("async/eachSeries"),s=e("async/waterfall"),o=e("async/nextTick"),a=e("async/map"),u=e("just-debounce-it"),c=e("../types/message"),l=e("../types/wantlist"),f=e("./ledger"),{logger:h,groupBy:d,pullAllWith:p,uniqWith:m}=e("../utils"),g=524288;t.exports=class{constructor(e,t,n,r){this._log=h(e,"engine"),this.blockstore=t,this.network=n,this._stats=r,this.ledgerMap=new Map,this._running=!1,this._tasks=[],this._outbox=u(this._processTasks.bind(this),100)}_sendBlocks(e,t,n){if(t.reduce(((e,t)=>e+t.data.byteLength),0)<g)return this._sendSafeBlocks(e,t,n);let r=0,s=[],a=t.length;i(t,((t,n)=>{if(a--,s.push(t),r+=t.data.byteLength,r>=g||0===a){r=0;const t=s.slice();s=[],this._sendSafeBlocks(e,t,(e=>{e&&this._log("sendblock error: %s",e.message),n()}))}else o(n)}),n)}_sendSafeBlocks(e,t,n){const r=new c(!1);t.forEach((e=>r.addBlock(e))),this.network.sendMessage(e,r,n)}_processTasks(){if(!this._running||!this._tasks.length)return;const e=this._tasks;this._tasks=[];const t=e.map((e=>e.entry)).map((e=>e.cid)),n=m(((e,t)=>e.equals(t)),t),i=d((e=>e.target.toB58String()),e);s([e=>a(n,((e,t)=>{this.blockstore.get(e,t)}),e),(e,n)=>r(Object.values(i),((n,r)=>{const i=n[0].target,s=t.map((t=>e.find((e=>e.cid.equals(t)))));this._sendBlocks(i,s,(e=>{e?this._log.error("should never happen: ",e):s.forEach((e=>this.messageSent(i,e))),r()}))}),n)],(e=>{this._tasks=[],e&&this._log.error(e)}))}wantlistForPeer(e){const t=e.toB58String();return this.ledgerMap.has(t)?this.ledgerMap.get(t).wantlist.sortedEntries():new Map}ledgerForPeer(e){const t=e.toB58String(),n=this.ledgerMap.get(t);return n?{peer:n.partner.toPrint(),value:n.debtRatio(),sent:n.accounting.bytesSent,recv:n.accounting.bytesRecv,exchanged:n.exchangeCount}:null}peers(){return Array.from(this.ledgerMap.values()).map((e=>e.partner))}receivedBlocks(e){e.length&&(this.ledgerMap.forEach((t=>{e.map((e=>t.wantlistContains(e))).filter(Boolean).forEach((e=>{this._tasks.push({entry:e,target:t.partner})}))})),this._outbox())}messageReceived(e,t,n){const r=this._findOrCreate(e);if(t.empty)return o(n);if(t.full&&(r.wantlist=new l),this._processBlocks(t.blocks,r),0===t.wantlist.size)return o(n);let i=[],s=[];t.wantlist.forEach((e=>{e.cancel?(r.cancelWant(e.cid),i.push(e)):(r.wants(e.cid,e.priority),s.push(e))})),this._cancelWants(r,e,i),this._addWants(r,e,s,n)}_cancelWants(e,t,n){const r=t.toB58String();this._tasks=p(((e,t)=>{const n=e.target.toB58String()===r,i=e.entry.cid.equals(t.cid);return n&&i}),this._tasks,n)}_addWants(e,t,n,i){r(n,((e,n)=>{this.blockstore.has(e.cid,((r,i)=>{r?this._log.error("failed existence check"):i&&this._tasks.push({entry:e.entry,target:t}),n()}))}),(()=>{this._outbox(),i()}))}_processBlocks(e,t,n){const r=[];e.forEach(((e,n)=>{this._log("got block (%s bytes)",e.data.length),t.receivedBytes(e.data.length),r.push(e.cid)})),this.receivedBlocks(r)}messageSent(e,t){const n=this._findOrCreate(e);n.sentBytes(t?t.data.length:0),t&&t.cid&&n.wantlist.remove(t.cid)}numBytesSentTo(e){return this._findOrCreate(e).accounting.bytesSent}numBytesReceivedFrom(e){return this._findOrCreate(e).accounting.bytesRecv}peerDisconnected(e){}_findOrCreate(e){const t=e.toB58String();if(this.ledgerMap.has(t))return this.ledgerMap.get(t);const n=new f(e);return this.ledgerMap.set(t,n),this._stats&&this._stats.push(t,"peerCount",1),n}start(e){this._running=!0,o((()=>e()))}stop(e){this._running=!1,o((()=>e()))}}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/decision-engine/index.js"}],[4426,{"../types/wantlist":4436},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../types/wantlist");t.exports=class{constructor(e){this.partner=e,this.wantlist=new r,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesSent+=e}receivedBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesRecv+=e}wants(e,t){this.wantlist.add(e,t)}cancelWant(e){this.wantlist.remove(e)}wantlistContains(e){return this.wantlist.contains(e)}debtRatio(){return this.accounting.bytesSent/(this.accounting.bytesRecv+1)}}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/decision-engine/ledger.js"}],[4427,{"./decision-engine":4425,"./network":4428,"./notifications":4429,"./stats":4430,"./utils":4437,"./want-manager":4438,"async/each":1733,"async/map":1764,"async/nextTick":1767,"async/reject":1770,"async/series":1772,"async/waterfall":1779},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/waterfall"),i=e("async/reject"),s=e("async/each"),o=e("async/series"),a=e("async/map"),u=e("async/nextTick"),c=e("./want-manager"),l=e("./network"),f=e("./decision-engine"),h=e("./notifications"),d=e("./utils").logger,p=e("./stats"),m={statsEnabled:!1,statsComputeThrottleTimeout:1e3,statsComputeThrottleMaxQueueSize:1e3},g=["blocksReceived","dataReceived","dupBlksReceived","dupDataReceived","blocksSent","dataSent","providesBufferLength","wantListLength","peerCount"];t.exports=class{constructor(e,t,n){this._libp2p=e,this._log=d(this.peerInfo.id),this._options=Object.assign({},m,n),this._stats=new p(g,{enabled:this._options.statsEnabled,computeThrottleTimeout:this._options.statsComputeThrottleTimeout,computeThrottleMaxQueueSize:this._options.statsComputeThrottleMaxQueueSize}),this.network=new l(e,this,{},this._stats),this.blockstore=t,this.engine=new f(this.peerInfo.id,t,this.network,this._stats),this.wm=new c(this.peerInfo.id,this.network,this._stats),this.notifications=new h(this.peerInfo.id)}get peerInfo(){return this._libp2p.peerInfo}_receiveMessage(e,t,n){this.engine.messageReceived(e,t,(r=>{if(r&&this._log("failed to receive message",t),0===t.blocks.size)return n();const i=Array.from(t.blocks.values()),o=i.filter((e=>this.wm.wantlist.contains(e.cid))).map((e=>e.cid));this.wm.cancelWants(o),s(i,((t,n)=>{const r=o.includes(t.cid);this._handleReceivedBlock(e,t,r,n)}),n)}))}_handleReceivedBlock(e,t,n,i){this._log("received block"),r([e=>this.blockstore.has(t.cid,e),(r,i)=>{if(this._updateReceiveCounters(e.toB58String(),t,r),r||!n)return u(i);this._putBlock(t,i)}],i)}_updateReceiveCounters(e,t,n){this._stats.push(e,"blocksReceived",1),this._stats.push(e,"dataReceived",t.data.length),n&&(this._stats.push(e,"dupBlksReceived",1),this._stats.push(e,"dupDataReceived",t.data.length))}_receiveError(e){this._log.error("ReceiveError: %s",e.message)}_onPeerConnected(e){this.wm.connected(e)}_onPeerDisconnected(e){this.wm.disconnected(e),this.engine.peerDisconnected(e),this._stats.disconnected(e)}_putBlock(e,t){this.blockstore.put(e,(n=>{if(n)return t(n);this.notifications.hasBlock(e),this.network.provide(e.cid,(e=>{e&&this._log.error("Failed to provide: %s",e.message)})),this.engine.receivedBlocks([e.cid]),t()}))}enableStats(){this._stats.enable()}disableStats(){this._stats.disable()}wantlistForPeer(e){return this.engine.wantlistForPeer(e)}ledgerForPeer(e){return this.engine.ledgerForPeer(e)}get(e,t){this.getMany([e],((e,n)=>{if(e)return t(e);n&&n.length>0?t(null,n[0]):t()}))}getMany(e,t){let n=e.length;const i=[];let s=!1;const o=(e,t)=>{i.push(e),this.notifications.wantBlock(e,(n=>{this.wm.cancelWants([e]),t(null,n)}),(()=>{this.wm.cancelWants([e]),t(null,undefined)})),n||this.wm.wantBlocks(i)};a(e,((t,a)=>{r([e=>this.blockstore.has(t,e),(r,a)=>{if(n--,r)return n||this.wm.wantBlocks(i),this.blockstore.get(t,a);s||(s=!0,this.network.findAndConnect(e[0],(e=>{e&&this._log.error(e)}))),o(t,a)}],a)}),t)}unwant(e){Array.isArray(e)||(e=[e]),this.wm.unwantBlocks(e),e.forEach((e=>this.notifications.unwantBlock(e)))}cancelWants(e){Array.isArray(e)||(e=[e]),this.wm.cancelWants(e)}put(e,t){this._log("putting block"),r([t=>this.blockstore.has(e.cid,t),(t,n)=>{if(t)return u(n);this._putBlock(e,n)}],t)}putMany(e,t){r([t=>i(e,((e,t)=>{this.blockstore.has(e.cid,t)}),t),(e,t)=>this.blockstore.putMany(e,(n=>{if(n)return t(n);e.forEach((e=>{this.notifications.hasBlock(e),this.engine.receivedBlocks([e.cid]),this.network.provide(e.cid,(e=>{e&&this._log.error("Failed to provide: %s",e.message)}))})),t()}))],t)}getWantlist(){return this.wm.wantlist.entries()}peers(){return this.engine.peers()}stat(){return this._stats}start(e){o([e=>this.wm.start(e),e=>this.network.start(e),e=>this.engine.start(e)],e)}stop(e){this._stats.stop(),o([e=>this.wm.stop(e),e=>this.network.stop(e),e=>this.engine.stop(e)],e)}}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/index.js"}],[4428,{"./constants":4424,"./types/message":4433,"./utils":4437,"async/each":1733,"async/nextTick":1767,"async/waterfall":1779,"pull-length-prefixed":5459,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-length-prefixed"),i=e("pull-stream"),s=e("async/waterfall"),o=e("async/each"),a=e("async/nextTick"),u=e("./types/message"),c=e("./constants"),l=e("./utils").logger,f="/ipfs/bitswap/1.0.0",h="/ipfs/bitswap/1.1.0";t.exports=class{constructor(e,t,n,r){this._log=l(e.peerInfo.id,"network"),n=n||{},this.libp2p=e,this.bitswap=t,this.b100Only=n.b100Only||!1,this._stats=r,this._running=!1}start(e){this._running=!0,this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._onConnection=this._onConnection.bind(this),this.libp2p.handle(f,this._onConnection),this.b100Only||this.libp2p.handle(h,this._onConnection),this.libp2p.on("peer:connect",this._onPeerConnect),this.libp2p.on("peer:disconnect",this._onPeerDisconnect),this.libp2p.peerBook.getAllArray().filter((e=>e.isConnected())).forEach((e=>this._onPeerConnect(e))),a((()=>e()))}stop(e){this._running=!1,this.libp2p.unhandle(f),this.b100Only||this.libp2p.unhandle(h),this.libp2p.removeListener("peer:connect",this._onPeerConnect),this.libp2p.removeListener("peer:disconnect",this._onPeerDisconnect),a((()=>e()))}_onConnection(e,t){this._running&&(this._log("incomming new bitswap connection: %s",e),i(t,r.decode(),i.asyncMap(((e,t)=>u.deserialize(e,t))),i.asyncMap(((e,n)=>{t.getPeerInfo(((t,r)=>{if(t)return n(t);this.bitswap._receiveMessage(r.id,e,n)}))})),i.onEnd((e=>{this._log("ending connection"),e&&this.bitswap._receiveError(e)}))))}_onPeerConnect(e){this._running&&this.bitswap._onPeerConnected(e.id)}_onPeerDisconnect(e){this._running&&this.bitswap._onPeerDisconnected(e.id)}findProviders(e,t,n){this.libp2p.contentRouting.findProviders(e,{maxTimeout:c.providerRequestTimeout,maxNumProviders:t},n)}findAndConnect(e,t){s([t=>this.findProviders(e,c.maxProvidersPerRequest,t),(e,t)=>{this._log("connecting to providers",e.map((e=>e.id.toB58String()))),o(e,((e,t)=>this.connectTo(e,t)))}],t)}provide(e,t){this.libp2p.contentRouting.provide(e,t)}sendMessage(e,t,n){if(!this._running)return n(new Error("network isn't running"));const s=e.toB58String()?e.toB58String():e.id.toB58String();this._log("sendMessage to %s",s,t),this._dialPeer(e,((s,o,a)=>{if(s)return n(s);let u;switch(a){case f:u=t.serializeToBitswap100();break;case h:u=t.serializeToBitswap110();break;default:return n(new Error("Unkown protocol: "+a))}!function(e,t,n){i(i.values([t]),r.encode(),e,i.onEnd(n))}(o,u,(e=>{e&&this._log.error(e)})),n(),this._updateSentStats(e,t.blocks)}))}connectTo(e,t){if(!this._running)return t(new Error("network isn't running"));this.libp2p.dial(e,t)}_dialPeer(e,t){this.libp2p.dialProtocol(e,h,((n,r)=>{n?this.libp2p.dialProtocol(e,f,((e,n)=>{if(e)return t(e);t(null,n,f)})):t(null,r,h)}))}_updateSentStats(e,t){const n=e.toB58String();this._stats&&(t.forEach((e=>this._stats.push(n,"dataSent",e.data.length))),this._stats.push(n,"blocksSent",t.size))}}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/network.js"}],[4429,{"./constants":4424,"./utils":4437,events:2082},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events").EventEmitter,i=e("./constants"),s=e("./utils").logger,o=e=>`unwant:${e}`,a=e=>`block:${e}`;t.exports=class extends r{constructor(e){super(),this.setMaxListeners(i.maxListeners),this._log=s(e,"notif"),this._unwantListeners={},this._blockListeners={}}hasBlock(e){const t=`block:${e.cid.buffer.toString()}`;this._log(t),this.emit(t,e)}wantBlock(e,t,n){const r=e.buffer.toString();this._log(`wantBlock:${r}`),this._unwantListeners[r]=()=>{this._log(`manual unwant: ${r}`),this._cleanup(r),n()},this._blockListeners[r]=e=>{this._cleanup(r),t(e)},this.once(o(r),this._unwantListeners[r]),this.once(a(r),this._blockListeners[r])}unwantBlock(e){const t=`unwant:${e.buffer.toString()}`;this._log(t),this.emit(t)}_cleanup(e){this._unwantListeners[e]&&(this.removeListener(o(e),this._unwantListeners[e]),delete this._unwantListeners[e]),this._blockListeners[e]&&(this.removeListener(a(e),this._blockListeners[e]),delete this._blockListeners[e])}}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/notifications.js"}],[4430,{"./stat":4431,events:2082},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events"),i=e("./stat"),s={movingAverageIntervals:[6e4,3e5,9e5]};t.exports=class extends r{constructor(e,t){super();const n=Object.assign({},s,t);if("number"!=typeof n.computeThrottleTimeout)throw new Error("need computeThrottleTimeout");if("number"!=typeof n.computeThrottleMaxQueueSize)throw new Error("need computeThrottleMaxQueueSize");this._initialCounters=e,this._options=n,this._enabled=this._options.enabled,this._global=new i(e,n),this._global.on("update",(e=>this.emit("update",e))),this._peers=new Map}enable(){this._enabled=!0,this._options.enabled=!0,this._global.enable()}disable(){this._enabled=!1,this._options.enabled=!1,this._global.disable()}stop(){this._enabled=!1,this._global.stop();for(let e of this._peers)e[1].stop()}get snapshot(){return this._global.snapshot}get movingAverages(){return this._global.movingAverages}forPeer(e){return e.toB58String&&(e=e.toB58String()),this._peers.get(e)}push(e,t,n){if(this._enabled&&(this._global.push(t,n),e)){let r=this._peers.get(e);r||(r=new i(this._initialCounters,this._options),this._peers.set(e,r)),r.push(t,n)}}disconnected(e){const t=e.toB58String(),n=this._peers.get(t);n&&(n.stop(),this._peers.delete(t))}}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/stats/index.js"}],[4431,{"bignumber.js":4418,events:2082,"moving-average":5203},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events"),i=e("bignumber.js"),s=e("moving-average");t.exports=class extends r{constructor(e,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),e.forEach((e=>{this._stats[e]=i(0),this._movingAverages[e]={},this._options.movingAverageIntervals.forEach((t=>{(this._movingAverages[e][t]=s(t)).push(this._frequencyLastTime,0)}))})),this._enabled=this._options.enabled}enable(){this._enabled=!0}disable(){this._disabled=!0}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(e,t){this._enabled&&(this._queue.push([e,t,Date.now()]),this._resetComputeTimeout())}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){const e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(;this._queue.length;){const t=e=this._queue.shift();this._applyOp(t)}this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){const t=e-this._frequencyLastTime;Object.keys(this._stats).forEach((n=>{this._updateFrequencyFor(n,t,e)})),this._frequencyLastTime=e}_updateFrequencyFor(e,t,n){const r=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;const i=r/t*1e3;let o=this._movingAverages[e];o||(o=this._movingAverages[e]={}),this._options.movingAverageIntervals.forEach((e=>{let t=o[e];t||(t=o[e]=s(e)),t.push(n,i)}))}_applyOp(e){const t=e[0],n=e[1];if("number"!=typeof n)throw new Error("invalid increment number:",n);let r;r=this._stats.hasOwnProperty(t)?this._stats[t]:this._stats[t]=i(0),this._stats[t]=r.plus(n),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=n}}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/stats/stat.js"}],[4432,{"../wantlist":4436,assert:1700,cids:2119},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../wantlist").Entry,i=e("cids"),s=e("assert");t.exports=class{constructor(e,t,n){s(i.isCID(e),"needs valid cid"),this.entry=new r(e,t),this.cancel=Boolean(n)}get cid(){return this.entry.cid}set cid(e){this.entry.cid=e}get priority(){return this.entry.priority}set priority(e){this.entry.priority=e}get[Symbol.toStringTag](){return`BitswapMessageEntry ${this.cid.toBaseEncodedString()} <cancel: ${this.cancel}, priority: ${this.priority}>`}equals(e){return this.cancel===e.cancel&&this.entry.equals(e.entry)}}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/types/message/entry.js"}],[4433,{"./entry":4432,"./message.proto":4434,assert:1700,"async/each":1733,"async/nextTick":1767,cids:2119,"ipfs-block":4441,"lodash.isequalwith":4998,"multicodec/src/name-table":5220,"multihashing-async":4422,protons:5440,"varint-decoder":6028},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("protons"),i=e("ipfs-block"),s=e("lodash.isequalwith"),o=e("assert"),a=e("async/each"),u=e("async/nextTick"),c=e("cids"),l=e("multicodec/src/name-table"),f=e("varint-decoder"),h=e("multihashing-async"),d=r(e("./message.proto")),p=e("./entry");class m{constructor(e){this.full=e,this.wantlist=new Map,this.blocks=new Map}get empty(){return 0===this.blocks.size&&0===this.wantlist.size}addEntry(e,t,n){o(e&&c.isCID(e),"must be a valid cid");const r=e.buffer.toString(),i=this.wantlist.get(r);i?(i.priority=t,i.cancel=Boolean(n)):this.wantlist.set(r,new p(e,t,n))}addBlock(e){o(i.isBlock(e),"must be a valid cid");const t=e.cid.buffer.toString();this.blocks.set(t,e)}cancel(e){o(c.isCID(e),"must be a valid cid");const t=e.buffer.toString();this.wantlist.delete(t),this.addEntry(e,0,!0)}serializeToBitswap100(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.buffer,priority:Number(e.priority),cancel:Boolean(e.cancel)})))},blocks:Array.from(this.blocks.values()).map((e=>e.data))};return this.full&&(e.wantlist.full=!0),d.Message.encode(e)}serializeToBitswap110(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.buffer,priority:Number(e.priority),cancel:Boolean(e.cancel)})))},payload:[]};return this.full&&(e.wantlist.full=!0),this.blocks.forEach((t=>{e.payload.push({prefix:t.cid.prefix,data:t.data})})),d.Message.encode(e)}equals(e){const t=(e,t)=>{if(e.equals&&"function"==typeof e.equals)return e.equals(t)};return!(this.full!==e.full||!s(this.wantlist,e.wantlist,t)||!s(this.blocks,e.blocks,t))}get[Symbol.toStringTag](){const e=Array.from(this.wantlist.keys()),t=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${e}, blocks: ${t}>`}}m.deserialize=(e,t)=>{let n;try{n=d.Message.decode(e)}catch(e){return u((()=>t(e)))}const r=n.wantlist&&n.wantlist.full||!1,s=new m(r);return n.wantlist&&n.wantlist.entries.forEach((e=>{let n;try{n=new c(e.block)}catch(e){return t(e)}s.addEntry(n,e.priority,e.cancel)})),n.blocks.length>0?a(n.blocks,((e,n)=>{h(e,"sha2-256",((r,o)=>{if(r)return n(r);let a;try{a=new c(o)}catch(r){return t(r)}s.addBlock(new i(e,a)),n()}))}),(e=>{if(e)return t(e);t(null,s)})):n.payload.length>0?a(n.payload,((e,t)=>{if(!e.prefix||!e.data)return u(t);const n=f(e.prefix),r=n[0],o=n[1],a=n[2];h(e.data,a,((n,a)=>{if(n)return t(n);let u;try{u=new c(r,l[o.toString("16")],a)}catch(n){return t(n)}s.addBlock(new i(e.data,u)),t()}))}),(e=>{if(e)return t(e);t(null,s)})):void t(null,s)},m.Entry=p,t.exports=m}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/types/message/index.js"}],[4434,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="\n  message Message {\n    message Wantlist {\n      message Entry {\n        // changed from string to bytes, it makes a difference in JavaScript\n        optional bytes block = 1;      // the block cid (cidV0 in bitswap 1.0.0, cidV1 in bitswap 1.1.0)\n        optional int32 priority = 2;    // the priority (normalized). default to 1\n        optional bool cancel = 3;       // whether this revokes an entry\n      }\n\n      repeated Entry entries = 1;       // a list of wantlist entries\n      optional bool full = 2;           // whether this is the full wantlist. default to false\n    }\n\n    message Block {\n      optional bytes prefix = 1;        // CID prefix (cid version, multicodec and multihash prefix (type + length)\n      optional bytes data = 2;\n    }\n\n    optional Wantlist wantlist = 1;\n    repeated bytes blocks = 2;          // used to send Blocks in bitswap 1.0.0\n    repeated Block payload = 3;         // used to send Blocks in bitswap 1.1.0\n  }\n"}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/types/message/message.proto.js"}],[4435,{assert:1700,cids:2119},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("assert"),i=e("cids");class s{constructor(e,t){r(i.isCID(e),"must be valid CID"),this._refCounter=1,this.cid=e,this.priority=t||1}inc(){this._refCounter+=1}dec(){this._refCounter=Math.max(0,this._refCounter-1)}hasRefs(){return this._refCounter>0}get[Symbol.toStringTag](){return`WantlistEntry <key: ${this.cid.toBaseEncodedString()}, priority: ${this.priority}, refs: ${this._refCounter}>`}equals(e){return this._refCounter===e._refCounter&&this.cid.equals(e.cid)&&this.priority===e.priority}}t.exports=s}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/types/wantlist/entry.js"}],[4436,{"../../utils":4437,"./entry":4435},function(){with(this)return function(){"use strict";return function(e,t,n){const{sortBy:r}=e("../../utils"),i=e("./entry");class s{constructor(e){this.set=new Map,this._stats=e}get length(){return this.set.size}add(e,t){const n=e.buffer.toString(),r=this.set.get(n);r?(r.inc(),r.priority=t):(this.set.set(n,new i(e,t)),this._stats&&this._stats.push(null,"wantListSize",1))}remove(e){const t=e.buffer.toString(),n=this.set.get(t);n&&(n.dec(),n.hasRefs()||(this.set.delete(t),this._stats&&this._stats.push(null,"wantListSize",-1)))}removeForce(e){this.set.has(e)&&this.set.delete(e)}forEach(e){return this.set.forEach(e)}entries(){return this.set.entries()}sortedEntries(){return new Map(r((e=>e[1].key),Array.from(this.set.entries())))}contains(e){const t=e.buffer.toString();return this.set.get(t)}}s.Entry=i,t.exports=s}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/types/wantlist/index.js"}],[4437,{debug:2253},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=(e,t,n)=>{let r=0;const i=n.length;for(;r<i;){if(e(t,n[r]))return!0;r+=1}return!1};t.exports={logger:(e,t)=>{const n=["bitswap"];t&&n.push(t),e&&n.push(`${e.toB58String().slice(0,8)}`);const i=r(n.join(":"));return i.error=r(n.concat(["error"]).join(":")),i},includesWith:i,uniqWith:(e,t)=>{let n=0;const r=t.length,s=[];let o;for(;n<r;)o=t[n],i(e,o,s)||(s[s.length]=o),n+=1;return s},groupBy:(e,t)=>t.reduce(((t,n)=>{const r=e(n);return t[r]?t[r].push(n):t[r]=[n],t}),{}),pullAllWith:(e,t,n)=>t.filter((t=>!i(e,t,n))),sortBy:(e,t)=>Array.prototype.slice.call(t,0).sort(((t,n)=>{const r=e(t),i=e(n);return r<i?-1:r>i?1:0}))}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/utils.js"}],[4438,{"../constants":4424,"../types/message":4433,"../types/wantlist":4436,"../utils":4437,"./msg-queue":4439,"async/nextTick":1767},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/nextTick"),i=e("../types/message"),s=e("../types/wantlist"),o=e("../constants"),a=e("./msg-queue"),u=e("../utils").logger;t.exports=class{constructor(e,t,n){this.peers=new Map,this.wantlist=new s(n),this.network=t,this._stats=n,this._peerId=e,this._log=u(e,"want")}_addEntries(e,t,n){const r=e.map(((e,n)=>new i.Entry(e,o.kMaxPriority-n,t)));r.forEach((e=>{e.cancel?n?this.wantlist.removeForce(e.cid):this.wantlist.remove(e.cid):(this._log("adding to wl"),this.wantlist.add(e.cid,e.priority))}));for(let e of this.peers.values())e.addEntries(r)}_startPeerHandler(e){let t=this.peers.get(e.toB58String());if(t)return void t.refcnt++;t=new a(this._peerId,e,this.network);const n=new i(!0);for(let e of this.wantlist.entries())n.addEntry(e[1].cid,e[1].priority);return t.addMessage(n),this.peers.set(e.toB58String(),t),t}_stopPeerHandler(e){const t=this.peers.get(e.toB58String());t&&(t.refcnt--,t.refcnt>0||this.peers.delete(e.toB58String()))}wantBlocks(e){this._addEntries(e,!1)}unwantBlocks(e){this._log("unwant blocks: %s",e.length),this._addEntries(e,!0,!0)}cancelWants(e){this._log("cancel wants: %s",e.length),this._addEntries(e,!0)}connectedPeers(){return Array.from(this.peers.keys())}connected(e){this._startPeerHandler(e)}disconnected(e){this._stopPeerHandler(e)}start(e){this.timer=setInterval((()=>{this._log("resend full-wantlist");const e=new i(!0);this.wantlist.forEach((t=>{e.addEntry(t.cid,t.priority)})),this.peers.forEach((t=>t.addMessage(e)))}),6e4),r((()=>e()))}stop(e){this.peers.forEach((e=>this.disconnected(e.peerId))),clearInterval(this.timer),r((()=>e()))}}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/want-manager/index.js"}],[4439,{"../types/message":4433,"../utils":4437,"just-debounce-it":4751},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("just-debounce-it"),i=e("../types/message"),s=e("../utils").logger;t.exports=class{constructor(e,t,n){this.peerId=t,this.network=n,this.refcnt=1,this._entries=[],this._log=s(e,"msgqueue",t.toB58String().slice(0,8)),this.sendEntries=r(this._sendEntries.bind(this),200)}addMessage(e){e.empty||this.send(e)}addEntries(e){this._entries=this._entries.concat(e),this.sendEntries()}_sendEntries(){if(!this._entries.length)return;const e=new i(!1);this._entries.forEach((t=>{t.cancel?e.cancel(t.cid):e.addEntry(t.cid,t.priority)})),this._entries=[],this.addMessage(e)}send(e){this.network.connectTo(this.peerId,(t=>{t?this._log.error("cant connect to peer %s: %s",this.peerId.toB58String(),t.message):(this._log("sending message"),this.network.sendMessage(this.peerId,e,(e=>{e&&this._log.error("send error: %s",e.message)})))}))}}}}},{package:"ipfs-bitswap",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-bitswap/src/want-manager/msg-queue.js"}],[4440,{"async/map":1764},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/map");t.exports=class{constructor(e){this._repo=e,this._bitswap=null}setExchange(e){this._bitswap=e}unsetExchange(){this._bitswap=null}hasExchange(){return null!=this._bitswap}put(e,t){this.hasExchange()?this._bitswap.put(e,t):this._repo.blocks.put(e,t)}putMany(e,t){this.hasExchange()?this._bitswap.putMany(e,t):this._repo.blocks.putMany(e,t)}get(e,t){this.hasExchange()?this._bitswap.get(e,t):this._repo.blocks.get(e,t)}getMany(e,t){Array.isArray(e)?this.hasExchange()?this._bitswap.getMany(e,t):r(e,((e,t)=>this._repo.blocks.get(e,t)),t):t(new Error("first arg must be an array of cids"))}delete(e,t){this._repo.blocks.delete(e,t)}}}}},{package:"ipfs-block-service",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-block-service/src/index.js"}],[4441,{"../../is-buffer/index.js":4686,cids:2119,"class-is":2121},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("cids"),i=e("class-is");t.exports=i(class{constructor(e,t){if(!e||!n.isBuffer(e))throw new Error("first argument  must be a buffer");if(!t||!r.isCID(t))throw new Error("second argument must be a CID");this._data=e,this._cid=t}get data(){return this._data}set data(e){throw new Error("Tried to change an immutable block")}get cid(){return this._cid}set cid(e){throw new Error("Tried to change an immutable block")}},{className:"Block",symbolName:"@ipfs/js-ipfs-block/block"})}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"ipfs-block",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-block/src/index.js"}],[4442,{},function(){with(this)return function(){"use strict";return function(e,t,n){const r="GENESIS";class i{constructor(e,t){this._ipfs=e,this._content={id:`did:${t}:GENESIS`}}get DID(){if(this._content.id.includes(r))throw new Error("DID is not available before commit");return this._content.id}static async load(e,t){const n=new i(e);return n._content=await i.cidToDocument(e,t),n._content.previousDocument={"/":t.toString()},n}addPublicKey(e,t,n,r,i){this._content.publicKey||(this._content.publicKey=[]);let s={id:`${this._content.id}#${e}`,type:t};s[n]=r,i&&(s.owner=i),this._content.publicKey.push(s)}removePublicKey(e){const t=this._content.publicKey.findIndex((t=>t.id.endsWith(e)));this._content.publicKey.splice(t,1),this._content.publicKey.length||delete this._content.publicKey}addAuthentication(e,t){this._content.authentication||(this._content.authentication=[]),this._content.authentication.push({type:e,publicKey:`${this._content.id}#${t}`})}removeAuthentication(e){const t=this._content.authentication.findIndex((t=>t.publicKey.endsWith(e)));this._content.authentication.splice(t,1),this._content.authentication.length||delete this._content.authentication}addService(e,t,n,r){this._content.service||(this._content.service=[]),this._content.service.push(Object.assign({id:`${this._content.id};${e}`,type:t,serviceEndpoint:n},r))}removeService(e){const t=this._content.service.findIndex((t=>t.id.endsWith(e)));this._content.service.splice(t,1),this._content.service.length||delete this._content.service}setRevocationMethod(e){this._content.revocationMethod=e}addCustomProperty(e,t){this._content[e]=t}removeCustomProperty(e){delete this._content[e]}async commit(e={}){this._content.created?e.noTimestamp||(this._content.updated=new Date(Date.now()).toISOString()):(this._content["@context"]="https://w3id.org/did/v1",e.noTimestamp||(this._content.created=new Date(Date.now()).toISOString()));const t=await this._ipfs.dag.put(this._content,{format:"dag-cbor",hashAlg:"sha2-256"});return this._content=await i.cidToDocument(this._ipfs,t),this._content.previousDocument={"/":t.toString()},t}static async cidToDocument(e,t){let n=(await e.dag.get(t)).value;if(n.id.includes(r)){const e=new RegExp(r,"gi");n.id=n.id.replace(e,t),n.publicKey&&(n.publicKey=JSON.parse(JSON.stringify(n.publicKey).replace(e,t))),n.authentication&&(n.authentication=JSON.parse(JSON.stringify(n.authentication).replace(e,t))),n.service&&(n.service=JSON.parse(JSON.stringify(n.service).replace(e,t)))}return n.previousDocument&&(n.previousDocument={"/":n.previousDocument.toString()}),n}}t.exports=i}}},{package:"ipfs-did-document",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-did-document/index.js"}],[4443,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=(e,t,n)=>new Promise(((r,i)=>{if(n=Object.assign({concurrency:Infinity},n),"function"!=typeof t)throw new TypeError("Mapper function is required");const s=n.concurrency;if(!("number"==typeof s&&s>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${s}\` (${typeof s})`);const o=[],a=e[Symbol.iterator]();let u=!1,c=!1,l=0,f=0;const h=()=>{if(u)return;const e=a.next(),n=f;if(f++,e.done)return c=!0,void(0===l&&r(o));l++,Promise.resolve(e.value).then((e=>t(e,n))).then((e=>{o[n]=e,l--,h()}),(e=>{u=!0,i(e)}))};for(let e=0;e<s&&(h(),!c);e++);}))}}},{package:"p-map",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/node_modules/p-map/index.js"}],[4444,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=class{async canAppend(e,t){return!0}}}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/default-access-controller.js"}],[4445,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=class{constructor(e={}){this._cache=e}set(e,t){this._cache[e]=t}get(e){return this._cache[e]}delete(e){return delete this._cache[e]}add(e){this._cache=Object.assign(this._cache,e)}get length(){return Object.values(this._cache).length}}}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/entry-index.js"}],[4446,{"./entry":4447,"p-map":4443,"p-whilst":5372},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("p-whilst"),i=e("p-map"),s=e("./entry");class o{static async fetchParallel(e,t,{length:n=-1,exclude:r=[],concurrency:s=null,timeout:a,onProgressCallback:u}={}){const c=e=>e.hash,l=(e,t)=>{const n=e.map(c);return t.forEach((t=>{-1===n.indexOf(t.hash)&&e.push(t)})),e},f=Array.isArray(t)?t.slice():[t];s=Math.max(s||f.length,1);const h=await i(f,(t=>o.fetchAll(e,t,{length:n,exclude:r,timeout:a,onProgressCallback:u})),{concurrency:s});return h.reduce(l,[])}static async fetchAll(e,t,{length:n=-1,exclude:i=[],timeout:o=null,onProgressCallback:a}){let u=[],c={},l=Array.isArray(t)?t.slice():[t];const f=e=>l.push(e);(i=i&&Array.isArray(i)?i:[]).forEach((e=>{s.isEntry(e)&&(u.push(e),c[e.hash]=e)}));return await r((()=>l.length>0&&(u.length<n||n<0)),(()=>{const t=l.shift();return c[t]?Promise.resolve():new Promise((async(n,r)=>{const i=o?setTimeout((()=>{console.warn(`Warning: Couldn't fetch entry '${t}', request timed out (${o}ms)`),n()}),o):null;try{(e=>{s.isEntry(e)&&(e.next.forEach(f),u.push(e),c[t]=e,a&&a(t,e,u.length))})(await s.fromMultihash(e,t)),n()}catch(e){r(e)}finally{clearTimeout(i)}}))})),u}}t.exports=o}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/entry-io.js"}],[4447,{"./lamport-clock":4449,"./utils":4456,buffer:2081,"json-stringify-deterministic":4733},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("./lamport-clock"),{isDefined:i,io:s}=e("./utils"),o=e("json-stringify-deterministic"),a=["next"],u=()=>new Error("Ipfs instance not defined"),c={0:"dag-pb",1:"dag-cbor"};class l{static async create(e,t,n,s,o=[],a){if(!i(e))throw u();if(!i(t))throw new Error("Identity is required, cannot create entry");if(!i(n))throw new Error("Entry requires an id");if(!i(s))throw new Error("Entry requires data");if(!i(o)||!Array.isArray(o))throw new Error("'next' argument is not an array");const c={hash:null,id:n,payload:s,next:o.filter(i).map((e=>e.hash?e.hash:e)),v:1,clock:a||new r(t.publicKey)},f=await t.provider.sign(t,l.toBuffer(c));return c.key=t.publicKey,c.identity=t.toJSON(),c.sig=f,c.hash=await l.toMultihash(e,c),c}static async verify(e,t){if(!e)throw new Error("Identity-provider is required, cannot verify entry");if(!l.isEntry(t))throw new Error("Invalid Log entry");if(!t.key)throw new Error("Entry doesn't have a key");if(!t.sig)throw new Error("Entry doesn't have a signature");const n={hash:null,id:t.id,payload:t.payload,next:t.next,v:t.v,clock:t.clock};return e.verify(t.sig,t.key,l.toBuffer(n),"v"+t.v)}static toBuffer(e){const t=0===e.v?JSON.stringify(e):o(e);return n.from(t)}static async toMultihash(e,t){if(!e)throw u();if(!l.isEntry(t))throw new Error("Invalid object format, cannot generate entry hash");const n={hash:null,id:t.id,payload:t.payload,next:t.next,v:t.v,clock:t.clock};return t.key&&Object.assign(n,{key:t.key}),t.identity&&Object.assign(n,{identity:t.identity}),t.sig&&Object.assign(n,{sig:t.sig}),s.write(e,c[n.v],n,{links:a})}static async fromMultihash(e,t){if(!e)throw u();if(!t)throw new Error(`Invalid hash: ${t}`);const n=await s.read(e,t,{links:a});let i={hash:t,id:n.id,payload:n.payload,next:n.next,v:n.v,clock:new r(n.clock.id,n.clock.time)};return n.key&&Object.assign(i,{key:n.key}),n.identity&&Object.assign(i,{identity:n.identity}),n.sig&&Object.assign(i,{sig:n.sig}),i}static isEntry(e){return e&&e.id!==undefined&&e.next!==undefined&&e.payload!==undefined&&e.v!==undefined&&e.hash!==undefined&&e.clock!==undefined}static compare(e,t){var n=r.compare(e.clock,t.clock);return 0===n?e.clock.id<t.clock.id?-1:1:n}static isEqual(e,t){return e.hash===t.hash}static isParent(e,t){return t.next.indexOf(e.hash)>-1}static findChildren(e,t){for(var n=[],r=t.find((t=>l.isParent(e,t))),i=e;r;)n.push(r),i=r,r=t.find((e=>l.isParent(i,e)));return n=n.sort(((e,t)=>e.clock.time>t.clock.time))}}t.exports=l}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/entry.js"}],[4448,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=class{constructor(e){}append(e){}merge(e){}get(e){}has(e){}get values(){}get length(){}}}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/g-set.js"}],[4449,{},function(){with(this)return function(){"use strict";return function(e,t,n){class r{constructor(e,t){this.id=e,this.time=t||0}tick(){return new r(this.id,++this.time)}merge(e){return this.time=Math.max(this.time,e.time),new r(this.id,this.time)}clone(){return new r(this.id,this.time)}static compare(e,t){var n=e.time-t.time;return 0===n&&e.id!==t.id?e.id<t.id?-1:1:n}}t.exports=r}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/lamport-clock.js"}],[4450,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={IPFSNotDefinedError:()=>new Error("IPFS instance not defined"),LogNotDefinedError:()=>new Error("Log instance not defined"),NotALogError:()=>new Error("Given argument is not an instance of Log"),CannotJoinWithDifferentId:()=>new Error("Can't join logs with different IDs"),LtOrLteMustBeStringOrArray:()=>new Error("lt or lte must be a string or array of Entries")}}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/log-errors.js"}],[4451,{"./entry":4447,"./entry-io":4446,"./lamport-clock":4449,"./log-errors":4450,"./utils":4456},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./entry"),i=e("./entry-io"),s=e("./lamport-clock"),o=e("./log-errors"),{isDefined:a,findUniques:u,difference:c,io:l}=e("./utils"),f=["heads"];t.exports=class{static async toMultihash(e,t,{format:n}={}){if(!a(e))throw o.IPFSNotDefinedError();if(!a(t))throw o.LogNotDefinedError();if(a(n)||(n="dag-cbor"),t.values.length<1)throw new Error("Can't serialize an empty log");return l.write(e,n,t.toJSON(),{links:f})}static async fromMultihash(e,t,{length:n=-1,exclude:u,onProgressCallback:c,timeout:h}={}){if(!a(e))throw o.IPFSNotDefinedError();if(!a(t))throw new Error(`Invalid hash: ${t}`);const d=await l.read(e,t,{links:f});if(!d.heads||!d.id)throw o.NotALogError();const p=await i.fetchAll(e,d.heads,{length:n,exclude:u,onProgressCallback:c,timeout:h}),m=p.reduce(((e,t)=>t.clock.time>e.time?new s(t.clock.id,t.clock.time):e),new s(d.id)),g=p.slice().sort(r.compare),b=g.filter((e=>d.heads.includes(e.hash)));return{id:d.id,values:g,heads:b,clock:m}}static async fromEntryHash(e,t,{length:n=-1,exclude:r,onProgressCallback:s,timeout:u}){if(!a(e))throw o.IpfsNotDefinedError();if(!a(t))throw new Error("'hash' must be defined");const c=Array.isArray(t)?t:[t];n=n>-1?Math.max(n,1):n;const l=await i.fetchParallel(e,c,{length:n,exclude:r,onProgressCallback:s,timeout:u});var f,h;return{values:n>-1?(h=n,(f=l).slice(f.length-h,f.length)):l}}static async fromJSON(e,t,{length:n=-1,timeout:s,onProgressCallback:u}){if(!a(e))throw o.IPFSNotDefinedError();const c=t.heads.map((e=>e.hash)),l=(await i.fetchParallel(e,c,{length:n,exclude:[],concurrency:16,timeout:s,onProgressCallback:u})).slice().sort(r.compare);return{id:t.id,values:l,heads:t.heads}}static async fromEntry(e,t,{length:n=-1,exclude:s,onProgressCallback:l,timeout:f}){if(!a(e))throw o.IPFSNotDefinedError();if(!a(t))throw new Error("'sourceEntries' must be defined");if(!Array.isArray(t)&&!r.isEntry(t))throw new Error("'sourceEntries' argument must be an array of Entry instances or a single Entry");Array.isArray(t)||(t=[t]),n=n>-1?Math.max(n,t.length):n;const h=t.map((e=>e.hash)),d=await i.fetchParallel(e,h,{length:n,exclude:s,onProgressCallback:l,timeout:f}),p=t.concat(d),m=u(p,"hash").sort(r.compare),g=m.slice(n>-1?-n:-m.length),b=((e,t)=>{var n=e.slice(t.length,e.length);return t.concat(n)})(g,c(g,t,"hash"));return{id:b[b.length-1].id,values:b}}}}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/log-io.js"}],[4452,{"./lamport-clock":4449},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./lamport-clock");function i(e,t,n){const i=r.compare(e.clock,t.clock);return 0===i?n(e,t):i}function s(e,t,n){return e.clock.id===t.clock.id?n(e,t):e.clock.id<t.clock.id?-1:1}n.SortByClocks=i,n.SortByClockId=s,n.LastWriteWins=function(e,t){const n=(e,t)=>e,r=(e,t)=>s(e,t,n);return((e,t)=>i(e,t,r))(e,t)},n.SortByEntryHash=function(e,t){const n=(e,t)=>e.hash<t.hash?-1:1,r=(e,t)=>s(e,t,n);return((e,t)=>i(e,t,r))(e,t)},n.NoZeroes=function(e){const t=`Your log's tiebreaker function, ${e.name}, has returned zero and therefore cannot be`;return(n,r)=>{const i=e(n,r);if(0===i)throw Error(t);return i}}}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/log-sorting.js"}],[4453,{"./default-access-controller":4444,"./entry":4447,"./entry-index":4445,"./g-set":4448,"./lamport-clock":4449,"./log-errors":4450,"./log-io":4451,"./log-sorting":4452,"./utils":4456,buffer:2081,"p-each-series":5364},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("p-each-series"),i=e("./g-set"),s=e("./entry"),o=e("./log-io"),a=e("./log-errors"),u=e("./lamport-clock"),c=e("./log-sorting"),{LastWriteWins:l,NoZeroes:f}=c,h=e("./default-access-controller"),{isDefined:d,findUniques:p}=e("./utils"),m=e("./entry-index"),g=e=>e.hash,b=(e,t)=>e.concat(t),_=e=>e.next,w=(e,t)=>Math.max(e,t.clock.time),y=(e,t)=>(e[t.hash]=t,e);class k extends i{constructor(e,t,{logId:n,access:r,entries:i,heads:s,clock:o,sortFn:c}={}){if(!d(e))throw a.IPFSNotDefinedError();if(!d(t))throw new Error("Identity is required");if(d(r)||(r=new h),d(i)&&!Array.isArray(i))throw new Error("'entries' argument must be an array of Entry instances");if(d(s)&&!Array.isArray(s))throw new Error("'heads' argument must be an array");d(c)||(c=l),super(),this._sortFn=f(c),this._storage=e,this._id=n||(new Date).getTime().toString(),this._access=r,this._identity=t,i=i||[],this._entryIndex=new m(i.reduce(y,{})),s=s||k.findHeads(i),this._headsIndex=s.reduce(y,{}),this._nextsIndex={};i.forEach((e=>e.next.forEach((t=>this._nextsIndex[t]=e.hash)))),this._length=i.length;const p=Math.max(o?o.time:0,this.heads.reduce(w,0));this._clock=new u(this._identity.publicKey,p)}get id(){return this._id}get clock(){return this._clock}get length(){return this._length}get values(){return Object.values(this.traverse(this.heads)).reverse()}get heads(){return Object.values(this._headsIndex).sort(this._sortFn).reverse()}get tails(){return k.findTails(this.values)}get tailHashes(){return k.findTailHashes(this.values)}setIdentity(e){this._identity=e;const t=Math.max(this.clock.time,this.heads.reduce(w,0));this._clock=new u(this._identity.publicKey,t)}get(e){return this._entryIndex.get(e)}has(e){return this._entryIndex.get(e.hash||e)!==undefined}traverse(e,t=-1,n){var r=e.sort(this._sortFn).reverse();let i={},s={},o=0;const a=e=>this.get(e),u=e=>{e&&!i[e.hash]&&(r=[e,...r].sort(this._sortFn).reverse(),i[e.hash]=!0)};for(;r.length>0&&(-1===t||o<t);){const e=r.shift();if(o++,s[e.hash]=e,e.next.map(a).filter(d).forEach(u),e.hash===n)break}return s}async append(e,t=1){const n=Math.max(this.clock.time,this.heads.reduce(w,0))+1;this._clock=new u(this.clock.id,n);const r=this.traverse(this.heads,Math.max(t,this.heads.length)),i=this.heads.reverse().reduce(y,{}),o=Object.keys(Object.assign({},i,r)),a=await s.create(this._storage,this._identity,this.id,e,o,this.clock);if(!await this._access.canAppend(a,this._identity.provider))throw new Error(`Could not append entry, key "${this._identity.id}" is not allowed to write to the log`);return this._entryIndex.set(a.hash,a),o.forEach((e=>this._nextsIndex[e]=a.hash)),this._headsIndex={},this._headsIndex[a.hash]=a,this._length++,a}iterator({gt:e=undefined,gte:t=undefined,lt:n=undefined,lte:r=undefined,amount:i=-1}={}){if(0===i)return function*(){}();if("string"==typeof r&&(r=[this.get(r)]),"string"==typeof n&&(n=[this.get(this.get(n).next)]),r&&!Array.isArray(r))throw a.LtOrLteMustBeStringOrArray();if(n&&!Array.isArray(n))throw a.LtOrLteMustBeStringOrArray();let s=r||n||this.heads,o=t?this.get(t).hash:e?this.get(e).hash:null,u=o?-1:i||-1,c=this.traverse(s,u,o),l=Object.values(c);return e&&l.pop(),(e||t)&&i>-1&&(l=l.slice(l.length-i,l.length)),function*(){for(let e in l)yield l[e]}()}async join(e,t=-1){if(!d(e))throw a.LogNotDefinedError();if(!k.isLog(e))throw a.NotALogError();if(this.id!==e.id)return;const n=k.difference(e,this),i=this._identity.provider,o=async e=>{if(!await this._access.canAppend(e,i))throw new Error(`Could not append entry, key "${e.identity.id}" is not allowed to write to the log`)},c=Object.values(n);await r(c,(async e=>{await o(e),await(async e=>{const t=await s.verify(i,e),n=e.identity?e.identity.publicKey:e.key;if(!t)throw new Error(`Could not validate signature "${e.sig}" for entry "${e.hash}" and key "${n}"`)})(e)}));Object.values(n).forEach((e=>{this.get(e.hash)||this._length++,e.next.forEach((t=>this._nextsIndex[t]=e.hash))})),this._entryIndex.add(n);const l=Object.values(n).map(_).reduce(b,[]),f=k.findHeads(Object.values(Object.assign({},this._headsIndex,e._headsIndex))).filter((e=>!l.find((t=>t===e.hash)))).filter((e=>!this._nextsIndex[e.hash])).reduce(y,{});if(this._headsIndex=f,t>-1){let e=this.values;e=e.slice(-t),this._entryIndex=null,this._entryIndex=new m(e.reduce(y,{})),this._headsIndex=k.findHeads(e).reduce(y,{}),this._length=this._entryIndex.length}const h=Object.values(this._headsIndex).reduce(w,0);return this._clock=new u(this.clock.id,Math.max(this.clock.time,h)),this}toJSON(){return{id:this.id,heads:this.heads.sort(this._sortFn).reverse().map(g)}}toSnapshot(){return{id:this.id,heads:this.heads,values:this.values}}toBuffer(){return n.from(JSON.stringify(this.toJSON()))}toString(e){return this.values.slice().reverse().map(((t,n)=>{const r=s.findChildren(t,this.values).length;let i=new Array(Math.max(r-1,0));return i=r>1?i.fill("  "):i,i=r>0?i.concat(["ââ"]):i,i.join("")+(e?e(t.payload):t.payload)})).join("\n")}static isLog(e){return e.id!==undefined&&e.heads!==undefined&&e._entryIndex!==undefined}toMultihash({format:e}={}){return o.toMultihash(this._storage,this,{format:e})}static async fromMultihash(e,t,n,{access:r,length:i=-1,exclude:s,onProgressCallback:a,sortFn:c,timeout:l,format:f}={}){const h=await o.fromMultihash(e,n,{length:i,exclude:s,onProgressCallback:a,timeout:l,format:f});return new k(e,t,{logId:h.id,access:r,entries:h.values,heads:h.heads,clock:new u(h.clock.id,h.clock.time),sortFn:c})}static async fromEntryHash(e,t,n,{logId:r,access:i,length:s=-1,exclude:a,onProgressCallback:u,sortFn:c,timeout:l}){const f=await o.fromEntryHash(e,n,{length:s,exclude:a,onProgressCallback:u,timeout:l});return new k(e,t,{logId:r,access:i,entries:f.values,sortFn:c})}static async fromJSON(e,t,n,{access:r,length:i=-1,timeout:s,onProgressCallback:a,sortFn:u}={}){const c=await o.fromJSON(e,n,{length:i,timeout:s,onProgressCallback:a});return new k(e,t,{logId:c.id,access:r,entries:c.values,sortFn:u})}static async fromEntry(e,t,n,{access:r,length:i=-1,exclude:s,onProgressCallback:a,timeout:u,sortFn:c}={}){const l=await o.fromEntry(e,n,{length:i,exclude:s,onProgressCallback:a,timeout:u});return new k(e,t,{logId:l.id,access:r,entries:l.values,sortFn:c})}static findHeads(e){var t=e.reduce(((e,t,n,r)=>(t.next.forEach((n=>e[n]=t.hash)),e)),{});return e.filter((e=>t[e.hash]===undefined)).sort(((e,t)=>e.clock.id>t.clock.id))}static findTails(e){var t={},n=[],r={},i=[];e.forEach((e=>{0===e.next.length&&n.push(e);e.next.forEach((n=>{t[n]||(t[n]=[]),t[n].push(e)})),i=i.concat(e.next),r[e.hash]=!0}));const o=i.filter((e=>r[e]===undefined)).map((e=>t[e])).reduce(((e,t,n,r)=>e.concat(p(t,"hash"))),[]).concat(n);return p(o,"hash").sort(s.compare)}static findTailHashes(e){var t={};return e.forEach((e=>t[e.hash]=!0)),e.reduce(((e,n,r,i)=>(n.next.reverse().forEach((n=>{t[n]===undefined&&e.splice(0,0,n)})),e)),[])}static difference(e,t){let n=Object.keys(e._headsIndex),r={},i={};const s=e=>{r[e]||t.get(e)||(n.push(e),r[e]=!0)};for(;n.length>0;){const o=n.shift(),a=e.get(o);a&&!t.get(o)&&a.id===t.id&&(i[a.hash]=a,r[a.hash]=!0,a.next.forEach(s))}return i}}t.exports=k,t.exports.Sorting=c,t.exports.AccessController=h}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/log.js"}],[4454,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){var r={},i={};return e.forEach((e=>i[n?e[n]:e]=!0)),t.reduce(((e,t)=>{var s=i[n?t[n]:t]!==undefined,o=r[n?t[n]:t]!==undefined;return s||o||(e.push(t),r[n?t[n]:t]=!0),e}),[])}}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/utils/difference.js"}],[4455,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){let n={};return e.forEach((e=>n[t?e[t]:e]=e)),Object.keys(n).map((e=>n[e]))}}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/utils/find-uniques.js"}],[4456,{"./difference":4454,"./find-uniques":4455,"./is-defined":4457,"orbit-db-io":5336},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./difference"),i=e("./find-uniques"),s=e("./is-defined"),o=e("orbit-db-io");t.exports={difference:r,findUniques:i,isDefined:s,io:o}}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/utils/index.js"}],[4457,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e=>e!==undefined&&null!==e}}},{package:"ipfs-log",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-log/src/utils/is-defined.js"}],[4458,{"./src/core":4461},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("./src/core")}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/core.js"}],[4459,{"./mkdir":4463,"./utils/add-link":4468,"./utils/apply-default-options":4469,"./utils/to-mfs-path":4476,"./utils/to-sources-and-destination":4478,"./utils/to-trail":4480,"./utils/update-mfs-root":4481,"./utils/update-tree":4482,debug:2253,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./mkdir"),i=e("debug")("ipfs:mfs:cp"),s=e("err-code"),o=e("./utils/update-tree"),a=e("./utils/update-mfs-root"),u=e("./utils/add-link"),c=e("./utils/apply-default-options"),l=e("./utils/to-mfs-path"),f=e("./utils/to-sources-and-destination"),h=e("./utils/to-trail"),d={parents:!1,flush:!0,format:"dag-pb",hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3};t.exports=e=>async function(...t){const n=c(t,d);let{sources:o,destination:a}=await f(e,t);if(!o.length)throw s(new Error("Please supply at least one source"),"ERR_INVALID_PARAMS");if(!a)throw s(new Error("Please supply a destination"),"ERR_INVALID_PARAMS");n.parents=n.p||n.parents;const u=o.find((e=>!e.exists));if(u)throw s(new Error(`${u.path} does not exist`),"ERR_INVALID_PARAMS");const b=p(a);if(a.exists){if(i("Destination exists"),1===o.length&&!b)throw s(new Error("directory already has entry by that name"),"ERR_ALREADY_EXISTS")}else if(i("Destination does not exist"),o.length>1){if(!n.parents)throw s(new Error("destination did not exist, pass -p to create intermediate directories"),"ERR_INVALID_PARAMS");await r(e)(a.path,n),a=await l(e,a.path)}const _=p(a)?a.mfsPath:a.mfsDirectory,w=await h(e,_,n);if(1===o.length){const t=o.pop(),r=b?t.name:a.name;return i(`Only one source, copying to destination ${b?"directory":"file"} ${r}`),m(e,t,r,w,n)}return i("Multiple sources, wrapping in a directory"),g(e,o,a,w,n)};const p=e=>e.unixfs&&e.unixfs.type&&e.unixfs.type.includes("directory"),m=async(e,t,n,r,i)=>{let s=r.pop();s=await b(e,t,n,s,i),r.push(s);const u=await o(e,r,i);await a(e,u)},g=async(e,t,n,r,i)=>{for(let r=0;r<t.length;r++){const s=t[r];n=await b(e,s,s.name,n,i)}r[r.length-1]=n;const s=await o(e,r,i);await a(e,s)},b=async(e,t,n,r,i)=>{const s=await e.repo.blocks.get(t.cid),{node:o,cid:a}=await u(e,{parentCid:r.cid,size:s.data.length,cid:t.cid,name:n,format:i.format,hashAlg:i.hashAlg,cidVersion:i.cidVersion});return r.node=o,r.cid=a,r.size=o.size,r}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/cp.js"}],[4460,{"./stat":4467,"./utils/apply-default-options":4469,"./utils/constants":4470},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./utils/apply-default-options"),i=e("./stat"),{FILE_SEPARATOR:s}=e("./utils/constants"),o={};t.exports=e=>async function(t=s,n=o){n=r(n,o),await i(e)(t,n)}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/flush.js"}],[4461,{"./cp":4459,"./flush":4460,"./ls":4462,"./mkdir":4463,"./mv":4464,"./read":4465,"./rm":4466,"./stat":4467,"./utils/create-lock":4471,"./write":4484,assert:1700,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("assert"),i=e("promisify-es6"),s=e("./utils/create-lock"),o={stat:e("./stat")},a={cp:e("./cp"),flush:e("./flush"),mkdir:e("./mkdir"),mv:e("./mv"),rm:e("./rm")},u={write:e("./write"),read:e("./read"),ls:e("./ls")},c=({options:e,mfs:t,operations:n,lock:r})=>{Object.keys(n).forEach((i=>{t[i]=r(n[i](e))}))},l={repoOwner:!0,ipld:null,repo:null};t.exports=e=>{const{repoOwner:t}=Object.assign({},l||{},e);r(e.ipld,"MFS requires an IPLD instance"),r(e.blocks,"MFS requires an BlockStore instance"),r(e.datastore,"MFS requires a DataStore instance"),e.repo={blocks:{get:i(e.blocks.get,{context:e.blocks})},datastore:{open:i(e.datastore.open,{context:e.datastore}),get:i(e.datastore.get,{context:e.datastore}),put:i(e.datastore.put,{context:e.datastore})}};const n=s(t),f={};return c({options:e,mfs:f,operations:o,lock:e=>n.readLock(e)}),c({options:e,mfs:f,operations:a,lock:e=>n.writeLock(e)}),Object.keys(u).forEach((t=>{f[t]=u[t](e)})),f}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/index.js"}],[4462,{"./utils/apply-default-options":4469,"./utils/constants":4470,"./utils/to-mfs-path":4476,"ipfs-unixfs-exporter":4508},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-unixfs-exporter"),i=e("./utils/apply-default-options"),s=e("./utils/to-mfs-path"),{FILE_SEPARATOR:o,FILE_TYPES:a}=e("./utils/constants"),u={},c=e=>{let t=0,n=e.node.size||e.node.length;return e.unixfs&&(n=e.unixfs.fileSize(),t=a[e.unixfs.type]),{cid:e.cid,name:e.name,type:t,size:n}};t.exports=e=>async function*(t=o,n={}){"object"!=typeof t||t instanceof String||(n=t,t=o),n=i(n,u);const a=await s(e,t),l=await r(a.mfsPath,e.ipld);if(l.unixfs&&l.unixfs.type.includes("directory"))for await(const e of l.content(n))yield c(e);else yield c(l)}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/ls.js"}],[4463,{"./utils/add-link":4468,"./utils/apply-default-options":4469,"./utils/constants":4470,"./utils/create-node":4472,"./utils/to-path-components":4477,"./utils/update-mfs-root":4481,"./utils/update-tree":4482,"./utils/with-mfs-root":4483,debug:2253,"err-code":2355,"ipfs-unixfs-exporter":4508},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code"),i=e("debug")("ipfs:mfs:mkdir"),s=e("ipfs-unixfs-exporter"),o=e("./utils/create-node"),a=e("./utils/to-path-components"),u=e("./utils/update-mfs-root"),c=e("./utils/update-tree"),l=e("./utils/add-link"),f=e("./utils/with-mfs-root"),h=e("./utils/apply-default-options"),{FILE_SEPARATOR:d}=e("./utils/constants"),p={parents:!1,hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3,format:"dag-pb",flush:!0};t.exports=e=>async function(t,n){if(n=h(n,p),!t)throw new Error("no path given to Mkdir");if((t=t.trim())===d){if(n.parents)return;throw r(new Error(`cannot create directory '${d}': Already exists`),"ERR_INVALID_PATH")}if(t.substring(0,1)!==d)throw r(new Error("paths must start with a leading /"),"ERR_INVALID_PATH");i(`Creating ${t}`);const l=a(t);if("ipfs"===l[0])throw r(new Error("path cannot have the prefix 'ipfs'"),"ERR_INVALID_PATH");let g,b=await f(e),_=[];const w=await o(e,"directory",n);for(let t=0;t<=l.length;t++){const o=l.slice(0,t),a=`/ipfs/${b}/${o.join("/")}`;try{if(g=await s(a,e.ipld),i(`${a} existed`),i(`${a} had children ${g.node.Links.map((e=>e.Name))}`),t===l.length){if(n.parents)return;throw r(new Error("file already exists"),"ERR_ALREADY_EXISTS")}_.push({name:g.name,cid:g.cid})}catch(i){if("ERR_NOT_FOUND"!==i.code)throw i;if(t<l.length&&!n.parents)throw r(new Error(`Intermediate directory path ${a} does not exist, use the -p flag to create it`),"ERR_NOT_FOUND");await m(e,o[o.length-1],w,_[_.length-1],_,n)}}const y=await c(e,_,n);await u(e,y)};const m=async(e,t,n,r,s,o)=>{i(`Adding empty dir called ${t} to ${r.cid}`);const a=await l(e,{parent:r.node,parentCid:r.cid,size:n.node.size,cid:n.cid,name:t,format:o.format,hashAlg:o.hashAlg,cidVersion:o.cidVersion});s[s.length-1].cid=a.cid,s.push({name:t,cid:n.cid})}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/mkdir.js"}],[4464,{"./cp":4459,"./rm":4466,"./utils/apply-default-options":4469,"./utils/to-sources":4479},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./utils/apply-default-options"),i=e("./utils/to-sources"),s=e("./cp"),o=e("./rm"),a={parents:!1,recursive:!1,flush:!0,format:"dag-pb",hashAlg:"sha2-256",shardSplitThreshold:1e3};t.exports=e=>async function(...t){Array.isArray(t[0])&&(t=t[0].concat(t.slice(1)));const{sources:n}=await i(e,t),u=r(t,a),c=n.map((e=>e.path)).concat(u),l=n.slice(0,-1).map((e=>e.path)).concat(Object.assign(u,{recursive:!0}));await s(e).apply(null,c),await o(e).apply(null,l)}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/mv.js"}],[4465,{"./utils/apply-default-options":4469,"./utils/to-mfs-path":4476,"err-code":2355,"ipfs-unixfs-exporter":4508},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-unixfs-exporter"),i=e("./utils/apply-default-options"),s=e("./utils/to-mfs-path"),o=e("err-code"),a={offset:0,length:Infinity};t.exports=e=>function(t,n={}){return n=i(n,a),{[Symbol.asyncIterator]:async function*(){const i=await s(e,t),a=await r(i.mfsPath,e.ipld);if("file"!==a.unixfs.type)throw o(new Error(`${t} was not a file`),"ERR_NOT_FILE");if(!a.content)throw o(new Error(`Could not load content stream from ${t}`),"ERR_NO_CONTENT");for await(const e of a.content({offset:n.offset,length:n.length}))yield e}}}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/read.js"}],[4466,{"./utils/apply-default-options":4469,"./utils/constants":4470,"./utils/remove-link":4474,"./utils/to-mfs-path":4476,"./utils/to-sources":4479,"./utils/to-trail":4480,"./utils/update-mfs-root":4481,"./utils/update-tree":4482,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code"),i=e("./utils/update-tree"),s=e("./utils/update-mfs-root"),o=e("./utils/to-sources"),a=e("./utils/remove-link"),u=e("./utils/to-mfs-path"),c=e("./utils/to-trail"),l=e("./utils/apply-default-options"),{FILE_SEPARATOR:f}=e("./utils/constants"),h={recursive:!1,cidVersion:0,hashAlg:"sha2-256",format:"dag-pb",flush:!0};t.exports=e=>async function(){const t=Array.from(arguments),{sources:n}=await o(e,t,h),i=l(t,h);if(!n.length)throw r(new Error("Please supply at least one path to remove"),"ERR_INVALID_PARAMS");n.forEach((e=>{if(e.path===f)throw r(new Error("Cannot delete root"),"ERR_INVALID_PARAMS")}));for(const t of n)await d(e,t.path,i)};const d=async(e,t,n)=>{const o=await u(e,t),l=await c(e,o.mfsPath,n),f=l.pop(),h=l[l.length-1];if(!h)throw r(new Error(`${t} does not exist`),"ERR_NOT_FOUND");if("directory"===f.type&&!n.recursive)throw r(new Error(`${t} is a directory, use -r to remove directories`),"ERR_WAS_DIR");const{cid:d}=await a(e,{parentCid:h.cid,name:f.name,format:n.format,hashAlg:n.hashAlg,cidVersion:n.cidVersion,flush:n.flush});h.cid=d;const p=await i(e,l,n);await s(e,p)}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/rm.js"}],[4467,{"./utils/apply-default-options":4469,"./utils/to-mfs-path":4476,debug:2253,"err-code":2355,"ipfs-unixfs-exporter":4508},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./utils/apply-default-options"),i=e("./utils/to-mfs-path"),s=e("ipfs-unixfs-exporter"),o=e("debug")("ipfs:mfs:stat"),a=e("err-code"),u={withLocal:!1};t.exports=e=>async function(t,n){n=r(n,u),o(`Fetching stats for ${t}`);const{type:l,cid:f,mfsPath:h}=await i(e,t);let d,p="ipfs"===l&&f?f:h;try{d=await s(p,e.ipld)}catch(e){if("ERR_NOT_FOUND"===e.code)throw a(new Error(`${t} does not exist`),"ERR_NOT_FOUND");throw e}if(!c[d.cid.codec])throw new Error(`Cannot stat codec ${d.cid.codec}`);return c[d.cid.codec](d,n)};const c={raw:e=>({cid:e.cid,size:e.node.length,cumulativeSize:e.node.length,blocks:0,type:"file",local:undefined,sizeLocal:undefined,withLocality:!1}),"dag-pb":e=>{let t=e.node.Links.length,n=e.node.size,r=e.node.size,i=null;return e.unixfs&&(n=e.unixfs.fileSize(),i=e.unixfs.type,i.includes("directory")&&(n=0,r=e.node.size),"file"===i&&(t=e.unixfs.blockSizes.length)),{cid:e.cid,size:n,cumulativeSize:r,blocks:t,type:i,local:undefined,sizeLocal:undefined,withLocality:!1}},"dag-cbor":e=>({cid:e.cid,local:undefined,sizeLocal:undefined,withLocality:!1})}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/stat.js"}],[4468,{"./hamt-utils":4473,"async-iterator-last":1707,cids:2119,debug:2253,"err-code":2355,"ipfs-unixfs":4537,"ipfs-unixfs-importer/src/dir-sharded":4530,"ipld-dag-pb":4674,multicodec:5219,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){const{DAGNode:r,DAGLink:i}=e("ipld-dag-pb"),s=e("cids"),o=e("debug")("ipfs:mfs:core:utils:add-link"),a=e("ipfs-unixfs"),u=e("ipfs-unixfs-importer/src/dir-sharded"),{updateHamtDirectory:c,recreateHamtLevel:l,createShard:f,toPrefix:h,addLinksToHamtBucket:d}=e("./hamt-utils"),p=e("err-code"),m=e("multicodec"),g=e("multihashes"),b=e("async-iterator-last"),_=async(e,t)=>{const n=await f(e,t.parent.Links.map((e=>({name:e.Name,size:e.Tsize,cid:e.Hash}))).concat({name:t.name,size:t.size,cid:t.cid}),t);return o(`Converted directory to sharded directory ${n.cid}`),n},w=async(e,t)=>{let n=await r.rmLink(t.parent,t.name);n=await r.addLink(n,new i(t.name,t.size,t.cid));const s=m[t.format.toUpperCase().replace(/-/g,"_")],o=g.names[t.hashAlg];return{node:n,cid:await e.ipld.put(n,s,{cidVersion:t.cidVersion,hashAlg:o,hashOnly:!t.flush})}},y=async(e,t)=>{const{shard:n,path:i}=await k(e,t),s=await b(n.flush("",e.ipld)),o=t.parent.Links.find((e=>e.Name.substring(0,2)===i[0].prefix)),a=s.node.Links.find((e=>e.Name.substring(0,2)===i[0].prefix));let u=t.parent;return o&&(u=await r.rmLink(t.parent,o.Name)),u=await r.addLink(u,a),c(e,u.Links,i[0].bucket,t)},k=async(e,t)=>{const n={name:t.name,cid:t.cid,size:t.size},r=await l(t.parent.Links),i=new u({root:!0,dir:!0,parent:null,parentKey:null,path:"",dirty:!0,flat:!1},t);i._bucket=r;const s=await r._findNewBucketAndPos(n.name),a=v(s);a[0].node=t.parent;let c=0;for(;c<a.length;){let t=a[c];c++;let i=t.node.Links.find((e=>e.Name.substring(0,2)===t.prefix));if(!i){o(`Link ${t.prefix}${n.name} will be added`),c=a.length;break}if(i.Name===`${t.prefix}${n.name}`){o(`Link ${t.prefix}${n.name} will be replaced`),c=a.length;break}if(i.Name.length>2){o(`Link ${i.Name} will be replaced with a subshard`),c=a.length;break}o(`Found subshard ${t.prefix}`);const s=await e.ipld.get(i.Hash);if(!a[c]){o(`Loaded new subshard ${t.prefix}`),await l(s.Links,r,t.bucket,parseInt(t.prefix,16));const e=await r._findNewBucketAndPos(n.name);a.push({bucket:e.bucket,prefix:h(e.pos),node:s});break}const u=a[c];await d(s.Links,u.bucket,r),u.node=s}return await i._bucket.put(n.name,{size:n.size,cid:n.cid}),{shard:i,path:a}},v=e=>{let t=e.bucket,n=e.pos,r=[{bucket:t,prefix:h(n)}];for(t=e.bucket._parent,n=e.bucket._posAtParent;t;)r.push({bucket:t,prefix:h(n)}),n=t._posAtParent,t=t._parent;return r.reverse(),r};t.exports=async(e,t)=>{if(!t.parentCid&&!t.parent)throw p(new Error("No parent node or CID passed to addLink"),"EINVALIDPARENT");if(t.parentCid&&!s.isCID(t.parentCid))throw p(new Error("Invalid CID passed to addLink"),"EINVALIDPARENTCID");if(t.parent||(o(`Loading parent node ${t.parentCid}`),t.parent=await e.ipld.get(t.parentCid)),!t.cid)throw p(new Error("No child cid passed to addLink"),"EINVALIDCHILDCID");if(!t.name)throw p(new Error("No child name passed to addLink"),"EINVALIDCHILDNAME");if(s.isCID(t.cid)||(t.cid=new s(t.cid)),!t.size&&0!==t.size)throw p(new Error("No child size passed to addLink"),"EINVALIDCHILDSIZE");return"hamt-sharded-directory"===a.unmarshal(t.parent.Data).type?(o("Adding link to sharded directory"),y(e,t)):t.parent.Links.length>=t.shardSplitThreshold?(o("Converting directory to sharded directory"),_(e,t)):(o(`Adding ${t.name} (${t.cid}) to regular directory`),w(e,t))}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/add-link.js"}],[4469,{"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code");t.exports=(e={},t)=>{Array.isArray(e)&&(e=e.filter((e=>"object"==typeof e)).pop()||{});const n={};for(let r in t)null!==e[r]&&e[r]!==undefined?n[r]=e[r]:n[r]=t[r];const i=n.format||n.codec;if(i&&isNaN(i)&&(n.format=i,delete n.codec),e.count!==undefined&&(n.length=e.count),e.p!==undefined&&(n.parents=e.p),e.l!==undefined&&(n.long=e.l),n.length||0===n.length||(n.length=Infinity),n.offset<0)throw r(new Error("cannot have negative write offset"),"ERR_INVALID_PARAMS");if(n.length<0)throw r(new Error("cannot have negative byte count"),"ERR_INVALID_PARAMS");return n}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/apply-default-options.js"}],[4470,{"interface-datastore":4411},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("interface-datastore").Key;t.exports={FILE_SEPARATOR:"/",MFS_ROOT_KEY:new r("/local/filesroot"),MAX_CHUNK_SIZE:262144,MAX_LINKS:174,FILE_TYPES:{file:0,directory:1,"hamt-sharded-directory":1}}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/constants.js"}],[4471,{mortice:5201},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("mortice");let i;t.exports=e=>{if(i)return i;const t=r({singleProcess:e});return i={readLock:e=>(...n)=>t.readLock((()=>e.apply(null,n))),writeLock:e=>(...n)=>t.writeLock((()=>e.apply(null,n)))},i}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/create-lock.js"}],[4472,{"ipfs-unixfs":4537,"ipld-dag-pb":4674,multicodec:5219,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-unixfs"),{DAGNode:i}=e("ipld-dag-pb"),s=e("multicodec"),o=e("multihashes");t.exports=async(e,t,n)=>{const a=s[n.format.toUpperCase().replace(/-/g,"_")],u=o.names[n.hashAlg],c=i.create(new r(t).marshal());return{cid:await e.ipld.put(c,a,{cidVersion:n.cidVersion,hashAlg:u}),node:c}}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/create-node.js"}],[4473,{"async-iterator-last":1707,buffer:2081,debug:2253,"hamt-sharding/src/bucket":4351,"ipfs-unixfs":4537,"ipfs-unixfs-importer/src/dir-sharded":4530,"ipld-dag-pb":4674,multicodec:5219,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const{DAGNode:r}=e("ipld-dag-pb"),i=e("hamt-sharding/src/bucket"),s=e("ipfs-unixfs-importer/src/dir-sharded"),o=e("debug")("ipfs:mfs:core:utils:hamt-utils"),a=e("ipfs-unixfs"),u=e("multicodec"),c=e("multihashes"),l=e("async-iterator-last"),f=async(e,t,n,r)=>{const o=new i({hashFn:s.hashFn,hash:n?n._options.hash:undefined},n,r);return n&&n._putObjectAt(r,o),await h(e,o,t),o},h=async(e,t,n)=>{await Promise.all(e.map((e=>{if(2===e.Name.length){const n=parseInt(e.Name,16);return t._putObjectAt(n,new i({hashFn:s.hashFn},t,n)),Promise.resolve()}return(n||t).put(e.Name.substring(2),{size:e.TSize,cid:e.Hash})})))},d=e=>e.toString("16").toUpperCase().padStart(2,"0").substring(0,2);t.exports={generatePath:async(e,t,n)=>{const r=await f(n.Links,null,null,null),i=await r._findNewBucketAndPos(t);let s=[{bucket:i.bucket,prefix:d(i.pos)}],a=i.bucket;for(;a!==r;)s.push({bucket:a,prefix:d(a._posAtParent)}),a=a._parent;s.reverse(),s[0].node=n;for(let n=0;n<s.length;n++){const i=s[n],a=i.node.Links.filter((e=>e.Name.substring(0,2)===i.prefix)).pop();if(!a){o(`Link ${i.prefix}${t} will be added`);continue}if(a.Name===`${i.prefix}${t}`){o(`Link ${i.prefix}${t} will be replaced`);continue}o(`Found subshard ${i.prefix}`);const u=await e.ipld.get(a.Hash);if(!s[n+1]){o(`Loaded new subshard ${i.prefix}`),await f(u.Links,r,i.bucket,parseInt(i.prefix,16));const e=await r._findNewBucketAndPos(t);s.push({bucket:e.bucket,prefix:d(e.pos),node:u});continue}const c=s[n+1];await h(u.Links,c.bucket,r),c.node=u}return await r.put(t,!0),s.reverse(),{rootBucket:r,path:s}},updateHamtDirectory:async(e,t,i,o)=>{const l=n.from(i._children.bitField().reverse()),f=new a("hamt-sharded-directory",l);f.fanout=i.tableSize(),f.hashType=s.hashFn.code;const h=u[o.format.toUpperCase().replace(/-/g,"_")],d=c.names[o.hashAlg],p=r.create(f.marshal(),t);return{node:p,cid:await e.ipld.put(p,h,{cidVersion:o.cidVersion,hashAlg:d,hashOnly:!o.flush})}},recreateHamtLevel:f,addLinksToHamtBucket:h,toPrefix:d,createShard:async(e,t,n)=>{const r=new s({root:!0,dir:!0,parent:null,parentKey:null,path:"",dirty:!0,flat:!1},n);for(let e=0;e<t.length;e++)await r._bucket.put(t[e].name,{size:t[e].size,cid:t[e].cid});return l(r.flush("",e.ipld,null))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/hamt-utils.js"}],[4474,{"./hamt-utils":4473,cids:2119,debug:2253,"err-code":2355,"ipfs-unixfs":4537,"ipld-dag-pb":4674,multicodec:5219,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){const{DAGNode:r,DAGLink:i}=e("ipld-dag-pb"),s=e("cids"),o=e("debug")("ipfs:mfs:core:utils:remove-link"),a=e("ipfs-unixfs"),{generatePath:u,updateHamtDirectory:c}=e("./hamt-utils"),l=e("err-code"),f=e("multicodec"),h=e("multihashes"),d=async(e,t)=>{const n=f[t.format.toUpperCase().replace(/-/g,"_")],i=h.names[t.hashAlg],s=await r.rmLink(t.parent,t.name),a=await e.ipld.put(s,n,{cidVersion:t.cidVersion,hashAlg:i});return o(`Updated regular directory ${a}`),{node:s,cid:a}},p=async(e,t)=>{const{rootBucket:n,path:r}=await u(e,t.name,t.parent);await n.del(t.name);const{node:i}=await m(e,r,{name:t.name,cid:t.cid,size:t.size,hashAlg:t.hashAlg,format:t.format,cidVersion:t.cidVersion,flush:t.flush},t);return c(e,i.Links,n,t)},m=async(e,t,n,i)=>{const{bucket:s,prefix:a,node:u}=t.pop(),f=u.Links.find((e=>e.Name.substring(0,2)===a));if(!f)throw l(new Error(`No link found with prefix ${a} for file ${n.name}`),"ERR_NOT_FOUND");if(f.Name===`${a}${n.name}`){o(`Removing existing link ${f.Name}`);const t=await r.rmLink(u,f.Name);return await s.del(n.name),c(e,t.Links,s,i)}o(`Descending into sub-shard ${f.Name} for ${a}${n.name}`);const h=await m(e,t,n,i);let d=a;1===h.node.Links.length&&(o(`Removing subshard for ${a}`),h.cid=h.node.Links[0].Hash,h.node=h.node.Links[0],d=`${a}${h.node.Name.substring(2)}`),o(`Updating shard ${a} with name ${d}`);const p=r.isDAGNode(h.node)?h.node.size:h.node.Tsize;return g(e,s,u,a,d,p,h.cid,i)},g=async(e,t,n,s,o,a,u,l)=>(n=await r.rmLink(n,s),n=await r.addLink(n,new i(o,a,u)),c(e,n.Links,t,l));t.exports=async(e,t)=>{if(!t.parentCid&&!t.parent)throw l(new Error("No parent node or CID passed to removeLink"),"EINVALIDPARENT");if(t.parentCid&&!s.isCID(t.parentCid))throw l(new Error("Invalid CID passed to removeLink"),"EINVALIDPARENTCID");if(t.parent||(o(`Loading parent node ${t.parentCid}`),t.parent=await e.ipld.get(t.parentCid)),!t.name)throw l(new Error("No child name passed to removeLink"),"EINVALIDCHILDNAME");return"hamt-sharded-directory"===a.unmarshal(t.parent.Data).type?(o(`Removing ${t.name} from sharded directory`),p(e,t)):(o(`Removing link ${t.name} regular directory`),d(e,t))}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/remove-link.js"}],[4475,{"./constants":4470,buffer:2081,debug:2253,"err-code":2355,fs:2080},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("err-code"),i=e("fs"),s=e("debug")("ipfs:mfs:utils:to-async-iterator"),{MAX_CHUNK_SIZE:o}=e("./constants");t.exports=async e=>{if(!e)throw r(new Error("paths must start with a leading /"),"ERR_INVALID_PATH");if("string"==typeof e||e instanceof String)return s("Content was a path"),i.createReadStream(e);if(e.length)return s("Content was array-like"),{[Symbol.asyncIterator]:async function*(){yield e}};if(e[Symbol.asyncIterator])return s("Content was an async iterator"),e;if(e[Symbol.iterator])return s("Content was an iterator"),e;if(global.Blob&&e instanceof global.Blob){s("Content was an HTML5 Blob");let t=0;const r={next:async()=>t>e.size?{done:!0}:new Promise(((r,i)=>{const s=e.slice(t,o);t+=o;const a=new global.FileReader,u=e=>{if(a.removeEventListener("loadend",u,!1),e.error)return i(e.error);r({done:!1,value:n.from(a.result)})};a.addEventListener("loadend",u),a.readAsArrayBuffer(s)}))};return{[Symbol.asyncIterator]:()=>r}}throw r(new Error(`Don't know how to convert ${e} into an async iterator`),"ERR_INVALID_PARAMS")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-async-iterator.js"}],[4476,{"./constants":4470,"./to-path-components":4477,"./with-mfs-root":4483,"err-code":2355,"ipfs-unixfs-exporter":4508},function(){with(this)return function(){"use strict";return function(e,t,n){const{FILE_SEPARATOR:r}=e("./constants"),i=e("./with-mfs-root"),s=e("./to-path-components"),o=e("ipfs-unixfs-exporter"),a=e("err-code"),u="ipfs";t.exports=async(e,t)=>{let n=Array.isArray(t),c=Array.isArray(t)?t:[t];const l=await i(e);return c=c.map((e=>{if((e=(e=(e||"").trim()).replace(/(\/\/+)/g,"/")).endsWith("/")&&e.length>1&&(e=e.substring(0,e.length-1)),!e)throw a(new Error("paths must not be empty"),"ERR_NO_PATH");if(e.substring(0,1)!==r)throw a(new Error(`paths must start with a leading ${r}`),"ERR_INVALID_PATH");e.substring(e.length-r.length)===r&&(e=e.substring(0,e.length-r.length));const t=s(e);if(t[0]===u){let e;return e=2===t.length?`${r}${t.join(r)}`:`${r}${t.slice(0,t.length-1).join(r)}`,{type:"ipfs",depth:t.length-2,mfsPath:`${r}${t.join(r)}`,mfsDirectory:e,parts:t,path:`${r}${t.join(r)}`,name:t[t.length-1]}}const n=`/ipfs/${l}${t.length?"/"+t.join(r):""}`,i=`/ipfs/${l}/${t.slice(0,t.length-1).join(r)}`;return{type:"mfs",depth:t.length,mfsDirectory:i,mfsPath:n,parts:t,path:`${r}${t.join(r)}`,name:t[t.length-1]}})),await Promise.all(c.map((async t=>{const n="mfs"===t.type?t.mfsPath:t.path;try{const r=await o(n,e.ipld);t.cid=r.cid,t.mfsPath=`/ipfs/${r.path}`,t.unixfs=r.unixfs,t.content=r.content}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}t.exists=Boolean(t.cid)}))),n?c:c[0]}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-mfs-path.js"}],[4477,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=(e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-path-components.js"}],[4478,{"./to-sources":4479},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./to-sources");t.exports=async function(e,t){const{sources:n,options:i}=await r(e,t);return{destination:n.pop(),sources:n,options:i}}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-sources-and-destination.js"}],[4479,{"./to-mfs-path":4476},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./to-mfs-path");t.exports=async function(e,t){Array.isArray(t[0])&&(t=t[0]);const n=t.filter((e=>"string"==typeof e)).map((e=>e.trim()));return{sources:await r(e,n)}}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-sources.js"}],[4480,{debug:2253,"ipfs-unixfs-exporter":4508},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-unixfs-exporter"),i=e("debug")("ipfs:mfs:utils:to-trail");t.exports=async(e,t)=>{i(`Creating trail for path ${t}`);const n=[];for await(const i of r.path(t,e.ipld))n.push({name:i.name,cid:i.cid,size:i.node.size,type:i.unixfs?i.unixfs.type:undefined});return n}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-trail.js"}],[4481,{"./constants":4470,debug:2253},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug")("ipfs:mfs:utils:update-mfs-root"),{MFS_ROOT_KEY:i}=e("./constants");t.exports=async(e,t)=>(r(`New MFS root will be ${t}`),await e.repo.datastore.put(i,t.buffer),t)}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/update-mfs-root.js"}],[4482,{"./add-link":4468,debug:2253},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug")("ipfs:mfs:utils:update-tree"),i=e("./add-link"),s={shardSplitThreshold:1e3};t.exports=async(e,t,n)=>{n=Object.assign({},s,n),r("Trail",t),t=t.slice().reverse();let o,a=0;for await(const r of e.ipld.getMany(t.map((e=>e.cid)))){const s=t[a].cid,u=t[a].name;if(a++,!o){o={cid:s,name:u,size:r.size};continue}const c=await i(e,{parent:r,name:o.name,cid:o.cid,size:o.size,flush:n.flush,shardSplitThreshold:n.shardSplitThreshold,format:n.format,hashAlg:n.hashAlg,cidVersion:n.cidVersion});o={cid:c.cid,name:u,size:c.node.size}}return r(`Final CID ${o.cid}`),o.cid}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/update-tree.js"}],[4483,{"./constants":4470,cids:2119,debug:2253,"ipfs-unixfs":4537,"ipld-dag-pb":4674,multicodec:5219,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("cids"),i=e("ipfs-unixfs"),{DAGNode:s}=e("ipld-dag-pb"),o=e("debug")("ipfs:mfs:utils:with-mfs-root"),a=e("multicodec"),u=e("multihashes"),{MFS_ROOT_KEY:c}=e("./constants");t.exports=async e=>{let t;await e.repo.datastore.open();try{const n=await e.repo.datastore.get(c);t=new r(n)}catch(n){if("ERR_NOT_FOUND"!==n.code)throw n;o("Creating new MFS root");const r=s.create(new i("directory").marshal());t=await e.ipld.put(r,a.DAG_PB,{cidVersion:0,hashAlg:u.names["sha2-256"]}),await e.repo.datastore.put(c,t.buffer)}return o(`Loaded MFS root /ipfs/${t}`),t}}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/utils/with-mfs-root.js"}],[4484,{"./mkdir":4463,"./stat":4467,"./utils/add-link":4468,"./utils/apply-default-options":4469,"./utils/constants":4470,"./utils/create-lock":4471,"./utils/to-async-iterator":4475,"./utils/to-mfs-path":4476,"./utils/to-path-components":4477,"./utils/to-trail":4480,"./utils/update-mfs-root":4481,"./utils/update-tree":4482,"async-iterator-last":1707,buffer:2081,debug:2253,"err-code":2355,"ipfs-unixfs-importer":4533},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("debug")("ipfs:mfs:write"),i=e("ipfs-unixfs-importer"),s=e("./stat"),o=e("./mkdir"),a=e("./utils/add-link"),u=e("./utils/apply-default-options"),c=e("./utils/create-lock"),l=e("./utils/to-async-iterator"),f=e("./utils/to-mfs-path"),h=e("./utils/to-path-components"),d=e("./utils/to-trail"),p=e("./utils/update-tree"),m=e("./utils/update-mfs-root"),g=e("err-code"),{MAX_CHUNK_SIZE:b}=e("./utils/constants"),_=e("async-iterator-last"),w={offset:0,length:undefined,create:!1,truncate:!1,rawLeaves:!1,reduceSingleLeafToSelf:!1,cidVersion:0,hashAlg:"sha2-256",format:"dag-pb",parents:!1,progress:()=>{},strategy:"trickle",flush:!0,leafType:"raw",shardSplitThreshold:1e3};t.exports=e=>async function(t,n,i){let s,o,a;if(r("Hello world, writing",t,n,i),i=u(i,w),r("Reading source, destination and parent"),await c().readLock((async()=>{s=await l(n,i),o=await f(e,t),a=await f(e,o.mfsDirectory)}))(),r("Read source, destination and parent"),!i.parents&&!a.exists)throw g(new Error("directory does not exist"),"ERR_NO_EXIST");if(!i.create&&!o.exists)throw g(new Error("file does not exist"),"ERR_NO_EXIST");return y(e,t,s,o,i)};const y=async(e,t,n,r,i)=>{const u=await k(e,n,r,i);await c().writeLock((async()=>{const n=h(t),r=n.pop();let c=!1;try{await s(e)(`/${n.join("/")}`,i),c=!0}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}c||await o(e)(`/${n.join("/")}`,i);const l=await f(e,t),b=await d(e,l.mfsDirectory,i),_=b[b.length-1];if(!_.type.includes("directory"))throw g(new Error(`cannot write to ${_.name}: Not a directory`),"ERR_NOT_A_DIRECTORY");const w=await e.ipld.get(_.cid),y=await a(e,{parent:w,name:r,cid:u.cid,size:u.size,flush:i.flush,shardSplitThreshold:i.shardSplitThreshold,format:i.format,hashAlg:i.hashAlg,cidVersion:i.cidVersion});_.cid=y.cid;const k=await p(e,b,i);await m(e,k)}))()},k=async(e,t,n,s)=>{n.exists?r(`Overwriting file ${n.cid} offset ${s.offset} length ${s.length}`):r(`Writing file offset ${s.offset} length ${s.length}`);const o=[];s.offset>0&&(n.unixfs&&n.unixfs.fileSize()>s.offset?(r(`Writing first ${s.offset} bytes of original file`),o.push((()=>n.content({offset:0,length:s.offset})))):(r(`Writing zeros for first ${s.offset} bytes`),o.push(x(s.offset)))),o.push(v(t,s.length));const a=S(E(o),(e=>{if(n.unixfs&&!s.truncate){const t=n.unixfs.fileSize();if(t>e)return r(`Writing last ${t-e} of ${t} bytes from original file starting at offset ${e}`),n.content({offset:e});r("Not writing last bytes from original file")}return{[Symbol.asyncIterator]:async function*(){}}}));let u=await _(i([{content:a}],e.ipld,{progress:s.progress,hashAlg:s.hashAlg,cidVersion:s.cidVersion,strategy:s.strategy,rawLeaves:s.rawLeaves,reduceSingleLeafToSelf:s.reduceSingleLeafToSelf,leafType:s.leafType}));return r(`Wrote ${u.cid}`),{cid:u.cid,size:u.size}},v=(e,t)=>async function*(){let n=0;for await(const r of e){if(n+=r.length,n>t)return void(yield r.slice(0,t-n));yield r}},x=(e,t=b)=>{const r=n.alloc(t,0),i={[Symbol.asyncIterator]:async function*(){for(;;)yield r.slice()}};return v(i,e)},E=async function*(e){for(let t=0;t<e.length;t++)for await(const n of e[t]())yield n},S=async function*(e,t){let n=0;for await(const t of e)n+=t.length,yield t;for await(const e of t(n))n+=e.length,yield e}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-mfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mfs/src/core/write.js"}],[4485,{"./lib/XMLHttpRequest":4486},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./lib/XMLHttpRequest");function i(e){if(!(this instanceof i))throw new Error('[ipfs-mini] IPFS instance must be instantiated with "new" flag (e.g. var ipfs = new IPFS("http://localhost:8545");).');this.setProvider(e||{})}function s(){}function o(e){return new Promise(e)}function a(e){e(s,s)}t.exports=i,i.prototype.setProvider=function(e){if("object"!=typeof e)throw new Error(`[ifpsjs] provider must be type Object, got '${typeof e}'.`);var t=this.provider=Object.assign({host:"127.0.0.1",pinning:!0,port:"5001",protocol:"http",base:"/api/v0"},e||{});this.requestBase=String(`${t.protocol}://${t.host}:${t.port}${t.base}`)},i.prototype.sendAsync=function(e,t){var n=this,i=new r,u=e||{};return(t?a:o)((function(r,o){function a(e,n){return(t||s)(e,u.takeHash&&n?n.Hash:n),e?o(e):!e&&n?r(u.takeHash?n.Hash:n):void 0}i.onreadystatechange=function(){if(4===i.readyState&&1!==i.timeout)if(200!==i.status)a(new Error(`[ipfs-mini] status ${i.status}: ${i.responseText}`),null);else try{a(null,u.jsonParse?JSON.parse(i.responseText):i.responseText)}catch(e){a(new Error(`[ipfs-mini] while parsing data: '${String(i.responseText)}', error: ${String(e)} with provider: '${n.requestBase}'`,null))}};try{var c=n.provider.pinning&&"/add"===e.uri?"?pin=true":"";u.payload?i.open("POST",`${n.requestBase}${e.uri}${c}`):i.open("GET",`${n.requestBase}${e.uri}${c}`),u.accept&&i.setRequestHeader("accept",u.accept),u.payload&&u.boundary?(i.setRequestHeader("Content-Type",`multipart/form-data; boundary=${u.boundary}`),i.send(u.payload)):i.send()}catch(e){a(e,null)}}))},i.prototype.add=function(e,t){var n="object"==typeof e&&e.isBuffer?e.toString("binary"):e,r=function(e){for(;;){var t=`----IPFSMini${1e5*Math.random()}.${1e5*Math.random()}`;if(-1===e.indexOf(t))return t}}(n),i=`--${r}\r\nContent-Disposition: form-data; name="path"\r\nContent-Type: application/octet-stream\r\n\r\n${n}\r\n--${r}--`;return this.sendAsync({jsonParse:!0,accept:"application/json",uri:"/add",takeHash:!0,payload:i,boundary:r},t)},i.prototype.addJSON=function(e,t){return this.add(JSON.stringify(e),t)},i.prototype.stat=function(e,t){return this.sendAsync({jsonParse:!0,uri:`/object/stat/${e}`},t)},i.prototype.cat=function(e,t){return this.sendAsync({uri:`/cat/${e}`},t)},i.prototype.catJSON=function(e,t){return this.sendAsync({uri:`/cat/${e}`,jsonParse:!0},t)}}}},{package:"ipfs-mini",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mini/src/index.js"}],[4486,{},function(){with(this)return function(){"use strict";return function(e,t,n){const r=window.XMLHttpRequest;t.exports=r}}},{package:"ipfs-mini",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-mini/src/lib/XMLHttpRequest-browser.js"}],[4487,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("buffer"),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,n),n.Buffer=o),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return t!==undefined?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}}},{package:"safe-buffer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-pubsub-1on1/node_modules/safe-buffer/index.js"}],[4488,{"./encoding":4489,"./get-peer-id":4490,"./protocol":4491,"./wait-for-peers":4492,events:2082,path:5396},function(){with(this)return function(){"use strict";return function(e,t,n){e("path");const r=e("events"),i=e("./protocol"),s=e("./encoding"),o=e("./wait-for-peers"),a=e("./get-peer-id");class u extends r{constructor(e,t){if(super(),this._ipfs=e,!e.pubsub)throw new Error("This IPFS node does not support pubsub.");if(this._receiverID=t,!this._receiverID)throw new Error("Receiver ID was undefined")}get id(){return this._id}get peers(){return this._peers}async connect(){await o(this._ipfs,[this._receiverID],this._id)}async send(e){let t=s(e);await this._ipfs.pubsub.publish(this._id,t)}close(){this.removeAllListeners("message"),this._ipfs.pubsub.unsubscribe(this._id,this._messageHandler)}async _setup(){this._senderID=await a(this._ipfs),this._peers=Array.from([this._senderID,this._receiverID]).sort(),this._id="/"+i+"/"+this._peers.join("/"),this._messageHandler=e=>{e&&e.from===this._receiverID&&this.emit("message",e)}}async _openChannel(){await this._setup(),await this._ipfs.pubsub.subscribe(this._id,this._messageHandler)}static async open(e,t){const n=new u(e,t);return await n._openChannel(),n}}t.exports=u}}},{package:"ipfs-pubsub-1on1",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-pubsub-1on1/src/direct-channel.js"}],[4489,{"safe-buffer":4487},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("safe-buffer").Buffer;t.exports=e=>{let t=e;return r.isBuffer(t)||(t=r.from(t)),t}}}},{package:"ipfs-pubsub-1on1",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-pubsub-1on1/src/encoding.js"}],[4490,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=async e=>(await e.id()).id}}},{package:"ipfs-pubsub-1on1",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-pubsub-1on1/src/get-peer-id.js"}],[4491,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="ipfs-pubsub-direct-channel/v1"}}},{package:"ipfs-pubsub-1on1",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-pubsub-1on1/src/protocol.js"}],[4492,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=async(e,t,n)=>{const r=async()=>{const r=await e.pubsub.peers(n);return 0===t.map((e=>r.includes(e))).filter((e=>!1===e)).length};return await r()?Promise.resolve():new Promise((async(e,t)=>{const n=setInterval((async()=>{try{await r()&&(clearInterval(n),e())}catch(e){t(e)}}),100)}))}}}},{package:"ipfs-pubsub-1on1",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js"}],[4493,{"./utils":4494,events:2082},function(){with(this)return function(){"use strict";return function(e,t,n){const{difference:r}=e("./utils"),i=e("events"),s={start:!0,pollInterval:1e3};class o extends i{constructor(e,t,n){super(),this._pubsub=e,this._topic=t,this._options=Object.assign({},s,n),this._peers=[],this._interval=null,this._options.start&&this.start()}get started(){return null!==this._interval}set started(e){throw new Error("'started' is read-only")}start(){this._interval&&this.stop(),this._interval=setInterval(this._pollPeers.bind(this),this._options.pollInterval)}stop(){clearInterval(this._interval),this._interval=null,this.removeAllListeners("error"),this.removeAllListeners("join"),this.removeAllListeners("leave")}async getPeers(){return this._peers=await this._pubsub.peers(this._topic),this._peers.slice()}hasPeer(e){return this._peers.includes(e)}async _pollPeers(){try{const e=await this._pubsub.peers(this._topic);o._emitJoinsAndLeaves(new Set(this._peers),new Set(e),this),this._peers=e}catch(e){clearInterval(this._interval),this.emit("error",e)}}static _emitJoinsAndLeaves(e,t,n){r(t,e).forEach((e=>n.emit("join",e))),r(e,t).forEach((e=>n.emit("leave",e)))}}t.exports=o}}},{package:"ipfs-pubsub-peer-monitor",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-pubsub-peer-monitor/src/ipfs-pubsub-peer-monitor.js"}],[4494,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports.runWithDelay=async(e,t,n)=>{const r=await e(t);var i;return await(i=n,new Promise((e=>setTimeout(e,i)))),r},t.exports.difference=(e,t)=>new Set([...e].filter((e=>!t.has(e))))}}},{package:"ipfs-pubsub-peer-monitor",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-pubsub-peer-monitor/src/utils.js"}],[4495,{},function(){with(this)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=Math.ceil,o=Math.floor,a="[BigNumber Error] ",u=a+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,f=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,p=1e9;function m(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(t=e[r++]+"",n=l-t.length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function b(e,t){var n,r,i=e.c,s=t.c,o=e.s,a=t.s,u=e.e,c=t.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=u==c,!i||!s)return r?0:!i^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return u==c?0:u>c^n?1:-1}function _(e,t,n,r){if(e<t||e>n||e!==o(e))throw Error(a+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function w(e){var t=e.c.length-1;return m(e.e/l)==t&&e.c[t]%2!=0}function y(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function k(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,v,x,E,S,j,R,A,I,N,O=q.prototype={constructor:q,toString:null,valueOf:null},T=new q(1),L=20,P=4,D=-7,B=21,C=-1e7,M=1e7,z=!1,F=1,U=0,$={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz";function q(e,t){var n,i,s,a,c,h,d,p,m=this;if(!(m instanceof q))return new q(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>M?m.c=m.e=null:e.e<C?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(a=0,c=e;c>=10;c/=10,a++);return void(a>M?m.c=m.e=null:(m.e=a,m.c=[e]))}p=String(e)}else{if(!r.test(p=String(e)))return x(m,p,h);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(a=p.indexOf("."))>-1&&(p=p.replace(".","")),(c=p.search(/e/i))>0?(a<0&&(a=c),a+=+p.slice(c+1),p=p.substring(0,c)):a<0&&(a=p.length)}else{if(_(t,2,H.length,"Base"),10==t)return K(m=new q(e),L+m.e+1,P);if(p=String(e),h="number"==typeof e){if(0*e!=0)return x(m,p,h,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,q.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=H.slice(0,t),a=c=0,d=p.length;c<d;c++)if(n.indexOf(i=p.charAt(c))<0){if("."==i){if(c>a){a=d;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,c=-1,a=0;continue}return x(m,String(e),h,t)}h=!1,(a=(p=v(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):a=p.length}for(c=0;48===p.charCodeAt(c);c++);for(d=p.length;48===p.charCodeAt(--d););if(p=p.slice(c,++d)){if(d-=c,h&&q.DEBUG&&d>15&&(e>f||e!==o(e)))throw Error(u+m.s*e);if((a=a-c-1)>M)m.c=m.e=null;else if(a<C)m.c=[m.e=0];else{if(m.e=a,m.c=[],c=(a+1)%l,a<0&&(c+=l),c<d){for(c&&m.c.push(+p.slice(0,c)),d-=l;c<d;)m.c.push(+p.slice(c,c+=l));c=l-(p=p.slice(c)).length}else c-=d;for(;c--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function V(e,t,n,r){var i,s,o,a,u;if(null==n?n=P:_(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)u=g(e.c),u=1==r||2==r&&(o<=D||o>=B)?y(u,o):k(u,o,"0");else if(s=(e=K(new q(e),t,n)).e,a=(u=g(e.c)).length,1==r||2==r&&(t<=s||s<=D)){for(;a<t;u+="0",a++);u=y(u,s)}else if(t-=o,u=k(u,s,"0"),s+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-a)>0)for(s+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function W(e,t){for(var n,r=1,i=new q(e[0]);r<e.length;r++){if(!(n=new q(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function G(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*l-1)>M?e.c=e.e=null:n<C?e.c=[e.e=0]:(e.e=n,e.c=t),e}function K(e,t,n,r){var i,a,u,f,d,p,m,g=e.c,b=h;if(g){e:{for(i=1,f=g[0];f>=10;f/=10,i++);if((a=t-i)<0)a+=l,u=t,m=(d=g[p=0])/b[i-u-1]%10|0;else if((p=s((a+1)/l))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));d=m=0,i=1,u=(a%=l)-l+1}else{for(d=f=g[p],i=1;f>=10;f/=10,i++);m=(u=(a%=l)-l+i)<0?0:d/b[i-u-1]%10|0}if(r=r||t<0||null!=g[p+1]||(u<0?d:d%b[i-u-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(a>0?u>0?d/b[i-u]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=b[(l-t%l)%l],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,f=1,p--):(g.length=p+1,f=b[l-a],g[p]=u>0?o(d/b[i-u]%b[u])*f:0),r)for(;;){if(0==p){for(a=1,u=g[0];u>=10;u/=10,a++);for(u=g[0]+=f,f=1;u>=10;u/=10,f++);a!=f&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[p]+=f,g[p]!=c)break;g[p--]=0,f=1}for(a=g.length;0===g[--a];g.pop());}e.e>M?e.c=e.e=null:e.e<C&&(e.c=[e.e=0])}return e}function Z(e){var t,n=e.e;return null===n?e.toString():(t=g(e.c),t=n<=D||n>=B?y(t,n):k(t,n,"0"),e.s<0?"-"+t:t)}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(_(n=e[t],0,p,t),L=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(_(n=e[t],0,8,t),P=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(_(n[0],-p,0,t),_(n[1],0,p,t),D=n[0],B=n[1]):(_(n,-p,p,t),D=-(B=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)_(n[0],-p,-1,t),_(n[1],1,p,t),C=n[0],M=n[1];else{if(_(n,-p,p,t),!n)throw Error(a+t+" cannot be zero: "+n);C=-(M=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw z=!n,Error(a+"crypto unavailable");z=n}else z=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(_(n=e[t],0,9,t),F=n),e.hasOwnProperty(t="POW_PRECISION")&&(_(n=e[t],0,p,t),U=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);$=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);H=n}}return{DECIMAL_PLACES:L,ROUNDING_MODE:P,EXPONENTIAL_AT:[D,B],RANGE:[C,M],CRYPTO:z,MODULO_MODE:F,POW_PRECISION:U,FORMAT:$,ALPHABET:H}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,n,r=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&i>=-p&&i<=p&&i===o(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%l)<1&&(t+=l),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==o(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return W(arguments,O.lt)},q.minimum=q.min=function(){return W(arguments,O.gt)},q.random=(E=9007199254740992,S=Math.random()*E&2097151?function(){return o(Math.random()*E)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,u,c=0,f=[],d=new q(T);if(null==e?e=L:_(e,0,p),i=s(e/l),z)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));c<i;)(u=131072*t[c]+(t[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(f.push(u%1e14),c+=2);c=i/2}else{if(!crypto.randomBytes)throw z=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(i*=7);c<i;)(u=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(f.push(u%1e14),c+=7);c=i/7}if(!z)for(;c<i;)(u=S())<9e15&&(f[c++]=u%1e14);for(i=f[--c],e%=l,i&&e&&(u=h[l-e],f[c]=o(i/u)*u);0===f[c];f.pop(),c--);if(c<0)f=[r=0];else{for(r=-1;0===f[0];f.splice(0,1),r-=l);for(c=1,u=f[0];u>=10;u/=10,c++);c<l&&(r-=l-c)}return d.e=r,d.c=f,d}),q.sum=function(){for(var e=1,t=arguments,n=new q(t[0]);e<t.length;)n=n.plus(t[e++]);return n},v=function(){var e="0123456789";function t(e,t,n,r){for(var i,s,o=[0],a=0,u=e.length;a<u;){for(s=o.length;s--;o[s]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(r,i,s,o,a){var u,c,l,f,h,d,p,m,b=r.indexOf("."),_=L,w=P;for(b>=0&&(f=U,U=0,r=r.replace(".",""),d=(m=new q(i)).pow(r.length-b),U=f,m.c=t(k(g(d.c),d.e,"0"),10,s,e),m.e=m.c.length),l=f=(p=t(r,i,s,a?(u=H,e):(u=e,H))).length;0==p[--f];p.pop());if(!p[0])return u.charAt(0);if(b<0?--l:(d.c=p,d.e=l,d.s=o,p=(d=n(d,m,_,w,s)).c,h=d.r,l=d.e),b=p[c=l+_+1],f=s/2,h=h||c<0||null!=p[c+1],h=w<4?(null!=b||h)&&(0==w||w==(d.s<0?3:2)):b>f||b==f&&(4==w||h||6==w&&1&p[c-1]||w==(d.s<0?8:7)),c<1||!p[0])r=h?k(u.charAt(1),-_,u.charAt(0)):u.charAt(0);else{if(p.length=c,h)for(--s;++p[--c]>s;)p[c]=0,c||(++l,p=[1].concat(p));for(f=p.length;!p[--f];);for(b=0,r="";b<=f;r+=u.charAt(p[b++]));r=k(r,l,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,s,o,a=0,u=e.length,c=t%d,l=t/d|0;for(e=e.slice();u--;)a=((i=c*(s=e[u]%d)+(r=l*s+(o=e[u]/d|0)*c)%d*d+a)/n|0)+(r/d|0)+l*o,e[u]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,a,u){var f,h,d,p,g,b,_,w,y,k,v,x,E,S,j,R,A,I=r.s==i.s?1:-1,N=r.c,O=i.c;if(!(N&&N[0]&&O&&O[0]))return new q(r.s&&i.s&&(N?!O||N[0]!=O[0]:O)?N&&0==N[0]||!O?0*I:I/0:NaN);for(y=(w=new q(I)).c=[],I=s+(h=r.e-i.e)+1,u||(u=c,h=m(r.e/l)-m(i.e/l),I=I/l|0),d=0;O[d]==(N[d]||0);d++);if(O[d]>(N[d]||0)&&h--,I<0)y.push(1),p=!0;else{for(S=N.length,R=O.length,d=0,I+=2,(g=o(u/(O[0]+1)))>1&&(O=e(O,g,u),N=e(N,g,u),R=O.length,S=N.length),E=R,v=(k=N.slice(0,R)).length;v<R;k[v++]=0);A=O.slice(),A=[0].concat(A),j=O[0],O[1]>=u/2&&j++;do{if(g=0,(f=t(O,k,R,v))<0){if(x=k[0],R!=v&&(x=x*u+(k[1]||0)),(g=o(x/j))>1)for(g>=u&&(g=u-1),_=(b=e(O,g,u)).length,v=k.length;1==t(b,k,_,v);)g--,n(b,R<_?A:O,_,u),_=b.length,f=1;else 0==g&&(f=g=1),_=(b=O.slice()).length;if(_<v&&(b=[0].concat(b)),n(k,b,v,u),v=k.length,-1==f)for(;t(O,k,R,v)<1;)g++,n(k,R<v?A:O,v,u),v=k.length}else 0===f&&(g++,k=[0]);y[d++]=g,k[0]?k[v++]=N[E]||0:(k=[N[E]],v=1)}while((E++<S||null!=k[0])&&I--);p=null!=k[0],y[0]||y.splice(0,1)}if(u==c){for(d=1,I=y[0];I>=10;I/=10,d++);K(w,s+(w.e=d+h*l-1)+1,a,p)}else w.e=h,w.r=+p;return w}}(),j=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,A=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,N=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,n,r){var i,s=n?t:t.replace(N,"");if(I.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(j,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(R,"$1").replace(A,"0.$1")),t!=s))return new q(s,i);if(q.DEBUG)throw Error(a+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},O.absoluteValue=O.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},O.comparedTo=function(e,t){return b(this,new q(e,t))},O.decimalPlaces=O.dp=function(e,t){var n,r,i,s=this;if(null!=e)return _(e,0,p),null==t?t=P:_(t,0,8),K(new q(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((i=n.length-1)-m(this.e/l))*l,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},O.dividedBy=O.div=function(e,t){return n(this,new q(e,t),L,P)},O.dividedToIntegerBy=O.idiv=function(e,t){return n(this,new q(e,t),0,1)},O.exponentiatedBy=O.pow=function(e,t){var n,r,i,u,c,f,h,d,p=this;if((e=new q(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+Z(e));if(null!=t&&(t=new q(t)),c=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return d=new q(Math.pow(+Z(p),c?2-w(e):+Z(e))),t?d.mod(t):d;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new q(NaN);(r=!f&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||c&&p.c[1]>=24e7:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return u=p.s<0&&w(e)?-0:0,p.e>-1&&(u=1/u),new q(f?1/u:u);U&&(u=s(U/l+2))}for(c?(n=new q(.5),f&&(e.s=1),h=w(e)):h=(i=Math.abs(+Z(e)))%2,d=new q(T);;){if(h){if(!(d=d.times(p)).c)break;u?d.c.length>u&&(d.c.length=u):r&&(d=d.mod(t))}if(i){if(0===(i=o(i/2)))break;h=i%2}else if(K(e=e.times(n),e.e+1,1),e.e>14)h=w(e);else{if(0===(i=+Z(e)))break;h=i%2}p=p.times(p),u?p.c&&p.c.length>u&&(p.c.length=u):r&&(p=p.mod(t))}return r?d:(f&&(d=T.div(d)),t?d.mod(t):u?K(d,U,P,undefined):d)},O.integerValue=function(e){var t=new q(this);return null==e?e=P:_(e,0,8),K(t,t.e+1,e)},O.isEqualTo=O.eq=function(e,t){return 0===b(this,new q(e,t))},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(e,t){return b(this,new q(e,t))>0},O.isGreaterThanOrEqualTo=O.gte=function(e,t){return 1===(t=b(this,new q(e,t)))||0===t},O.isInteger=function(){return!!this.c&&m(this.e/l)>this.c.length-2},O.isLessThan=O.lt=function(e,t){return b(this,new q(e,t))<0},O.isLessThanOrEqualTo=O.lte=function(e,t){return-1===(t=b(this,new q(e,t)))||0===t},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&0==this.c[0]},O.minus=function(e,t){var n,r,i,s,o=this,a=o.s;if(t=(e=new q(e,t)).s,!a||!t)return new q(NaN);if(a!=t)return e.s=-t,o.plus(e);var u=o.e/l,f=e.e/l,h=o.c,d=e.c;if(!u||!f){if(!h||!d)return h?(e.s=-t,e):new q(d?o:NaN);if(!h[0]||!d[0])return d[0]?(e.s=-t,e):new q(h[0]?o:3==P?-0:0)}if(u=m(u),f=m(f),h=h.slice(),a=u-f){for((s=a<0)?(a=-a,i=h):(f=u,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(s=(a=h.length)<(t=d.length))?a:t,a=t=0;t<r;t++)if(h[t]!=d[t]){s=h[t]<d[t];break}if(s&&(i=h,h=d,d=i,e.s=-e.s),(t=(r=d.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=c-1;r>a;){if(h[--r]<d[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=c}h[r]-=d[r]}for(;0==h[0];h.splice(0,1),--f);return h[0]?G(e,h,f):(e.s=3==P?-1:1,e.c=[e.e=0],e)},O.modulo=O.mod=function(e,t){var r,i,s=this;return e=new q(e,t),!s.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||s.c&&!s.c[0]?new q(s):(9==F?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,F),(e=s.minus(r.times(e))).c[0]||1!=F||(e.s=s.s),e)},O.multipliedBy=O.times=function(e,t){var n,r,i,s,o,a,u,f,h,p,g,b,_,w,y,k=this,v=k.c,x=(e=new q(e,t)).c;if(!(v&&x&&v[0]&&x[0]))return!k.s||!e.s||v&&!v[0]&&!x||x&&!x[0]&&!v?e.c=e.e=e.s=null:(e.s*=k.s,v&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=m(k.e/l)+m(e.e/l),e.s*=k.s,(u=v.length)<(p=x.length)&&(_=v,v=x,x=_,i=u,u=p,p=i),i=u+p,_=[];i--;_.push(0));for(w=c,y=d,i=p;--i>=0;){for(n=0,g=x[i]%y,b=x[i]/y|0,s=i+(o=u);s>i;)n=((f=g*(f=v[--o]%y)+(a=b*f+(h=v[o]/y|0)*g)%y*y+_[s]+n)/w|0)+(a/y|0)+b*h,_[s--]=f%w;_[s]=n}return n?++r:_.splice(0,1),G(e,_,r)},O.negated=function(){var e=new q(this);return e.s=-e.s||null,e},O.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new q(e,t)).s,!i||!t)return new q(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/l,o=e.e/l,a=r.c,u=e.c;if(!s||!o){if(!a||!u)return new q(i/0);if(!a[0]||!u[0])return u[0]?e:new q(a[0]?r:0*i)}if(s=m(s),o=m(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=u):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=u.length)<0&&(n=u,u=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+u[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++o),G(e,a,o)},O.precision=O.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return _(e,1,p),null==t?t=P:_(t,0,8),K(new q(s),e,t);if(!(n=s.c))return null;if(r=(i=n.length-1)*l+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},O.shiftedBy=function(e){return _(e,-9007199254740991,f),this.times("1e"+e)},O.squareRoot=O.sqrt=function(){var e,t,r,i,s,o=this,a=o.c,u=o.s,c=o.e,l=L+4,f=new q("0.5");if(1!==u||!a||!a[0])return new q(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+Z(o)))||u==1/0?(((t=g(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=m((c+1)/2)-(c<0||c%2),r=new q(t=u==1/0?"1e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new q(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(s=r,r=f.times(s.plus(n(o,s,l,1))),g(s.c).slice(0,u)===(t=g(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(K(r,r.e+L+2,1),e=!r.times(r).eq(o));break}if(!i&&(K(s,s.e+L+2,0),s.times(s).eq(o))){r=s;break}l+=4,u+=4,i=1}return K(r,r.e+L+1,P,e)},O.toExponential=function(e,t){return null!=e&&(_(e,0,p),e++),V(this,e,t,1)},O.toFixed=function(e,t){return null!=e&&(_(e,0,p),e=e+this.e+1),V(this,e,t)},O.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=$;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,o=r.split("."),u=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",f=o[0],h=o[1],d=i.s<0,p=d?f.slice(1):f,m=p.length;if(c&&(s=u,u=c,c=s,m-=s),u>0&&m>0){for(s=m%u||u,f=p.substr(0,s);s<m;s+=u)f+=l+p.substr(s,u);c>0&&(f+=l+p.slice(s)),d&&(f="-"+f)}r=h?f+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):f}return(n.prefix||"")+r+(n.suffix||"")},O.toFraction=function(e){var t,r,i,s,o,u,c,f,d,p,m,b,_=this,w=_.c;if(null!=e&&(!(c=new q(e)).isInteger()&&(c.c||1!==c.s)||c.lt(T)))throw Error(a+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Z(c));if(!w)return new q(_);for(t=new q(T),d=r=new q(T),i=f=new q(T),b=g(w),o=t.e=b.length-_.e-1,t.c[0]=h[(u=o%l)<0?l+u:u],e=!e||c.comparedTo(t)>0?o>0?t:d:c,u=M,M=1/0,c=new q(b),f.c[0]=0;p=n(c,t,0,1),1!=(s=r.plus(p.times(i))).comparedTo(e);)r=i,i=s,d=f.plus(p.times(s=d)),f=s,t=c.minus(p.times(s=t)),c=s;return s=n(e.minus(r),i,0,1),f=f.plus(s.times(d)),r=r.plus(s.times(i)),f.s=d.s=_.s,m=n(d,i,o*=2,P).minus(_).abs().comparedTo(n(f,r,o,P).minus(_).abs())<1?[d,i]:[f,r],M=u,m},O.toNumber=function(){return+Z(this)},O.toPrecision=function(e,t){return null!=e&&_(e,1,p),V(this,e,t,2)},O.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=D||i>=B?y(g(n.c),i):k(g(n.c),i,"0"):10===e?t=k(g((n=K(new q(n),L+i+1,P)).c),n.e,"0"):(_(e,2,H.length,"Base"),t=v(k(g(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},O.valueOf=O.toJSON=function(){return Z(this)},O._isBigNumber=!0,i&&(O[Symbol.toStringTag]="BigNumber",O[Symbol.for("nodejs.util.inspect.custom")]=O.valueOf),null!=t&&q.set(t),q}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"bignumber.js",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/node_modules/bignumber.js/bignumber.js"}],[4496,{buffer:2081,"interface-datastore":4411},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=new(0,e("interface-datastore").Key)("api");t.exports=e=>({get(t){e.get(r,((e,n)=>t(e,n&&n.toString())))},set(t,i){e.put(r,n.from(t.toString()),i)},delete(t){e.delete(r,t)}})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/api-addr.js"}],[4497,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.create=function(e,t,n){return new(0,n.storageBackends[e])(t,Object.assign({},n.storageBackendOptions[e]||{}))}}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/backends.js"}],[4498,{"async/reject":1770,"async/setImmediate":1773,"base32.js":1952,cids:2119,"datastore-core":2232,"interface-datastore":4411,"ipfs-block":4441,"pull-stream/pull":5478,"pull-stream/sinks/collect":5479},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("datastore-core"),i=r.ShardingDatastore,s=e("interface-datastore").Key,o=e("base32.js"),a=e("ipfs-block"),u=e("async/setImmediate"),c=e("async/reject"),l=e("cids"),f=e("pull-stream/pull"),h=e("pull-stream/sinks/collect"),d=e=>(e=>{const t=new o.Encoder;return new s("/"+t.write(e).finalize(),!1)})(e.buffer);function p(e){try{return 0===e.version?e.toV1():e.toV0()}catch(e){return null}}t.exports=(e,t,n)=>{!function(e,t,n){if(t.sharding){const t=new r.shard.NextToLast(2);i.createOrOpen(e,t,n)}else u((()=>n(null,e)))}(e,t,((e,t)=>{if(e)return n(e);n(null,function(e){return{query(t,n){f(e.query(t),h(n))},get(t,n){if(!l.isCID(t))return u((()=>{n(new Error("Not a valid cid"))}));const r=d(t);e.get(r,((i,s)=>{if(i){if("ERR_NOT_FOUND"===i.code){const s=p(t);if(!s)return n(i);const o=d(s);return e.get(o,((i,s)=>{if(i)return n(i);e.put(r,s,(e=>{if(e)return n(e);n(null,new a(s,t))}))}))}return n(i)}n(null,new a(s,t))}))},put(t,n){if(!a.isBlock(t))return u((()=>{n(new Error("invalid block"))}));const r=d(t.cid);e.has(r,((i,s)=>i?n(i):s?n():void e.put(r,t.data,n)))},putMany(t,n){const r=t.map((e=>({key:d(e.cid),block:e}))),i=e.batch();c(r,((t,n)=>e.has(t.key,n)),((e,t)=>{if(e)return n(e);t.forEach((e=>{i.put(e.key,e.block.data)})),i.commit(n)}))},has(t,n){if(!l.isCID(t))return u((()=>{n(new Error("Not a valid cid"))}));e.has(d(t),((r,i)=>{if(r)return n(r);if(i)return n(null,!0);const s=p(t);if(!s)return n(null,!1);e.has(d(s),n)}))},delete(t,n){if(!l.isCID(t))return u((()=>{n(new Error("Not a valid cid"))}));e.delete(d(t),n)},close(t){e.close(t)}}}(t))}))}}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/blockstore.js"}],[4499,{"async/queue":1769,"async/waterfall":1779,buffer:2081,dlv:2284,"interface-datastore":4411,"just-safe-set":4753},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("interface-datastore").Key,i=e("async/queue"),s=e("async/waterfall"),o=e("dlv"),a=e("just-safe-set"),u=e("buffer").Buffer,c=new r("config");t.exports=e=>{const t=i((function(e,t){const i=e.key,o=e.value;i?s([e=>n.get(e),(e,t)=>{a(e,i,o),t(null,e)},r],t):r(o,t)}),1),n={get(t,n){"function"==typeof t&&(n=t,t=undefined),t||(t=undefined),e.get(c,((e,r)=>{if(e)return n(e);let i;try{i=JSON.parse(r.toString())}catch(e){return n(e)}if(void 0===t)return n(null,i);if("string"!=typeof t)return n(new Error("Key "+t+" must be a string."));const s=o(i,t,null);if(null===s)return n(new Error("Key "+t+" does not exist in config."));n(null,s)}))},set(e,n,r){if("function"==typeof n)r=n,n=e,e=undefined;else if(!e||"string"!=typeof e)return r(new Error("Invalid key type"));if(n===undefined||u.isBuffer(n))return r(new Error("Invalid value type"));t.push({key:e,value:n},r)},exists(t){e.has(c,t)}};return n;function r(t,n){const r=u.from(JSON.stringify(t,null,2));e.put(c,r,n)}}}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/config.js"}],[45,{"@babel/runtime/helpers/interopRequireDefault":195,loglevel:5182,"webextension-polyfill":6160},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({location:e,registerOnboarding:t}){return async function(n,r,o,a){try{if("wallet_registerOnboarding"!==n.method)return void o();n.tabId&&n.tabId!==s.default.tabs.TAB_ID_NONE?await t(e,n.tabId):i.default.debug(`'wallet_registerOnboarding' message from ${e} ignored due to missing tabId`),r.result=!0,a()}catch(e){a(e)}}};var i=r(e("loglevel")),s=r(e("webextension-polyfill"))}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/createOnboardingMiddleware.js"}],[4500,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={repoVersion:7}}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/constants.js"}],[4501,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={Spec:{type:"mount",mounts:[{mountpoint:"/blocks",type:"measure",prefix:"flatfs.datastore",child:{type:"flatfs",path:"blocks",sync:!0,shardFunc:"/repo/flatfs/shard/v1/next-to-last/2"}},{mountpoint:"/",type:"measure",prefix:"leveldb.datastore",child:{type:"levelds",path:"datastore",compression:"none"}}]}}}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/default-datastore.js"}],[4502,{"datastore-level":2247},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={lock:"memory",storageBackends:{root:e("datastore-level"),blocks:e("datastore-level"),keys:e("datastore-level"),datastore:e("datastore-level")},storageBackendOptions:{root:{extension:""},blocks:{sharding:!1},keys:{sharding:!1}}}}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/default-options-browser.js"}],[4503,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.ERR_REPO_NOT_INITIALIZED="ERR_REPO_NOT_INITIALIZED"}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/errors/index.js"}],[4504,{"./api-addr":4496,"./backends":4497,"./blockstore":4498,"./config":4499,"./constants":4500,"./default-datastore":4501,"./default-options":4502,"./errors":4503,"./lock":4505,"./lock-memory":4505,"./spec":4506,"./version":4507,assert:1700,"async/each":1733,"async/parallel":1768,"async/series":1772,"async/waterfall":1779,"bignumber.js":4495,debug:2253,dlv:2284,path:5396,"pull-stream/pull":5478,"pull-stream/sinks/reduce":5486,timers:5935},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("async/waterfall"),i=e("async/series"),s=e("async/parallel"),o=e("async/each"),a=e("dlv"),u=e("assert"),c=e("path"),l=e("debug"),f=e("bignumber.js"),h=e("pull-stream/pull"),d=e("pull-stream/sinks/reduce"),p=e("./backends"),m=e("./version"),g=e("./config"),b=e("./spec"),_=e("./api-addr"),w=e("./blockstore"),y=e("./default-options"),k=e("./default-datastore"),v=e("./errors"),x=l("repo"),E=Number.MAX_SAFE_INTEGER,S={memory:e("./lock-memory"),fs:e("./lock")},j=e("./constants").repoVersion;function R(e,t){h(e.query({}),d(((e,t)=>e.plus(t.value.byteLength).plus(t.key._buf.byteLength)),new f(0),t))}function A(e,t){return n=>{t(n&&!e(n)?n:null)}}function I(e){return A((e=>"Already open"===e.message),e)}t.exports=class{constructor(e,t){u.strictEqual(typeof e,"string","missing repoPath"),this.options=function(e){const t=Object.assign({},y,e);return t.storageBackends=Object.assign({},y.storageBackends,t.storageBackends),t.storageBackendOptions=Object.assign({},y.storageBackendOptions,t.storageBackendOptions),t}(t),this.closed=!0,this.path=e,this._locker=this._getLocker(),this.root=p.create("root",this.path,this.options),this.version=m(this.root),this.config=g(this.root),this.spec=b(this.root),this.apiAddr=_(this.root)}init(e,t){x("initializing at: %s",this.path),i([e=>this.root.open(I(e)),t=>{return this.config.set(((n=e).datastore=Object.assign({},k,a(n,"datastore",{})),n),t);var n},t=>this.spec.set(function(e){const t=Object.assign({},k.Spec,a(e,"datastore.Spec",{}));return{type:t.type,mounts:t.mounts.map((e=>({mountpoint:e.mountpoint,type:e.child.type,path:e.child.path,shardFunc:e.child.shardFunc})))}}(e),t),e=>this.version.set(j,e)],t)}open(e){this.closed?(x("opening at: %s",this.path),r([e=>this.root.open(I(e)),e=>this._isInitialized(e),e=>this._openLock(this.path,e),(e,t)=>{x("aquired repo.lock"),this.lockfile=e,t()},e=>{x("creating datastore"),this.datastore=p.create("datastore",c.join(this.path,"datastore"),this.options),x("creating blocks");const t=p.create("blocks",c.join(this.path,"blocks"),this.options);w(t,this.options.storageBackendOptions.blocks,e)},(e,t)=>{this.blocks=e,t()},e=>{x("creating keystore"),this.keys=p.create("keys",c.join(this.path,"keys"),this.options),e()},e=>{this.closed=!1,x("all opened"),e()}],(t=>{t&&this.lockfile?this._closeLock((n=>{n?x("error removing lock",n):this.lockfile=null,e(t)})):e(t)}))):n((()=>e(new Error("repo is already open"))))}_getLocker(){return"string"==typeof this.options.lock?(u(S[this.options.lock],"Unknown lock type: "+this.options.lock),S[this.options.lock]):(u(this.options.lock,"No lock provided"),this.options.lock)}_openLock(e,t){this._locker.lock(e,((e,n)=>{if(e)return t(e,null);u.strictEqual(typeof n.close,"function","Locks must have a close method"),t(null,n)}))}_closeLock(e){if(this.lockfile)return this.lockfile.close(e);e()}_isInitialized(e){x("init check"),s({config:e=>this.config.exists(e),spec:e=>this.spec.exists(e),version:e=>this.version.check(j,e)},((t,n)=>{if(x("init",t,n),t&&!n.config)return e(Object.assign(new Error("repo is not initialized yet"),{code:v.ERR_REPO_NOT_INITIALIZED,path:this.path}));e(t)}))}close(e){if(this.closed)return e(new Error("repo is already closed"));x("closing at: %s",this.path),i([e=>this.apiAddr.delete(function(e){return A((e=>e&&(e.code===v.ERR_REPO_NOT_INITIALIZED||e.message.startsWith("ENOENT"))),e)}(e)),e=>{o([this.blocks,this.keys,this.datastore],((e,t)=>e.close(t)),e)},e=>{x("unlocking"),this.closed=!0,this._closeLock(e)},e=>{this.lockfile=null,e()}],(t=>e(t)))}exists(e){this.version.exists(e)}stat(e,t){"function"==typeof e&&(t=e,e={}),e=Object.assign({},{human:!1},e),s({storageMax:e=>this.config.get("Datastore.StorageMax",((t,n)=>{e(null,new f(t?E:n))})),version:e=>this.version.get(e),blocks:e=>this.blocks.query({},((t,n)=>{const r=new f((n=n||[]).length);let i=new f(0);n.forEach((e=>{i=i.plus(e.value.byteLength).plus(e.key._buf.byteLength)})),e(t,{count:r,size:i})})),datastore:e=>R(this.datastore,e),keys:e=>R(this.keys,e)},((n,r)=>{if(n)return t(n);let i=r.blocks.size.plus(r.datastore).plus(r.keys);e.human&&(i=i.div(1048576)),t(null,{repoPath:this.path,storageMax:r.storageMax,version:r.version,numObjects:r.blocks.count,repoSize:i})}))}},t.exports.repoVersion=j,t.exports.errors=v}).call(this)}).call(this,e("timers").setImmediate)}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/index.js"}],[4505,{"async/setImmediate":1773,debug:2253},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=e("async/setImmediate"),s=r("repo:lock"),o="repo.lock",a={};n.lock=(e,t)=>{const n=e+"/"+o;s("locking %s",n),a[n]=!0;const r={close(e){a[n]&&delete a[n],i(e)}};i((()=>{t(null,r)}))},n.locked=(e,t)=>{const n=e+"/"+o;s("checking lock: %s");const r=a[n];i((()=>{t(null,r)}))}}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/lock-memory.js"}],[4506,{buffer:2081,"interface-datastore":4411,"sort-keys":5861},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("interface-datastore").Key,i=e("sort-keys"),s=new r("datastore_spec");t.exports=e=>({exists(t){e.has(s,t)},get(t){e.get(s,((e,n)=>{if(e)return t(e);t(null,JSON.parse(n.toString()))}))},set(t,r){e.put(s,n.from(JSON.stringify(i(t,{deep:!0}))),r)}})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/spec.js"}],[4507,{buffer:2081,debug:2253,"interface-datastore":4411},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("interface-datastore").Key,i=e("debug")("repo:version"),s=new r("version");t.exports=e=>({exists(t){e.has(s,t)},get(t){e.get(s,((e,n)=>{if(e)return t(e);t(null,parseInt(n.toString().trim(),10))}))},set(t,r){e.put(s,n.from(String(t)),r)},check(e,t){this.get(((n,r)=>{if(n)return t(n);i("comparing version: %s and %s",r,e);if(r!==e&&!(6===r&&7===e||6===e&&7===r))return t(new Error(`ipfs repo needs migration: expected version v${e}, found version v${r}`));t()}))}})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-repo",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-repo/src/version.js"}],[4508,{"../../is-buffer/index.js":4686,"./resolvers":4510,"async-iterator-last":1707,cids:2119,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("err-code"),i=e("cids"),s=e("./resolvers"),o=e("async-iterator-last"),a=e=>{if(n.isBuffer(e))return{cid:new i(e),toResolve:[]};if(i.isCID(e))return{cid:e,toResolve:[]};if("string"==typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));const t=((e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean))(e);return{cid:new i(t[0]),toResolve:t.slice(1)}}throw r(new Error(`Unknown path type ${e}`),"ERR_BAD_PATH")},u=async function*(e,t){let{cid:n,toResolve:i}=a(e),o=n.toBaseEncodedString(),u=o;const c=i.length;for(;;){const a=await s(n,o,u,i,c,t);if(!a.entry&&!a.next)throw r(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");if(a.entry&&(yield a.entry),!a.next)return;i=a.next.toResolve,n=a.next.cid,o=a.next.name,u=a.next.path}},c=(e,t)=>o(u(e,t));t.exports=c,t.exports.path=u,t.exports.recursive=async function*(e,t){const n=await c(e,t);if(yield n,n.unixfs&&n.unixfs.type.includes("dir"))for await(const e of async function*e(t){for await(const n of t.content())if(yield n,n.unixfs.type.includes("dir"))for await(const t of e(n))yield t}(n))yield e}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"ipfs-unixfs-exporter",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-exporter/src/index.js"}],[4509,{cids:2119,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("cids"),i=e("err-code");t.exports=async(e,t,n,s,o,a,u)=>{let c=await u.get(e),l=c,f=n;for(;s.length;){const o=s[0];if(!(o in l))throw i(new Error(`No property named ${o} found in cbor node ${e.toBaseEncodedString()}`),"ERR_NO_PROP");if(s.shift(),f=`${f}/${o}`,r.isCID(l[o]))return{entry:{name:t,path:n,cid:e,node:c,depth:a},next:{cid:l[o],name:o,path:f,toResolve:s}};l=l[o]}return{entry:{name:t,path:n,cid:e,node:c,depth:a}}}}}},{package:"ipfs-unixfs-exporter",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/dag-cbor.js"}],[4510,{"./dag-cbor":4509,"./raw":4511,"./unixfs-v1":4515,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code"),i={"dag-pb":e("./unixfs-v1"),raw:e("./raw"),"dag-cbor":e("./dag-cbor")},s=(e,t,n,o,a,u)=>{const c=i[e.codec];if(!c)throw r(new Error(`No resolver for codec ${e.codec}`),"ERR_NO_RESOLVER");return c(e,t,n,o,s,a,u)};t.exports=s}}},{package:"ipfs-unixfs-exporter",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/index.js"}],[4511,{"../utils/extract-data-from-block":4516,"../utils/validate-offset-and-length":4518,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code"),i=e("../utils/extract-data-from-block"),s=e("../utils/validate-offset-and-length");t.exports=async(e,t,n,o,a,u,c)=>{if(o.length)throw r(new Error(`No link named ${n} found in raw node ${e.toBaseEncodedString()}`),"ERR_NOT_FOUND");const l=await c.get(e);return{entry:{name:t,path:n,cid:e,node:l,content:(f=l,function*(e={}){const{offset:t,length:n}=s(f.length,e.offset,e.length);yield i(f,0,t,t+n)}),depth:u}};var f}}}},{package:"ipfs-unixfs-exporter",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/raw.js"}],[4512,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=(e,t,n,r,i,s,o)=>async function*(e={}){const n=e.offset||0,a=e.length||t.Links.length,u=t.Links.slice(n,a);for(const e of u){const t=await i(e.Hash,e.Name,`${r}/${e.Name}`,[],s+1,o);yield t.entry}}}}},{package:"ipfs-unixfs-exporter",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/unixfs-v1/content/directory.js"}],[4513,{"../../../../../is-buffer/index.js":4686,"../../../utils/extract-data-from-block":4516,"../../../utils/validate-offset-and-length":4518,"err-code":2355,"ipfs-unixfs":4537},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("../../../utils/extract-data-from-block"),i=e("../../../utils/validate-offset-and-length"),s=e("ipfs-unixfs"),o=e("err-code");async function*a(e,t,i,u,c=0){if(n.isBuffer(t)){const e=r(t,c,i,u);return e.length&&(yield e),c+=e.length}let l;try{l=s.unmarshal(t.Data)}catch(e){throw o(e,"ERR_NOT_UNIXFS")}if(Boolean(l.data&&l.data.length)){const e=r(l.data,c,i,u);e.length&&(yield e),c+=l.data.length}let f=c;for(let n=0;n<t.Links.length;n++){const r=t.Links[n],s=c+l.blockSizes[n];if(i>=f&&i<s||u>f&&u<=s||i<f&&u>s){const t=await e.get(r.Hash);for await(const n of a(e,t,i,u,c))c+=n.length,yield n}c=s,f=s+1}}t.exports=(e,t,n,r,s,o,u)=>(e={})=>{const r=n.fileSize(),{offset:s,length:o}=i(r,e.offset,e.length);return a(u,t,s,s+o)}}).call(this)}).call(this,{isBuffer:e("../../../../../is-buffer/index.js")})}}},{package:"ipfs-unixfs-exporter",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/unixfs-v1/content/file.js"}],[4514,{},function(){with(this)return function(){"use strict";return function(e,t,n){async function*r(e,t,n,i,s,o){const a=e.Links;for(const u of a){const a=u.Name.substring(2);if(a){const e=await n(u.Hash,a,`${t}/${a}`,[],i+1,s);yield e.entry}else{e=await s.get(u.Hash);for await(const a of r(e,t,n,i,s,o))yield a}}}t.exports=(e,t,n,i,s,o,a)=>(e={})=>r(t,i,s,o,a,e)}}},{package:"ipfs-unixfs-exporter",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/unixfs-v1/content/hamt-sharded-directory.js"}],[4515,{"../../utils/find-cid-in-shard":4517,"./content/directory":4512,"./content/file":4513,"./content/hamt-sharded-directory":4514,"err-code":2355,"ipfs-unixfs":4537},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code"),i=e("ipfs-unixfs"),s=e("../../utils/find-cid-in-shard"),o={raw:e("./content/file"),file:e("./content/file"),directory:e("./content/directory"),"hamt-sharded-directory":e("./content/hamt-sharded-directory"),metadata:(e,t,n,r,i,s,o)=>{},symlink:(e,t,n,r,i,s,o)=>{}};t.exports=async(e,t,n,a,u,c,l)=>{const f=await l.get(e);let h,d;t||(t=e.toBaseEncodedString());try{h=i.unmarshal(f.Data)}catch(e){throw r(e,"ERR_NOT_UNIXFS")}if(n||(n=t),a.length){let e;if(e=h&&"hamt-sharded-directory"===h.type?await s(f,a[0],l):((e,t)=>{const n=e.Links.find((e=>e.Name===t));return n&&n.Hash})(f,a[0]),!e)throw r(new Error("file does not exist"),"ERR_NOT_FOUND");const t=a.shift();d={cid:e,toResolve:a,name:t,path:`${n}/${t}`}}return{entry:{name:t,path:n,cid:e,node:f,content:o[h.type](e,f,h,n,u,c,l),unixfs:h,depth:c},next:d}}}}},{package:"ipfs-unixfs-exporter",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/unixfs-v1/index.js"}],[4516,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){t.exports=function(t,n,r,i){const s=n+t.length;return r>=s||i<n?e.alloc(0):(i>=n&&i<s&&(t=t.slice(0,i-n)),r>=n&&r<s&&(t=t.slice(r-n)),t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-unixfs-exporter",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-exporter/src/utils/extract-data-from-block.js"}],[4517,{"hamt-sharding/src/bucket":4351,"ipfs-unixfs-importer/src/dir-sharded":4530},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("hamt-sharding/src/bucket"),i=e("ipfs-unixfs-importer/src/dir-sharded"),s=e=>e.toString("16").toUpperCase().padStart(2,"0").substring(0,2),o=async(e,t,n,a)=>{var u,c,l;a||((a={rootBucket:new r({hashFn:i.hashFn}),hamtDepth:1}).lastBucket=a.rootBucket),await(u=e.Links,c=a.lastBucket,l=a.rootBucket,Promise.all(u.map((e=>{if(2===e.Name.length){const t=parseInt(e.Name,16);return c._putObjectAt(t,new r({hashFn:i.hashFn},c,t))}return l.put(e.Name.substring(2),!0)}))));const f=await a.rootBucket._findNewBucketAndPos(t);let h=s(f.pos);const d=(e=>{let t=e.bucket;const n=[];for(;t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(f);d.length>a.hamtDepth&&(a.lastBucket=d[a.hamtDepth],h=s(a.lastBucket._posAtParent));const p=e.Links.find((e=>{const n=e.Name.substring(0,2),r=e.Name.substring(2);if(n===h&&(!r||r===t))return!0}));return p?p.Name.substring(2)===t?p.Hash:(a.hamtDepth++,e=await n.get(p.Hash),o(e,t,n,a)):null};t.exports=o}}},{package:"ipfs-unixfs-exporter",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-exporter/src/utils/find-cid-in-shard.js"}],[4518,{"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code");t.exports=(e,t,n)=>{if(t||(t=0),t<0)throw r(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(t>e)throw r(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(n||0===n||(n=e-t),n<0)throw r(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return t+n>e&&(n=e-t),{offset:t,length:n}}}}},{package:"ipfs-unixfs-exporter",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-exporter/src/utils/validate-offset-and-length.js"}],[4519,{bl:2016},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("bl");t.exports=async function*(e,t){let n=new r,i=0,s=!1;const o=t.maxChunkSize;for await(const t of e)for(n.append(t),i+=t.length;i>=o;)if(yield n.slice(0,o),s=!0,o===n.length)n=new r,i=0;else{const e=new r;e.append(n.shallowSlice(o)),n=e,i-=o}s&&!i||(yield n.slice(0,i))}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/chunker/fixed-size.js"}],[4520,{"../chunker/fixed-size":4519,"../chunker/rabin":4521,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code"),i={fixed:e("../chunker/fixed-size"),rabin:e("../chunker/rabin")};t.exports=(e,t,n)=>{const s=i[e];if(!s)throw r(new Error(`Unknkown chunker named ${e}`),"ERR_UNKNOWN_CHUNKER");return s(t,n)}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/chunker/index.js"}],[4521,{bl:2016,buffer:2081,"err-code":2355,"rabin-wasm":5552},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("bl"),{create:i}=e("rabin-wasm"),s=e("err-code");t.exports=async function*(e,t){const n=o();let r,i,a;if(t.minChunkSize&&t.maxChunkSize&&t.avgChunkSize)a=t.avgChunkSize,r=t.minChunkSize,i=t.maxChunkSize;else{if(!t.avgChunkSize)throw s(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");a=t.avgChunkSize,r=a/3,i=a+a/2}if(r<16)throw s(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");i<r&&(i=r),a<r&&(a=r);const u=Math.floor(Math.log2(a));for await(const s of n(e,{min:r,max:i,bits:u,window:t.window,polynomial:t.polynomial}))yield s};const o=()=>async function*(e,t){const s=await i(t.bits,t.min,t.max,t.window),o=new r;let a=[];for await(const t of e){o.append(t),a.push(t);const e=s.fingerprint(n.concat(a));a=[];for(let t=0;t<e.length;t++){var u=e[t],c=o.slice(0,u);o.consume(u),yield c}}o.length&&(yield o.slice(0))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/chunker/rabin.js"}],[4522,{"../utils/persist":4535,"ipfs-unixfs":4537,"ipld-dag-pb":4674},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-unixfs"),i=e("../utils/persist"),{DAGNode:s}=e("ipld-dag-pb");t.exports=async(e,t,n)=>{const o=new r("directory"),a=s.create(o.marshal(),[]);return{cid:await i(a,t,n),path:e.path,unixfs:o,node:a}}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/dir.js"}],[4523,{"async-iterator-batch":1705},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async-iterator-batch");async function i(e,t,n){const s=[];for await(const i of r(e,n.maxChildrenPerNode))s.push(await t(i));return s.length>1?i(s,t,n):s[0]}t.exports=async function*(e,t,n){yield await i(e,t,n)}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/file/balanced.js"}],[4524,{"async-iterator-batch":1705},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async-iterator-batch");t.exports=async function*(e,t){const n=[];for await(const i of r(e,Infinity))n.push(await t(i));yield n[0]}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/file/flat.js"}],[4525,{"../../utils/persist":4535,"./balanced":4523,"./flat":4524,"./trickle":4526,"async-iterator-all":1704,"err-code":2355,"ipfs-unixfs":4537,"ipld-dag-pb":4674},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code"),i=e("ipfs-unixfs"),s=e("../../utils/persist"),{DAGNode:o,DAGLink:a}=e("ipld-dag-pb"),u=e("async-iterator-all"),c={flat:e("./flat"),balanced:e("./balanced"),trickle:e("./trickle")};t.exports=async(e,t,n,l)=>{const f=c[l.strategy];if(!f)throw r(new Error(`Unknown importer build strategy name: ${l.strategy}`),"ERR_BAD_STRATEGY");const h=await u(f(async function*(e,t,n){let r,a=-1;for await(const u of e){let e,c;a++,n.progress(u.length);let l={...n};n.rawLeaves?(e=u,l.codec="raw",l.cidVersion=1):(c=new i(n.leafType,u),e=o.create(c.marshal(),[]));const f={cid:await s(e,t,l),unixfs:c,node:e};0!==a?(1===a&&(yield r,r=null),yield f):r=f}r&&(r.single=!0,yield r)}(t,n,l),((e,t,n)=>async function(r){if(1===r.length&&r[0].single&&n.reduceSingleLeafToSelf){const t=r[0];return{cid:t.cid,path:e.path,name:(e.path||"").split("/").pop(),unixfs:t.unixfs,node:t.node}}const u=new i("file"),c=r.filter((e=>!("raw"!==e.cid.codec||!e.node.length)||!(e.unixfs.data||!e.unixfs.fileSize())||Boolean(e.unixfs.data.length))).map((e=>"raw"===e.cid.codec?(u.addBlockSize(e.node.length),new a(e.name,e.node.length,e.cid)):(e.unixfs.data?u.addBlockSize(e.unixfs.data.length):u.addBlockSize(e.unixfs.fileSize()),new a(e.name,e.node.size,e.cid)))),l=o.create(u.marshal(),c);return{cid:await s(l,t,n),path:e.path,unixfs:u,node:l,size:l.size}})(e,n,l),l.builderOptions));if(h.length>1)throw r(new Error("expected a maximum of 1 roots and got "+h.length),"ETOOMANYROOTS");return h[0]}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/file/index.js"}],[4526,{"async-iterator-batch":1705},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async-iterator-batch");t.exports=function*(e,t,n){yield async function(e,t,n){let o,a=0,u=1,c=o=new s(n.layerRepeat);for await(const s of r(e,n.maxChildrenPerNode))c.isFull()&&(c!==o&&o.addChild(await c.reduce(t)),a&&a%n.layerRepeat==0&&u++,c=new i(u,n.layerRepeat,a),a++),c.append(s);c&&c!==o&&o.addChild(await c.reduce(t));return o.reduce(t)}(e,t,n)};class i{constructor(e,t,n){this.maxDepth=e,this.layerRepeat=t,this.currentDepth=1,this.iteration=n,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const e=this._findParent(this.node,this.currentDepth);return!e||(this._addNextNodeToParent(e),!1)}_addNextNodeToParent(e){this.parent=e;const t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,t){let n=[];return e.children.length&&(n=await Promise.all(e.children.filter((e=>e.data)).map((e=>this._reduce(e,t))))),t(e.data.concat(n))}_findParent(e,t){const n=e.parent;if(n&&0!==n.depth)return n.children.length!==n.maxChildren&&n.maxChildren?n:this._findParent(n,t)}}class s extends i{constructor(e){super(0,e),this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e(this.root.data.concat(this.root.children))}}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/file/trickle.js"}],[4527,{"../chunker":4520,"./dir":4522,"./file":4525,"./validate-chunks":4528},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./dir"),i=e("./file"),s=e("../chunker"),o=e("./validate-chunks");t.exports=async function*(e,t,n){for await(const a of e)if(a.path&&("./"===a.path.substring(0,2)&&(n.wrapWithDirectory=!0),a.path=a.path.split("/").filter((e=>e&&"."!==e)).join("/")),a.content){let e=a.content;(e[Symbol.asyncIterator]||e[Symbol.iterator])&&e.length===undefined||(e={[Symbol.iterator]:function*(){yield a.content}});const r=s(n.chunker,o(e),n.chunkerOptions);yield i(a,r,t,n)}else yield r(a,t,n)}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/index.js"}],[4528,{buffer:2081,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("err-code");t.exports=async function*(e){for await(const t of e){if(t.length===undefined)throw r(new Error("Content was invalid"),"ERR_INVALID_CONTENT");"string"==typeof t||t instanceof String?yield n.from(t,"utf8"):Array.isArray(t)?yield n.from(t):yield t}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/validate-chunks.js"}],[4529,{"./dir":4531,"./utils/persist":4535,"ipfs-unixfs":4537,"ipld-dag-pb":4674},function(){with(this)return function(){"use strict";return function(e,t,n){const{DAGLink:r,DAGNode:i}=e("ipld-dag-pb"),s=e("ipfs-unixfs"),o=e("./dir"),a=e("./utils/persist");t.exports=class extends o{constructor(e,t){super(e,t),this._children={}}put(e,t){this.cid=undefined,this.size=undefined,this._children[e]=t}get(e){return this._children[e]}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}*eachChildSeries(){const e=Object.keys(this._children);for(let t=0;t<e.length;t++){const n=e[t];yield{key:n,child:this._children[n]}}}async*flush(e,t){const n=Object.keys(this._children),o=[];for(let e=0;e<n.length;e++){let i=this._children[n[e]];if("function"==typeof i.flush)for await(const e of i.flush(i.path,t))i=e,yield i;o.push(new r(n[e],i.node.length||i.node.size,i.cid))}const u=new s("directory");let c=i.create(u.marshal(),o);const l=await a(c,t,this.options);this.cid=l,this.size=c.size,yield{cid:l,unixfs:u,path:e,node:c}}}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/dir-flat.js"}],[4530,{"./dir":4531,"./utils/persist":4535,buffer:2081,"deep-extend":2256,"hamt-sharding":4354,"ipfs-unixfs":4537,"ipld-dag-pb":4674,"multihashing-async":5237},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const{DAGLink:r,DAGNode:i}=e("ipld-dag-pb"),s=e("ipfs-unixfs"),o=e("multihashing-async"),a=e("./dir"),u=e("./utils/persist"),c=e("hamt-sharding"),l=e("deep-extend"),f=async function(e){const t=(await o(n.from(e,"utf8"),"murmur3-128")).slice(2,10),r=t.length,i=n.alloc(r);for(let e=0;e<r;e++)i[r-e-1]=t[e];return i};f.code=34;const h={hashFn:f};async function*d(e,t,o,a){const l=t._children,f=[];for(let e=0;e<l.length;e++){const t=l.get(e);if(!t)continue;const n=e.toString(16).toUpperCase().padStart(2,"0");if(c.isBucket(t)){let e;for await(const n of await d("",t,o,a))e=n;f.push(await new r(n,e.node.size,e.cid))}else if("function"==typeof t.value.flush){const e=t.value;let i;for await(const t of e.flush(e.path,o))i=t,yield i;const s=n+t.key;f.push(new r(s,i.node.size,i.cid))}else{const e=t.value;if(!e.node){if(!e.cid)continue;e.node=await o.get(e.cid)}const i=n+t.key,s=e.node.length||e.node.size||e.node.Size;f.push(await new r(i,s,e.cid))}}const h=n.from(l.bitField().reverse()),p=new s("hamt-sharded-directory",h);p.fanout=t.tableSize(),p.hashType=a.hashFn.code;const m=i.create(p.marshal(),f),g=await u(m,o,a);yield{cid:g,node:m,unixfs:p,path:e}}t.exports=class extends a{constructor(e,t){super(e,t=l({},h,t)),this._bucket=c(t)}async put(e,t){await this._bucket.put(e,t)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}async*flush(e,t){for await(const n of d(e,this._bucket,t,this.options))yield n}},t.exports.hashFn=f}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/dir-sharded.js"}],[4531,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=class{constructor(e,t){this.options=t||{},Object.assign(this,e)}}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/dir.js"}],[4532,{"./dir-sharded":4530},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./dir-sharded");t.exports=async function e(t,n,i,s){let o=n;n.flat&&n.directChildrenCount()>=i&&(o=await async function(e,t){const n=new r({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1},t);for await(const{key:t,child:r}of e.eachChildSeries())await n.put(t,r);return n}(n,s));const a=o.parent;return a&&(o!==n&&(t&&(t.parent=o),await a.put(o.parentKey,o)),a)?e(o,a,i,s):o}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/flat-to-shard.js"}],[4533,{"./dag-builder":4527,"./tree-builder":4534,multihashes:5234,superstruct:5906},function(){with(this)return function(){"use strict";return function(e,t,n){const{superstruct:r}=e("superstruct"),i=e("./dag-builder"),s=e("./tree-builder"),o=e("multihashes"),a=r({types:{codec:e=>["dag-pb","dag-cbor","raw"].includes(e),hashAlg:e=>Object.keys(o.names).includes(e),leafType:e=>["file","raw"].includes(e)}}),u=a({minChunkSize:"number?",maxChunkSize:"number?",avgChunkSize:"number?",window:"number?",polynomial:"number?"},{maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804}),c=a({maxChildrenPerNode:"number?",layerRepeat:"number?"},{maxChildrenPerNode:174,layerRepeat:4}),l=a({chunker:a.enum(["fixed","rabin"]),rawLeaves:"boolean?",hashOnly:"boolean?",strategy:a.enum(["balanced","flat","trickle"]),reduceSingleLeafToSelf:"boolean?",codec:"codec?",format:"codec?",hashAlg:"hashAlg?",leafType:"leafType?",cidVersion:"number?",progress:"function?",wrapWithDirectory:"boolean?",shardSplitThreshold:"number?",onlyHash:"boolean?",chunkerOptions:u,builderOptions:c,wrap:"boolean?",pin:"boolean?",recursive:"boolean?",ignore:"array?",hidden:"boolean?",preload:"boolean?"},{chunker:"fixed",strategy:"balanced",rawLeaves:!1,reduceSingleLeafToSelf:!0,codec:"dag-pb",hashAlg:"sha2-256",leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3});t.exports=async function*(e,t,n={}){const r=l(n);n.cidVersion>0&&n.rawLeaves===undefined&&(r.rawLeaves=!0),n.hashAlg!==undefined&&n.rawLeaves===undefined&&(r.rawLeaves=!0),"trickle"===n.strategy&&(r.leafType="raw",r.reduceSingleLeafToSelf=!1),n.format&&(n.codec=n.format);for await(const n of s(i(e,t,r),t,r))yield{cid:n.cid,path:n.path,unixfs:n.unixfs,size:n.size}}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/index.js"}],[4534,{"./dir":4531,"./dir-flat":4529,"./flat-to-shard":4532,"./utils/to-path-components":4536,"async-iterator-first":1706,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./dir-flat"),i=e("./flat-to-shard"),s=e("./dir"),o=e("./utils/to-path-components"),a=e("err-code"),u=e("async-iterator-first");async function c(e,t,n){const a=o(e.path||""),u=a.length-1;let c=t,l="";for(let o=0;o<a.length;o++){const f=a[o];l+=`${l?"/":""}${f}`;const h=o===u;if(c.dirty=!0,c.cid=null,c.size=null,h)await c.put(f,e),t=await i(null,c,n.shardSplitThreshold,n);else{let e=await c.get(f);e&&e instanceof s||(e=new r({dir:!0,parent:c,parentKey:f,path:l,dirty:!0,flat:!0},n)),await c.put(f,e),c=e}}return t}t.exports=async function*(e,t,n){let i=new r({root:!0,dir:!0,path:"",dirty:!0,flat:!0},n);for await(const t of e)i=await c(t,i,n),yield t;if(i){if(!n.wrapWithDirectory){if(i.childCount()>1)throw a(new Error("detected more than one root"),"ERR_MORE_THAN_ONE_ROOT");const e=await u(i.eachChildSeries());if(!e)return;i=e.child}if(!i.dir)return;for await(const e of i.flush(i.path,t))yield e}}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/tree-builder.js"}],[4535,{multicodec:5219,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multihashes"),i=e("multicodec");t.exports=(e,t,n)=>{!n.codec&&e.length&&(n.cidVersion=1,n.codec="raw"),isNaN(n.hashAlg)&&(n.hashAlg=r.names[n.hashAlg]),n.hashAlg!==r.names["sha2-256"]&&(n.cidVersion=1),n.format&&(n.codec=n.format);const s=i[n.codec.toUpperCase().replace(/-/g,"_")];return t.put(e,s,n)}}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/utils/persist.js"}],[4536,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=(e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)}}},{package:"ipfs-unixfs-importer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs-importer/src/utils/to-path-components.js"}],[4537,{"./unixfs.proto":4538,protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("protons")(e("./unixfs.proto")).Data,i=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],s=["directory","hamt-sharded-directory"];function o(e,t){if(!(this instanceof o))return new o(e,t);if(-1===i.indexOf(e))throw new Error("Type: "+e+" is not valid");this.type=e,this.data=t,this.blockSizes=[],this.addBlockSize=e=>{this.blockSizes.push(e)},this.removeBlockSize=e=>{this.blockSizes.splice(e,1)},this.fileSize=()=>{if(s.indexOf(this.type)>=0)return undefined;let e=0;return this.blockSizes.forEach((t=>{e+=t})),t&&(e+=t.length),e},this.marshal=()=>{let e;switch(this.type){case"raw":e=r.DataType.Raw;break;case"directory":e=r.DataType.Directory;break;case"file":e=r.DataType.File;break;case"metadata":e=r.DataType.Metadata;break;case"symlink":e=r.DataType.Symlink;break;case"hamt-sharded-directory":e=r.DataType.HAMTShard;break;default:throw new Error(`Unkown type: "${this.type}"`)}let t=this.fileSize(),n=this.data;this.data&&this.data.length||(n=undefined);let i=this.blockSizes;return this.blockSizes&&this.blockSizes.length||(i=undefined),r.encode({Type:e,Data:n,filesize:t,blocksizes:i,hashType:this.hashType,fanout:this.fanout})}}o.unmarshal=e=>{const t=r.decode(e);t.Data||(t.Data=undefined);const n=new o(i[t.Type],t.Data);return n.blockSizes=t.blocksizes,n},t.exports=o}}},{package:"ipfs-unixfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs/src/index.js"}],[4538,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="message Data {\n  enum DataType {\n    Raw = 0;\n    Directory = 1;\n    File = 2;\n    Metadata = 3;\n    Symlink = 4;\n    HAMTShard = 5;\n  }\n\n  required DataType Type = 1;\n  optional bytes Data = 2;\n  optional uint64 filesize = 3;\n  repeated uint64 blocksizes = 4;\n\n  optional uint64 hashType = 5;\n  optional uint64 fanout = 6;\n}\n\nmessage Metadata {\n  optional string MimeType = 1;\n}"}}},{package:"ipfs-unixfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-unixfs/src/unixfs.proto.js"}],[4539,{},function(){with(this)return function(){"use strict";return function(e,t,n){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}}}},{package:"is-buffer",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/is-buffer/index.js"}],[4540,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function s(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(n===undefined||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(s(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/errors-browser.js"}],[4541,{"./_stream_readable":4543,"./_stream_writable":4545,_process:5420,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=c;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,i);for(var o=r(s.prototype),a=0;a<o.length;a++){var u=o[a];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/_stream_duplex.js"}],[4542,{"./_stream_transform":4544,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/_stream_passthrough.js"}],[4543,{"../errors":4540,"./_stream_duplex":4541,"./internal/streams/async_iterator":4546,"./internal/streams/buffer_list":4547,"./internal/streams/destroy":4548,"./internal/streams/from":4550,"./internal/streams/state":4552,"./internal/streams/stream":4553,_process:5420,buffer:2081,events:2082,inherits:4404,"string_decoder/":5897,util:2080},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;t.exports=E,E.ReadableState=x;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=global.Uint8Array||function(){};var u,c=e("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,f,h,d=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,b=g.ERR_INVALID_ARG_TYPE,_=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,y=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(E,s);var k=p.errorOrDestroy,v=["error","close","destroy","pause","resume"];function x(t,n,i){r=r||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=n instanceof r),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function E(t){if(r=r||e("./_stream_duplex"),!(this instanceof E))return new E(t);var n=this instanceof r;this._readableState=new x(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(e,t,n,r,i){u("readableAddChunk",t);var s,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}(e,c);else if(i||(s=function(e,t){var n;r=t,o.isBuffer(r)||r instanceof a||"string"==typeof t||t===undefined||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(c,t)),s)k(e,s);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),r)c.endEmitted?k(e,new y):j(e,c,t,!0);else if(c.ended)k(e,new _);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!n?(t=c.decoder.write(t),c.objectMode||0!==t.length?j(e,c,t,!1):O(e,c)):j(e,c,t,!1)}else r||(c.reading=!1,O(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function j(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),O(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=o.from(e,t),t=""),n=!0),S(this,e,t,!1,n)},E.prototype.unshift=function(e){return S(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var n=new l(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var R=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(N,e))}function N(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function O(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function P(e){u("readable nexttick read 0"),e.read(0)}function D(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function M(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(z,t,e))}function z(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}E.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):I(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(r=e>0?C(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},E.prototype._read=function(e){k(this,new w("_read()"))},E.prototype.pipe=function(e,t){var r=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:g;function a(t,n){u("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",g),r.removeListener("data",h),f=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}s.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,B(e))}}(r);e.on("drain",l);var f=!1;function h(t){u("ondata");var n=e.write(t);u("dest.write",n),!1===n&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==F(s.pipes,e))&&!f&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),r.pause())}function d(t){u("onerror",t),g(),e.removeListener("error",d),0===i(e,"error")&&k(e,t)}function p(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",p),g()}function g(){u("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",p),e.once("finish",m),e.emit("pipe",r),s.flowing||(u("pipe resume"),r.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=F(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},E.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?I(this):i.reading||n.nextTick(P,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(L,this),r},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||n.nextTick(L,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(D,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&i!==undefined)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<v.length;s++)e.on(v[s],this.emit.bind(this,v[s]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return f===undefined&&(f=e("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=C,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,n){return h===undefined&&(h=e("./internal/streams/from")),h(E,t,n)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/_stream_readable.js"}],[4544,{"../errors":4540,"./_stream_duplex":4541,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=l;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/_stream_transform.js"}],[4545,{"../errors":4540,"./_stream_duplex":4541,"./internal/streams/destroy":4548,"./internal/streams/state":4552,"./internal/streams/stream":4553,_process:5420,buffer:2081,inherits:4404,"util-deprecate":6008},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=E,E.WritableState=x;var s={deprecate:e("util-deprecate")},o=e("./internal/streams/stream"),a=e("buffer").Buffer,u=global.Uint8Array||function(){};var c,l=e("./internal/streams/destroy"),f=e("./internal/streams/state").getHighWaterMark,h=e("../errors").codes,d=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,_=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,y=h.ERR_UNKNOWN_ENCODING,k=l.errorOrDestroy;function v(){}function x(t,s,o){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,s=r.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,s){--t.pendingcb,r?(n.nextTick(s,i),n.nextTick(N,e,t),e._writableState.errorEmitted=!0,k(e,i)):(s(i),e._writableState.errorEmitted=!0,k(e,i),N(e,t))}(e,r,i,t,s);else{var o=A(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||R(e,r),i?n.nextTick(j,e,r,o,s):j(e,r,o,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function E(t){var n=this instanceof(i=i||e("./_stream_duplex"));if(!n&&!c.call(E,this))return new E(t);this._writableState=new x(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function S(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function j(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),N(e,t)}function R(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)s[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;s.allBuffers=u,S(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(S(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(n){t.pendingcb--,n&&k(e,n),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var r=A(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}e("inherits")(E,o),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===E&&(e&&e._writableState instanceof x)}})):c=function(e){return e instanceof this},E.prototype.pipe=function(){k(this,new g)},E.prototype.write=function(e,t,r){var i,s=this._writableState,o=!1,c=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof u);return c&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=v),s.ending?function(e,t){var r=new w;k(e,r),n.nextTick(t,r)}(this,r):(c||function(e,t,r,i){var s;return null===r?s=new _:"string"==typeof r||t.objectMode||(s=new d("chunk",["string","Buffer"],r)),!s||(k(e,s),n.nextTick(i,s),!1)}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var u=t.objectMode?1:r.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,u,r,i,s);return c}(this,s,c,e,t,r)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new y(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,n){n(new p("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,N(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/_stream_writable.js"}],[4546,{"./end-of-stream":4549,_process:5420},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var n=e[h].read();null!==n&&(e[l]=null,e[o]=null,e[a]=null,t(d(n,!1)))}}function m(e){n.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(d(undefined,!0));if(this[h].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(d(undefined,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(d(undefined,!0)):t[f](n,r)}),r)}}(i,this));else{var s=this[h].read();if(null!==s)return Promise.resolve(d(s,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(d(undefined,!0))}))}))})),r),g);t.exports=function(e){var t,n=Object.create(b,(i(t={},h,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var r=n[h].read();r?(n[l]=null,n[o]=null,n[a]=null,e(d(r,!1))):(n[o]=e,n[a]=t)},writable:!0}),t));return n[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[o]=null,n[a]=null,t(e)),void(n[u]=e)}var r=n[o];null!==r&&(n[l]=null,n[o]=null,n[a]=null,r(d(undefined,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[4547,{buffer:2081,util:2080},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=e("buffer").Buffer,a=e("util").inspect,u=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,c;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,n,r,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=i,r=a,o.prototype.copy.call(t,n,r),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?r+=i:r+=i.slice(0,e),0==(e-=s)){s===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(s));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&s(t.prototype,n),c&&s(t,c),e}()}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[4548,{_process:5420},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(r,o):(o._writableState.errorEmitted=!0,e.nextTick(n,o,t)):e.nextTick(n,o,t):s?(e.nextTick(r,o),s(t)):e.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[4549,{"../../../errors":4540},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,n,s){if("function"==typeof n)return e(t,null,n);n||(n={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(s||i);var o=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){a=!1,c=!0,o||s.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){o=!1,f=!0,a||s.call(t)},d=function(e){s.call(t,e)},p=function(){var e;return o&&!f?(t._readableState&&t._readableState.ended||(e=new r),s.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new r),s.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",h),t.on("finish",l),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[4550,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[4551,{"../../../errors":4540,"./end-of-stream":4549},function(){with(this)return function(){"use strict";return function(e,t,n){var r;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(t,n,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),r===undefined&&(r=e("./end-of-stream")),r(t,{readable:n,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,n){var s=n<t.length-1;return u(e,s,n>0,(function(e){r||(r=e),e&&o.forEach(c),s||(o.forEach(c),i(r))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[4552,{"../../../errors":4540},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var s=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new r(i?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/state.js"}],[4553,{events:2082},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("events").EventEmitter}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[4554,{"./lib/_stream_duplex.js":4541,"./lib/_stream_passthrough.js":4542,"./lib/_stream_readable.js":4543,"./lib/_stream_transform.js":4544,"./lib/_stream_writable.js":4545,"./lib/internal/streams/end-of-stream.js":4549,"./lib/internal/streams/pipeline.js":4551},function(){with(this)return function(){"use strict";return function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/readable-browser.js"}],[4555,{"is-buffer":4539,"is-pull-stream":4702,"is-stream":4705,"kind-of":4776},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("kind-of"),i=e("is-stream"),{isSource:s}=e("is-pull-stream"),o=e("is-buffer");t.exports=e=>{const t=e=>o(e)||i.readable(e)||s(e)||"file"===r(e),n=e=>t(e)||(e=>"object"==typeof e&&(e.content?t(e.content):Boolean(e.path)&&"string"==typeof e.path))(e);if(n(e)||Array.isArray(e)&&e.every(n))return!0;throw new Error(`Input not supported. Expected Buffer|ReadableStream|PullStream|File|Array<Object> got ${r(e)}. Check the documentation for more info https://github.com/ipfs/interface-js-ipfs-core/blob/master/SPEC/FILES.md#add`)}}}},{package:"ipfs-utils",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/src/files/add-input-validation.js"}],[4556,{"../supports":4557,"readable-stream":4554},function(){with(this)return function(){"use strict";return function(e,t,n){const{Readable:r}=e("readable-stream"),{supportsFileReader:i}=e("../supports");t.exports=(e,t)=>{if(!i)throw new Error("FileReader DOM API is not supported.");return new class extends r{constructor(e,t={}){super(t),this.file=e,this.offset=t.offset||0,this.chunkSize=t.chunkSize||1048576,this.fileReader=new self.FileReader(e),this.fileReader.onloadend=e=>{const t=e.target.result;0===t.byteLength&&this.push(null),this.push(new Uint8Array(t))},this.fileReader.onerror=e=>this.destroy(e)}_read(t){const n=this.offset+this.chunkSize,r=e.slice(this.offset,n);this.fileReader.readAsArrayBuffer(r),this.offset=n}}(e,t)}}}},{package:"ipfs-utils",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/src/streams/stream-from-filereader.js"}],[4557,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={supportsFileReader:"undefined"!=typeof self&&"FileReader"in self}}}},{package:"ipfs-utils",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs-utils/src/supports.js"}],[4558,{},function(){with(this)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,d=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(t=e[r++]+"",n=c-t.length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function g(e,t){var n,r,i=e.c,s=t.c,o=e.s,a=t.s,u=e.e,c=t.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=u==c,!i||!s)return r?0:!i^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return u==c?0:u>c^n?1:-1}function b(e,t,n,r){if(e<t||e>n||e!==s(e))throw Error(o+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function _(e){var t=e.c.length-1;return p(e.e/c)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function y(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,k,v,x,E,S,j,R,A,I,N=H.prototype={constructor:H,toString:null,valueOf:null},O=new H(1),T=20,L=4,P=-7,D=21,B=-1e7,C=1e7,M=!1,z=1,F=0,U={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},$="0123456789abcdefghijklmnopqrstuvwxyz";function H(e,t){var n,i,o,u,f,h,d,p,m=this;if(!(m instanceof H))return new H(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>C?m.c=m.e=null:e.e<B?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,f=e;f>=10;f/=10,u++);return void(u>C?m.c=m.e=null:(m.e=u,m.c=[e]))}p=String(e)}else{if(!r.test(p=String(e)))return v(m,p,h);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(u=p.indexOf("."))>-1&&(p=p.replace(".","")),(f=p.search(/e/i))>0?(u<0&&(u=f),u+=+p.slice(f+1),p=p.substring(0,f)):u<0&&(u=p.length)}else{if(b(t,2,$.length,"Base"),10==t)return G(m=new H(e),T+m.e+1,L);if(p=String(e),h="number"==typeof e){if(0*e!=0)return v(m,p,h,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,H.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=$.slice(0,t),u=f=0,d=p.length;f<d;f++)if(n.indexOf(i=p.charAt(f))<0){if("."==i){if(f>u){u=d;continue}}else if(!o&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){o=!0,f=-1,u=0;continue}return v(m,String(e),h,t)}h=!1,(u=(p=k(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):u=p.length}for(f=0;48===p.charCodeAt(f);f++);for(d=p.length;48===p.charCodeAt(--d););if(p=p.slice(f,++d)){if(d-=f,h&&H.DEBUG&&d>15&&(e>l||e!==s(e)))throw Error(a+m.s*e);if((u=u-f-1)>C)m.c=m.e=null;else if(u<B)m.c=[m.e=0];else{if(m.e=u,m.c=[],f=(u+1)%c,u<0&&(f+=c),f<d){for(f&&m.c.push(+p.slice(0,f)),d-=c;f<d;)m.c.push(+p.slice(f,f+=c));f=c-(p=p.slice(f)).length}else f-=d;for(;f--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function q(e,t,n,r){var i,s,o,a,u;if(null==n?n=L:b(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)u=m(e.c),u=1==r||2==r&&(o<=P||o>=D)?w(u,o):y(u,o,"0");else if(s=(e=G(new H(e),t,n)).e,a=(u=m(e.c)).length,1==r||2==r&&(t<=s||s<=P)){for(;a<t;u+="0",a++);u=w(u,s)}else if(t-=o,u=y(u,s,"0"),s+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-a)>0)for(s+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function V(e,t){for(var n,r=1,i=new H(e[0]);r<e.length;r++){if(!(n=new H(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function W(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*c-1)>C?e.c=e.e=null:n<B?e.c=[e.e=0]:(e.e=n,e.c=t),e}function G(e,t,n,r){var o,a,l,h,d,p,m,g=e.c,b=f;if(g){e:{for(o=1,h=g[0];h>=10;h/=10,o++);if((a=t-o)<0)a+=c,l=t,m=(d=g[p=0])/b[o-l-1]%10|0;else if((p=i((a+1)/c))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));d=m=0,o=1,l=(a%=c)-c+1}else{for(d=h=g[p],o=1;h>=10;h/=10,o++);m=(l=(a%=c)-c+o)<0?0:d/b[o-l-1]%10|0}if(r=r||t<0||null!=g[p+1]||(l<0?d:d%b[o-l-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(a>0?l>0?d/b[o-l]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=b[(c-t%c)%c],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,h=1,p--):(g.length=p+1,h=b[c-a],g[p]=l>0?s(d/b[o-l]%b[l])*h:0),r)for(;;){if(0==p){for(a=1,l=g[0];l>=10;l/=10,a++);for(l=g[0]+=h,h=1;l>=10;l/=10,h++);a!=h&&(e.e++,g[0]==u&&(g[0]=1));break}if(g[p]+=h,g[p]!=u)break;g[p--]=0,h=1}for(a=g.length;0===g[--a];g.pop());}e.e>C?e.c=e.e=null:e.e<B&&(e.c=[e.e=0])}return e}function K(e){var t,n=e.e;return null===n?e.toString():(t=m(e.c),t=n<=P||n>=D?w(t,n):y(t,n,"0"),e.s<0?"-"+t:t)}return H.clone=e,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(o+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(n=e[t],0,d,t),T=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(n=e[t],0,8,t),L=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(b(n[0],-d,0,t),b(n[1],0,d,t),P=n[0],D=n[1]):(b(n,-d,d,t),P=-(D=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)b(n[0],-d,-1,t),b(n[1],1,d,t),B=n[0],C=n[1];else{if(b(n,-d,d,t),!n)throw Error(o+t+" cannot be zero: "+n);B=-(C=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(o+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw M=!n,Error(o+"crypto unavailable");M=n}else M=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(n=e[t],0,9,t),z=n),e.hasOwnProperty(t="POW_PRECISION")&&(b(n=e[t],0,d,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(o+t+" not an object: "+n);U=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(o+t+" invalid: "+n);$=n}}return{DECIMAL_PLACES:T,ROUNDING_MODE:L,EXPONENTIAL_AT:[P,D],RANGE:[B,C],CRYPTO:M,MODULO_MODE:z,POW_PRECISION:F,FORMAT:U,ALPHABET:$}},H.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!H.DEBUG)return!0;var t,n,r=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&i>=-d&&i<=d&&i===s(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%c)<1&&(t+=c),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=u||n!==s(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(o+"Invalid BigNumber: "+e)},H.maximum=H.max=function(){return V(arguments,N.lt)},H.minimum=H.min=function(){return V(arguments,N.gt)},H.random=(x=9007199254740992,E=Math.random()*x&2097151?function(){return s(Math.random()*x)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,u,l=0,h=[],p=new H(O);if(null==e?e=T:b(e,0,d),a=i(e/c),M)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(u=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(h.push(u%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw M=!1,Error(o+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(u=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(h.push(u%1e14),l+=7);l=a/7}if(!M)for(;l<a;)(u=E())<9e15&&(h[l++]=u%1e14);for(a=h[--l],e%=c,a&&e&&(u=f[c-e],h[l]=s(a/u)*u);0===h[l];h.pop(),l--);if(l<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=c);for(l=1,u=h[0];u>=10;u/=10,l++);l<c&&(r-=c-l)}return p.e=r,p.c=h,p}),H.sum=function(){for(var e=1,t=arguments,n=new H(t[0]);e<t.length;)n=n.plus(t[e++]);return n},k=function(){var e="0123456789";function t(e,t,n,r){for(var i,s,o=[0],a=0,u=e.length;a<u;){for(s=o.length;s--;o[s]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(r,i,s,o,a){var u,c,l,f,h,d,p,g,b=r.indexOf("."),_=T,w=L;for(b>=0&&(f=F,F=0,r=r.replace(".",""),d=(g=new H(i)).pow(r.length-b),F=f,g.c=t(y(m(d.c),d.e,"0"),10,s,e),g.e=g.c.length),l=f=(p=t(r,i,s,a?(u=$,e):(u=e,$))).length;0==p[--f];p.pop());if(!p[0])return u.charAt(0);if(b<0?--l:(d.c=p,d.e=l,d.s=o,p=(d=n(d,g,_,w,s)).c,h=d.r,l=d.e),b=p[c=l+_+1],f=s/2,h=h||c<0||null!=p[c+1],h=w<4?(null!=b||h)&&(0==w||w==(d.s<0?3:2)):b>f||b==f&&(4==w||h||6==w&&1&p[c-1]||w==(d.s<0?8:7)),c<1||!p[0])r=h?y(u.charAt(1),-_,u.charAt(0)):u.charAt(0);else{if(p.length=c,h)for(--s;++p[--c]>s;)p[c]=0,c||(++l,p=[1].concat(p));for(f=p.length;!p[--f];);for(b=0,r="";b<=f;r+=u.charAt(p[b++]));r=y(r,l,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,s,o,a=0,u=e.length,c=t%h,l=t/h|0;for(e=e.slice();u--;)a=((i=c*(s=e[u]%h)+(r=l*s+(o=e[u]/h|0)*c)%h*h+a)/n|0)+(r/h|0)+l*o,e[u]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,o,a,l){var f,h,d,m,g,b,_,w,y,k,v,x,E,S,j,R,A,I=r.s==i.s?1:-1,N=r.c,O=i.c;if(!(N&&N[0]&&O&&O[0]))return new H(r.s&&i.s&&(N?!O||N[0]!=O[0]:O)?N&&0==N[0]||!O?0*I:I/0:NaN);for(y=(w=new H(I)).c=[],I=o+(h=r.e-i.e)+1,l||(l=u,h=p(r.e/c)-p(i.e/c),I=I/c|0),d=0;O[d]==(N[d]||0);d++);if(O[d]>(N[d]||0)&&h--,I<0)y.push(1),m=!0;else{for(S=N.length,R=O.length,d=0,I+=2,(g=s(l/(O[0]+1)))>1&&(O=e(O,g,l),N=e(N,g,l),R=O.length,S=N.length),E=R,v=(k=N.slice(0,R)).length;v<R;k[v++]=0);A=O.slice(),A=[0].concat(A),j=O[0],O[1]>=l/2&&j++;do{if(g=0,(f=t(O,k,R,v))<0){if(x=k[0],R!=v&&(x=x*l+(k[1]||0)),(g=s(x/j))>1)for(g>=l&&(g=l-1),_=(b=e(O,g,l)).length,v=k.length;1==t(b,k,_,v);)g--,n(b,R<_?A:O,_,l),_=b.length,f=1;else 0==g&&(f=g=1),_=(b=O.slice()).length;if(_<v&&(b=[0].concat(b)),n(k,b,v,l),v=k.length,-1==f)for(;t(O,k,R,v)<1;)g++,n(k,R<v?A:O,v,l),v=k.length}else 0===f&&(g++,k=[0]);y[d++]=g,k[0]?k[v++]=N[E]||0:(k=[N[E]],v=1)}while((E++<S||null!=k[0])&&I--);m=null!=k[0],y[0]||y.splice(0,1)}if(l==u){for(d=1,I=y[0];I>=10;I/=10,d++);G(w,o+(w.e=d+h*c-1)+1,a,m)}else w.e=h,w.r=+m;return w}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,j=/^([^.]+)\.$/,R=/^\.([^.]+)$/,A=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,v=function(e,t,n,r){var i,s=n?t:t.replace(I,"");if(A.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(S,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(j,"$1").replace(R,"0.$1")),t!=s))return new H(s,i);if(H.DEBUG)throw Error(o+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},N.absoluteValue=N.abs=function(){var e=new H(this);return e.s<0&&(e.s=1),e},N.comparedTo=function(e,t){return g(this,new H(e,t))},N.decimalPlaces=N.dp=function(e,t){var n,r,i,s=this;if(null!=e)return b(e,0,d),null==t?t=L:b(t,0,8),G(new H(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((i=n.length-1)-p(this.e/c))*c,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},N.dividedBy=N.div=function(e,t){return n(this,new H(e,t),T,L)},N.dividedToIntegerBy=N.idiv=function(e,t){return n(this,new H(e,t),0,1)},N.exponentiatedBy=N.pow=function(e,t){var n,r,a,u,l,f,h,d,p=this;if((e=new H(e)).c&&!e.isInteger())throw Error(o+"Exponent not an integer: "+K(e));if(null!=t&&(t=new H(t)),l=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return d=new H(Math.pow(+K(p),l?2-_(e):+K(e))),t?d.mod(t):d;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new H(NaN);(r=!f&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return u=p.s<0&&_(e)?-0:0,p.e>-1&&(u=1/u),new H(f?1/u:u);F&&(u=i(F/c+2))}for(l?(n=new H(.5),f&&(e.s=1),h=_(e)):h=(a=Math.abs(+K(e)))%2,d=new H(O);;){if(h){if(!(d=d.times(p)).c)break;u?d.c.length>u&&(d.c.length=u):r&&(d=d.mod(t))}if(a){if(0===(a=s(a/2)))break;h=a%2}else if(G(e=e.times(n),e.e+1,1),e.e>14)h=_(e);else{if(0===(a=+K(e)))break;h=a%2}p=p.times(p),u?p.c&&p.c.length>u&&(p.c.length=u):r&&(p=p.mod(t))}return r?d:(f&&(d=O.div(d)),t?d.mod(t):u?G(d,F,L,undefined):d)},N.integerValue=function(e){var t=new H(this);return null==e?e=L:b(e,0,8),G(t,t.e+1,e)},N.isEqualTo=N.eq=function(e,t){return 0===g(this,new H(e,t))},N.isFinite=function(){return!!this.c},N.isGreaterThan=N.gt=function(e,t){return g(this,new H(e,t))>0},N.isGreaterThanOrEqualTo=N.gte=function(e,t){return 1===(t=g(this,new H(e,t)))||0===t},N.isInteger=function(){return!!this.c&&p(this.e/c)>this.c.length-2},N.isLessThan=N.lt=function(e,t){return g(this,new H(e,t))<0},N.isLessThanOrEqualTo=N.lte=function(e,t){return-1===(t=g(this,new H(e,t)))||0===t},N.isNaN=function(){return!this.s},N.isNegative=function(){return this.s<0},N.isPositive=function(){return this.s>0},N.isZero=function(){return!!this.c&&0==this.c[0]},N.minus=function(e,t){var n,r,i,s,o=this,a=o.s;if(t=(e=new H(e,t)).s,!a||!t)return new H(NaN);if(a!=t)return e.s=-t,o.plus(e);var l=o.e/c,f=e.e/c,h=o.c,d=e.c;if(!l||!f){if(!h||!d)return h?(e.s=-t,e):new H(d?o:NaN);if(!h[0]||!d[0])return d[0]?(e.s=-t,e):new H(h[0]?o:3==L?-0:0)}if(l=p(l),f=p(f),h=h.slice(),a=l-f){for((s=a<0)?(a=-a,i=h):(f=l,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(s=(a=h.length)<(t=d.length))?a:t,a=t=0;t<r;t++)if(h[t]!=d[t]){s=h[t]<d[t];break}if(s&&(i=h,h=d,d=i,e.s=-e.s),(t=(r=d.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=u-1;r>a;){if(h[--r]<d[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=u}h[r]-=d[r]}for(;0==h[0];h.splice(0,1),--f);return h[0]?W(e,h,f):(e.s=3==L?-1:1,e.c=[e.e=0],e)},N.modulo=N.mod=function(e,t){var r,i,s=this;return e=new H(e,t),!s.c||!e.s||e.c&&!e.c[0]?new H(NaN):!e.c||s.c&&!s.c[0]?new H(s):(9==z?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,z),(e=s.minus(r.times(e))).c[0]||1!=z||(e.s=s.s),e)},N.multipliedBy=N.times=function(e,t){var n,r,i,s,o,a,l,f,d,m,g,b,_,w,y,k=this,v=k.c,x=(e=new H(e,t)).c;if(!(v&&x&&v[0]&&x[0]))return!k.s||!e.s||v&&!v[0]&&!x||x&&!x[0]&&!v?e.c=e.e=e.s=null:(e.s*=k.s,v&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p(k.e/c)+p(e.e/c),e.s*=k.s,(l=v.length)<(m=x.length)&&(_=v,v=x,x=_,i=l,l=m,m=i),i=l+m,_=[];i--;_.push(0));for(w=u,y=h,i=m;--i>=0;){for(n=0,g=x[i]%y,b=x[i]/y|0,s=i+(o=l);s>i;)n=((f=g*(f=v[--o]%y)+(a=b*f+(d=v[o]/y|0)*g)%y*y+_[s]+n)/w|0)+(a/y|0)+b*d,_[s--]=f%w;_[s]=n}return n?++r:_.splice(0,1),W(e,_,r)},N.negated=function(){var e=new H(this);return e.s=-e.s||null,e},N.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new H(e,t)).s,!i||!t)return new H(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/c,o=e.e/c,a=r.c,l=e.c;if(!s||!o){if(!a||!l)return new H(i/0);if(!a[0]||!l[0])return l[0]?e:new H(a[0]?r:0*i)}if(s=p(s),o=p(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=l):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=l.length)<0&&(n=l,l=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+l[t]+i)/u|0,a[t]=u===a[t]?0:a[t]%u;return i&&(a=[i].concat(a),++o),W(e,a,o)},N.precision=N.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return b(e,1,d),null==t?t=L:b(t,0,8),G(new H(s),e,t);if(!(n=s.c))return null;if(r=(i=n.length-1)*c+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},N.shiftedBy=function(e){return b(e,-9007199254740991,l),this.times("1e"+e)},N.squareRoot=N.sqrt=function(){var e,t,r,i,s,o=this,a=o.c,u=o.s,c=o.e,l=T+4,f=new H("0.5");if(1!==u||!a||!a[0])return new H(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+K(o)))||u==1/0?(((t=m(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=p((c+1)/2)-(c<0||c%2),r=new H(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new H(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(s=r,r=f.times(s.plus(n(o,s,l,1))),m(s.c).slice(0,u)===(t=m(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(G(r,r.e+T+2,1),e=!r.times(r).eq(o));break}if(!i&&(G(s,s.e+T+2,0),s.times(s).eq(o))){r=s;break}l+=4,u+=4,i=1}return G(r,r.e+T+1,L,e)},N.toExponential=function(e,t){return null!=e&&(b(e,0,d),e++),q(this,e,t,1)},N.toFixed=function(e,t){return null!=e&&(b(e,0,d),e=e+this.e+1),q(this,e,t)},N.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=U;else if("object"!=typeof n)throw Error(o+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,a=r.split("."),u=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",f=a[0],h=a[1],d=i.s<0,p=d?f.slice(1):f,m=p.length;if(c&&(s=u,u=c,c=s,m-=s),u>0&&m>0){for(s=m%u||u,f=p.substr(0,s);s<m;s+=u)f+=l+p.substr(s,u);c>0&&(f+=l+p.slice(s)),d&&(f="-"+f)}r=h?f+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):f}return(n.prefix||"")+r+(n.suffix||"")},N.toFraction=function(e){var t,r,i,s,a,u,l,h,d,p,g,b,_=this,w=_.c;if(null!=e&&(!(l=new H(e)).isInteger()&&(l.c||1!==l.s)||l.lt(O)))throw Error(o+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+K(l));if(!w)return new H(_);for(t=new H(O),d=r=new H(O),i=h=new H(O),b=m(w),a=t.e=b.length-_.e-1,t.c[0]=f[(u=a%c)<0?c+u:u],e=!e||l.comparedTo(t)>0?a>0?t:d:l,u=C,C=1/0,l=new H(b),h.c[0]=0;p=n(l,t,0,1),1!=(s=r.plus(p.times(i))).comparedTo(e);)r=i,i=s,d=h.plus(p.times(s=d)),h=s,t=l.minus(p.times(s=t)),l=s;return s=n(e.minus(r),i,0,1),h=h.plus(s.times(d)),r=r.plus(s.times(i)),h.s=d.s=_.s,g=n(d,i,a*=2,L).minus(_).abs().comparedTo(n(h,r,a,L).minus(_).abs())<1?[d,i]:[h,r],C=u,g},N.toNumber=function(){return+K(this)},N.toPrecision=function(e,t){return null!=e&&b(e,1,d),q(this,e,t,2)},N.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=P||i>=D?w(m(n.c),i):y(m(n.c),i,"0"):10===e?t=y(m((n=G(new H(n),T+i+1,L)).c),n.e,"0"):(b(e,2,$.length,"Base"),t=k(y(m(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},N.valueOf=N.toJSON=function(){return K(this)},N._isBigNumber=!0,null!=t&&H.set(t),H}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"bignumber.js",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/bignumber.js/bignumber.js"}],[4559,{"./utils":4563,blakejs:2034,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("blakejs"),i=e("./utils").toCallback,s={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},o={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},a=(e,t)=>i((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/multihashing-async/src/blake.js"}],[4560,{buffer:2081,nodeify:5294},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("nodeify"),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function s(e){if(!i)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,s)=>{const o=i.digest({name:e},t);if("function"!=typeof o.then)return o.onerror=()=>{s(new Error(`hashing data using ${e}`))},void(o.oncomplete=e=>{s(null,e.target.result)});r(o.then((e=>n.from(new Uint8Array(e)))),s)}}t.exports={sha1:function(e,t){s("SHA-1")(e,t)},sha2256:function(e,t){s("SHA-256")(e,t)},sha2512:function(e,t){s("SHA-512")(e,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/multihashing-async/src/crypto-sha1-2-browser.js"}],[4561,{"./blake":4559,"./crypto-sha1-2":4560,"./utils":4563,buffer:2081,"js-sha3":4719,murmurhash3js:5254},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("js-sha3"),i=e("murmurhash3js"),s=e("./utils"),o=e("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;t.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(r.sha3_512)),sha3384:a(u(r.sha3_384)),sha3256:a(u(r.sha3_256)),sha3224:a(u(r.sha3_224)),shake128:a(u(r.shake_128,128)),shake256:a(u(r.shake_256,256)),keccak224:a(u(r.keccak_224)),keccak256:a(u(r.keccak_256)),keccak384:a(u(r.keccak_384)),keccak512:a(u(r.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/multihashing-async/src/crypto.js"}],[4562,{"./crypto":4561,buffer:2081,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("multihashes"),i=e("./crypto");function s(e,t,n,i){if("function"==typeof n&&(i=n,n=undefined),!i)throw new Error("Missing callback");s.digest(e,t,n,((e,s)=>{if(e)return i(e);i(null,r.encode(s,t,n))}))}t.exports=s,s.Buffer=n,s.multihash=r,s.digest=function(e,t,n,r){if("function"==typeof n&&(r=n,n=undefined),!r)throw new Error("Missing callback");let i,o=r;n&&(o=(e,t)=>{if(e)return r(e);r(null,t.slice(0,n))});try{i=s.createHash(t)}catch(e){return o(e)}i(e,o)},s.createHash=function(e){if(e=r.coerceCode(e),!s.functions[e])throw new Error("multihash function "+e+" not yet supported");return s.functions[e]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions),s.validate=(e,t,i)=>{s(e,r.decode(t).name,((e,r)=>{if(e)return i(e);i(e,0===n.compare(t,r))}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/multihashing-async/src/index.js"}],[4563,{_process:5420,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e,t){(function(){n.toCallback=t=>function(n,r){let i;try{i=t(n)}catch(t){return void e.nextTick(r,t)}e.nextTick(r,null,i)},n.toBuf=(e,n)=>r=>{let i=e(r,n);return t.from(i,"hex")},n.fromString=(e,n)=>r=>{const i=t.isBuffer(r)?r.toString():r;return e(i,n)},n.fromNumberTo32BitBuf=(e,n)=>r=>{let i=e(r,n);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return t.from(s)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/multihashing-async/src/utils.js"}],[4564,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function s(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(n===undefined||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(s(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/errors-browser.js"}],[4565,{"./_stream_readable":4567,"./_stream_writable":4569,_process:5420,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=c;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,i);for(var o=r(s.prototype),a=0;a<o.length;a++){var u=o[a];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/_stream_duplex.js"}],[4566,{"./_stream_transform":4568,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/_stream_passthrough.js"}],[4567,{"../errors":4564,"./_stream_duplex":4565,"./internal/streams/async_iterator":4570,"./internal/streams/buffer_list":4571,"./internal/streams/destroy":4572,"./internal/streams/from":4574,"./internal/streams/state":4576,"./internal/streams/stream":4577,_process:5420,buffer:2081,events:2082,inherits:4404,"string_decoder/":5897,util:2080},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;t.exports=E,E.ReadableState=x;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=global.Uint8Array||function(){};var u,c=e("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,f,h,d=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,b=g.ERR_INVALID_ARG_TYPE,_=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,y=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(E,s);var k=p.errorOrDestroy,v=["error","close","destroy","pause","resume"];function x(t,n,i){r=r||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=n instanceof r),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function E(t){if(r=r||e("./_stream_duplex"),!(this instanceof E))return new E(t);var n=this instanceof r;this._readableState=new x(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(e,t,n,r,i){u("readableAddChunk",t);var s,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}(e,c);else if(i||(s=function(e,t){var n;r=t,o.isBuffer(r)||r instanceof a||"string"==typeof t||t===undefined||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(c,t)),s)k(e,s);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),r)c.endEmitted?k(e,new y):j(e,c,t,!0);else if(c.ended)k(e,new _);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!n?(t=c.decoder.write(t),c.objectMode||0!==t.length?j(e,c,t,!1):O(e,c)):j(e,c,t,!1)}else r||(c.reading=!1,O(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function j(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),O(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=o.from(e,t),t=""),n=!0),S(this,e,t,!1,n)},E.prototype.unshift=function(e){return S(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var n=new l(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var R=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(N,e))}function N(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function O(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function P(e){u("readable nexttick read 0"),e.read(0)}function D(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function M(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(z,t,e))}function z(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}E.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):I(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(r=e>0?C(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},E.prototype._read=function(e){k(this,new w("_read()"))},E.prototype.pipe=function(e,t){var r=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:g;function a(t,n){u("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",g),r.removeListener("data",h),f=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}s.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,B(e))}}(r);e.on("drain",l);var f=!1;function h(t){u("ondata");var n=e.write(t);u("dest.write",n),!1===n&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==F(s.pipes,e))&&!f&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),r.pause())}function d(t){u("onerror",t),g(),e.removeListener("error",d),0===i(e,"error")&&k(e,t)}function p(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",p),g()}function g(){u("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",p),e.once("finish",m),e.emit("pipe",r),s.flowing||(u("pipe resume"),r.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=F(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},E.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?I(this):i.reading||n.nextTick(P,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(L,this),r},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||n.nextTick(L,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(D,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&i!==undefined)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<v.length;s++)e.on(v[s],this.emit.bind(this,v[s]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return f===undefined&&(f=e("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=C,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,n){return h===undefined&&(h=e("./internal/streams/from")),h(E,t,n)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/_stream_readable.js"}],[4568,{"../errors":4564,"./_stream_duplex":4565,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=l;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/_stream_transform.js"}],[4569,{"../errors":4564,"./_stream_duplex":4565,"./internal/streams/destroy":4572,"./internal/streams/state":4576,"./internal/streams/stream":4577,_process:5420,buffer:2081,inherits:4404,"util-deprecate":6008},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=E,E.WritableState=x;var s={deprecate:e("util-deprecate")},o=e("./internal/streams/stream"),a=e("buffer").Buffer,u=global.Uint8Array||function(){};var c,l=e("./internal/streams/destroy"),f=e("./internal/streams/state").getHighWaterMark,h=e("../errors").codes,d=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,_=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,y=h.ERR_UNKNOWN_ENCODING,k=l.errorOrDestroy;function v(){}function x(t,s,o){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,s=r.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,s){--t.pendingcb,r?(n.nextTick(s,i),n.nextTick(N,e,t),e._writableState.errorEmitted=!0,k(e,i)):(s(i),e._writableState.errorEmitted=!0,k(e,i),N(e,t))}(e,r,i,t,s);else{var o=A(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||R(e,r),i?n.nextTick(j,e,r,o,s):j(e,r,o,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function E(t){var n=this instanceof(i=i||e("./_stream_duplex"));if(!n&&!c.call(E,this))return new E(t);this._writableState=new x(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function S(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function j(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),N(e,t)}function R(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)s[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;s.allBuffers=u,S(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(S(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(n){t.pendingcb--,n&&k(e,n),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var r=A(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}e("inherits")(E,o),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===E&&(e&&e._writableState instanceof x)}})):c=function(e){return e instanceof this},E.prototype.pipe=function(){k(this,new g)},E.prototype.write=function(e,t,r){var i,s=this._writableState,o=!1,c=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof u);return c&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=v),s.ending?function(e,t){var r=new w;k(e,r),n.nextTick(t,r)}(this,r):(c||function(e,t,r,i){var s;return null===r?s=new _:"string"==typeof r||t.objectMode||(s=new d("chunk",["string","Buffer"],r)),!s||(k(e,s),n.nextTick(i,s),!1)}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var u=t.objectMode?1:r.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,u,r,i,s);return c}(this,s,c,e,t,r)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new y(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,n){n(new p("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,N(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/_stream_writable.js"}],[4570,{"./end-of-stream":4573,_process:5420},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var n=e[h].read();null!==n&&(e[l]=null,e[o]=null,e[a]=null,t(d(n,!1)))}}function m(e){n.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(d(undefined,!0));if(this[h].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(d(undefined,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(d(undefined,!0)):t[f](n,r)}),r)}}(i,this));else{var s=this[h].read();if(null!==s)return Promise.resolve(d(s,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(d(undefined,!0))}))}))})),r),g);t.exports=function(e){var t,n=Object.create(b,(i(t={},h,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var r=n[h].read();r?(n[l]=null,n[o]=null,n[a]=null,e(d(r,!1))):(n[o]=e,n[a]=t)},writable:!0}),t));return n[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[o]=null,n[a]=null,t(e)),void(n[u]=e)}var r=n[o];null!==r&&(n[l]=null,n[o]=null,n[a]=null,r(d(undefined,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[4571,{buffer:2081,util:2080},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=e("buffer").Buffer,a=e("util").inspect,u=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,c;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,n,r,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=i,r=a,o.prototype.copy.call(t,n,r),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?r+=i:r+=i.slice(0,e),0==(e-=s)){s===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(s));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&s(t.prototype,n),c&&s(t,c),e}()}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[4572,{_process:5420},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(r,o):(o._writableState.errorEmitted=!0,e.nextTick(n,o,t)):e.nextTick(n,o,t):s?(e.nextTick(r,o),s(t)):e.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[4573,{"../../../errors":4564},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,n,s){if("function"==typeof n)return e(t,null,n);n||(n={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(s||i);var o=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){a=!1,c=!0,o||s.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){o=!1,f=!0,a||s.call(t)},d=function(e){s.call(t,e)},p=function(){var e;return o&&!f?(t._readableState&&t._readableState.ended||(e=new r),s.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new r),s.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",h),t.on("finish",l),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[4574,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[4575,{"../../../errors":4564,"./end-of-stream":4573},function(){with(this)return function(){"use strict";return function(e,t,n){var r;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(t,n,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),r===undefined&&(r=e("./end-of-stream")),r(t,{readable:n,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,n){var s=n<t.length-1;return u(e,s,n>0,(function(e){r||(r=e),e&&o.forEach(c),s||(o.forEach(c),i(r))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[4576,{"../../../errors":4564},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var s=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new r(i?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/state.js"}],[4577,{events:2082},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("events").EventEmitter}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[4578,{"./lib/_stream_duplex.js":4565,"./lib/_stream_passthrough.js":4566,"./lib/_stream_readable.js":4567,"./lib/_stream_transform.js":4568,"./lib/_stream_writable.js":4569,"./lib/internal/streams/end-of-stream.js":4573,"./lib/internal/streams/pipeline.js":4575},function(){with(this)return function(){"use strict";return function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/node_modules/readable-stream/readable-browser.js"}],[4579,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={name:"ipfs",version:"0.36.4",description:"JavaScript implementation of the IPFS specification",keywords:["IPFS"],homepage:"https://js.ipfs.io",bugs:"https://github.com/ipfs/js-ipfs/issues",license:"MIT",leadMaintainer:"Alan Shaw <alan@tableflip.io>",files:["src","dist"],main:"src/core/index.js",browser:{"./src/core/components/init-assets.js":!1,"./src/core/runtime/add-from-fs-nodejs.js":"./src/core/runtime/add-from-fs-browser.js","./src/core/runtime/config-nodejs.js":"./src/core/runtime/config-browser.js","./src/core/runtime/dns-nodejs.js":"./src/core/runtime/dns-browser.js","./src/core/runtime/fetch-nodejs.js":"./src/core/runtime/fetch-browser.js","./src/core/runtime/libp2p-nodejs.js":"./src/core/runtime/libp2p-browser.js","./src/core/runtime/preload-nodejs.js":"./src/core/runtime/preload-browser.js","./src/core/runtime/repo-nodejs.js":"./src/core/runtime/repo-browser.js","./src/core/runtime/ipld-nodejs.js":"./src/core/runtime/ipld-browser.js","./test/utils/create-repo-nodejs.js":"./test/utils/create-repo-browser.js",stream:"readable-stream"},"browser-all-ipld-formats":{"./src/core/runtime/ipld-browser.js":"./src/core/runtime/ipld-browser-all.js"},bin:{jsipfs:"src/cli/bin.js"},repository:"github:ipfs/js-ipfs",scripts:{lint:"aegir lint",build:"aegir build",test:"aegir test","test:node":"aegir test -t node","test:browser":"aegir test -t browser","test:webworker":"aegir test -t webworker","test:node:core":"aegir test -t node -f test/core/**/*.js","test:node:http":"aegir test -t node -f test/http-api/index.js","test:node:gateway":"aegir test -t node -f test/gateway/index.js","test:node:cli":"aegir test -t node -f test/cli/index.js","test:node:interface":"aegir test -t node -f test/core/interface.spec.js","test:bootstrapers":"IPFS_TEST=bootstrapers aegir test -t browser -f test/bootstrapers.js",benchmark:'echo "Error: no benchmarks yet" && exit 1',"benchmark:node":'echo "Error: no benchmarks yet" && exit 1',"benchmark:node:core":'echo "Error: no benchmarks yet" && exit 1',"benchmark:node:http":'echo "Error: no benchmarks yet" && exit 1',"benchmark:browser":'echo "Error: no benchmarks yet" && exit 1',release:"aegir release -t node -t browser","release-minor":"aegir release --type minor -t node -t browser","release-major":"aegir release --type major -t node -t browser"},dependencies:{"@hapi/ammo":"^3.1.0","@hapi/hapi":"^18.3.1","@hapi/joi":"^15.0.1",async:"^2.6.1","async-iterator-all":"^1.0.0","async-iterator-to-pull-stream":"^1.1.0","async-iterator-to-stream":"^1.1.0","base32.js":"~0.1.0","bignumber.js":"^9.0.0","binary-querystring":"~0.1.2",bl:"^3.0.0",boom:"^7.2.0",bs58:"^4.0.1","buffer-peek-stream":"^1.0.1",byteman:"^1.3.5",callbackify:"^1.1.0","cid-tool":"~0.3.0",cids:"~0.7.1","class-is":"^1.1.0","datastore-core":"~0.6.0","datastore-pubsub":"~0.1.1",debug:"^4.1.0",dlv:"^1.1.3","err-code":"^1.1.2","file-type":"^11.1.0",fnv1a:"^1.0.1","fsm-event":"^2.1.0","get-folder-size":"^2.0.0",glob:"^7.1.3","hapi-pino":"^6.0.0","human-to-milliseconds":"^1.0.0","interface-datastore":"~0.6.0","ipfs-bitswap":"~0.24.1","ipfs-block":"~0.8.1","ipfs-block-service":"~0.15.1","ipfs-http-client":"^32.0.0","ipfs-http-response":"~0.3.0","ipfs-mfs":"~0.11.4","ipfs-multipart":"~0.1.0","ipfs-repo":"~0.26.6","ipfs-unixfs":"~0.1.16","ipfs-unixfs-exporter":"~0.37.6","ipfs-unixfs-importer":"~0.39.9","ipfs-utils":"~0.0.3",ipld:"~0.24.1","ipld-bitcoin":"~0.3.0","ipld-dag-cbor":"~0.15.0","ipld-dag-pb":"~0.17.4","ipld-ethereum":"^4.0.0","ipld-git":"~0.5.0","ipld-raw":"^4.0.0","ipld-zcash":"~0.3.0",ipns:"~0.5.2","is-ipfs":"~0.6.1","is-pull-stream":"~0.0.0","is-stream":"^2.0.0","iso-url":"~0.4.6","just-flatten-it":"^2.1.0","just-safe-set":"^2.1.0","kind-of":"^6.0.2",libp2p:"~0.25.3","libp2p-bootstrap":"~0.9.3","libp2p-crypto":"~0.16.0","libp2p-kad-dht":"~0.15.1","libp2p-keychain":"~0.4.1","libp2p-mdns":"~0.12.0","libp2p-record":"~0.6.3","libp2p-secio":"~0.11.0","libp2p-tcp":"~0.13.0","libp2p-webrtc-star":"~0.16.0","libp2p-websocket-star-multi":"~0.4.3","libp2p-websockets":"~0.12.2",lodash:"^4.17.11",mafmt:"^6.0.2","merge-options":"^1.0.1","mime-types":"^2.1.21",mkdirp:"~0.5.1",multiaddr:"^6.0.5","multiaddr-to-uri":"^4.0.1",multibase:"~0.6.0",multicodec:"~0.5.1",multihashes:"~0.4.14","multihashing-async":"~0.6.0","node-fetch":"^2.3.0","peer-book":"~0.9.0","peer-id":"~0.12.0","peer-info":"~0.15.0",progress:"^2.0.1","promisify-es6":"^1.0.3",protons:"^1.0.1","pull-abortable":"^4.1.1","pull-cat":"^1.1.11","pull-defer":"~0.2.3","pull-file":"^1.1.0","pull-mplex":"~0.1.1","pull-ndjson":"~0.1.1","pull-pushable":"^2.2.0","pull-sort":"^1.0.1","pull-stream":"^3.6.9","pull-stream-to-async-iterator":"^1.0.1","pull-stream-to-stream":"^1.3.4","pull-traverse":"^1.0.3","readable-stream":"^3.4.0",receptacle:"^1.3.2",semver:"^6.1.1","stream-to-pull-stream":"^1.7.3",superstruct:"~0.6.0","tar-stream":"^2.0.0",temp:"~0.9.0","update-notifier":"^3.0.0","uri-to-multiaddr":"^3.0.1",varint:"^5.0.0",yargs:"^13.2.4","yargs-promise":"^1.1.0"},devDependencies:{aegir:"^19.0.3",base64url:"^3.0.1",chai:"^4.2.0",delay:"^4.1.0","detect-node":"^2.0.4","dir-compare":"^1.4.0","dirty-chai":"^2.0.1",execa:"^1.0.0","form-data":"^2.3.3",hat:"0.0.3","interface-ipfs-core":"~0.104.0","ipfsd-ctl":"~0.42.0","libp2p-websocket-star":"~0.10.2",ncp:"^2.0.0",qs:"^6.5.2",rimraf:"^2.6.2",sinon:"^7.3.1","stream-to-promise":"^2.2.0"},optionalDependencies:{"prom-client":"^11.1.3","prometheus-gc-stats":"~0.6.0"},engines:{node:">=10.0.0",npm:">=6.0.0"},contributors:["0xflotus <0xflotus@gmail.com>","A_A <21040751+Otto-AA@users.noreply.github.com>","Alan Shaw <alan.shaw@protocol.ai>","Alan Shaw <alan@tableflip.io>","Alex North <alex@alexnorth.me>","Alex Potsides <alex@achingbrain.net>","Andrew Nesbitt <andrewnez@gmail.com>","Andrew de Andrade <andrew@deandrade.com.br>","AndrÃ© Cruz <andremiguelcruz@msn.com>","Arkadiy Kukarkin <parkan@users.noreply.github.com>","Arpit Agarwal <93arpit@gmail.com>","Arpit Agarwal <atvanguard@users.noreply.github.com>","Bernard Mordan <bernard@tableflip.io>","Brian Vander Schaaf <bvs330@gmail.com>","Bruno Zell <bruno.zzell@gmail.com>","CHEVALAY JOSSELIN <josselin54.chevalay@gmail.com>","Caio Gondim <me@caiogondim.com>","Chance Hudson <jchancehud@gmail.com>","Chirag Shinde <chirag-shinde@users.noreply.github.com>","Christian Couder <chriscool@tuxfamily.org>","Dafeng <dfguo.joe@gmail.com>","Dan Ordille <dordille@gmail.com>","Daniel J. O'Quinn <danieljoquinn@gmail.com>","Daniela Borges Matos de Carvalho <alunassertiva@gmail.com>","David Dias <daviddias.p@gmail.com>","David Gilbertson <gilbertson.david@gmail.com>","David da Silva <dasilvacontin@gmail.com>","Diogo Silva <fsdiogo@gmail.com>","Dmitriy Ryajov <dryajov@gmail.com>","Dzmitry Das <dbachko@gmail.com>","Enrico Marino <enrico.marino@email.com>","Faheel Ahmad <faheel@live.in>","Felix Yan <felixonmars@archlinux.org>","Francisco Baio Dias <xicombd@gmail.com>","Francisco Baio Dias <francisco@typeform.com>","Friedel Ziegelmayer <dignifiedquire@gmail.com>","Gar <gar+gh@danger.computer>","Georgios Rassias <georassias@gmail.com>","Gorka Ludlow <gorka@aquigorka.com>","Grant Herman <grantlouisherman041@gmail.com>","Greenkeeper <support@greenkeeper.io>","Haad <haadcode@users.noreply.github.com>","Haoliang Yu <haoliangyu@users.noreply.github.com>","Harsh Vakharia <harshjv@users.noreply.github.com>","Henrique Dias <hacdias@gmail.com>","Henry Rodrick <moshisushi@gmail.com>","Heo Sangmin <heo@mapiacompany.com>","Hugo Dias <mail@hugodias.me>","Hugo Dias <hugomrdias@gmail.com>","Irakli Gozalishvili <contact@gozala.io>","Jacob Heun <jacobheun@gmail.com>","Jacob Heun <jake@andyet.net>","Jade Meskill <jade.meskill@gmail.com>","Johannes Wikner <johannes.wikner@gmail.com>","Jon Schlinkert <dev@sellside.com>","Jonathan <jkrone@vt.edu>","Jonybang <Jonybange@gmail.com>","JoÃ£o Antunes <j.goncalo.antunes@gmail.com>","JoÃ£o Santos <joaosantos15@users.noreply.github.com>","Kevin Wang <kevin@fossa.io>","Lars Gierth <larsg@systemli.org>","Lukas Drgon <lukas.drgon@gmail.com>","Maciej KrÃ¼ger <mkg20001@gmail.com>","Marcin Rataj <lidel@lidel.org>","Marius Darila <marius.darila@gmail.com>","Mat Kelly <machawk1@gmail.com>","Michelle Lee <michelle@protocol.ai>","Mikeal Rogers <mikeal.rogers@gmail.com>","Mithgol <getgit@mithgol.ru>","Molly <momack2@users.noreply.github.com>","Mounish Sai <pvsmounish@gmail.com>","My9Bot <34904312+My9Bot@users.noreply.github.com>","Nitin Patel <31539366+niinpatel@users.noreply.github.com>","Nuno Nogueira <nunofmn@gmail.com>","Oli Evans <oli@tableflip.io>","Oskar Nyberg <oskar@oskarnyberg.com>","Pascal Precht <pascal.precht@googlemail.com>","Pau Ramon Revilla <masylum@gmail.com>","Paulo Rodrigues <me@paulogr.com>","Pedro Teixeira <i@pgte.me>","Portia Burton <plburton@gmail.com>","Prabhakar Poudel <yuvrajzohan@gmail.com>","Raoul Millais <raoul@raoulmillais.com>","RasmusErik Voel Jensen <github@solsort.com>","Richard Littauer <richard.littauer@gmail.com>","Richard Schneider <makaretu@gmail.com>","Rob Brackett <rob@robbrackett.com>","Rod Keys <rod@zokos.com>","Sangwon Hong <qpakzk@gmail.com>","Sid Harder <sideharder@gmail.com>","SidHarder <softwarenavigator@gmail.com>","Stephen Whitmore <stephen.whitmore@gmail.com>","Stephen Whitmore <noffle@users.noreply.github.com>","Steven Allen <steven@stebalien.com>","Terence Pae <terencepae@gmail.com>","UroÅ¡ JurgliÄ <jurglic@gmail.com>","Vasco Santos <vasco.santos@moxy.studio>","Vasco Santos <vasco.santos@ua.pt>","Volker Mische <volker.mische@gmail.com>","Xiao Liang <yxliang01@users.noreply.github.com>","Yahya <ya7yaz@gmail.com>","Yole <yole@ultiledger.io>","bitspill <bitspill+github@bitspill.net>","datafatmunger <jbg@peerparty.org>","dirkmc <dirkmdev@gmail.com>","dirkmc <dirk@mccormick.cx>","greenkeeper[bot] <greenkeeper[bot]@users.noreply.github.com>","haad <haad@headbanggames.com>","jbenet <juan@benet.ai>","jonahweissman <19804455+jonahweissman@users.noreply.github.com>","kevingzhang <kevin.zhang.canada@gmail.com>","kumavis <kumavis@users.noreply.github.com>","nginnever <ginneversource@gmail.com>","npmcdn-to-unpkg-bot <npmcdn-to-unpkg-bot@users.noreply.github.com>","robbsolter <35879806+robbsolter@users.noreply.github.com>","seungwon-kang <ksw3894@gmail.com>","tcme <hi@this-connect.me>","victorbjelkholm <victorbjelkholm@gmail.com>","Åukasz Magiera <magik6k@users.noreply.github.com>","ÐÐ°ÐºÑÐ¸Ð¼ ÐÐ»ÑÐ¸Ð½ <negamaxi@gmail.com>"]}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/package.json"}],[4580,{"async/waterfall":1779,"ipfs-repo":4504},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/waterfall"),i=e("ipfs-repo").errors;t.exports=e=>{e.log("booting");const t=e._options,n=t.init,s=t.start;r([t=>{if(!e._repo.closed)return t(null,!0);e._repo.open(((e,n)=>function(e){if(!e)return!1;if(e.code===i.ERR_REPO_NOT_INITIALIZED)return!0;if(e.message.match(/not found/)||e.message.match(/ENOENT/)||e.message.match(/No value/))return!0;return!1}(e)?t(null,!1):e?t(e):void t(null,!0)))},(r,i)=>{if(r)return e.init({repo:e._repo},(e=>{if(e)return i(Object.assign(e,{emitted:!0}));i()}));if(n){const n=Object.assign({bits:2048,pass:e._options.pass},"object"==typeof t.init?t.init:{});return e.init(n,(e=>{if(e)return i(Object.assign(e,{emitted:!0}));i()}))}i()},t=>{if(!s)return t();e.start((e=>{if(e)return t(Object.assign(e,{emitted:!0}));t()}))}],(t=>{t?t.emitted||e.emit("error",t):(e.log("booted"),e.emit("ready"))}))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/boot.js"}],[4581,{"../utils":4659,"async/setImmediate":1773,"bignumber.js":4558,cids:2119,"err-code":2355,"peer-id":5410,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../utils").OFFLINE_ERROR,i=e("promisify-es6"),s=e("async/setImmediate"),o=e("bignumber.js"),a=e("cids"),u=e("peer-id"),c=e("err-code");function l(e,t){return Array.from(e).map((e=>({"/":e[1].cid.toBaseEncodedString(t)})))}t.exports=function(e){return{wantlist:i(((t,n)=>{if("function"==typeof t&&(n=t,t=null),!e.isOnline())return s((()=>n(new Error(r))));let i;if(t){try{t=u.createFromB58String(t)}catch(e){t=null}if(!t)return s((()=>n(new Error("Invalid peerId"))));i=e._bitswap.wantlistForPeer(t)}else i=e._bitswap.getWantlist();s((()=>n(null,{Keys:l(i)})))})),stat:i((t=>{if(!e.isOnline())return s((()=>t(new Error(r))));const n=e._bitswap.stat().snapshot;s((()=>{t(null,{provideBufLen:parseInt(n.providesBufferLength.toString()),blocksReceived:new o(n.blocksReceived),wantlist:l(e._bitswap.getWantlist()),peers:e._bitswap.peers().map((e=>e.toB58String())),dupBlksReceived:new o(n.dupBlksReceived),dupDataReceived:new o(n.dupDataReceived),dataReceived:new o(n.dataReceived),blocksSent:new o(n.blocksSent),dataSent:new o(n.dataSent)})}))})),unwant:i(((t,n)=>{if(!e.isOnline())return s((()=>n(new Error(r))));Array.isArray(t)||(t=[t]);try{t=t.map((e=>a.isCID(e)?e:new a(e)))}catch(e){return s((()=>n(c(e,"ERR_INVALID_CID"))))}s((()=>n(null,e._bitswap.unwant(t))))}))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/bitswap.js"}],[4582,{"async/setImmediate":1773,"async/waterfall":1779,cids:2119,"err-code":2355,"ipfs-block":4441,"multihashing-async":4562,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-block"),i=e("multihashing-async"),s=e("cids"),o=e("async/waterfall"),a=e("async/setImmediate"),u=e("promisify-es6"),c=e("err-code");function l(e){return s.isCID(e)?e:new s(e)}t.exports=function(e){return{get:u(((t,n,r)=>{"function"==typeof n&&(r=n,n={}),n=n||{};try{t=l(t)}catch(e){return a((()=>r(c(e,"ERR_INVALID_CID"))))}!1!==n.preload&&e._preload(t),e._blockService.get(t,r)})),put:u(((t,n,a)=>{if(a=a||function(){},"function"==typeof n&&(a=n,n={}),n=n||{},Array.isArray(t))return a(new Error("Array is not supported"));o([e=>{if(r.isBlock(t))return e(null,t);if(n.cid&&s.isCID(n.cid))return e(null,new r(t,n.cid));const o=n.mhtype||"sha2-256",a=n.format||"dag-pb";let u;u=null==n.version?"sha2-256"===o&&"dag-pb"===a?0:1:n.version,i(t,o,((n,i)=>{if(n)return e(n);let o;try{o=new s(u,a,i)}catch(n){return e(n)}e(null,new r(t,o))}))},(t,r)=>e._blockService.put(t,(i=>{if(i)return r(i);!1!==n.preload&&e._preload(t.cid),r(null,t)}))],a)})),rm:u(((t,n)=>{try{t=l(t)}catch(e){return a((()=>n(c(e,"ERR_INVALID_CID"))))}e._blockService.delete(t,n)})),stat:u(((t,n,r)=>{"function"==typeof n&&(r=n,n={}),n=n||{};try{t=l(t)}catch(e){return a((()=>r(c(e,"ERR_INVALID_CID"))))}!1!==n.preload&&e._preload(t),e._blockService.get(t,((e,n)=>{if(e)return r(e);r(null,{key:t.toString(),size:n.data.length})}))}))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/block.js"}],[4583,{"../runtime/config-nodejs.js":4651,mafmt:5190,"promisify-es6":5424,timers:5935},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("../runtime/config-nodejs.js"),i=e("mafmt").IPFS.matches,s=e("promisify-es6");function o(e){try{return i(e)}catch(e){return!1}}function a(e){return new Error(`${e} is not a valid Multiaddr`)}t.exports=function(e){return{list:s((t=>{e._repo.config.get(((e,n)=>{if(e)return t(e);t(null,{Peers:n.Bootstrap})}))})),add:s(((t,i,s)=>{if("function"==typeof i&&(s=i,i={default:!1}),t&&!o(t))return n((()=>s(a(t))));e._repo.config.get(((n,o)=>{if(n)return s(n);i.default?o.Bootstrap=r().Bootstrap:t&&-1===o.Bootstrap.indexOf(t)&&o.Bootstrap.push(t),e._repo.config.set(o,(e=>{if(e)return s(e);s(null,{Peers:i.default?r().Bootstrap:[t]})}))}))})),rm:s(((t,r,i)=>{if("function"==typeof r&&(i=r,r={all:!1}),t&&!o(t))return n((()=>i(a(t))));e._repo.config.get(((n,s)=>{if(n)return i(n);r.all?s.Bootstrap=[]:s.Bootstrap=s.Bootstrap.filter((e=>e!==t)),e._repo.config.set(s,(e=>{if(e)return i(e);const n=[];!r.all&&t&&n.push(t),i(null,{Peers:n})}))}))}))}}}).call(this)}).call(this,e("timers").setImmediate)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/bootstrap.js"}],[4584,{"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6");t.exports=function(e){return{get:r(((t,n)=>("function"==typeof t&&(n=t,t=undefined),e._repo.config.get(t,n)))),set:r(((t,n,r)=>{e._repo.config.set(t,n,r)})),replace:r(((t,n)=>{e._repo.config.set(t,n)}))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/config.js"}],[4585,{"../../../../is-buffer/index.js":4686,"async-iterator-to-pull-stream":1708,"async/map":1764,"async/setImmediate":1773,cids:2119,"err-code":2355,"just-flatten-it":4752,multicodec:5219,"promisify-es6":5424,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("promisify-es6"),i=e("cids"),s=e("pull-stream"),o=e("async-iterator-to-pull-stream"),a=e("async/map"),u=e("async/setImmediate"),c=e("just-flatten-it"),l=e("err-code"),f=e("multicodec");t.exports=function(e){return{put:r(((t,n,r)=>{if("function"==typeof n&&(r=n,n={}),(n=n||{}).cid&&(n.format||n.hashAlg))return r(new Error("Can't put dag node. Please provide either `cid` OR `format` and `hashAlg` options."));if(n.format&&!n.hashAlg||!n.format&&n.hashAlg)return r(new Error("Can't put dag node. Please provide `format` AND `hashAlg` options."));const i={format:f.DAG_CBOR,hashAlg:f.SHA2_256};if(n.format&&"string"==typeof n.format){const e=n.format.toUpperCase().replace(/-/g,"_");n.format=f[e]}if(n.hashAlg&&"string"==typeof n.hashAlg){const e=n.hashAlg.toUpperCase().replace(/-/g,"_");n.hashAlg=f[e]}(n=n.cid?n:Object.assign({},i,n)).version===undefined&&(n.format===f.DAG_PB&&n.hashAlg===f.SHA2_256?n.version=0:n.version=1),e._ipld.put(t,n.format,{hashAlg:n.hashAlg,cidVersion:n.version}).then((t=>(!1!==n.preload&&e._preload(t),r(null,t))),(e=>r(e)))})),get:r(((t,r,s,o)=>{if("function"==typeof r&&(o=r,r=undefined),"function"==typeof s&&(o=s,"string"!=typeof r?(s=r,r=undefined):s={}),s=s||{},"string"==typeof t){const e=t.split("/");try{t=new i(e[0])}catch(e){return u((()=>o(l(e,"ERR_INVALID_CID"))))}e.shift(),r=e.length>0?e.join("/"):"/"}else if(n.isBuffer(t))try{t=new i(t)}catch(e){return u((()=>o(l(e,"ERR_INVALID_CID"))))}if(!1!==s.preload&&e._preload(t),r===undefined||"/"===r)e._ipld.get(t).then((e=>{o(null,{value:e,remainderPath:""})}),(e=>o(e)));else{const n=e._ipld.resolve(t,r);(s.localResolve?n.first():n.last()).then((e=>o(null,e)),(e=>o(e)))}})),tree:r(((t,n,r,a)=>{if("object"==typeof n&&(a=r,r=n,n=undefined),"function"==typeof n&&(a=n,n=undefined),"function"==typeof r&&(a=r,r={}),r=r||{},"string"==typeof t){const e=t.split("/");try{t=new i(e[0])}catch(e){return u((()=>a(l(e,"ERR_INVALID_CID"))))}e.shift(),n=e.length>0?e.join("/"):undefined}!1!==r.preload&&e._preload(t),s(o(e._ipld.tree(t,n,r)),s.collect(a))})),_getRecursive:r(((t,n,r)=>{let s;"function"==typeof n&&(r=n,n={}),n=n||{};try{s=new i(t)}catch(e){return u((()=>r(l(e,"ERR_INVALID_CID"))))}e.dag.get(s,"",n,((t,i)=>{if(t)return r(t);a(i.value.Links,((t,r)=>{e.dag._getRecursive(t.Hash,n,r)}),((e,t)=>{if(e)return r(e);r(null,c([i.value,t]))}))}))}))}}}).call(this)}).call(this,{isBuffer:e("../../../../is-buffer/index.js")})}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/dag.js"}],[4586,{"../../../../is-buffer/index.js":4686,"async/each":1733,"async/every":1739,"async/nextTick":1767,cids:2119,debug:2253,"err-code":2355,"peer-id":5410,"peer-info":5411,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("promisify-es6"),i=e("async/every"),s=e("peer-id"),o=e("peer-info"),a=e("cids"),u=e("async/each"),c=e("async/nextTick"),l=e("err-code"),f=e("debug"),h=f("ipfs:dht");h.error=f("ipfs:dht:error"),t.exports=e=>({get:r(((t,r,i)=>{if("function"==typeof r&&(i=r,r={}),r=r||{},!n.isBuffer(t))try{t=new a(t).buffer}catch(e){return h.error(e),c((()=>i(l(e,"ERR_INVALID_CID"))))}e.libp2p.dht.get(t,r,i)})),put:r(((t,r,i)=>{if(!n.isBuffer(t))try{t=new a(t).buffer}catch(e){return h.error(e),c((()=>i(l(e,"ERR_INVALID_CID"))))}e.libp2p.dht.put(t,r,i)})),findProvs:r(((t,n,r)=>{if("function"==typeof n&&(r=n,n={}),n=n||{},"string"==typeof t)try{t=new a(t)}catch(e){return h.error(e),c((()=>r(l(e,"ERR_INVALID_CID"))))}e.libp2p.contentRouting.findProviders(t,n,r)})),findPeer:r(((t,n)=>{"string"==typeof t&&(t=s.createFromB58String(t)),e.libp2p.peerRouting.findPeer(t,n)})),provide:r(((t,n,r)=>{Array.isArray(t)||(t=[t]),"function"==typeof n&&(r=n,n={}),n=n||{},i(t,((t,n)=>{e._repo.blocks.has(t,n)}),((i,s)=>{if(i)return r(i);if(!s){const e="block(s) not found locally, cannot provide";return h.error(e),r(l(e,"ERR_BLOCK_NOT_FOUND"))}if(n.recursive)return r(l("not implemented yet","ERR_NOT_IMPLEMENTED_YET"));u(t,((t,n)=>{e.libp2p.contentRouting.provide(t,n)}),r)}))})),query:r(((t,n)=>{if("string"==typeof t)try{t=s.createFromB58String(t)}catch(e){return h.error(e),n(e)}e.libp2p._dht.getClosestPeers(t.toBytes(),((e,t)=>{if(e)return h.error(e),n(e);n(null,t.map((e=>new o(e))))}))}))})}).call(this)}).call(this,{isBuffer:e("../../../../is-buffer/index.js")})}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/dht.js"}],[4587,{"../runtime/dns-nodejs":4652,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../runtime/dns-nodejs"),i=e("promisify-es6");t.exports=()=>i(((e,t,n)=>{if("string"!=typeof e)return n(new Error("Invalid arguments, domain must be a string"));"function"==typeof t&&(n=t,t={}),r(e,t=t||{},n)}))}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/dns.js"}],[4588,{"async-iterator-all":1704,"async-iterator-to-pull-stream":1708,"async-iterator-to-stream":1709,buffer:2081,callbackify:2100,"ipfs-mfs/core":4458,"is-pull-stream":4702,"pull-stream-to-async-iterator":5475,"pull-stream/pull":5478,"pull-stream/throughs/map":5500,stream:4578},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("ipfs-mfs/core"),i=e("is-pull-stream"),s=e("async-iterator-to-pull-stream"),o=e("async-iterator-to-stream"),a=e("pull-stream-to-async-iterator"),u=e("async-iterator-all"),c=e("callbackify"),l=e("stream").PassThrough,f=e("pull-stream/pull"),h=e("pull-stream/throughs/map"),d=(e={})=>{const t=e.long||e.l;return n=>({hash:t?n.cid.toBaseEncodedString(e.cidBase):"",name:n.name,type:t?n.type:0,size:t&&n.size||0})};t.exports=e=>{const t=r({ipld:e._ipld,blocks:e._blockService,datastore:e._repo.root,repoOwner:e._options.repoOwner});return{cp:c.variadic(t.cp),flush:c.variadic(t.flush),ls:c.variadic((async(e,n={})=>(await u(t.ls(e,n))).map(d(n)))),lsReadableStream:(e,n={})=>{const r=o.obj(t.ls(e,n)),i=new l({objectMode:!0});return r.on("data",(e=>{i.write(d(n)(e))})),r.on("error",(e=>{i.destroy(e)})),r.on("end",((e,t,r)=>{e&&(e=d(n)(e)),i.end(e,t,r)})),i},lsPullStream:(e,n={})=>f(s.source(t.ls(e,n)),h(d(n))),mkdir:c.variadic(t.mkdir),mv:c.variadic(t.mv),read:c((async(e,r={})=>n.concat(await u(t.read(e,r))))),readPullStream:(e,n={})=>s.source(t.read(e,n)),readReadableStream:(e,n={})=>o(t.read(e,n)),rm:c.variadic(t.rm),stat:c((async(e,n={})=>{const r=await t.stat(e,n);return r.hash=r.cid.toBaseEncodedString(n&&n.cidBase),delete r.cid,r})),write:c.variadic((async(e,n,r={})=>{i.isSource(n)&&(n=a(n)),await t.write(e,n,r)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-mfs.js"}],[4589,{"../../runtime/add-from-fs-nodejs":4650},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=t=>e("../../runtime/add-from-fs-nodejs")(t)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/add-from-fs.js"}],[4590,{"./add":4594},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=t=>e("./add")(t)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/add-from-stream.js"}],[4591,{"../../runtime/fetch-nodejs":4653,buffer:2081,"iso-url":4711},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const{URL:r}=e("iso-url"),i=e("../../runtime/fetch-nodejs");t.exports=e=>async(t,s,o)=>{let a;"function"==typeof s&&(o=s,s={});try{const o=new r(t),u=await i(t);if(!u.ok)throw new Error("unexpected status code: "+u.status);const c=n.from(await u.arrayBuffer()),l=decodeURIComponent(o.pathname.split("/").pop());a=await e.add({content:c,path:l},s)}catch(e){if(o)return o(e);throw e}return o&&o(null,a),a}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/add-from-url.js"}],[4592,{"../../../../../is-buffer/index.js":4686,"./utils":4611,"async-iterator-to-pull-stream":1708,"async/waterfall":1779,"ipfs-unixfs-importer":4533,"ipfs-utils/src/streams/stream-from-filereader":4556,"ipfs-utils/src/supports":4557,"is-pull-stream":4702,"is-stream":4705,"kind-of":4776,"pull-stream-to-async-iterator":5475,"pull-stream/pull":5478,"pull-stream/sources/values":5494,"pull-stream/throughs/async-map":5495,"pull-stream/throughs/flatten":5498,"pull-stream/throughs/map":5500,"stream-to-pull-stream":5896},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("ipfs-unixfs-importer"),i=e("kind-of"),s=e("pull-stream-to-async-iterator"),o=e("async-iterator-to-pull-stream"),a=e("pull-stream/pull"),u=e("pull-stream/sources/values"),c=e("pull-stream/throughs/map"),l=e("pull-stream/throughs/async-map"),f=e("pull-stream/throughs/flatten"),h=e("stream-to-pull-stream"),d=e("async/waterfall"),p=e("is-stream"),{isSource:m}=e("is-pull-stream"),{parseChunkerString:g}=e("./utils"),b=e("ipfs-utils/src/streams/stream-from-filereader"),{supportsFileReader:_}=e("ipfs-utils/src/supports");function w(){}t.exports=function(e){return function(t){let y;t=t||{};try{y=g(t.chunker)}catch(e){return c((()=>{throw e}))}const k=Object.assign({},{shardSplitThreshold:e._options.EXPERIMENTAL.sharding?1e3:Infinity},t,{chunker:y.chunker,chunkerOptions:y.chunkerOptions});k.hashAlg&&1!==k.cidVersion&&(k.cidVersion=1);let v=0;const x=k.progress||w;return k.progress=e=>{v+=e,x(v)},a(c((e=>function(e,t){return Array.isArray(e)||(e=[e]),e.map((e=>{if(_&&"file"===i(e)&&(e={path:"",content:h.source(b(e))}),n.isBuffer(e)&&(e={path:"",content:u([e])}),p.readable(e)&&(e={path:"",content:h.source(e)}),m(e)&&(e={path:"",content:e}),e&&e.content&&"function"!=typeof e.content&&(_&&"file"===i(e.content)&&(e={path:e.path,content:h.source(b(e.content))}),n.isBuffer(e.content)&&(e={path:e.path,content:u([e.content])}),p.readable(e.content)&&(e={path:e.path,content:h.source(e.content)})),t.wrapWithDirectory&&!e.path)throw new Error("Must provide a path when wrapping with a directory");return e}))}(e,k))),f(),c((e=>({path:e.path?e.path:undefined,content:e.content?s(e.content):undefined}))),o.transform((t=>r(t,e._ipld,k))),l(((t,r)=>function(e,t,r,i){r=r||{};let s=e.cid;d([n=>r.onlyHash?n(null,e):t.object.get(e.cid,Object.assign({},r,{preload:!1}),n),(t,i)=>{1===r.cidVersion&&(s=s.toV1());const o=s.toBaseEncodedString();let a=t.size;n.isBuffer(t)&&(a=t.length),i(null,{path:e.path===undefined?o:e.path||"",hash:o,size:a})}],i)}(t,e,k,r))),c((t=>function(e,t,n){return(!e.path||n.wrapWithDirectory?""===e.path:!e.path.includes("/"))&&!n.onlyHash&&!1!==n.preload&&t._preload(e.hash),e}(t,e,k))),l(((t,n)=>function(e,t,n,r){const i=!("pin"in n)||n.pin,s=!e.path.includes("/");if(i&&s&&!n.onlyHash&&!n.hashAlg)return t.pin.add(e.hash,{preload:!1},(t=>r(t,e)));r(null,e)}(t,e,k,n))))}}}).call(this)}).call(this,{isBuffer:e("../../../../../is-buffer/index.js")})}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/add-pull-stream.js"}],[4593,{"pull-pushable":5471,"pull-stream":5477,"readable-stream":4578},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream"),i=e("pull-pushable"),s=e("readable-stream").Duplex;class o extends s{constructor(e,t,n){super(Object.assign({objectMode:!0},n)),this._pullStream=e,this._pushable=t,this._waitingPullFlush=[]}_read(){this._pullStream(null,((e,t)=>{for(;this._waitingPullFlush.length;){this._waitingPullFlush.shift()()}e?e instanceof Error?this.emit("error",e):this.push(null):this.push(t)}))}_write(e,t,n){this._waitingPullFlush.push(n),this._pushable.push(e)}}t.exports=function(e){return t=>{t=t||{};const n=i(),s=r(n,e.addPullStream(t)),a=new o(s,n);return a.once("finish",(()=>n.end())),a}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/add-readable-stream.js"}],[4594,{"ipfs-utils/src/files/add-input-validation":4555,"is-pull-stream":4702,"promisify-es6":5424,"pull-sort":5474,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("pull-stream"),s=e("pull-sort"),o=e("is-pull-stream").isSource,a=e("ipfs-utils/src/files/add-input-validation");t.exports=function(e){const t=r(((t,n,r)=>{"function"==typeof n&&(r=n,n={}),n=n||{};try{a(t)}catch(e){return r(e)}i(i.values([t]),e.addPullStream(n),s(((e,t)=>e.path<t.path?1:e.path>t.path?-1:0)),i.collect(r))}));return function(){const e=Array.from(arguments);return 1===e.length&&o(e[0])&&e.push({}),t.apply(null,e)}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/add.js"}],[4595,{"./utils":4611,"async-iterator-to-pull-stream":1708,"ipfs-unixfs-exporter":4508,"pull-defer":5452},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-unixfs-exporter"),i=e("pull-defer"),s=e("async-iterator-to-pull-stream"),{normalizePath:o}=e("./utils");t.exports=function(e){return function(t,n){if("function"==typeof t)throw new Error("You must supply an ipfsPath");n=n||{};const a=(t=o(t)).split("/");!1!==n.preload&&e._preload(a[0]);const u=i.source();return r(t,e._ipld,n).then((e=>e.unixfs&&e.unixfs.type.includes("dir")?u.abort(new Error("this dag node is a directory")):e.content?void u.resolve(s.source(e.content(n))):u.abort(new Error("this dag node has no content"))),(e=>{u.abort(e)})),u}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/cat-pull-stream.js"}],[4596,{"pull-stream-to-stream":5476},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream-to-stream");t.exports=function(e){return(t,n)=>r.source(e.catPullStream(t,n))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/cat-readable-stream.js"}],[4597,{buffer:2081,"promisify-es6":5424,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("promisify-es6"),i=e("pull-stream");t.exports=function(e){return r(((t,r,s)=>{"function"==typeof r&&(s=r,r={}),i(e.catPullStream(t,r),i.collect(((e,t)=>{if(e)return s(e);s(null,n.concat(t))})))}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/cat.js"}],[4598,{"./utils":4611,"async-iterator-to-pull-stream":1708,"err-code":2355,"ipfs-unixfs-exporter":4508,"pull-stream/pull":5478,"pull-stream/throughs/map":5500},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-unixfs-exporter"),i=e("async-iterator-to-pull-stream"),s=e("err-code"),o=e("pull-stream/pull"),a=e("pull-stream/throughs/map"),{normalizePath:u,mapFile:c}=e("./utils");t.exports=function(e){return(t,n)=>{if(!1!==(n=n||{}).preload){let n;try{n=u(t).split("/")}catch(e){return o.error(s(e,"ERR_INVALID_PATH"))}e._preload(n[0])}return o(i.source(r.recursive(t,e._ipld,n)),a(c({...n,includeContent:!0})))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/get-pull-stream.js"}],[4599,{"pull-stream":5477,"pull-stream-to-stream":5476},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream"),i=e("pull-stream-to-stream");t.exports=function(e){return(t,n)=>(n=n||{},i.source(r(e.getPullStream(t,n),r.map((e=>(e.content&&(e.content=i.source(e.content),e.content.pause()),e))))))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/get-readable-stream.js"}],[46,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(t,n,r){t.origin=e.origin,r()}}}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/createOriginMiddleware.js"}],[4600,{buffer:2081,"promisify-es6":5424,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("promisify-es6"),i=e("pull-stream");t.exports=function(e){return r(((t,r,s)=>{"function"==typeof r&&(s=r,r={}),r=r||{},i(e.getPullStream(t,r),i.asyncMap(((e,t)=>{e.content?i(e.content,i.collect(((r,i)=>{if(r)return t(r);e.content=n.concat(i),t(null,e)}))):t(null,e)})),i.collect(s))}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/get.js"}],[4601,{"./add":4594,"./add-from-fs":4589,"./add-from-stream":4590,"./add-from-url":4591,"./add-pull-stream":4592,"./add-readable-stream":4593,"./cat":4597,"./cat-pull-stream":4595,"./cat-readable-stream":4596,"./get":4600,"./get-pull-stream":4598,"./get-readable-stream":4599,"./ls":4604,"./ls-pull-stream":4602,"./ls-readable-stream":4603,"./refs":4610,"./refs-local":4607,"./refs-local-pull-stream":4605,"./refs-local-readable-stream":4606,"./refs-pull-stream":4608,"./refs-readable-stream":4609},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=t=>{const n={add:e("./add")(t),addFromFs:e("./add-from-fs")(t),addFromStream:e("./add-from-stream")(t),addFromURL:e("./add-from-url")(t),addPullStream:e("./add-pull-stream")(t),addReadableStream:e("./add-readable-stream")(t),cat:e("./cat")(t),catPullStream:e("./cat-pull-stream")(t),catReadableStream:e("./cat-readable-stream")(t),get:e("./get")(t),getPullStream:e("./get-pull-stream")(t),getReadableStream:e("./get-readable-stream")(t),ls:e("./ls")(t),lsPullStream:e("./ls-pull-stream")(t),lsReadableStream:e("./ls-readable-stream")(t),refs:e("./refs")(t),refsReadableStream:e("./refs-readable-stream")(t),refsPullStream:e("./refs-pull-stream")(t)};return n.refs.local=e("./refs-local")(t),n.refs.localReadableStream=e("./refs-local-readable-stream")(t),n.refs.localPullStream=e("./refs-local-pull-stream")(t),n}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/index.js"}],[4602,{"./utils":4611,"async-iterator-to-pull-stream":1708,"err-code":2355,"ipfs-unixfs-exporter":4508,"pull-defer":5452,"pull-stream/pull":5478,"pull-stream/sources/once":5493,"pull-stream/throughs/filter":5497,"pull-stream/throughs/map":5500},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-unixfs-exporter"),i=e("pull-defer"),s=e("pull-stream/pull"),o=e("pull-stream/sources/once"),a=e("pull-stream/throughs/map"),u=e("pull-stream/throughs/filter"),c=e("err-code"),l=e("async-iterator-to-pull-stream"),{normalizePath:f,mapFile:h}=e("./utils");t.exports=function(e){return function(t,n){n=n||{};const d=f(t),p=n.recursive,m=d.split("/");!1!==n.preload&&e._preload(m[0]);const g=i.source();return r(t,e._ipld,n).then((t=>t.unixfs?"file"===t.unixfs.type?g.resolve(o(h(n)(t))):t.unixfs.type.includes("dir")?p?g.resolve(s(l.source(r.recursive(t.cid,e._ipld,n)),u((e=>t.cid.toBaseEncodedString()!==e.cid.toBaseEncodedString())),a(h(n)))):g.resolve(s(l.source(t.content()),a(h(n)),a((e=>(e.depth--,e))))):void g.abort(c(new Error(`Unknown UnixFS type ${t.unixfs.type}`),"EUNKNOWNUNIXFSTYPE")):g.abort(c(new Error("dag node was not a UnixFS node"),"ENOTUNIXFS"))),(e=>{g.abort(e)})),g}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/ls-pull-stream.js"}],[4603,{"pull-stream-to-stream":5476},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream-to-stream");t.exports=function(e){return(t,n)=>r.source(e.lsPullStream(t,n))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/ls-readable-stream.js"}],[4604,{"promisify-es6":5424,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("pull-stream");t.exports=function(e){return r(((t,n,r)=>{"function"==typeof n&&(r=n,n={}),n=n||{},i(e.lsPullStream(t,n),i.collect(((e,t)=>{if(e)return r(e);r(null,t)})))}))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/ls.js"}],[4605,{"base32.js":1952,buffer:2081,cids:2119,"pull-defer":5452,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("cids"),i=e("base32.js"),s=e("pull-stream"),o=e("pull-defer");t.exports=function(e){return()=>{const t=o.source();return e._repo.blocks.query({keysOnly:!0},((e,o)=>{if(e)return t.resolve(s.error(e));const a=o.map((e=>function(e){try{const t=new i.Decoder,s=n.from(t.write(e.toString().slice(1)).finalize());return{ref:new r(s).toString()}}catch(t){return{err:`Could not convert block with key '${e}' to CID: ${t.message}`}}}(e.key)));t.resolve(s.values(a))})),t}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/refs-local-pull-stream.js"}],[4606,{"pull-stream-to-stream":5476},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream-to-stream");t.exports=function(e){return(t,n)=>r.source(e.refs.localPullStream())}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/refs-local-readable-stream.js"}],[4607,{"promisify-es6":5424,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("pull-stream");t.exports=function(e){return r((t=>{i(e.refs.localPullStream(),i.collect(((e,n)=>{if(e)return t(e);t(null,n)})))}))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/refs-local.js"}],[4608,{"./refs":4610,"./utils":4611,cids:2119,"ipld-dag-pb":4674,"is-ipfs":4697,"pull-cat":5450,"pull-defer":5452,"pull-stream":5477,"pull-traverse":5509},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream"),i=e("pull-defer"),s=e("pull-traverse"),o=e("pull-cat"),a=e("is-ipfs"),u=e("cids"),{DAGNode:c}=e("ipld-dag-pb"),{normalizePath:l}=e("./utils"),{Format:f}=e("./refs");function h(e,t=""){let n=[];for(const[r,i]of Object.entries(e))u.isCID(i)?n.push({name:t+r,cid:i}):"object"==typeof i&&(n=n.concat(h(i,t+r+"/")));return n}t.exports=function(e){return function(t,n={}){if(0===n.maxDepth)return r.empty();if(n.edges&&n.format&&n.format!==f.default)return r.error(new Error("Cannot set edges to true and also specify format"));let d;n.format=n.edges?f.edges:n.format||f.default,"number"!=typeof n.maxDepth&&(n.maxDepth=n.recursive?Infinity:1);try{d=(Array.isArray(t)?t:[t]).map((t=>function(e,t,n){const r=l(t),i=r.split("/")[0];if(!a.cid(i))throw new Error(`Error resolving path '${r}': '${i}' is not a valid CID`);!1!==n.preload&&e._preload(i);return"/ipfs/"+r}(e,t,n)))}catch(e){return r.error(e)}return o(d.map((t=>function(e,t,n){const o=i.source();return e.resolve(t,((t,a)=>{if(t)return o.resolve(r.error(t));const l=a.split("/")[2];o.resolve(r(function(e,t,n,o){const a=new Set,l={node:{cid:t},depth:0},f=t=>{const{node:s,depth:l}=t,f=l+1;if(f>n)return r.empty();if(o){if(a.has(s.cid.toString()))return t.isDuplicate=!0,r.empty();a.add(s.cid.toString())}const d=i.source();return function(e,t,n){e._ipld.get(new u(t)).then((e=>{let t;t=c.isDAGNode(e)?e.Links.map((({Name:e,Hash:t})=>({name:e,cid:new u(t)}))):h(e),n(null,t)})).catch(n)}(e,s.cid,((e,t)=>{if(e)return"ERR_NOT_FOUND"===e.code&&(e.message=`Could not find object with CID: ${s.cid}`),d.resolve(r.error(e));const n=t.map((e=>({parent:s,node:e,depth:f})));d.resolve(r.values(n))})),d};return s.depthFirst(l,f)}(e,l,n.maxDepth,n.unique),r.filter((e=>Boolean(e.parent))),r.filter((e=>!e.isDuplicate)),r.map((e=>function(e,t,n,r){let i=r.replace(/<src>/g,e.toString());return i=i.replace(/<dst>/g,t.toString()),i=i.replace(/<linkname>/g,n),i}(e.parent.cid,e.node.cid,e.node.name,n.format))),r.map((e=>({ref:e})))))})),o}(e,t,n))))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/refs-pull-stream.js"}],[4609,{"pull-stream-to-stream":5476},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream-to-stream");t.exports=function(e){return(t,n)=>r.source(e.refsPullStream(t,n))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/refs-readable-stream.js"}],[4610,{"promisify-es6":5424,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("pull-stream");t.exports=function(e){return r(((t,n,r)=>{"function"==typeof n&&(r=n,n={}),n=n||{},i(e.refsPullStream(t,n),i.collect(((e,t)=>{if(e)return r(e);r(null,t)})))}))},t.exports.Format={default:"<dst>",edges:"<src> -> <dst>"}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/refs.js"}],[4611,{"../../../utils/cid":4660,"async-iterator-to-pull-stream":1708,buffer:2081,cids:2119},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("cids"),{Buffer:i}=e("buffer"),{cidToString:s}=e("../../../utils/cid"),o=e("async-iterator-to-pull-stream"),a=e=>{const t={},n=e.split("-");switch(n.length){case 1:t.avgChunkSize=262144;break;case 2:t.avgChunkSize=u(n[1],"avg");break;case 4:t.minChunkSize=u(n[1],"min"),t.avgChunkSize=u(n[2],"avg"),t.maxChunkSize=u(n[3],"max");break;default:throw new Error('Incorrect chunker format (expected "rabin" "rabin-[avg]" or "rabin-[min]-[avg]-[max]"')}return t},u=(e,t)=>{let n=parseInt(e);if(isNaN(n))throw new Error(`Chunker parameter ${t} must be an integer`);return n};t.exports={normalizePath:e=>i.isBuffer(e)?new r(e).toString():r.isCID(e)?e.toString():(0===e.indexOf("/ipfs/")&&(e=e.substring("/ipfs/".length)),"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e),parseChunkSize:u,parseRabinString:a,parseChunkerString:e=>{if(e){if(e.startsWith("size-")){const t=e.split("-")[1],n=parseInt(t);if(isNaN(n))throw new Error("Chunker parameter size must be an integer");return{chunker:"fixed",chunkerOptions:{maxChunkSize:n}}}if(e.startsWith("rabin"))return{chunker:"rabin",chunkerOptions:a(e)};throw new Error(`Unrecognized chunker option: ${e}`)}return{chunker:"fixed"}},mapFile:(e={})=>t=>{let n=0,r="dir";t.unixfs&&"file"===t.unixfs.type&&(n=t.unixfs.fileSize(),r="file");const i={hash:s(t.cid,{base:e.cidBase}),path:t.path,name:t.name,depth:t.path.split("/").length,size:n,type:r};return e.includeContent&&t.unixfs&&"file"===t.unixfs.type&&(i.content=o.source(t.content())),i}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/files-regular/utils.js"}],[4612,{"../../../package.json":4579,"async/setImmediate":1773,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("async/setImmediate"),s=e("../../../package.json").version;t.exports=function(e){return r(((t,n)=>{"function"==typeof t&&(n=t,t={}),i((()=>n(null,{id:e._peerInfo.id.toB58String(),publicKey:e._peerInfo.id.pubKey.bytes.toString("base64"),addresses:e._peerInfo.multiaddrs.toArray().map((e=>e.toString())).filter((e=>e.indexOf("ipfs")>=0)).sort(),agentVersion:`js-ipfs/${s}`,protocolVersion:"9000"})))}))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/id.js"}],[4613,{"./bitswap":4581,"./block":4582,"./bootstrap":4583,"./config":4584,"./dag":4585,"./dht":4586,"./dns":4587,"./files-mfs":4588,"./files-regular":4601,"./id":4612,"./init":4614,"./is-online":4615,"./key":4616,"./libp2p":4617,"./name":4619,"./object":4621,"./pin":4623,"./ping":4627,"./ping-pull-stream":4625,"./ping-readable-stream":4626,"./pre-start":4628,"./pubsub":4629,"./repo":4630,"./resolve":4631,"./start":4632,"./stats":4633,"./stop":4634,"./swarm":4635,"./version":4636},function(){with(this)return function(){"use strict";return function(e,t,n){n.preStart=e("./pre-start"),n.start=e("./start"),n.stop=e("./stop"),n.isOnline=e("./is-online"),n.version=e("./version"),n.id=e("./id"),n.repo=e("./repo"),n.init=e("./init"),n.bootstrap=e("./bootstrap"),n.config=e("./config"),n.block=e("./block"),n.object=e("./object"),n.dag=e("./dag"),n.libp2p=e("./libp2p"),n.swarm=e("./swarm"),n.ping=e("./ping"),n.pingPullStream=e("./ping-pull-stream"),n.pingReadableStream=e("./ping-readable-stream"),n.pin=e("./pin"),n.filesRegular=e("./files-regular"),n.filesMFS=e("./files-mfs"),n.bitswap=e("./bitswap"),n.pubsub=e("./pubsub"),n.dht=e("./dht"),n.dns=e("./dns"),n.key=e("./key"),n.stats=e("./stats"),n.resolve=e("./resolve"),n.name=e("./name")}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/index.js"}],[4614,{"../ipns":4639,"../ipns/routing/offline-datastore":4645,"../runtime/config-nodejs.js":4651,"./init-assets":2080,"async/parallel":1768,"async/waterfall":1779,buffer:2081,"ipfs-unixfs":4537,"ipld-dag-pb":4674,"libp2p-keychain":4905,"merge-options":5193,multicodec:5219,"peer-id":5410,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("peer-id"),i=e("merge-options"),s=e("async/waterfall"),o=e("async/parallel"),a=e("promisify-es6"),u=e("../runtime/config-nodejs.js"),c=e("libp2p-keychain"),{DAGNode:l}=e("ipld-dag-pb"),f=e("ipfs-unixfs"),h=e("multicodec"),d=e("../ipns"),p=e("../ipns/routing/offline-datastore"),m=e("./init-assets");t.exports=function(e){return a(((t,a)=>{"function"==typeof t&&(a=t,t={});const g=(t,n)=>{if(t)return e.emit("error",t),a(t);e.preStart((t=>{if(t)return e.emit("error",t),a(t);e.state.initialized(),e.emit("init"),a(null,n)}))};if("uninitialized"!==e.state.state())return g(new Error("Not able to init from state: "+e.state.state()));if(e.state.init(),e.log("init"),t.repo)return e._repo=t.repo,g(null,!0);t.emptyRepo=t.emptyRepo||!1,t.bits=Number(t.bits)||2048,t.log=t.log||function(){};const b=i(u(),e._options.config);let _;s([t=>e._repo.exists(t),(i,s)=>{if(e.log("repo exists?",i),!0===i)return s(new Error("repo already exists"));t.privateKey?(e.log("using user-supplied private-key"),"object"==typeof t.privateKey?s(null,t.privateKey):r.createFromPrivKey(n.from(t.privateKey,"base64"),s)):(t.log(`generating ${t.bits}-bit RSA keypair...`,!1),e.log("generating peer id: %s bits",t.bits),r.create({bits:t.bits},s))},(n,r)=>{e.log("identity generated"),b.Identity={PeerID:n.toB58String(),PrivKey:n.privKey.bytes.toString("base64")},_=n.privKey,t.pass&&(b.Keychain=c.generateOptions()),t.log("done"),t.log("peer identity: "+b.Identity.PeerID),e._repo.init(b,r)},(t,n)=>e._repo.open(n),n=>{if(e.log("repo opened"),t.pass){e.log("creating keychain");const r=Object.assign({passPhrase:t.pass},b.Keychain);e._keychain=new c(e._repo.keys,r),e._keychain.importPeer("self",{privKey:_},n)}else n(null,!0)},(t,n)=>{const r=new p(e._repo);e._ipns=new d(r,e._repo.datastore,e._peerInfo,e._keychain,e._options),n(null,!0)},(n,r)=>{if(t.emptyRepo)return r(null,!0);const i=[t=>{s([e=>{try{e(null,l.create(new f("directory").marshal()))}catch(t){e(t)}},(t,n)=>e.dag.put(t,{version:0,format:h.DAG_PB,hashAlg:h.SHA2_256}).then((e=>n(null,e)),(e=>n(e))),(t,n)=>e._ipns.initializeKeyspace(_,t.toBaseEncodedString(),n)],t)}];"function"==typeof m&&i.push((n=>m(e,t.log,n))),e.log("adding assets"),o(i,(e=>{e?r(e):r(null,!0)}))}],g)}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/init.js"}],[4615,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){return()=>Boolean(e._bitswap&&e.libp2p&&e.libp2p.isStarted())}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/is-online.js"}],[4616,{"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6");t.exports=function(e){return{gen:r(((t,n,r)=>{n=n||{},e._keychain.createKey(t,n.type,n.size,r)})),info:r(((t,n)=>{e._keychain.findKeyByName(t,n)})),list:r((t=>{e._keychain.listKeys(t)})),rm:r(((t,n)=>{e._keychain.removeKey(t,n)})),rename:r(((t,n,r)=>{e._keychain.renameKey(t,n,((e,n)=>{if(e)return r(e);const i={was:t,now:n.name,id:n.id,overwrite:!1};r(null,i)}))})),import:r(((t,n,r,i)=>{e._keychain.importKey(t,n,r,i)})),export:r(((t,n,r)=>{e._keychain.exportKey(t,n,r)}))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/key.js"}],[4617,{"../ipns/routing/utils":4647,"../runtime/libp2p-nodejs":4655,dlv:2284,"merge-options":5193},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("dlv"),i=e("merge-options"),s=e("../ipns/routing/utils");function o({datastore:t,peerInfo:n,peerBook:o,options:a,config:u}){const c={datastore:t,peerInfo:n,peerBook:o,config:{peerDiscovery:{mdns:{enabled:r(a,"config.Discovery.MDNS.Enabled",r(u,"Discovery.MDNS.Enabled",!0))},webRTCStar:{enabled:r(a,"config.Discovery.webRTCStar.Enabled",r(u,"Discovery.webRTCStar.Enabled",!0))},bootstrap:{list:r(a,"config.Bootstrap",r(u,"Bootstrap",[]))}},relay:{enabled:r(a,"relay.enabled",r(u,"relay.enabled",!0)),hop:{enabled:r(a,"relay.hop.enabled",r(u,"relay.hop.enabled",!1)),active:r(a,"relay.hop.active",r(u,"relay.hop.active",!1))}},dht:{kBucketSize:r(a,"dht.kBucketSize",20),enabled:!1,randomWalk:{enabled:!1},validators:{ipns:s.validator},selectors:{ipns:s.selector}},EXPERIMENTAL:{pubsub:r(a,"EXPERIMENTAL.pubsub",!1)}},connectionManager:r(a,"connectionManager",{maxPeers:r(u,"Swarm.ConnMgr.HighWater"),minPeers:r(u,"Swarm.ConnMgr.LowWater")})},l=i(c,r(a,"libp2p",{}));return new(e("../runtime/libp2p-nodejs"))(l)}t.exports=function(e,t){const n=e._options||{};t=t||{};const r="function"==typeof n.libp2p?n.libp2p:o,{datastore:i}=e._repo,s=e._peerInfo,a=e._peerInfoBook,u=r({options:n,config:t,datastore:i,peerInfo:s,peerBook:a});return u.on("stop",(()=>{s.multiaddrs.clear()})),u.on("start",(()=>{s.multiaddrs.forEach((t=>{e._print("Swarm listening on",t.toString())}))})),u.on("peer:connect",(e=>a.put(e))),u}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/libp2p.js"}],[4618,{"../ipns/routing/pubsub-datastore":4646,debug:2253,"err-code":2355,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=e("err-code"),s=e("promisify-es6"),o=e("../ipns/routing/pubsub-datastore");r("ipfs:name-pubsub").error=r("ipfs:name-pubsub:error");const a=e=>{try{return Boolean(u(e))}catch(e){return!1}},u=e=>{if(!e._ipns||!e._options.EXPERIMENTAL.ipnsPubsub){throw i("IPNS pubsub subsystem is not enabled","ERR_IPNS_PUBSUB_NOT_ENABLED")}if(o.isIpnsPubsubDatastore(e._ipns.routing))return e._ipns.routing;const t=(e._ipns.routing.stores||[]).find((e=>o.isIpnsPubsubDatastore(e)));if(!t){throw i("IPNS pubsub datastore not found","ERR_PUBSUB_DATASTORE_NOT_FOUND")}return t};t.exports=function(e){return{state:s((t=>{t(null,{enabled:a(e)})})),cancel:s(((t,n)=>{let r;try{r=u(e)}catch(e){return n(e)}r.cancel(t,n)})),subs:s((t=>{let n;try{n=u(e)}catch(e){return t(e)}n.getSubscriptions(t)}))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/name-pubsub.js"}],[4619,{"../ipns/path":4640,"../utils":4659,"./name-pubsub":4618,"async/parallel":1768,"async/waterfall":1779,debug:2253,"err-code":2355,"human-to-milliseconds":4386,"libp2p-crypto":4850,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=e("promisify-es6"),s=e("async/waterfall"),o=e("async/parallel"),a=e("human-to-milliseconds"),u=e("libp2p-crypto"),c=e("err-code"),l=r("ipfs:name");l.error=r("ipfs:name:error");const f=e("./name-pubsub"),h=e("../utils"),d=e("../ipns/path");t.exports=function(e){return{publish:i(((t,n,r)=>{"function"==typeof n&&(r=n,n={});const i=!(!1===(n=n||{}).resolve),f=n.lifetime||"24h",p=n.key||"self";if(!e.isOnline()){const e=h.OFFLINE_ERROR;return l.error(e),r(c(e,"OFFLINE_ERROR"))}try{t=h.normalizePath(t)}catch(e){return l.error(e),r(e)}o([e=>a(f,e),t=>((e,t,n)=>{if("self"===t)return n(null,e._peerInfo.id.privKey);const r=e._options.pass;s([n=>e._keychain.exportKey(t,r,n),(e,t)=>u.keys.__import__(e,r,t)],((e,t)=>e?(l.error(e),n(c(e,"ERR_CANNOT_GET_KEY"))):n(null,t)))})(e,p,t),n=>"true"===i.toString()?d.resolvePath(e,t,n):n()],((n,i)=>{if(n)return l.error(n),r(n);const s=i[0].toFixed(6),o=i[1];e._ipns.publish(o,t,s,r)}))})),resolve:i(((t,n,r)=>{"function"==typeof n&&(r=n,n={});const i=(n=n||{}).nocache&&"true"===n.nocache.toString(),s=n.recursive&&"true"===n.recursive.toString(),o=e._options.offline;if(!e.isOnline()&&!o){const e=h.OFFLINE_ERROR;return l.error(e),r(c(e,"OFFLINE_ERROR"))}if(o&&i){const e="cannot specify both offline and nocache";return l.error(e),r(c(new Error(e),"ERR_NOCACHE_AND_OFFLINE"))}t||(t=e._peerInfo.id.toB58String()),t.startsWith("/ipns/")||(t=`/ipns/${t}`);const a={nocache:i,recursive:s};e._ipns.resolve(t,a,r)})),pubsub:f(e)}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/name.js"}],[4620,{},function(){with(this)return function(){"use strict";return function(e,t,n){function r(){throw new Error("Key management requires '--pass ...' option")}t.exports=class{static get options(){r()}static generateOptions(){r()}createKey(){r()}listKeys(){r()}findKeyById(){r()}findKeyByName(){r()}renameKey(){r()}removeKey(){r()}exportKey(){r()}importKey(){r()}importPeer(){r()}get cms(){r()}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/no-keychain.js"}],[4621,{"async/parallel":1768,"async/setImmediate":1773,"async/waterfall":1779,buffer:2081,cids:2119,"err-code":2355,"ipfs-unixfs":4537,"ipld-dag-pb":4674,multicodec:5219,multihashes:5234,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("async/waterfall"),i=e("async/parallel"),s=e("async/setImmediate"),o=e("promisify-es6"),a=e("ipld-dag-pb"),u=a.DAGNode,c=a.DAGLink,l=e("cids"),f=e("multihashes"),h=e("multicodec"),d=e("ipfs-unixfs"),p=e("err-code");function m(e,t,r){switch(t){case"json":return function(e,t){let r,i;try{const t=JSON.parse(e.toString());i=(t.Links||[]).map((e=>new c(e.Name||e.name,e.Size||e.size,f.fromB58String(e.Hash||e.hash||e.multihash)))),r=n.from(t.Data)}catch(e){return t(new Error("failed to parse JSON: "+e))}try{t(null,u.create(r,i))}catch(e){t(e)}}(e,r);case"protobuf":return function(e,t){let n;try{n=a.util.deserialize(e)}catch(e){return t(e)}t(null,n)}(e,r);default:r(new Error(`unkown encoding: ${t}`))}}function g(e,t=[]){for(let n in e){const r=e[n];if("/"===n&&1===Object.keys(e).length)try{t.push(new c("",0,new l(r)));continue}catch(e){}l.isCID(r)?t.push(new c("",0,r)):(Array.isArray(r)&&g(r,t),"object"!=typeof r||r instanceof String||g(r,t))}return t}t.exports=function(e){function t(t){return(n,i,s)=>{"function"==typeof i&&(s=i,i={}),i=i||{},r([t=>{e.object.get(n,i,t)},(n,r)=>{t(n,((t,n)=>{if(t)return r(t);e._ipld.put(n,h.DAG_PB,{cidVersion:0,hashAlg:h.SHA2_256}).then((t=>{!1!==i.preload&&e._preload(t),r(null,t)}),(e=>r(e)))}))}],s)}}return{new:o(((t,r,i)=>{let o,a;if("function"==typeof t&&(i=t,t=undefined,r={}),"function"==typeof r&&(i=r,r={}),r=r||{},t){if("unixfs-dir"!==t)return s((()=>i(new Error("unknown template"))));o=new d("directory").marshal()}else o=n.alloc(0);try{a=u.create(o)}catch(e){return i(e)}e._ipld.put(a,h.DAG_PB,{cidVersion:0,hashAlg:h.SHA2_256}).then((t=>{!1!==r.preload&&e._preload(t),i(null,t)}),(e=>i(e)))})),put:o(((t,r,i)=>{"function"==typeof r&&(i=r,r={});const s=(r=r||{}).enc;let o;if(n.isBuffer(t))if(s)m(t,s,((e,t)=>{if(e)return i(e);o=t,a()}));else{try{o=u.create(t)}catch(e){return i(e)}a()}else if(u.isDAGNode(t))o=t,a();else{if("object"!=typeof t)return i(new Error("obj not recognized"));try{o=u.create(t.Data,t.Links)}catch(e){return i(e)}a()}function a(){e._ipld.put(o,h.DAG_PB,{cidVersion:0,hashAlg:h.SHA2_256}).then((t=>{!1!==r.preload&&e._preload(t),i(null,t)}),(e=>i(e)))}})),get:o(((t,r,i)=>{let o,a;"function"==typeof r&&(i=r,r={}),r=r||{};try{o=function(e,t){if("string"==typeof e)return"base58"!==t&&t?n.from(e,t):e;if(n.isBuffer(e))return e;if(l.isCID(e))return e.buffer;throw new Error("unsupported multihash")}(t,r.enc)}catch(e){return s((()=>i(p(e,"ERR_INVALID_MULTIHASH"))))}try{a=new l(o)}catch(e){return s((()=>i(p(e,"ERR_INVALID_CID"))))}1===r.cidVersion&&(a=a.toV1()),!1!==r.preload&&e._preload(a),e._ipld.get(a).then((e=>i(null,e)),(e=>i(e)))})),data:o(((t,n,r)=>{"function"==typeof n&&(r=n,n={}),e.object.get(t,n,((e,t)=>{if(e)return r(e);r(null,t.Data)}))})),links:o(((t,n,r)=>{"function"==typeof n&&(r=n,n={});const i=new l(t);e.dag.get(i,n,((e,t)=>{if(e)return r(e);if("raw"===i.codec)return r(null,[]);if("dag-pb"===i.codec)return r(null,t.value.Links);if("dag-cbor"===i.codec){const e=g(t);return r(null,e)}r(new Error(`Cannot resolve links from codec ${i.codec}`))}))})),stat:o(((t,n,s)=>{"function"==typeof n&&(s=n,n={}),n=n||{},r([r=>e.object.get(t,n,r),(e,t)=>{t(null,{node:e,serialized:a.util.serialize(e)})},({node:e,serialized:t},n)=>{i({serialized:e=>e(null,t),cid:e=>a.util.cid(t,{cidVersion:0}).then((t=>e(null,t)),e),node:t=>t(null,e)},n)}],((e,t)=>{if(e)return s(e);const n=t.serialized.length,r=t.node.Links.reduce(((e,t)=>e+t.Tsize),0);s(null,{Hash:t.cid.toBaseEncodedString(),NumLinks:t.node.Links.length,BlockSize:n,LinksSize:n-t.node.Data.length,DataSize:t.node.Data.length,CumulativeSize:n+r})}))})),patch:o({addLink(e,n,r,i){t(((e,t)=>{u.addLink(e,n).then((e=>{t(null,e)}),t)}))(e,r,i)},rmLink(e,n,r,i){t(((e,t)=>{n=n.Name||n.name;try{e=u.rmLink(e,n)}catch(e){return t(e)}t(null,e)}))(e,r,i)},appendData(e,r,i,s){t(((e,t)=>{const i=n.concat([e.Data,r]);try{e=u.create(i,e.Links)}catch(e){return t(e)}t(null,e)}))(e,i,s)},setData(e,n,r,i){t(((e,t)=>{try{e=u.create(n,e.Links)}catch(e){return t(e)}t(null,e)}))(e,r,i)}})}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/object.js"}],[4622,{"./pin.proto":4624,"async/eachOfSeries":1737,"async/someSeries":1776,buffer:2081,cids:2119,fnv1a:4300,"ipld-dag-pb":4674,multicodec:5219,multihashes:5234,protons:5440,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("multihashes"),i=e("cids"),s=e("protons"),o=e("fnv1a"),a=e("varint"),{DAGNode:u,DAGLink:c}=e("ipld-dag-pb"),l=e("multicodec"),f=e("async/someSeries"),h=e("async/eachOfSeries"),d=e("./pin.proto"),p=r.fromB58String("QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n"),m=s(d);function g(e){return new i(e).toBaseEncodedString()}t.exports=function(e){const t={hasDescendant:(t,r,s)=>{const o={};return(i.isCID(r)||n.isBuffer(r))&&(r=g(r)),function t(n,i){f(n.Links,((n,i)=>{const s=n.Hash,a=g(s);return a===r?i(null,!0):a in o?i(null,!1):(o[a]=!0,void e.get(s,"",{preload:!1},((e,n)=>{if(e)return i(e);t(n.value,i)})))}),i)}(t,s)},storeSet:(r,s)=>{const o=r.map((e=>(("string"==typeof e||n.isBuffer(e))&&(e=new i(e)),{key:e,data:null})));t.storeItems(o,((t,n)=>{if(t)return s(t);e.put(n,{version:0,format:l.DAG_PB,hashAlg:l.SHA2_256,preload:!1},((e,t)=>{if(e)return s(e,t);s(null,{node:n,cid:t})}))}))},storeItems:(t,r)=>function t(r,i,s){const f=m.Set.encode({version:1,fanout:256,seed:i}),d=n.concat([n.from(a.encode(f.length)),f]),b=[];for(let e=0;e<256;e++)b.push(new c("",1,p));if(r.length<=8192){const e=r.map((e=>({link:new c("",1,e.key),data:e.data||n.alloc(0)}))).sort(((e,t)=>n.compare(e.link.Hash.buffer,t.link.Hash.buffer))),t=b.concat(e.map((e=>e.link))),i=n.concat([d].concat(e.map((e=>e.data))));let o;try{o=u.create(i,t)}catch(e){return s(e)}return s(null,o)}{const a=r.reduce(((e,t)=>{const r=function(e,t){const r=n.alloc(4);r.writeUInt32LE(e,0);const i=n.concat([r,n.from(g(t))]);return o(i.toString("binary"))}(i,t.key)%256;return e[r]=r in e?e[r].concat([t]):[t],e}),{});h(a,((n,r,s)=>{t(n,i+1,((t,n)=>function(t,n,r,i){if(t)return i(t);const s={version:0,format:l.DAG_PB,hashAlg:l.SHA2_256,preload:!1};e.put(n,s,((e,t)=>{if(e)return i(e);b[r]=new c("",n.size,t),i(null)}))}(t,n,r,s)))}),(e=>{if(e)return s(e);let t;try{t=u.create(d,b)}catch(e){return s(e)}return s(null,t)}))}}(t,0,r),loadSet:(n,r,i)=>{const s=n.Links.find((e=>e.Name===r));if(!s)return i(new Error("No link found with name "+r));e.get(s.Hash,"",{preload:!1},((e,n)=>{if(e)return i(e);const r=[];t.walkItems(n.value,(e=>r.push(e.Hash.buffer)),(e=>e?i(e):i(null,r)))}))},walkItems:(n,r,i)=>{let s;try{s=function(e){const t=e.Data,n=a.decode(t),r=a.decode.bytes;if(r<=0)throw new Error("Invalid Set header length");if(r+n>t.length)throw new Error("Impossibly large set header length");const i=t.slice(r,n+r),s=m.Set.decode(i);if(1!==s.version)throw new Error(`Unsupported Set version: ${s.version}`);if(s.fanout>e.Links.length)throw new Error("Impossibly large fanout");return{header:s,data:t.slice(n+r)}}(n)}catch(e){return i(e)}h(n.Links,((n,i,o)=>{if(i<s.header.fanout){const i=n.Hash.buffer;if(!p.equals(i))return e.get(i,"",{preload:!1},((e,n)=>{if(e)return o(e);t.walkItems(n.value,r,o)}))}else r(n,i,s.data);o(null)}),i)}};return t}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/pin-set.js"}],[4623,{"../utils":4659,"./pin-set":4622,"async/detectLimit":1732,"async/eachLimit":1734,"async/map":1764,"async/mapSeries":1766,"async/parallel":1768,"async/series":1772,"async/setImmediate":1773,"async/waterfall":1779,buffer:2081,cids:2119,"err-code":2355,"interface-datastore":4411,"ipld-dag-pb":4674,multibase:5216,multicodec:5219,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("promisify-es6"),{DAGNode:i,DAGLink:s,util:o}=e("ipld-dag-pb"),a=e("cids"),u=e("async/map"),c=e("async/mapSeries"),l=e("async/series"),f=e("async/parallel"),h=e("async/eachLimit"),d=e("async/waterfall"),p=e("async/detectLimit"),m=e("async/setImmediate"),{Key:g}=e("interface-datastore"),b=e("err-code"),_=e("multibase"),w=e("multicodec"),y=e("./pin-set"),{resolvePath:k}=e("../utils"),v=new g("/local/pins");function x(e){return new a(e).toBaseEncodedString()}function E(e){return b(new Error(`Invalid type '${e}', must be one of {direct, indirect, recursive, all}`),"ERR_INVALID_PIN_TYPE")}t.exports=e=>{const t=e._repo,g=e.dag,S=y(g),j={direct:"direct",recursive:"recursive",indirect:"indirect",all:"all"};let R=new Set,A=new Set;const I=()=>Array.from(A).map((e=>new a(e).buffer));function N(r){let o,u,c;l([e=>d([e=>S.storeSet(Array.from(R).map((e=>new a(e).buffer)),e),({node:e,cid:t},n)=>{try{n(null,new s(j.direct,e.size,t))}catch(e){n(e)}},(e,t)=>{o=e,t(null)}],e),e=>d([e=>S.storeSet(I(),e),({node:e,cid:t},n)=>{try{n(null,new s(j.recursive,e.size,t))}catch(e){n(e)}},(e,t)=>{u=e,t(null)}],e),e=>{let t;try{t=i.create(n.alloc(0))}catch(t){return e(t)}g.put(t,{version:0,format:w.DAG_PB,hashAlg:w.SHA2_256,preload:!1},e)},e=>{let t;try{t=i.create(n.alloc(0),[o,u])}catch(t){return e(t)}c=t,g.put(c,{version:0,format:w.DAG_PB,hashAlg:w.SHA2_256,preload:!1},((t,n)=>{t||(c.multihash=n.buffer),e(t)}))},e=>t.closed?t.open(e):e(null,null),e=>t.datastore.put(v,c.multihash,e)],((t,n)=>t?r(t):(e.log(`Flushed pins with root: ${c}`),r(null,c))))}const O={add:r(((t,n,r)=>{"function"==typeof n&&(r=n,n={});const i=null==(n=n||{}).recursive||n.recursive;k(e.object,t,((e,t)=>{if(e)return r(e);u(t,((e,t)=>{const r=x(e);if(i){if(A.has(r))return t(null,r);g._getRecursive(r,{preload:n.preload},(e=>e?t(e):t(null,r)))}else{if(A.has(r))return t(new Error(`${r} already pinned recursively`));if(R.has(r))return t(null,r);g.get(new a(e),{preload:n.preload},(e=>e?t(e):t(null,r)))}}),((e,t)=>{if(e)return r(e);const n=i?A:R;t.forEach((e=>n.add(e))),N(((e,n)=>{if(e)return r(e);r(null,t.map((e=>({hash:e}))))}))}))}))})),rm:r(((t,n,r)=>{"function"==typeof n&&(r=n);const i=null==(n=n||{}).recursive||n.recursive;if(n.cidBase&&!_.names.includes(n.cidBase))return m((()=>{r(b(new Error("invalid multibase"),"ERR_INVALID_MULTIBASE"))}));k(e.object,t,((t,n)=>{if(t)return r(t);u(n,((e,t)=>{O._isPinnedWithType(e,j.all,((n,r)=>{if(n)return t(n);const{pinned:s,reason:o}=r,a=x(e);if(!s)return t(new Error(`${a} is not pinned`));switch(o){case j.recursive:return i?t(null,a):t(new Error(`${a} is pinned recursively`));case j.direct:return t(null,a);default:return t(new Error(`${a} is pinned indirectly under ${o}`))}}))}),((t,n)=>{if(t)return r(t);n.forEach((e=>{i&&A.has(e)?A.delete(e):R.delete(e)})),N(((t,i)=>{if(t)return r(t);e.log(`Removed pins: ${n}`),r(null,n.map((e=>({hash:e}))))}))}))}))})),ls:r(((t,n,r)=>{let i=j.all;if("function"==typeof t&&(r=t,n={},t=null),"function"==typeof n&&(r=n),t&&t.type&&(n=t,t=null),(n=n||{}).type){if("string"!=typeof n.type)return m((()=>r(E(n.type))));i=n.type.toLowerCase()}if(!Object.keys(j).includes(i))return m((()=>r(E(i))));if(t)d([n=>k(e.object,t,n),(e,t)=>c(e,((e,t)=>O._isPinnedWithType(e,j.all,t)),t),(e,t)=>{if(!(e=e.filter((e=>e.pinned)).map((({key:e,reason:t})=>{switch(t){case j.direct:case j.recursive:return{hash:e,type:t};default:return{hash:e,type:`${j.indirect} through ${t}`}}}))).length)return t(new Error("Path is not pinned"));t(null,e)}],r);else{let e=[];i!==j.direct&&i!==j.all||(e=e.concat(Array.from(R).map((e=>({type:j.direct,hash:e}))))),i!==j.recursive&&i!==j.all||(e=e.concat(Array.from(A).map((e=>({type:j.recursive,hash:e}))))),i===j.indirect||i===j.all?function(e){const t=new Set;h(I(),300,((e,n)=>{g._getRecursive(e,((e,r)=>{if(e)return n(e);u(r,((e,t)=>o.cid(o.serialize(e),{cidVersion:0}).then((e=>t(null,e)),t)),((e,r)=>{if(e)return n(e);r.map((e=>e.toString())).filter((e=>!A.has(e))).forEach((e=>t.add(e))),n()}))}))}),(n=>{if(n)return e(n);e(null,Array.from(t))}))}(((t,n)=>t?r(t):(e=e.filter((({hash:e})=>!n.includes(e)||n.includes(e)&&!R.has(e))).concat(n.map((e=>({type:j.indirect,hash:e})))),r(null,e)))):r(null,e)}})),_isPinnedWithType:r(((e,t,n)=>{const r=x(e),{recursive:i,direct:s,all:o}=j;return t!==i&&t!==o||!A.has(r)?t===i?n(null,{key:r,pinned:!1}):t!==s&&t!==o||!R.has(r)?t===s?n(null,{key:r,pinned:!1}):void p(I().map((e=>new a(e))),300,((e,t)=>{d([t=>g.get(e,"",{preload:!1},t),(e,t)=>t(null,e.value),(e,t)=>S.hasDescendant(e,r,t)],t)}),((e,t)=>n(e,{key:r,pinned:Boolean(t),reason:t}))):n(null,{key:r,pinned:!0,reason:s}):n(null,{key:r,pinned:!0,reason:i})})),_load:r((n=>{d([e=>t.closed?t.datastore.open(e):e(null,null),(e,n)=>t.datastore.has(v,n),(e,t)=>e?t():t(new Error("No pins to load")),e=>t.datastore.get(v,e),(e,t)=>{g.get(new a(e),"",{preload:!1},t)}],((t,r)=>{if(t)return"No pins to load"===t.message?(e.log("No pins to load"),n()):n(t);f([e=>S.loadSet(r.value,j.recursive,e),e=>S.loadSet(r.value,j.direct,e)],((t,r)=>{if(t)return n(t);const[i,s]=r;return R=new Set(s.map(x)),A=new Set(i.map(x)),e.log("Loaded pins from the datastore"),n(null)}))}))}))};return O}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/pin.js"}],[4624,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports='\n  syntax = "proto2";\n\n  package ipfs.pin;\n\n  option go_package = "pb";\n\n  message Set {\n    optional uint32 version = 1;\n    optional uint32 fanout = 2;\n    optional fixed32 seed = 3;\n  }\n'}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/pin.proto.js"}],[4625,{"../utils":4659,debug:2253,"peer-id":5410,"pull-pushable":5471,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=e("../utils").OFFLINE_ERROR,s=e("peer-id"),o=e("pull-stream"),a=e("pull-pushable"),u=r("ipfs:pingPullStream");function c(e){return Object.assign({success:!0,time:0,text:""},e)}u.error=r("ipfs:pingPullStream:error"),t.exports=function(e){return(t,n)=>{if(!e.isOnline())return o.error(new Error(i));n=Object.assign({count:10},n);const r=a();return function(e,t,n,r){let i,o;try{i=s.createFromB58String(n)}catch(e){return r(e)}try{o=e.peerBook.get(i)}catch(s){return u("Peer not found in peer book, trying peer routing"),t.push(c({text:`Looking up peer ${n}`})),e.peerRouting.findPeer(i,r)}r(null,o)}(e.libp2p,r,t,((t,i)=>{if(t)return u.error(t),void r.end(t);!function(e,t,n,r,i){e.ping(r,((e,s)=>{if(e)return i(e);let o=0,a=0;t.push(c({text:`PING ${r.id.toB58String()}`})),s.on("ping",(e=>{if(t.push(c({time:e})),a+=e,o++,o>=n){const e=a/n;s.stop(),t.push(c({text:`Average latency: ${e}ms`})),t.end()}})),s.on("error",(e=>{u.error(e),s.stop(),i(e)})),s.start()}))}(e.libp2p,r,n.count,i,(e=>{e&&(u.error(e),r.push(c({success:!1,text:e.toString()})),r.end())}))})),r}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/ping-pull-stream.js"}],[4626,{"pull-stream-to-stream":5476},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream-to-stream");t.exports=function(e){return(t,n)=>r.source(e.pingPullStream(t,n))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/ping-readable-stream.js"}],[4627,{"promisify-es6":5424,"pull-stream/pull":5478},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("pull-stream/pull");t.exports=function(e){return r(((t,n,r)=>{"function"==typeof n&&(r=n,n={}),i(e.pingPullStream(t,n),i.collect(r))}))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/ping.js"}],[4628,{"./no-keychain":4620,"async/waterfall":1779,"libp2p-keychain":4905,"merge-options":5193,multiaddr:5208,"peer-id":5410,"peer-info":5411},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("peer-id"),i=e("peer-info"),s=e("multiaddr"),o=e("async/waterfall"),a=e("libp2p-keychain"),u=e("merge-options"),c=e("./no-keychain");t.exports=function(e){return t=>{e.log("pre-start");const n=e._options.pass;o([t=>e._repo.config.get(t),(t,n)=>{if(!e._options.config)return n(null,t);t=u(t,e._options.config),e.config.replace(t,(e=>{if(e)return n(e);n(null,t)}))},(t,n)=>{if(t.Keychain)return n(null,t);t.Keychain=a.generateOptions(),e.config.set("Keychain",t.Keychain,(r=>{e.log("using default keychain options"),n(r,t)}))},(t,r)=>{if(e._keychain);else if(n){const r=Object.assign({passPhrase:n},t.Keychain);e._keychain=new a(e._repo.keys,r),e.log("keychain constructed")}else e._keychain=new c,e.log("no keychain, use --pass");r(null,t)},(e,t)=>{const n=e.Identity.PrivKey;r.createFromPrivKey(n,((n,r)=>{t(n,e,r)}))},(t,r,i)=>{if(!n)return i(null,t,r);e._keychain.findKeyByName("self",(n=>{if(n)return e.log('Creating "self" key'),e._keychain.importPeer("self",r,(e=>i(e,t,r)));i(null,t,r)}))},(t,n,r)=>{e.log("peer created"),e._peerInfo=new i(n),t.Addresses&&t.Addresses.Swarm&&t.Addresses.Swarm.forEach((t=>{let n=s(t);n.getPeerId()&&(n=n.encapsulate("/ipfs/"+e._peerInfo.id.toB58String())),e._peerInfo.multiaddrs.add(n)})),r()},t=>e.pin._load(t)],t)}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/pre-start.js"}],[4629,{"async/setImmediate":1773,"err-code":2355,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("async/setImmediate"),s=e("err-code"),o=()=>s(new Error("pubsub experiment is not enabled"),"ERR_PUBSUB_DISABLED");t.exports=function(e){return{subscribe:(t,n,r,s)=>("function"==typeof r&&(s=r,r={}),e._options.EXPERIMENTAL.pubsub?s?void e.libp2p.pubsub.subscribe(t,r,n,s):new Promise(((i,s)=>{e.libp2p.pubsub.subscribe(t,r,n,(e=>{if(e)return s(e);i()}))})):s?i((()=>s(o()))):Promise.reject(o())),unsubscribe:(t,n,r)=>e._options.EXPERIMENTAL.pubsub?(e.libp2p.pubsub.unsubscribe(t,n),r?void i((()=>r())):Promise.resolve()):r?i((()=>r(o()))):Promise.reject(o()),publish:r(((t,n,r)=>{if(!e._options.EXPERIMENTAL.pubsub)return i((()=>r(o())));e.libp2p.pubsub.publish(t,n,r)})),ls:r((t=>{if(!e._options.EXPERIMENTAL.pubsub)return i((()=>t(o())));e.libp2p.pubsub.ls(t)})),peers:r(((t,n)=>{if(!e._options.EXPERIMENTAL.pubsub)return i((()=>n(o())));e.libp2p.pubsub.peers(t,n)})),setMaxListeners(t){if(!e._options.EXPERIMENTAL.pubsub)throw o();e.libp2p.pubsub.setMaxListeners(t)}}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/pubsub.js"}],[4630,{"ipfs-repo":4504,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("ipfs-repo").repoVersion;t.exports=function(e){return{init:(e,t,n)=>{},version:r((t=>{e._repo._isInitialized((n=>{if(n){return[/Key not found in database \[\/version\]/,/ENOENT/,/repo is not initialized yet/].some((e=>e.test(n.message)))?t(null,i):t(n)}e._repo.version.get(t)}))})),gc:r(((e,t)=>{"function"==typeof e&&(t=e,e={}),t(new Error("Not implemented"))})),stat:r(((t,n)=>{"function"==typeof t&&(n=t,t={}),e._repo.stat(t,((e,t)=>{if(e)return n(e);n(null,{numObjects:t.numObjects,repoSize:t.repoSize,repoPath:t.repoPath,version:t.version.toString(),storageMax:t.storageMax})}))})),path:()=>e._repo.path}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/repo.js"}],[4631,{"../../utils/cid":4660,"async/setImmediate":1773,cids:2119,"is-ipfs":4697,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("is-ipfs"),s=e("async/setImmediate"),o=e("cids"),{cidToString:a}=e("../../utils/cid");t.exports=e=>r((async(t,n,r)=>{if("function"==typeof n&&(r=n,n={}),n=n||{},!i.path(t))return s((()=>r(new Error("invalid argument "+t))));if(!i.ipfsPath(t))return s((()=>r(new Error("resolve non-IPFS names is not implemented"))));const u=t.split("/"),c=new o(u[2]);if(3===u.length)return s((()=>r(null,`/ipfs/${a(c,{base:n.cidBase})}`)));const l=u.slice(3).join("/"),f=e._ipld.resolve(c,l);let h=c,d=l;try{for await(const e of f){if(""===e.remainderPath){o.isCID(e.value)&&(h=e.value,d=""),e.value&&o.isCID(e.value.Hash)&&(h=e.value.Hash,d="");break}h=e.value,d=e.remainderPath}}catch(e){return r(e)}return r(null,`/ipfs/${a(h,{base:n.cidBase})}${d?"/"+d:""}`)}))}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/resolve.js"}],[4632,{"../ipns":4639,"../ipns/routing/config":4644,"./libp2p":4617,"async/series":1772,"async/setImmediate":1773,"ipfs-bitswap":4427,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/series"),i=e("ipfs-bitswap"),s=e("async/setImmediate"),o=e("promisify-es6"),a=e("../ipns"),u=e("../ipns/routing/config"),c=e("./libp2p");t.exports=e=>o((t=>{const n=n=>{if(n)return s((()=>e.emit("error",n))),t(n);e.state.started(),s((()=>e.emit("start"))),t()};if("stopped"!==e.state.state())return n(new Error(`Not able to start from state: ${e.state.state()}`));e.log("starting"),e.state.start(),r([t=>{e._repo.closed?e._repo.open(t):t()},t=>{e._repo.config.get(((n,r)=>{if(n)return t(n);const i=c(e,r);i.start((n=>{if(n)return t(n);e.libp2p=i,t()}))}))},t=>{const n=u(e);e._ipns=new a(n,e._repo.datastore,e._peerInfo,e._keychain,e._options),e._bitswap=new i(e.libp2p,e._repo.blocks,{statsEnabled:!0}),e._bitswap.start(),e._blockService.setExchange(e._bitswap),e._preload.start(),e._ipns.republisher.start(),e._mfsPreload.start(t)}],n)}))}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/start.js"}],[4633,{"./bitswap":4581,"./repo":4630,"bignumber.js":4558,"err-code":2355,"human-to-milliseconds":4386,"promisify-es6":5424,"pull-pushable":5471,"pull-stream-to-stream":5476},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("bignumber.js"),s=e("pull-pushable"),o=e("human-to-milliseconds"),a=e("pull-stream-to-stream"),u=e("err-code");function c(e,t){return new Promise(((n,r)=>{let s;s=t.peer?e.libp2p.stats.forPeer(t.peer):t.proto?e.libp2p.stats.forProtocol(t.proto):e.libp2p.stats.global,n(s?{totalIn:s.snapshot.dataReceived,totalOut:s.snapshot.dataSent,rateIn:new i(s.movingAverages.dataReceived[6e4].movingAverage()/60),rateOut:new i(s.movingAverages.dataSent[6e4].movingAverage()/60)}:{totalIn:new i(0),totalOut:new i(0),rateIn:new i(0),rateOut:new i(0)})}))}t.exports=function(t){const n=e=>{e=e||{};let n=null,r=s(!0,(()=>{n&&clearInterval(n)}));return e.poll?o(e.interval||"1s",((i,s)=>{if(i)return r.end(u(i,"ERR_INVALID_POLL_INTERVAL"));n=setInterval((()=>{c(t,e).then((e=>r.push(e))).catch((e=>r.end(e)))}),s)})):c(t,e).then((e=>{r.push(e),r.end()})).catch((e=>r.end(e))),r.source};return{bitswap:e("./bitswap")(t).stat,repo:e("./repo")(t).stat,bw:r(((e,n)=>{"function"==typeof e&&(n=e,e={}),c(t,e=e||{}).then((e=>n(null,e))).catch((e=>n(e)))})),bwReadableStream:e=>a.source(n(e)),bwPullStream:n}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/stats.js"}],[4634,{"async/parallel":1768,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/parallel"),i=e("promisify-es6");t.exports=e=>i((t=>(t=t||function(){},e.log("stop"),"stopped"===e.state.state()?t(new Error("Already stopped")):"running"!==e.state.state()?t(new Error("Not able to stop from state: "+e.state.state())):(e.state.stop(),e._blockService.unsetExchange(),e._bitswap.stop(),e._preload.stop(),void r([t=>e._ipns.republisher.stop(t),t=>e._mfsPreload.stop(t),t=>{const n=e.libp2p;e.libp2p=null,n.stop(t)}],(n=>{e._repo.close((r=>{if(n||r)return e.emit("error",n||r),t(n||r);e.state.stopped(),e.emit("stop"),t()}))}))))))}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/stop.js"}],[4635,{"../utils":4659,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("../utils").OFFLINE_ERROR;t.exports=function(e){return{peers:r(((t,n)=>{if("function"==typeof t&&(n=t,t={}),t=t||{},!e.isOnline())return n(new Error(i));const r=t.v||t.verbose,s=[];Object.values(e._peerInfoBook.getAll()).forEach((e=>{const t=e.isConnected();if(!t)return;const n={addr:t,peer:e.id};r&&(n.latency="unknown"),s.push(n)})),n(null,s)})),addrs:r((t=>{if(!e.isOnline())return t(new Error(i));t(null,Object.values(e._peerInfoBook.getAll()))})),localAddrs:r((t=>{if(!e.isOnline())return t(new Error(i));t(null,e.libp2p.peerInfo.multiaddrs.toArray())})),connect:r(((t,n)=>{if(!e.isOnline())return n(new Error(i));e.libp2p.dial(t,n)})),disconnect:r(((t,n)=>{if(!e.isOnline())return n(new Error(i));e.libp2p.hangUp(t,n)})),filters:r((e=>e(new Error("Not implemented"))))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/swarm.js"}],[4636,{"../../../package.json":4579,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../../../package.json"),i=e("promisify-es6");t.exports=function(e){return i(((t,n)=>{"function"==typeof t&&(n=t,t={}),e.repo.version(((e,t)=>{if(e)return n(e);n(null,{version:r.version,repo:t,commit:""})}))}))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/components/version.js"}],[4637,{mafmt:5190,multiaddr:5208,superstruct:5906},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multiaddr"),i=e("mafmt"),{struct:s,superstruct:o}=e("superstruct"),{optional:a,union:u}=s,c=o({types:{multiaddr:e=>{if(null===e)return`multiaddr invalid, value must be a string, Buffer, or another Multiaddr got ${e}`;try{r(e)}catch(e){return`multiaddr invalid, ${e.message}`}return!0},"multiaddr-ipfs":e=>!!i.IPFS.matches(e)||"multiaddr IPFS invalid"}}),l=c({repo:a(c("object|string")),repoOwner:"boolean?",preload:c({enabled:"boolean?",addresses:a(c(["multiaddr"])),interval:"number?"},{enabled:!0,interval:3e4}),init:a(u(["boolean",c({bits:"number?",emptyRepo:"boolean?",privateKey:a(c("object|string")),pass:"string?"})])),start:"boolean?",offline:"boolean?",pass:"string?",silent:"boolean?",relay:"object?",EXPERIMENTAL:a(c({pubsub:"boolean?",ipnsPubsub:"boolean?",sharding:"boolean?",dht:"boolean?"})),connectionManager:"object?",config:a(c({API:"object?",Addresses:a(c({Swarm:a(c(["multiaddr"])),API:"multiaddr?",Gateway:"multiaddr"})),Discovery:a(c({MDNS:a(c({Enabled:"boolean?",Interval:"number?"})),webRTCStar:a(c({Enabled:"boolean?"}))})),Bootstrap:a(c(["multiaddr-ipfs"]))})),ipld:"object?",libp2p:a(u(["function","object"]))},{repoOwner:!0});t.exports={validate:e=>{const[t,n]=l.validate(e);if(t)throw t;return n}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/config.js"}],[4638,{"./boot":4580,"./components":4613,"./config":4637,"./mfs-preload":4648,"./preload":4649,"./runtime/ipld-nodejs":4654,"./runtime/repo-nodejs":4657,"./state":4658,buffer:2081,cids:2119,debug:2253,events:2082,"ipfs-block-service":4440,ipld:4679,"is-ipfs":4697,"libp2p-crypto":4850,"merge-options":5193,multiaddr:5208,multibase:5216,multicodec:5219,multihashes:5234,"multihashing-async":4562,"peer-book":5409,"peer-id":5410,"peer-info":5411},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("ipfs-block-service"),i=e("ipld"),s=e("peer-id"),o=e("peer-info"),a=e("libp2p-crypto"),u=e("is-ipfs"),c=e("multiaddr"),l=e("multihashes"),f=e("peer-book"),h=e("multibase"),d=e("multicodec"),p=e("multihashing-async"),m=e("cids"),g=e("debug"),b=e("merge-options"),_=e("events"),w=e("./config"),y=e("./boot"),k=e("./components"),v=e("./runtime/repo-nodejs"),x=e("./preload"),E=e("./mfs-preload"),S=e("./runtime/ipld-nodejs");class j extends _{constructor(t){super();t=w.validate(t||{}),this._options=b({init:!0,start:!0,EXPERIMENTAL:{},preload:{enabled:!0,addresses:["/dnsaddr/node0.preload.ipfs.io/https","/dnsaddr/node1.preload.ipfs.io/https"]}},t),!1===t.init&&(this._options.init=!1),!1!==t.start&&(this._options.start=!0),"string"==typeof t.repo||t.repo===undefined?this._repo=v(t.repo):this._repo=t.repo,this.log=g("ipfs"),this.log.err=g("ipfs:err"),this._peerInfoBook=new f,this._peerInfo=undefined,this._bitswap=undefined,this._blockService=new r(this._repo),this._ipld=new i(S(this._blockService,this._options.ipld,this.log)),this._preload=x(this),this._mfsPreload=E(this),this._ipns=undefined,this._print=this._options.silent?this.log:console.log,this.init=k.init(this),this.preStart=k.preStart(this),this.start=k.start(this),this.stop=k.stop(this),this.shutdown=this.stop,this.isOnline=k.isOnline(this),Object.assign(this,k.filesRegular(this)),this.version=k.version(this),this.id=k.id(this),this.repo=k.repo(this),this.bootstrap=k.bootstrap(this),this.config=k.config(this),this.block=k.block(this),this.object=k.object(this),this.dag=k.dag(this),this.files=k.filesMFS(this),this.libp2p=null,this.swarm=k.swarm(this),this.name=k.name(this),this.bitswap=k.bitswap(this),this.pin=k.pin(this),this.ping=k.ping(this),this.pingPullStream=k.pingPullStream(this),this.pingReadableStream=k.pingReadableStream(this),this.pubsub=k.pubsub(this),this.dht=k.dht(this),this.dns=k.dns(this),this.key=k.key(this),this.stats=k.stats(this),this.resolve=k.resolve(this),this._options.EXPERIMENTAL.pubsub&&this.log("EXPERIMENTAL pubsub is enabled"),this._options.EXPERIMENTAL.ipnsPubsub&&(this._options.EXPERIMENTAL.pubsub||(this.log("EXPERIMENTAL pubsub is enabled to use IPNS pubsub"),this._options.EXPERIMENTAL.pubsub=!0),this.log("EXPERIMENTAL IPNS pubsub is enabled")),this._options.EXPERIMENTAL.sharding&&this.log("EXPERIMENTAL sharding is enabled"),this.state=e("./state")(this),y(this)}}t.exports=j;const R=n;Object.assign(t.exports,{crypto:a,isIPFS:u,Buffer:R,CID:m,multiaddr:c,multibase:h,multihash:l,multihashing:p,multicodec:d,PeerId:s,PeerInfo:o}),t.exports.createNode=e=>new j(e)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/index.js"}],[4639,{"./path":4640,"./publisher":4641,"./republisher":4642,"./resolver":4643,"async/series":1772,debug:2253,"err-code":2355,"peer-id":5410,receptacle:5719},function(){with(this)return function(){"use strict";return function(e,t,n){const{createFromPrivKey:r}=e("peer-id"),i=e("async/series"),s=e("receptacle"),o=e("err-code"),a=e("debug"),u=a("ipfs:ipns");u.error=a("ipfs:ipns:error");const c=e("./publisher"),l=e("./republisher"),f=e("./resolver"),h=e("./path");(t.exports=class{constructor(e,t,n,r,i){this.publisher=new c(e,t),this.republisher=new l(this.publisher,t,n,r,i),this.resolver=new f(e),this.cache=new s({max:1e3}),this.routing=e}publish(e,t,n,s){i([t=>r(e.bytes,t),r=>this.publisher.publishWithEOL(e,t,n,r)],((e,r)=>{if(e)return u.error(e),s(e);u(`IPNS value ${t} was published correctly`);const i=r[0].toB58String(),o=parseFloat(n),a=o<6e4?o:6e4;this.cache.set(i,t,{ttl:a}),u(`IPNS value ${t} was cached correctly`),s(null,{name:i,value:t})}))}resolve(e,t,n){if("string"!=typeof e){const e="name received is not valid";return u.error(e),n(o(new Error(e),"ERR_INVALID_NAME"))}if("function"==typeof t&&(n=t,t={}),!(t=t||{}).nocache&&!t.recursive){const t=e.split("/")[2],r=this.cache.get(t);if(r)return n(null,{path:r})}this.resolver.resolve(e,t,((t,r)=>{if(t)return u.error(t),n(t);u(`IPNS record from ${e} was resolved correctly`),n(null,{path:r})}))}initializeKeyspace(e,t,n){this.publisher.publish(e,t,n)}}).path=h}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/ipns/index.js"}],[4640,{debug:2253,"is-ipfs":4697},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("is-ipfs"),i=e("debug"),s=i("ipfs:ipns:path");s.error=i("ipfs:ipns:path:error");t.exports={resolvePath:(e,t,n)=>{if(r.ipnsPath(t))return s(`resolve ipns path ${t}`),e._ipns.resolve(t,n);e.dag.get(t.substring("/ipfs/".length),((e,t)=>e?n(e):n(null,t)))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/ipns/path.js"}],[4641,{"async/series":1772,debug:2253,"err-code":2355,"interface-datastore":4411,ipns:4682,"peer-id":5410},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("peer-id"),{Key:i}=e("interface-datastore"),s=e("async/series"),o=e("err-code"),a=e("debug"),u=a("ipfs:ipns:publisher");u.error=a("ipfs:ipns:publisher:error");const c=e("ipns");t.exports=class{constructor(e,t){this._routing=e,this._datastore=t}publishWithEOL(e,t,n,i){if(!e||!e.bytes){const e="one or more of the provided parameters are not defined";return u.error(e),i(o(new Error(e),"ERR_UNDEFINED_PARAMETER"))}r.createFromPrivKey(e.bytes,((r,s)=>{if(r)return i(r);this._updateOrCreateRecord(e,t,n,s,((e,t)=>{if(e)return i(e);this._putRecordToRouting(t,s,i)}))}))}publish(e,t,n){this.publishWithEOL(e,t,36e5,n)}_putRecordToRouting(e,t,n){if(!r.isPeerId(t)){const e="peerId received is not valid";return u.error(e),n(o(new Error(e),"ERR_INVALID_PEER_ID"))}const i=t._pubKey;c.embedPublicKey(i,e,((r,o)=>{if(r)return n(r);let a;try{a=c.getIdKeys(t.toBytes())}catch(r){return u.error(r),n(r)}s([n=>this._publishEntry(a.routingKey,o||e,t,n),e=>this._publishPublicKey(a.routingPubKey,i,t,e)],(t=>{if(t)return u.error(t),n(t);n(null,o||e)}))}))}_publishEntry(e,t,n,r){if(!i.isKey(e)){const e="datastore key does not have a valid format";return u.error(e),r(o(new Error(e),"ERR_INVALID_DATASTORE_KEY"))}let s;try{s=c.marshal(t)}catch(e){return u.error(e),r(e)}this._routing.put(e.toBuffer(),s,((t,n)=>{if(t){const t=`ipns record for ${e.toString()} could not be stored in the routing`;return u.error(t),r(o(new Error(t),"ERR_PUTTING_TO_ROUTING"))}u(`ipns record for ${e.toString()} was stored in the routing`),r(null,n)}))}_publishPublicKey(e,t,n,r){if(!i.isKey(e)){const e="datastore key does not have a valid format";return u.error(e),r(o(new Error(e),"ERR_INVALID_DATASTORE_KEY"))}if(!t||!t.bytes){const e="one or more of the provided parameters are not defined";return u.error(e),r(o(new Error(e),"ERR_UNDEFINED_PARAMETER"))}this._routing.put(e.toBuffer(),t.bytes,((t,n)=>{if(t){const t=`public key for ${e.toString()} could not be stored in the routing`;return u.error(t),r(o(new Error(t),"ERR_PUTTING_TO_ROUTING"))}u(`public key for ${e.toString()} was stored in the routing`),r(null,n)}))}_getPublished(e,t,n){if(!r.isPeerId(e)){const e="peerId received is not valid";return u.error(e),n(o(new Error(e),"ERR_INVALID_PEER_ID"))}const i=!1!==(t=t||{}).checkRouting;this._datastore.get(c.getLocalKey(e.id),((t,r)=>{if(t){if("ERR_NOT_FOUND"!==t.code){const t=`unexpected error getting the ipns record ${e.id} from datastore`;return u.error(t),n(o(new Error(t),"ERR_UNEXPECTED_DATASTORE_RESPONSE"))}if(!i)return n(o(t));let r;try{r=c.getIdKeys(e.toBytes())}catch(t){return u.error(t),n(t)}this._routing.get(r.routingKey.toBuffer(),((e,t)=>{if(e)return n(e);this._unmarshalData(t,n)}))}else this._unmarshalData(r,n)}))}_unmarshalData(e,t){let n;try{n=c.unmarshal(e)}catch(e){return u.error(e),t(o(e,"ERR_INVALID_RECORD_DATA"))}t(null,n)}_updateOrCreateRecord(e,t,n,i,s){if(!r.isPeerId(i)){const e="peerId received is not valid";return u.error(e),s(o(new Error(e),"ERR_INVALID_PEER_ID"))}this._getPublished(i,{checkRouting:!0},((r,a)=>{if(r&&"ERR_NOT_FOUND"!==r.code){const e=`unexpected error when determining the last published IPNS record for ${i.id}`;return u.error(e),s(o(new Error(e),"ERR_DETERMINING_PUBLISHED_RECORD"))}let l=0;a&&a.sequence!==undefined&&(l=a.value.toString()!==t?a.sequence+1:a.sequence),c.create(e,t,l,n,((e,n)=>{if(e){const e=`ipns record for ${t} could not be created`;return u.error(e),s(o(new Error(e),"ERR_CREATING_IPNS_RECORD"))}const r=c.marshal(n);this._datastore.put(c.getLocalKey(i.id),r,((e,r)=>{if(e){const e=`ipns record for ${t} could not be stored in the datastore`;return u.error(e),s(o(new Error(e),"ERR_STORING_IN_DATASTORE"))}u(`ipns record for ${t} was stored in the datastore`),s(null,n)}))}))}))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/ipns/publisher.js"}],[4642,{"../../../../is-buffer/index.js":4686,"async/each":1733,"async/waterfall":1779,debug:2253,"err-code":2355,ipns:4682,"libp2p-crypto":4850,"peer-id":5410},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("ipns"),i=e("libp2p-crypto"),s=e("peer-id"),o=e("err-code"),a=e("debug"),u=e("async/each"),c=e("async/waterfall"),l=a("ipfs:ipns:republisher");l.error=a("ipfs:ipns:republisher:error");t.exports=class{constructor(e,t,n,r,i){this._publisher=e,this._datastore=t,this._peerInfo=n,this._keychain=r,this._options=i,this._republishHandle=null}start(){if(this._republishHandle){const e="already running";throw l.error(e),o(new Error(e),"ERR_REPUBLISH_ALREADY_RUNNING")}const e={_onCancel:null,_timeoutId:null,runPeriodically:(t,n)=>{e._timeoutId=setTimeout((()=>{e._timeoutId=null,t((r=>{if(e._onCancel)return e._onCancel();e.runPeriodically(t,r||n)}))}),n)},cancel:t=>{if(e._timeoutId)return clearTimeout(e._timeoutId),t();e._onCancel=t}},{privKey:t}=this._peerInfo.id,{pass:n}=this._options;e.runPeriodically((e=>{this._republishEntries(t,n,(()=>e(144e5)))}),6e4),this._republishHandle=e}stop(e){const t=this._republishHandle;if(!t){const t="not running";return l.error(t),e(o(new Error(t),"ERR_REPUBLISH_NOT_RUNNING"))}this._republishHandle=null,t.cancel(e)}_republishEntries(e,t,n){this._republishEntry(e,(e=>{if(e){const e="cannot republish entry for the node's private key";l.error(e)}else t?this._keychain.listKeys(((e,r)=>{e?l.error(e):u(r,((e,n)=>{c([n=>this._keychain.exportKey(e.name,t,n),(e,n)=>i.keys.__import__(e,t,n)],((e,t)=>{e?l.error(e):this._republishEntry(t,n)}))}),(e=>{e&&l.error(e),n(null)}))})):n(null)}))}_republishEntry(e,t){if(!e||!e.bytes){const e="one or more of the provided parameters are not defined";return l.error(e),t(o(new Error(e),"ERR_UNDEFINED_PARAMETER"))}c([t=>s.createFromPrivKey(e.bytes,t),(e,t)=>this._getPreviousValue(e,t)],((n,r)=>{if(n)return t("ERR_NO_ENTRY_FOUND"===n.code?null:n);this._publisher.publishWithEOL(e,r,864e5,t)}))}_getPreviousValue(e,t){if(!s.isPeerId(e)){const e="peerId received is not valid";return l.error(e),t(o(new Error(e),"ERR_INVALID_PEER_ID"))}this._datastore.get(r.getLocalKey(e.id),((i,s)=>{if(i&&i.notFound){const n=`no previous entry for record with id: ${e.id}`;return l.error(n),t(o(new Error(n),"ERR_NO_ENTRY_FOUND"))}if(i)return t(i);if(!n.isBuffer(s)){const e="found ipns record that we couldn't process";return l.error(e),t(o(new Error(e),"ERR_INVALID_IPNS_RECORD"))}let a;try{a=r.unmarshal(s)}catch(i){const e="found ipns record that we couldn't convert to a value";return l.error(e),t(o(new Error(e),"ERR_INVALID_IPNS_RECORD"))}t(null,a.value)}))}}}).call(this)}).call(this,{isBuffer:e("../../../../is-buffer/index.js")})}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/ipns/republisher.js"}],[4643,{debug:2253,"err-code":2355,ipns:4682,"libp2p-crypto":4850,"peer-id":5410},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipns"),i=e("libp2p-crypto"),s=e("peer-id"),o=e("err-code"),a=e("debug"),u=a("ipfs:ipns:resolver");u.error=a("ipfs:ipns:resolver:error");t.exports=class{constructor(e){this._routing=e}resolve(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e){const e="one or more of the provided parameters are not valid";return u.error(e),n(o(new Error(e),"ERR_INVALID_PARAMETER"))}const r=(t=t||{}).recursive&&"true"===t.recursive.toString(),i=e.split("/");if(3!==i.length||""!==i[0]){const t=`invalid name syntax for ${e}`;return u.error(t),n(o(new Error(t),"ERR_INVALID_NAME_SYNTAX"))}const s=i[2];let a;r&&(a=32),this.resolver(s,a,((t,r)=>{if(t)return n(t);u(`${e} was locally resolved correctly`),n(null,r)}))}resolver(e,t,n){if(0===t){const e="could not resolve name (recursion limit of 32 exceeded)";return u.error(e),n(o(new Error(e),"ERR_RESOLVE_RECURSION_LIMIT"))}this._resolveName(e,((e,r)=>{if(e)return n(e);const i=r.split("/");if("ipfs"===i[1]||!t)return n(null,r);this.resolver(i[2],t-1,n)}))}_resolveName(e,t){let n;try{n=s.createFromB58String(e)}catch(e){return t(e)}const{routingKey:a,routingPubKey:c}=r.getIdKeys(n.toBytes());this._routing.get(a.toBuffer(),((s,l)=>{if(s){if("ERR_NOT_FOUND"!==s.code){const e=`unexpected error getting the ipns record ${n.id}`;return u.error(e),t(o(new Error(e),"ERR_UNEXPECTED_ERROR_GETTING_RECORD"))}const r=`record requested was not found for ${e} (${a}) in the network`;return u.error(r),t(o(new Error(r),"ERR_NO_RECORD_FOUND"))}let f;try{f=r.unmarshal(l)}catch(s){const e="found ipns record that we couldn't convert to a value";return u.error(e),t(o(new Error(e),"ERR_INVALID_RECORD_RECEIVED"))}if(f.pubKey)return this._validateRecord(n,f,t);this._routing.get(a.toBuffer(),((r,s)=>{if(r){if("ERR_NOT_FOUND"!==r.code){const e=`unexpected error getting the public key for the ipns record ${n.id}`;return u.error(e),t(o(new Error(e),"ERR_UNEXPECTED_ERROR_GETTING_PUB_KEY"))}const i=`public key requested was not found for ${e} (${c}) in the network`;return u.error(i),t(o(new Error(i),"ERR_NO_RECORD_FOUND"))}try{n.pubKey=i.keys.unmarshalPublicKey(s)}catch(r){const e="found public key record that we couldn't convert to a value";return u.error(e),t(o(new Error(e),"ERR_INVALID_PUB_KEY_RECEIVED"))}this._validateRecord(n,f,t)}))}))}_validateRecord(e,t,n){r.extractPublicKey(e,t,((e,i)=>{if(e)return n(e);r.validate(i,t,(e=>{if(e)return n(e);n(null,t.value.toString())}))}))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/ipns/resolver.js"}],[4644,{"./offline-datastore":4645,"./pubsub-datastore":4646,"datastore-core":2232,dlv:2284},function(){with(this)return function(){"use strict";return function(e,t,n){const{TieredDatastore:r}=e("datastore-core"),i=e("dlv"),s=e("./pubsub-datastore"),o=e("./offline-datastore");t.exports=e=>{const t=[];let n;if(i(e._options,"EXPERIMENTAL.ipnsPubsub",!1)){const r=e.libp2p.pubsub,i=e._repo.datastore,o=e._peerInfo.id;n=new s(r,i,o),t.push(n)}if(i(e._options,"offline")||!i(e._options,"libp2p.dht.enabled",!1)){const n=new o(e._repo);t.push(n)}else t.push(e.libp2p.dht);return new r(t)}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/ipns/routing/config.js"}],[4645,{"../../../../../is-buffer/index.js":4686,"./utils":4647,debug:2253,"err-code":2355,"interface-datastore":4411,"libp2p-record":4925},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const{Key:r}=e("interface-datastore"),{Record:i}=e("libp2p-record"),{encodeBase32:s}=e("./utils"),o=e("err-code"),a=e("debug"),u=a("ipfs:ipns:offline-datastore");u.error=a("ipfs:ipns:offline-datastore:error");t.exports=class{constructor(e){this._repo=e}put(e,t,r){if(!n.isBuffer(e)){const e="Offline datastore key must be a buffer";return u.error(e),r(o(new Error(e),"ERR_INVALID_KEY"))}if(!n.isBuffer(t)){const e="Offline datastore value must be a buffer";return u.error(e),r(o(new Error(e),"ERR_INVALID_VALUE"))}let s;try{s=this._routingKey(e)}catch(e){const t="Not possible to generate the routing key";return u.error(t),r(o(new Error(t),"ERR_GENERATING_ROUTING_KEY"))}const a=new i(e,t);this._repo.datastore.put(s,a.serialize(),r)}get(e,t){if(!n.isBuffer(e)){const e="Offline datastore key must be a buffer";return u.error(e),t(o(new Error(e),"ERR_INVALID_KEY"))}let r;try{r=this._routingKey(e)}catch(e){const n="Not possible to generate the routing key";return u.error(n),t(o(new Error(n),"ERR_GENERATING_ROUTING_KEY"))}this._repo.datastore.get(r,((e,n)=>{if(e)return t(e);let r;try{r=i.deserialize(n)}catch(e){return u.error(e),t(e)}t(null,r.value)}))}_routingKey(e){return new r("/"+s(e),!1)}}}).call(this)}).call(this,{isBuffer:e("../../../../../is-buffer/index.js")})}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/ipns/routing/offline-datastore.js"}],[4646,{buffer:2081,"class-is":2121,"datastore-pubsub":2248,debug:2253,"err-code":2355,ipns:4682,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("ipns"),{fromB58String:i,toB58String:s}=e("multihashes"),o=e("datastore-pubsub"),a=e("class-is"),u=e("err-code"),c=e("debug"),l=c("ipfs:ipns:pubsub");l.error=c("ipfs:ipns:pubsub:error");t.exports=a(class{constructor(e,t,n){this._pubsub=e,this._subscriptions={},this._handleSubscriptionKey=this._handleSubscriptionKey.bind(this),this._pubsubDs=new o(e,t,n,r.validator,this._handleSubscriptionKey)}put(e,t,n){this._pubsubDs.put(e,t,n)}get(e,t){this._pubsubDs.get(e,((n,i)=>{if(e.slice(0,r.namespaceLength).toString()===r.namespace){const t=e.toString(),n=s(e.slice(r.namespaceLength));this._subscriptions[t]=n,l(`subscribed pubsub ${t}: ${n}`)}if(n)return t(n);t(null,i)}))}_handleSubscriptionKey(e,t){const n=this._subscriptions[e];if(!n){const n=`key ${e} does not correspond to a subscription`;return l.error(n),t(u(new Error(n),"ERR_INVALID_KEY"))}let s;try{s=r.getIdKeys(i(n))}catch(e){return l.error(e),t(e)}t(null,s.routingKey.toBuffer())}getSubscriptions(e){return e(null,Object.values(this._subscriptions).filter(Boolean).map((e=>`${r.namespace}${e}`)))}cancel(e,t){if("string"!=typeof e){const e="received subscription name is not valid";return l.error(e),t(u(new Error(e),"ERR_INVALID_SUBSCRIPTION_NAME"))}e.startsWith(r.namespace)&&(e=e.substring(r.namespaceLength));const i=Object.keys(this._subscriptions).find((t=>this._subscriptions[t]===e));if(!i)return t(null,{canceled:!1});try{const e=n.from(i);this._pubsubDs.unsubscribe(e)}catch(e){return t(e)}this._subscriptions[i]=undefined,l(`unsubscribed pubsub ${i}: ${e}`),t(null,{canceled:!0})}},{className:"IpnsPubsubDatastore",symbolName:"@js-ipfs/ipns/IpnsPubsubDatastore"})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/ipns/routing/pubsub-datastore.js"}],[4647,{ipns:4682,multibase:5216},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multibase"),i=e("ipns");t.exports={encodeBase32:e=>r.encode("base32",e).slice(1).toString().toUpperCase(),validator:{func:(e,t,n)=>i.validator.validate(t,e,n)},selector:(e,t)=>i.validator.select(t[0],t[1])}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/ipns/routing/utils.js"}],[4648,{"async/setImmediate":1773,debug:2253},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=e("async/setImmediate"),s=r("ipfs:mfs-preload");s.error=r("ipfs:mfs-preload:error"),t.exports=e=>{const t=e._options.preload||{};if(t.interval=t.interval||3e4,!t.enabled)return s("MFS preload disabled"),{start:e=>i(e),stop:e=>i(e)};let n,r;const o=()=>{e.files.stat("/",((i,a)=>i?(r=setTimeout(o,t.interval),s.error("failed to stat MFS root for preload",i)):n!==a.hash?(s(`preloading updated MFS root ${n} -> ${a.hash}`),e._preload(a.hash,(e=>{if(r=setTimeout(o,t.interval),e)return s.error(`failed to preload MFS root ${a.hash}`,e);n=a.hash}))):void(r=setTimeout(o,t.interval))))};return{start(i){e.files.stat("/",((e,a)=>{if(e)return i(e);n=a.hash,s(`monitoring MFS root ${n}`),r=setTimeout(o,t.interval),i()}))},stop(e){clearTimeout(r),e()}}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/mfs-preload.js"}],[4649,{"./runtime/preload-nodejs":4656,"async/retry":1771,"async/setImmediate":1773,cids:2119,debug:2253,"multiaddr-to-uri":5205},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/setImmediate"),i=e("async/retry"),s=e("multiaddr-to-uri"),o=e("debug"),a=e("cids"),u=e("./runtime/preload-nodejs"),c=o("ipfs:preload");c.error=o("ipfs:preload:error");const l=e=>{e&&c.error(e)};function f(e){return e.endsWith("http")||e.endsWith("https")||(e+="/http"),s(e)}t.exports=e=>{const t=e._options.preload||{};if(t.enabled=Boolean(t.enabled),t.addresses=t.addresses||[],!t.enabled||!t.addresses.length){c("preload disabled");const e=(e,t)=>{t&&r((()=>t()))};return e.start=()=>{},e.stop=()=>{},e}let n=!0,s=[];const o=t.addresses.map(f),h=(e,t)=>{if(t=t||l,"string"!=typeof e)try{e=new a(e).toBaseEncodedString()}catch(e){return r((()=>t(e)))}const f=Array.from(o);let h;const d=Date.now();i({times:f.length},(t=>{if(n)return t(new Error(`preload aborted for ${e}`));s=s.filter((e=>e!==h));const r=f.shift();h=u(`${r}/api/v0/refs?r=true&arg=${e}`,t),s=s.concat(h)}),(n=>{if(s=s.filter((e=>e!==h)),n)return t(n);c(`preloaded ${e} in ${Date.now()-d}ms`),t()}))};return h.start=()=>{n=!1},h.stop=()=>{n=!0,c(`canceling ${s.length} pending preload request(s)`),s.forEach((e=>e.cancel())),s=[]},h}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/preload.js"}],[4650,{"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6");t.exports=e=>r(((...e)=>{e.pop()(new Error("not available in the browser"))}))}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/runtime/add-from-fs-browser.js"}],[4651,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=()=>({Addresses:{Swarm:[],API:"",Gateway:""},Discovery:{MDNS:{Enabled:!1,Interval:10},webRTCStar:{Enabled:!0}},Bootstrap:["/dns4/ams-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd","/dns4/lon-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLMeWqB7YGVLJN3pNLQpmmEk35v6wYtsMGLzSr5QBU3","/dns4/sfo-3.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLPppuBtQSGwKDZT2M73ULpjvfd3aZ6ha4oFGL1KrGM","/dns4/sgp-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLSafTMBsPKadTEgaXctDQVcqN88CNLHXMkTNwMKPnu","/dns4/nyc-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLueR4xBeUbY9WZ9xGUUxunbKWcrNFTDAadQJmocnWm","/dns4/nyc-2.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLV4Bbm51jM9C4gDYZQ9Cy3U6aXMJDAbzgu2fzaDs64","/dns4/node0.preload.ipfs.io/tcp/443/wss/ipfs/QmZMxNdpMkewiVZLMRxaNxUeZpDUb34pWjZ1kZvsd16Zic","/dns4/node1.preload.ipfs.io/tcp/443/wss/ipfs/Qmbut9Ywz9YEDrz8ySBSgWyJk41Uvm2QJPhwDJzJyGFsD6"],Swarm:{ConnMgr:{LowWater:200,HighWater:500}}})}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/runtime/config-browser.js"}],[4652,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t=t||{};let r=`https://ipfs.io/api/v0/dns?arg=${e=encodeURIComponent(e)}`;Object.keys(t).forEach((e=>{r+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`})),self.fetch(r,{mode:"cors"}).then((e=>e.json())).then((e=>e.Path?n(null,e.Path):n(new Error(e.Message)))).catch((e=>{n(e)}))}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/runtime/dns-browser.js"}],[4653,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=fetch}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/runtime/fetch-browser.js"}],[4654,{"ipld-dag-cbor":4661,"ipld-dag-pb":4674,"ipld-raw":4678,"merge-options":5193},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("merge-options"),i=e("ipld-dag-cbor"),s=e("ipld-dag-pb"),o=e("ipld-raw");t.exports=(e,t={})=>r.call({concatArrays:!0},{blockService:e,formats:[i,s,o]},t)}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/runtime/ipld-browser.js"}],[4655,{libp2p:4988,"libp2p-bootstrap":4811,"libp2p-kad-dht":4878,"libp2p-secio":4947,"libp2p-webrtc-star":4974,"libp2p-websocket-star-multi":4976,"libp2p-websockets":4981,"merge-options":5193,multiaddr:5208,"pull-mplex":5466},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("libp2p-websockets"),i=e("libp2p-webrtc-star"),s=e("libp2p-websocket-star-multi"),o=e("pull-mplex"),a=e("libp2p-secio"),u=e("libp2p-bootstrap"),c=e("libp2p-kad-dht"),l=e("libp2p"),f=e("merge-options"),h=e("multiaddr");t.exports=class extends l{constructor(e){const t=new i({id:e.peerInfo.id}),n=e.peerInfo.multiaddrs.toArray().map(String).filter((e=>e.includes("p2p-websocket-star")));e.peerInfo.multiaddrs.replace(n.map(h),"/p2p-websocket-star");const l=new s({servers:n,id:e.peerInfo.id,ignore_no_online:!n.length||e.wsStarIgnoreErrors}),d={switch:{blacklistTTL:12e4,blackListAttempts:5,maxParallelDials:100,maxColdCalls:25,dialTimeout:2e4},modules:{transport:[r,t,l],streamMuxer:[o],connEncryption:[a],peerDiscovery:[t.discovery,l.discovery,u],dht:c},config:{peerDiscovery:{autoDial:!0,bootstrap:{enabled:!0},webRTCStar:{enabled:!0},websocketStar:{enabled:!0}},dht:{enabled:!1},EXPERIMENTAL:{pubsub:!1}}};super(f(d,e))}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/runtime/libp2p-browser.js"}],[4656,{debug:2253},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=r("ipfs:preload");i.error=r("ipfs:preload:error"),t.exports=function(e,t){i(e);const n=new AbortController,r=n.signal;return fetch(e,{signal:r}).then((t=>{if(!t.ok)throw i.error("failed to preload",e,t.status,t.statusText),new Error(`failed to preload ${e}`);return t.text()})).then((()=>t())).catch(t),{cancel:()=>n.abort()}}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/runtime/preload-browser.js"}],[4657,{"ipfs-repo":4504},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-repo");t.exports=e=>new r(e||"ipfs")}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/runtime/repo-browser.js"}],[4658,{debug:2253,"fsm-event":4303},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=r("ipfs:state");i.error=r("ipfs:state:error");const s=e("fsm-event");t.exports=e=>{const t=s("uninitialized",{uninitialized:{init:"initializing",initialized:"stopped"},initializing:{initialized:"stopped"},stopped:{start:"starting"},starting:{started:"running"},running:{stop:"stopping"},stopping:{stopped:"stopped"}});return t.on("error",(e=>i.error(e))),t.on("done",(()=>i("-> "+t._state))),t.init=()=>{t("init")},t.initialized=()=>{t("initialized")},t.stop=()=>{t("stop")},t.stopped=()=>{t("stopped")},t.start=()=>{t("start")},t.started=()=>{t("started")},t.state=()=>t._state,t}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/state.js"}],[4659,{"async/map":1764,cids:2119,"is-ipfs":4697,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("async/map"),s=e("is-ipfs"),o=e("cids");n.OFFLINE_ERROR="This command must be run in online mode. Try running 'ipfs daemon' first.";const a=r((function(e,t,r){Array.isArray(t)||(t=[t]),i(t,((t,r)=>{if("string"!=typeof t){let e;try{e=new o(t)}catch(e){return r(e)}return r(null,e.buffer)}let i;try{i=n.parseIpfsPath(t)}catch(e){return r(e)}const s=new o(i.hash),a=i.links;if(!a.length)return r(null,s.buffer);e.get(s,function t(n,i,s,o){if(s)return r(s);if(!i.length)return r(null,n.buffer);const a=i[0],u=o.Links.find((e=>e.Name===a));if(!u)return r(new Error(`no link named "${a}" under ${n}`));e.get(u.Hash,t.bind(null,u.Hash,i.slice(1)))}.bind(null,s,a))}),r)}));n.normalizePath=e=>{if(s.cid(e))return`/ipfs/${e}`;if(s.path(e))return e;throw Object.assign(new Error(`invalid ${e} path`),{code:"ERR_BAD_PATH"})},n.parseIpfsPath=function(e){const t=new Error("invalid ipfs ref path"),n=(e=e.replace(/^\/ipfs\//,"")).match(/([^/]+(?:\/[^/]+)*)\/?$/);if(!n)throw t;const[r,...i]=n[1].split("/");if(s.cid(r))return{hash:r,links:i};throw t},n.resolvePath=a}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/core/utils.js"}],[4660,{cids:2119},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("cids");n.cidToString=(e,t)=>{if((t=t||{}).upgrade=!1!==t.upgrade,r.isCID(e)||(e=new r(e)),0===e.version&&t.base&&"base58btc"!==t.base){if(!t.upgrade)return e.toString();e=e.toV1()}return e.toBaseEncodedString(t.base)}}}},{package:"ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipfs/src/utils/cid.js"}],[4661,{"./resolver.js":4662,"./util.js":4663},function(){with(this)return function(){"use strict";return function(e,t,n){n.util=e("./util.js"),n.resolver=e("./resolver.js"),n.codec=n.util.codec,n.defaultHashAlg=n.util.defaultHashAlg}}},{package:"ipld-dag-cbor",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-cbor/src/index.js"}],[4662,{"../../is-buffer/index.js":4686,"./util":4663,cids:2119},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("cids"),i=e("./util");n.resolve=(e,t)=>{let n=i.deserialize(e);const s=t.split("/").filter(Boolean);for(;s.length;){const e=s.shift();if(n[e]===undefined)throw new Error(`Object has no property '${e}'`);if(n=n[e],r.isCID(n))return{value:n,remainderPath:s.join("/")}}return{value:n,remainderPath:""}};const s=function*(e,n){if(!t.isBuffer(e)&&!r.isCID(e)&&"string"!=typeof e&&null!==e)for(const t of Object.keys(e)){const r=n===undefined?t:n+"/"+t;yield r,yield*s(e[t],r)}};n.tree=function*(e){const t=i.deserialize(e);yield*s(t)}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"ipld-dag-cbor",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-cbor/src/resolver.js"}],[4663,{borc:2044,buffer:2081,cids:2119,"is-circular":4687,multicodec:5219,"multihashing-async":5237},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){const i=e("borc"),s=e("multicodec"),o=e("multihashing-async"),a=e("cids"),u=e("is-circular");function c(e){let t;try{t=u(e)}catch(e){t=!1}if(t)throw new Error("The object passed has circular references");return function e(t){if(!t||r.isBuffer(t)||"string"==typeof t)return t;if(Array.isArray(t))return t.map(e);if(a.isCID(t))return"string"==typeof(n=t)?n=new a(n).buffer:a.isCID(n)&&(n=n.buffer),new i.Tagged(42,r.concat([r.from("00","hex"),n]));var n;const s=Object.keys(t);if(s.length>0){const n={};return s.forEach((r=>{"object"==typeof t[r]?n[r]=e(t[r]):n[r]=t[r]})),n}return t}(e)}(n=t.exports).codec=s.DAG_CBOR,n.defaultHashAlg=s.SHA2_256;const l={42:e=>(e=e.slice(1),new a(e))};let f=65536;const h=67108864;let d=h,p=null;n.configureDecoder=e=>{let t=l;e?("number"==typeof e.size&&(f=e.size),"number"==typeof e.maxSize&&(d=e.maxSize),e.tags&&(t=Object.assign({},l,e&&e.tags))):(f=65536,d=h);let n={tags:t,size:f};p=new i.Decoder(n),f=n.size},n.configureDecoder(),n.serialize=e=>{const t=c(e);return i.encode(t)},n.deserialize=e=>{if(e.length>f&&e.length<=d&&n.configureDecoder({size:e.length}),e.length>f)throw new Error("Data is too large to deserialize with current decoder");return p.decodeFirst(e)},n.cid=async(e,t)=>{const r={cidVersion:1,hashAlg:n.defaultHashAlg},i=Object.assign(r,t),u=await o(e,i.hashAlg),c=s.print[n.codec];return new a(i.cidVersion,c,u)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipld-dag-cbor",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-cbor/src/util.js"}],[4664,{"../visibility":4677,"./util":4665,assert:1700,buffer:2081,cids:2119,"class-is":2121},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("cids"),i=e("assert"),s=e("class-is"),o=e("../visibility");(t.exports=s(class{constructor(e,t,n){i(n,"A link requires a cid to point to"),this._name=e||"",this._nameBuf=null,this._size=t,this._cid=new r(n),o.hidePrivateFields(this),o.addEnumerableGetters(this,["Hash","Name","Tsize"])}toString(){return`DAGLink <${this._cid.toBaseEncodedString()} - name: "${this.Name}", size: ${this.Tsize}>`}toJSON(){return this._json||(this._json=Object.freeze({name:this.Name,size:this.Tsize,cid:this.Hash.toBaseEncodedString()})),Object.assign({},this._json)}get Name(){return this._name}get nameAsBuffer(){return null!==this._nameBuf||(this._nameBuf=n.from(this._name)),this._nameBuf}set Name(e){throw new Error("Can't set property: 'name' is immutable")}get Tsize(){return this._size}set Tsize(e){throw new Error("Can't set property: 'size' is immutable")}get Hash(){return this._cid}set Hash(e){throw new Error("Can't set property: 'cid' is immutable")}},{className:"DAGLink",symbolName:"@ipld/js-ipld-dag-pb/daglink"})).util=e("./util")}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/dag-link/index.js"}],[4665,{"./index":4664},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./index");t.exports.createDagLinkFromB58EncodedHash=function(e){return new r(e.Name||e.name||"",e.Tsize||e.Size||e.size||0,e.Hash||e.hash||e.multihash||e.cid)}}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/dag-link/util.js"}],[4666,{"../dag-link":4664,"./create":4669,"./index":4670,"./util":4672},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./util"),i=r.cloneLinks,s=r.cloneData,o=r.toDAGLink,a=e("../dag-link"),u=e("./index"),c=e("./create");t.exports=async(e,t)=>{const n=i(e),r=s(e),l=await(async e=>a.isDAGLink(e)?e:u.isDAGNode(e)?o(e,{}):new a(e.Name||e.name,e.Tsize||e.size,e.Hash||e.multihash||e.hash||e.cid))(t);return n.push(l),c(r,n)}}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/dag-node/addLink.js"}],[4667,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=(e,t,n)=>{["",...Object.keys(e)].includes(t)||Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>e._links[n].Hash})}}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/dag-node/addNamedLink.js"}],[4668,{"./create":4669,"./util":4672},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./util"),i=r.cloneLinks,s=r.cloneData,o=e("./create");t.exports=function(e){const t=s(e),n=i(e);return o(t,n)}}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/dag-node/clone.js"}],[4669,{"../dag-link":4664,"../util.js":4676,"./index.js":4670,"./util.js":4672,buffer:2081,stable:5863},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("stable"),{serialize:i}=e("../util.js"),s=e("./util.js").linkSort,o=e("./index.js"),a=e("../dag-link");t.exports=(e,t=[])=>{if("string"==typeof e&&(e=n.from(e)),!n.isBuffer(e))throw new Error("Passed 'data' is not a buffer or a string!");t=t.map((e=>a.isDAGLink(e)?e:a.util.createDagLinkFromB58EncodedHash(e))),t=r(t,s);const u=i({Data:e,Links:t});return new o(e,t,u.length)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/dag-node/create.js"}]],[],{});