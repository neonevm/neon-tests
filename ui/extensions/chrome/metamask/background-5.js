LavaPack.loadBundle([[4670,{"../visibility":4677,"./addLink":4666,"./addNamedLink":4667,"./clone":4668,"./create":4669,"./rmLink":4671,assert:1700,buffer:2081,"class-is":2121},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){const i=e("assert"),s=e("class-is"),o=e("./addNamedLink"),a=e("../visibility");(n=t.exports=s(class{constructor(e,t,n){0!==n&&i(n,"A DAGNode requires it's serialized size"),this._data=e||r.alloc(0),this._links=t,this._serializedSize=n,a.hidePrivateFields(this),a.addEnumerableGetters(this,["Data","Links"]),t.forEach(((e,t)=>{o(this,e.Name,t)}))}toJSON(){return this._json||(this._json=Object.freeze({data:this.Data,links:this._links.map((e=>e.toJSON())),size:this.size})),Object.assign({},this._json)}toString(){return`DAGNode <data: "${this.Data.toString("base64")}", links: ${this.Links.length}, size: ${this.size}>`}get size(){return this._size===undefined&&(this._size=this._links.reduce(((e,t)=>e+t.Tsize),this._serializedSize)),this._size}set size(e){throw new Error("Can't set property: 'size' is immutable")}get Data(){return this._data}set Data(e){throw new Error("Can't set property: 'Data' is immutable")}get Links(){return this._links.map((e=>({Name:e.Name,Tsize:e.Tsize,Hash:e.Hash})))}set Links(e){throw new Error("Can't set property: 'Links' is immutable")}},{className:"DAGNode",symbolName:"@ipld/js-ipld-dag-pb/dagnode"})).create=e("./create"),n.clone=e("./clone"),n.addLink=e("./addLink"),n.rmLink=e("./rmLink")}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/dag-node/index.js"}],[4671,{"../../../is-buffer/index.js":4686,"./create":4669,"./util":4672,cids:2119},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("./util"),i=r.cloneLinks,s=r.cloneData,o=e("./create"),a=e("cids");t.exports=(e,t)=>{const r=s(e);let u=i(e);if("string"==typeof t)u=u.filter((e=>e.Name!==t));else{if(!n.isBuffer(t)&&!a.isCID(t))throw new Error("second arg needs to be a name or CID");u=u.filter((e=>!e.Hash.equals(t)))}return o(r,u)}}).call(this)}).call(this,{isBuffer:e("../../../is-buffer/index.js")})}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/dag-node/rmLink.js"}],[4672,{"../util":4676,"./../dag-link":4664,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){const i=e("./../dag-link"),{cid:s,serialize:o}=e("../util");(n=t.exports).cloneData=function(e){let t;return e.Data&&e.Data.length>0?(t=r.alloc(e.Data.length),e.Data.copy(t)):t=r.alloc(0),t},n.cloneLinks=function(e){return e.Links.slice()},n.linkSort=function(e,t){return r.compare(e.nameAsBuffer,t.nameAsBuffer)},n.toDAGLink=async(e,t={})=>{const n=o(e),r=await s(n);return new i(t.name||"",n.length,r)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/dag-node/util.js"}],[4673,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="// An IPFS MerkleDAG Link\nmessage PBLink {\n\n  // multihash of the target object\n  optional bytes Hash = 1;\n\n  // utf string name. should be unique per object\n  optional string Name = 2;\n\n  // cumulative size of target object\n  optional uint64 Tsize = 3;\n}\n\n// An IPFS MerkleDAG Node\nmessage PBNode {\n\n  // refs to other objects\n  repeated PBLink Links = 2;\n\n  // opaque user data\n  optional bytes Data = 1;\n}"}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/dag.proto.js"}],[4674,{"./dag-link":4664,"./dag-node":4670,"./resolver":4675,"./util":4676},function(){with(this)return function(){"use strict";return function(e,t,n){n.DAGNode=e("./dag-node"),n.DAGLink=e("./dag-link"),n.resolver=e("./resolver"),n.util=e("./util"),n.codec=n.util.codec,n.defaultHashAlg=n.util.defaultHashAlg}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/index.js"}],[4675,{"../../is-buffer/index.js":4686,"./util":4676,cids:2119},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("cids"),i=e("./util");n.resolve=(e,t)=>{let n=i.deserialize(e);const s=t.split("/").filter(Boolean);for(;s.length;){const e=s.shift();if(n[e]===undefined)throw new Error(`Object has no property '${e}'`);if(n=n[e],r.isCID(n))return{value:n,remainderPath:s.join("/")}}return{value:n,remainderPath:""}};const s=function*(e,n){if(!t.isBuffer(e)&&!r.isCID(e)&&"string"!=typeof e&&null!==e)for(const t of Object.keys(e)){const r=n===undefined?t:n+"/"+t;yield r,yield*s(e[t],r)}};n.tree=function*(e){const t=i.deserialize(e);yield*s(t)}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/resolver.js"}],[4676,{"./dag-link":4664,"./dag-node":4670,"./dag.proto.js":4673,buffer:2081,cids:2119,multicodec:5219,"multihashing-async":5237,protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){const i=e("cids"),s=e("protons")(e("./dag.proto.js")),o=e("./dag-link"),a=e("./dag-node"),u=e("multicodec"),c=e("multihashing-async");(n=t.exports).codec=u.DAG_PB,n.defaultHashAlg=u.SHA2_256;n.serialize=e=>{let t=e.Data,n=e.Links||[];!a.isDAGNode(e)&&n&&(n=n.map((e=>o.isDAGLink(e)?e:o.util.createDagLinkFromB58EncodedHash(e))));const r=s.PBNode.encode(function(e){const t={};e.Data&&e.Data.length>0?t.Data=e.Data:t.Data=null;e.Links&&e.Links.length>0?t.Links=e.Links.map((e=>({Hash:e.Hash.buffer,Name:e.Name,Tsize:e.Tsize}))):t.Links=null;return t}({Data:t,Links:n}));return r},n.deserialize=e=>{const t=s.PBNode.decode(e),n=t.Links.map((e=>new o(e.Name,e.Tsize,e.Hash))),i=null==t.Data?r.alloc(0):t.Data;return new a(i,n,e.length)},n.cid=async(e,t)=>{const r={cidVersion:1,hashAlg:n.defaultHashAlg},s=Object.assign(r,t),o=await c(e,s.hashAlg),a=u.print[n.codec];return new i(s.cidVersion,a,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/util.js"}],[4677,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={addEnumerableGetters:(e,t)=>{for(const n of t){let t,r=e;for(;t===undefined;){if(r=Object.getPrototypeOf(r),null===r)throw new Error(`no getter named '${n}' found`);t=Object.getOwnPropertyDescriptor(r,n)}if(t.get===undefined)throw new Error(`no getter named '${n}' found`);Object.defineProperty(e,n,{enumerable:!0,get:t.get})}},hidePrivateFields:e=>{for(const t in e)"_"===t[0]&&Object.defineProperty(e,t,{enumerable:!1})}}}}},{package:"ipld-dag-pb",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-dag-pb/src/visibility.js"}],[4678,{cids:2119,multicodec:5219,"multihashing-async":5237},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("cids"),i=e("multihashing-async"),s=e("multicodec");t.exports={codec:s.RAW,defaultHashAlg:s.SHA2_256,resolver:{resolve:(e,t)=>({value:e,remainderPath:""}),tree:e=>({done:!0})},util:{deserialize:e=>e,serialize:e=>e,cid:async(e,n)=>{const o={cidVersion:1,hashAlg:t.exports.defaultHashAlg},a=Object.assign(o,n),u=await i(e,a.hashAlg),c=s.print[t.exports.codec];return new r(a.cidVersion,c,u)}}}}}},{package:"ipld-raw",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld-raw/src/index.js"}],[4679,{"../../is-buffer/index.js":4686,"./util":4680,cids:2119,"ipfs-block":4441,"ipld-dag-cbor":4661,"ipld-dag-pb":4674,"ipld-raw":4678,"merge-options":5193,multicodec:5219,"promisify-es6":5424,typical:5994},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("ipfs-block"),i=e("cids"),s=e("merge-options"),o=e("ipld-dag-cbor"),a=e("ipld-dag-pb"),u=e("ipld-raw"),c=e("multicodec"),l=e("promisify-es6"),h=e("typical"),{extendIterator:f}=e("./util");class d{constructor(e){const t=s(d.defaultOptions,e);if(!t.blockService)throw new Error("Missing blockservice");this.bs=t.blockService,this.resolvers={},"function"!=typeof t.loadFormat?this.loadFormat=async e=>{const t=c.print[e];throw new Error(`No resolver found for codec "${t}"`)}:this.loadFormat=t.loadFormat;for(const e of t.formats)this.addFormat(e)}addFormat(e){const t=e.codec;if(this.resolvers[e.format]){const e=c.print[t];throw new Error(`Resolver already exists for codec "${e}"`)}return this.resolvers[t]=e,this}removeFormat(e){return this.resolvers[e]&&delete this.resolvers[e],this}resolve(e,t){if(!i.isCID(e))throw new Error("`cid` argument must be a CID");if("string"!=typeof t)throw new Error("`path` argument must be a string");const n=async function*(){for(;null!==e;){const n=await this._getFormat(e.codec),r=await l(this.bs.get.bind(this.bs))(e),s=n.resolver.resolve(r.data,t);t=s.remainderPath;let o=s.value;if(1===Object.keys(o).length&&"/"in o)try{o=new i(o["/"])}catch(e){o=null}e=i.isCID(o)?o:null,yield{remainderPath:t,value:o}}}.bind(this);return f(n())}async get(e){const t=await l(this.bs.get.bind(this.bs))(e);return(await this._getFormat(t.cid.codec)).util.deserialize(t.data)}getMany(e){if(!h.isIterable(e)||"string"==typeof e||n.isBuffer(e))throw new Error("`cids` must be an iterable of CIDs");const t=async function*(){for await(const t of e)yield this.get(t)}.bind(this);return f(t())}async put(e,t,n){if(t===undefined)throw new Error("`put` requires a format");if("number"!=typeof t)throw new Error("`format` parameter must be number (multicodec)");const i=await this._getFormat(t),o={hashAlg:i.defaultHashAlg,cidVersion:1,onlyHash:!1},a=s(o,n),u={cidVersion:a.cidVersion,hashAlg:a.hashAlg,onlyHash:a.onlyHash},c=i.util.serialize(e),h=await i.util.cid(c,u);if(!a.onlyHash){const e=new r(c,h);await l(this.bs.put.bind(this.bs))(e)}return h}putMany(e,t,r){if(!h.isIterable(e)||"string"==typeof e||n.isBuffer(e))throw new Error("`nodes` must be an iterable");if(t===undefined)throw new Error("`put` requires a format");if("number"!=typeof t)throw new Error("`format` parameter must be number (multicodec)");let i,o;const a=async function*(){for await(const n of e){if(i===undefined){o=await this._getFormat(t);const e={hashAlg:o.defaultHashAlg,cidVersion:1,onlyHash:!1};i=s(e,r)}yield this.put(n,t,i)}}.bind(this);return f(a())}async remove(e){return l(this.bs.delete.bind(this.bs))(e)}removeMany(e){if(!h.isIterable(e)||"string"==typeof e||n.isBuffer(e))throw new Error("`cids` must be an iterable of CIDs");const t=async function*(){for await(const t of e)yield this.remove(t)}.bind(this);return f(t())}tree(e,t,n){"object"==typeof t&&(n=t,t=undefined),t=t||"";const r=s({recursive:!1},n),o=async(e,t)=>{const n=(await this._getFormat(e.cid.codec)).resolver.resolve(e.data,t);return i.isCID(n.value)?n.value:null},a=async function*(){const n=[];let i;const s=[{cid:e,basePath:""}];let a;for(;n.length>0||s.length>0;){if(0===n.length&&s.length>0){({cid:e,basePath:a}=s.shift());const t=await this._getFormat(e.codec);i=await l(this.bs.get.bind(this.bs))(e);const r=t.resolver.tree(i.data);n.push(...r)}const u=n.shift();let c=a+u;r.recursive&&null!==(e=await o(i,u))&&s.push({cid:e,basePath:c+"/"}),c.startsWith(t)&&c.length>t.length&&(t.length>0&&(c=c.slice(t.length+1)),yield c)}}.bind(this);return f(a())}async _getFormat(e){if("string"==typeof e){const t=e.toUpperCase().replace(/-/g,"_");e=c[t]}if(this.resolvers[e])return this.resolvers[e];const t=await this.loadFormat(e);return this.addFormat(t),t}}d.defaultOptions={formats:[o,a,u]},t.exports=d}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"ipld",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld/src/index.js"}],[4680,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.first=async e=>{for await(const t of e)return t},n.last=async e=>{let t;for await(t of e);return t},n.all=async e=>{const t=[];for await(const n of e)t.push(n);return t},n.extendIterator=e=>(e.first=()=>n.first(e),e.last=()=>n.last(e),e.all=()=>n.all(e),e)}}},{package:"ipld",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipld/src/util.js"}],[4681,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.ERR_IPNS_EXPIRED_RECORD="ERR_IPNS_EXPIRED_RECORD",n.ERR_UNRECOGNIZED_VALIDITY="ERR_UNRECOGNIZED_VALIDITY",n.ERR_SIGNATURE_CREATION="ERR_SIGNATURE_CREATION",n.ERR_SIGNATURE_VERIFICATION="ERR_SIGNATURE_VERIFICATION",n.ERR_UNRECOGNIZED_FORMAT="ERR_UNRECOGNIZED_FORMAT",n.ERR_PEER_ID_FROM_PUBLIC_KEY="ERR_PEER_ID_FROM_PUBLIC_KEY",n.ERR_PUBLIC_KEY_FROM_ID="ERR_PUBLIC_KEY_FROM_ID",n.ERR_UNDEFINED_PARAMETER="ERR_UNDEFINED_PARAMETER"}}},{package:"ipns",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipns/src/errors.js"}],[4682,{"./errors":4681,"./pb/ipns.proto":4683,"./utils":4684,"base32-encode":1951,buffer:2081,debug:2253,"interface-datastore":4411,"libp2p-crypto":4850,multihashes:5234,"peer-id":5410,"timestamp-nano":5936},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("base32-encode"),i=e("timestamp-nano"),{Key:s}=e("interface-datastore"),o=e("libp2p-crypto"),a=e("peer-id"),u=e("multihashes"),c=e("debug"),l=c("jsipns");l.error=c("jsipns:error");const h=e("./pb/ipns.proto"),{parseRFC3339:f}=e("./utils"),d=e("./errors"),p=u.names.id,m="/ipns/",b=(e,t,n,r,i,s)=>{k(e,t,i,r,((e,o)=>{if(e)return l.error("record signature creation failed"),s(Object.assign(new Error("record signature verification failed"),{code:d.ERR_SIGNATURE_CREATION}));const a={value:t,signature:o,validityType:i,validity:r,sequence:n};return l(`ipns entry for ${t} created`),s(null,a)}))},g=(e,t,n)=>{const{value:r,validityType:i,validity:s}=t,o=E(r,i,s);e.verify(o,t.signature,((e,t)=>{if(e||!t)return l.error("record signature verification failed"),n(Object.assign(new Error("record signature verification failed"),{code:d.ERR_SIGNATURE_VERIFICATION}));if(i===h.ValidityType.EOL){let e;try{e=f(s.toString())}catch(e){return l.error("unrecognized validity format (not an rfc3339 format)"),n(Object.assign(new Error("unrecognized validity format (not an rfc3339 format)"),{code:d.ERR_UNRECOGNIZED_FORMAT}))}if(e<Date.now())return l.error("record has expired"),n(Object.assign(new Error("record has expired"),{code:d.ERR_IPNS_EXPIRED_RECORD}))}else if(i)return l.error("unrecognized validity type"),n(Object.assign(new Error("unrecognized validity type"),{code:d.ERR_UNRECOGNIZED_VALIDITY}));return l(`ipns entry for ${r} is valid`),n(null,null)}))},y=(e,t,n)=>{if(!t||!e){const e="one or more of the provided parameters are not defined";return l.error(e),n(Object.assign(new Error(e),{code:d.ERR_UNDEFINED_PARAMETER}))}if(t.pubKey){let e;try{e=o.keys.unmarshalPublicKey(t.pubKey)}catch(e){return l.error(e),n(e)}return n(null,e)}e.pubKey?n(null,e.pubKey):n(Object.assign(new Error("no public key is available"),{code:d.ERR_UNDEFINED_PARAMETER}))},_=e=>r(e,"RFC4648",{padding:!1}),k=(e,t,n,r,i)=>{const s=E(t,n,r);e.sign(s,((e,t)=>e?i(e):i(null,t)))},E=(e,t,r)=>{const i=n.from(e),s=n.from((e=>{if("0"===e.toString())return"EOL";{const t=`unrecognized validity type ${e.toString()}`;throw l.error(t),Object.assign(new Error(t),{code:d.ERR_UNRECOGNIZED_VALIDITY})}})(t)),o=n.from(r);return n.concat([i,o,s])},w=e=>{const t=u.decode(e.id);return t.code!==p?null:o.keys.unmarshalPublicKey(t.digest)},S=h.encode,v=h.decode,I={validate:(e,t,n)=>{const r=v(e),i=t.slice("/ipns/".length);let s;try{s=a.createFromBytes(i)}catch(e){return n(e)}y(s,r,((e,t)=>{if(e)return n(e);g(t,r,(e=>{if(e)return n(e);n(null,!0)}))}))},select:(e,t,n)=>{const r=v(e),i=v(t),s=r.sequence>i.sequence?0:1;if("function"!=typeof n)return s;n(null,s)}};t.exports={create:(e,t,n,r,s)=>{const o=new i(Date.now()+Number(r)).toString(),a=h.ValidityType.EOL;b(e,t,n,o,a,s)},createWithExpiration:(e,t,n,r,i)=>{const s=h.ValidityType.EOL;b(e,t,n,r,s,i)},validate:g,embedPublicKey:(e,t,n)=>{if(!e||!e.bytes||!t){const e="one or more of the provided parameters are not defined";return l.error(e),n(Object.assign(new Error(e),{code:d.ERR_UNDEFINED_PARAMETER}))}a.createFromPubKey(e.bytes,((r,i)=>{if(r)return l.error(r),n(Object.assign(new Error(r),{code:d.ERR_PEER_ID_FROM_PUBLIC_KEY}));let s;try{s=w(i)}catch(r){return l.error(r),n(Object.assign(new Error(r),{code:d.ERR_PUBLIC_KEY_FROM_ID}))}if(s)return n(null,null);try{t.pubKey=o.keys.marshalPublicKey(e)}catch(r){return l.error(r),n(r)}n(null,t)}))},extractPublicKey:y,getLocalKey:e=>new s(`/ipns/${_(e)}`),getIdKeys:e=>{const t=n.from("/pk/"),r=n.from("/ipns/");return{routingPubKey:new s(n.concat([t,e])),pkKey:new s(_(n.concat([t,e]))),routingKey:new s(n.concat([r,e])),ipnsKey:new s(_(n.concat([r,e])))}},marshal:S,unmarshal:v,validator:I,namespace:m,namespaceLength:m.length}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipns",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipns/src/index.js"}],[4683,{protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("protons");t.exports=r('\nmessage IpnsEntry {\n  enum ValidityType {\n\t\tEOL = 0; // setting an EOL says "this record is valid until..."\n\t}\n\n  required bytes value = 1;\n\trequired bytes signature = 2;\n\n\toptional ValidityType validityType = 3;\n\toptional bytes validity = 4;\n\n\toptional uint64 sequence = 5;\n\n\toptional uint64 ttl = 6;\n\n\t// in order for nodes to properly validate a record upon receipt, they need the public\n\t// key associated with it. For old RSA keys, its easiest if we just send this as part of\n\t// the record itself. For newer ed25519 keys, the public key can be embedded in the\n\t// peerID, making this field unnecessary.\n\toptional bytes pubKey = 7;\n}\n').IpnsEntry}}},{package:"ipns",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipns/src/pb/ipns.proto.js"}],[4684,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports.toRFC3339=e=>`${e.getUTCFullYear()}-${String(e.getUTCMonth()+1).padStart(2,"0")}-${String(e.getUTCDate()).padStart(2,"0")}T${String(e.getUTCHours()).padStart(2,"0")}:${String(e.getUTCMinutes()).padStart(2,"0")}:${String(e.getUTCSeconds()).padStart(2,"0")}.${1e3*e.getUTCMilliseconds()*1e3}Z`,t.exports.parseRFC3339=e=>{const t=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T"+"(\\d{2}):(\\d{2}):(\\d{2})"+"\\.(\\d+)Z"),n=String(e).trim().match(t);if(!n)throw new Error("Invalid format");const r=parseInt(n[1],10),i=parseInt(n[2],10)-1,s=parseInt(n[3],10),o=parseInt(n[4],10),a=parseInt(n[5],10),u=parseInt(n[6],10),c=parseInt(n[7].slice(0,-6),10);return new Date(Date.UTC(r,i,s,o,a,u,c))}}}},{package:"ipns",file:"/home/gudahtt/projects/metamask-extension/node_modules/ipns/src/utils.js"}],[4687,{"./lib/node":4688},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./lib/node");function i(e,t){for(var n in t=new r(e,t),e){var s=e[n];if(s instanceof Object&&(t.contains(s)||i(s,t)))return!0}return!1}t.exports=function(e){if(!(e instanceof Object))throw new TypeError('"obj" must be an object (or inherit from it)');return i(e)}}}},{package:"is-circular",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-circular/index.js"}],[4688,{},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e,t){this.value=e,this.next=t}t.exports=r,r.prototype.contains=function(e){for(var t=this;t;){if(t.value===e)return!0;t=t.next}return!1}}}},{package:"is-circular",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-circular/lib/node.js"}],[4690,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){return!(!e||e.length<2)&&(120===e[0]&&(1===e[1]||156===e[1]||218===e[1]))}}}},{package:"is-deflate",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-deflate/index.js"}],[4693,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){return!(!e||e.length<3)&&(31===e[0]&&139===e[1]&&8===e[2])}}}},{package:"is-gzip",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-gzip/index.js"}],[4696,{"ip-regex":4416},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ip-regex"),i=t.exports=e=>r({exact:!0}).test(e);i.v4=e=>r.v4({exact:!0}).test(e),i.v6=e=>r.v6({exact:!0}).test(e)}}},{package:"is-ip",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-ip/index.js"}],[4697,{bs58:2088,buffer:2081,cids:2119,mafmt:5190,multiaddr:5208,multibase:5216,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("bs58"),i=e("multihashes"),s=e("multibase"),o=e("multiaddr"),a=e("mafmt"),u=e("cids"),c=/^https?:\/\/[^/]+\/(ip(f|n)s)\/((\w+).*)/,l=/^\/(ip(f|n)s)\/((\w+).*)/,h=/^https?:\/\/([^/]+)\.(ip(?:f|n)s)\.[^/]+/;function f(e){try{return new u(e),!0}catch(e){return!1}}function d(e){if(!e)return!1;if(o.isMultiaddr(e))return!0;try{return new o(e),!0}catch(e){return!1}}function p(e,t,n=1,r=4){const i=g(e);if(!i)return!1;const s=i.match(t);if(!s)return!1;if("ipfs"!==s[n])return!1;let o=s[r];return o&&t===h&&(o=o.toLowerCase()),f(o)}function m(e,t,n=1,r){const i=g(e);if(!i)return!1;const s=i.match(t);if(!s)return!1;if("ipns"!==s[n])return!1;if(r&&t===h){let e=s[r];return e=e.toLowerCase(),f(e)}return!0}function b(e){return"string"==typeof e}function g(e){return n.isBuffer(e)?r.encode(e):!!b(e)&&e}const y=e=>p(e,h,2,1),_=e=>m(e,h,2,1);t.exports={multihash:function(e){const t=g(e);try{const e=n.from(r.decode(t));return i.decode(e),!0}catch(e){return!1}},multiaddr:d,peerMultiaddr:function(e){return d(e)&&a.IPFS.matches(e)},cid:f,base32cid:e=>"base32"===function(e){try{return s.isEncoded(e)}catch(e){return!1}}(e)&&f(e),ipfsSubdomain:y,ipnsSubdomain:_,subdomain:e=>y(e)||_(e),subdomainPattern:h,ipfsUrl:e=>p(e,c),ipnsUrl:e=>m(e,c),url:e=>p(e,c)||m(e,c),urlPattern:c,ipfsPath:e=>p(e,l),ipnsPath:e=>m(e,l),path:e=>p(e,l)||m(e,l),pathPattern:l,urlOrPath:e=>p(e,c)||m(e,c)||p(e,l)||m(e,l),cidPath:e=>b(e)&&!f(e)&&p(`/ipfs/${e}`,l)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"is-ipfs",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-ipfs/src/index.js"}],[47,{"@babel/runtime/helpers/defineProperty":189,"@babel/runtime/helpers/interopRequireDefault":195,"promise-to-callback":5422,"readable-stream":5700},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return new u(e,t)};var i=r(e("@babel/runtime/helpers/defineProperty")),s=e("readable-stream"),o=r(e("promise-to-callback"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}class u extends s.Writable{constructor(e,t){const n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectMode:!0},t);super(n),this._asyncWriteFn=e}_write(e,t,n){(0,o.default)(this._asyncWriteFn(e,t))(n)}}}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/createStreamSink.js"}],[4700,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){var t;return"[object Object]"===r.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}}}},{package:"is-plain-obj",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-plain-obj/index.js"}],[4701,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){return e&&"function"==typeof e.then}}}},{package:"is-promise",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-promise/index.js"}],[4702,{},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e){return"function"==typeof e}function i(e){return r(e)&&2===e.length}function s(e){return r(e)&&1===e.length}n.isDuplex=function(e){return"object"==typeof e&&i(e.source)&&s(e.sink)},n.isSource=i,n.isSink=s}}},{package:"is-pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-pull-stream/index.js"}],[4704,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ESOCKETTIMEDOUT","ECONNREFUSED","EPIPE","EHOSTUNREACH","EAI_AGAIN"],i=["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED"];t.exports=function(e){return!e||!e.code||(-1!==r.indexOf(e.code)||-1===i.indexOf(e.code))}}}},{package:"is-retry-allowed",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-retry-allowed/index.js"}],[4705,{},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;r.writable=e=>r(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,r.readable=e=>r(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,r.duplex=e=>r.writable(e)&&r.readable(e),r.transform=e=>r.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,t.exports=r}}},{package:"is-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-stream/index.js"}],[4706,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=s,s.strict=o,s.loose=a;var r=Object.prototype.toString,i={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function s(e){return o(e)||a(e)}function o(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function a(e){return i[r.call(e)]}}}},{package:"is-typedarray",file:"/home/gudahtt/projects/metamask-extension/node_modules/is-typedarray/index.js"}],[4710,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){const n=global.crypto||global.msCrypto,r=65536;n&&n.getRandomValues?t.exports=function(t){const i=new Uint8Array(t);let s=0;if(t>0)if(t>r)for(;s<i;)s+r>i?n.getRandomValues(i.subarray(s,i-s)):(n.getRandomValues(i.subarray(s,s+r)),s+=r);else n.getRandomValues(i);return e.from(i)}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"iso-random-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/iso-random-stream/src/random.browser.js"}],[4711,{"./src/relative":4712,"./src/url":4713},function(){with(this)return function(){"use strict";return function(e,t,n){const{URLWithLegacySupport:r,format:i,URLSearchParams:s,defaultBase:o}=e("./src/url"),a=e("./src/relative");t.exports={URL:r,URLSearchParams:s,format:i,relative:a,defaultBase:o}}}},{package:"iso-url",file:"/home/gudahtt/projects/metamask-extension/node_modules/iso-url/index.js"}],[4712,{"./url":4713},function(){with(this)return function(){"use strict";return function(e,t,n){const{URLWithLegacySupport:r,format:i}=e("./url");t.exports=(e,t={},n={},s)=>{let o,a=t.protocol?t.protocol.replace(":",""):"http";a=(n[a]||s||a)+":";try{o=new r(e)}catch(e){o={}}const u=Object.assign({},t,{protocol:a||o.protocol,host:t.host||o.host});return new r(e,i(u)).toString()}}}},{package:"iso-url",file:"/home/gudahtt/projects/metamask-extension/node_modules/iso-url/src/relative.js"}],[4713,{},function(){with(this)return function(){"use strict";return function(e,t,n){const r=self.location?self.location.protocol+"//"+self.location.host:"",i=self.URL;t.exports={URLWithLegacySupport:class{constructor(e="",t=r){this.super=new i(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}},URLSearchParams:self.URLSearchParams,defaultBase:r,format:function(e){if("string"==typeof e){return new i(e).toString()}if(!(e instanceof i)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",n=e.auth?e.auth+"@":"",r=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",s=e.host||"",o=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),u=e.hash||"",c=e.pathname||"";return`${i}${t||n}${s||o+r}${e.path||c+a}${u}`}}}}}},{package:"iso-url",file:"/home/gudahtt/projects/metamask-extension/node_modules/iso-url/src/url-browser.js"}],[4716,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){return t=t||"and",n=n||", ",e.length<2?e[0]||"":(t.slice(0,2)===n?2==e.length&&(t=t.slice(1)):t=" "+t,e.slice(0,-1).join(n)+t+" "+e[e.length-1])}}}},{package:"join-component",file:"/home/gudahtt/projects/metamask-extension/node_modules/join-component/index.js"}],[4717,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):function(){const t=e.Base64,n=r();n.noConflict=()=>(e.Base64=t,n),e.Meteor&&(Base64=n),e.Base64=n}()}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,(function(){const t="3.6.1",n="function"==typeof atob,r="function"==typeof btoa,i="function"==typeof e,s="function"==typeof TextDecoder?new TextDecoder:undefined,o="function"==typeof TextEncoder?new TextEncoder:undefined,a=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],u=(e=>{let t={};return e.forEach(((e,n)=>t[e]=n)),t})(a),c=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,l=String.fromCharCode.bind(String),h="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=(e=>e))=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),f=e=>e.replace(/[+\/]/g,(e=>"+"==e?"-":"_")).replace(/=+$/m,""),d=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),p=e=>{let t,n,r,i,s="";const o=e.length%3;for(let o=0;o<e.length;){if((n=e.charCodeAt(o++))>255||(r=e.charCodeAt(o++))>255||(i=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,s+=a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}return o?s.slice(0,o-3)+"===".substring(o):s},m=r?e=>btoa(e):i?t=>e.from(t,"binary").toString("base64"):p,b=i?t=>e.from(t).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(l.apply(null,e.subarray(n,n+4096)));return m(t.join(""))},g=(e,t=!1)=>t?f(b(e)):b(e),y=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?l(192|t>>>6)+l(128|63&t):l(224|t>>>12&15)+l(128|t>>>6&63)+l(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return l(240|t>>>18&7)+l(128|t>>>12&63)+l(128|t>>>6&63)+l(128|63&t)},_=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,k=e=>e.replace(_,y),E=i?t=>e.from(t,"utf8").toString("base64"):o?e=>b(o.encode(e)):e=>m(k(e)),w=(e,t=!1)=>t?f(E(e)):E(e),S=e=>w(e,!0),v=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,I=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return l(55296+(t>>>10))+l(56320+(1023&t));case 3:return l((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return l((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},x=e=>e.replace(v,I),A=e=>{if(e=e.replace(/\s+/g,""),!c.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,r,i="";for(let s=0;s<e.length;)t=u[e.charAt(s++)]<<18|u[e.charAt(s++)]<<12|(n=u[e.charAt(s++)])<<6|(r=u[e.charAt(s++)]),i+=64===n?l(t>>16&255):64===r?l(t>>16&255,t>>8&255):l(t>>16&255,t>>8&255,255&t);return i},R=n?e=>atob(d(e)):i?t=>e.from(t,"base64").toString("binary"):A,T=i?t=>h(e.from(t,"base64")):e=>h(R(e),(e=>e.charCodeAt(0))),N=e=>T(P(e)),j=i?t=>e.from(t,"base64").toString("utf8"):s?e=>s.decode(T(e)):e=>x(R(e)),P=e=>d(e.replace(/[-_]/g,(e=>"-"==e?"+":"/"))),O=e=>j(P(e)),L=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),M=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,L(t));e("fromBase64",(function(){return O(this)})),e("toBase64",(function(e){return w(this,e)})),e("toBase64URI",(function(){return w(this,!0)})),e("toBase64URL",(function(){return w(this,!0)})),e("toUint8Array",(function(){return N(this)}))},D=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,L(t));e("toBase64",(function(e){return g(this,e)})),e("toBase64URI",(function(){return g(this,!0)})),e("toBase64URL",(function(){return g(this,!0)}))},C={version:t,VERSION:"3.6.1",atob:R,atobPolyfill:A,btoa:m,btoaPolyfill:p,fromBase64:O,toBase64:w,encode:w,encodeURI:S,encodeURL:S,utob:k,btou:x,decode:O,isValid:e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:g,toUint8Array:N,extendString:M,extendUint8Array:D,extendBuiltins:()=>{M(),D()},Base64:{}};return Object.keys(C).forEach((e=>C.Base64[e]=C[e])),C}))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"js-base64",file:"/home/gudahtt/projects/metamask-extension/node_modules/js-base64/base64.js"}],[4718,{_process:5420},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){var n="input is invalid type",r="object"==typeof window,i=r?window:{};i.JS_SHA256_NO_WINDOW&&(r=!1);var s=!r&&"object"==typeof self,o=!i.JS_SHA256_NO_NODE_JS&&"object"==typeof e&&e.versions&&e.versions.node;o?i=global:s&&(i=self);var a=!i.JS_SHA256_NO_COMMON_JS&&"object"==typeof t&&t.exports,u="function"==typeof define&&define.amd,c=!i.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,l="0123456789abcdef".split(""),h=[-2147483648,8388608,32768,128],f=[24,16,8,0],d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=["hex","array","digest","arrayBuffer"],m=[];!i.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!c||!i.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var b=function(e,t){return function(n){return new E(t,!0).update(n)[e]()}},g=function(e){var t=b("hex",e);o&&(t=y(t,e)),t.create=function(){return new E(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<p.length;++n){var r=p[n];t[r]=b(r,e)}return t},y=function(e,t){var r=(0,eval)("require('crypto')"),i=(0,eval)("require('buffer').Buffer"),s=t?"sha224":"sha256";return function(t){if("string"==typeof t)return r.createHash(s).update(t,"utf8").digest("hex");if(null===t||t===undefined)throw new Error(n);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===i?r.createHash(s).update(new i(t)).digest("hex"):e(t)}},_=function(e,t){return function(n,r){return new w(n,t,!0).update(r)[e]()}},k=function(e){var t=_("hex",e);t.create=function(t){return new w(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<p.length;++n){var r=p[n];t[r]=_(r,e)}return t};function E(e,t){t?(m[0]=m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0,this.blocks=m):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function w(e,t,r){var i,s=typeof e;if("string"===s){var o,a=[],u=e.length,l=0;for(i=0;i<u;++i)(o=e.charCodeAt(i))<128?a[l++]=o:o<2048?(a[l++]=192|o>>6,a[l++]=128|63&o):o<55296||o>=57344?(a[l++]=224|o>>12,a[l++]=128|o>>6&63,a[l++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++i)),a[l++]=240|o>>18,a[l++]=128|o>>12&63,a[l++]=128|o>>6&63,a[l++]=128|63&o);e=a}else{if("object"!==s)throw new Error(n);if(null===e)throw new Error(n);if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||c&&ArrayBuffer.isView(e)))throw new Error(n)}e.length>64&&(e=new E(t,!0).update(e).array());var h=[],f=[];for(i=0;i<64;++i){var d=e[i]||0;h[i]=92^d,f[i]=54^d}E.call(this,t,r),this.update(f),this.oKeyPad=h,this.inner=!0,this.sharedMemory=r}E.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(n);if(null===e)throw new Error(n);if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||c&&ArrayBuffer.isView(e)))throw new Error(n);t=!0}for(var i,s,o=0,a=e.length,u=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),t)for(s=this.start;o<a&&s<64;++o)u[s>>2]|=e[o]<<f[3&s++];else for(s=this.start;o<a&&s<64;++o)(i=e.charCodeAt(o))<128?u[s>>2]|=i<<f[3&s++]:i<2048?(u[s>>2]|=(192|i>>6)<<f[3&s++],u[s>>2]|=(128|63&i)<<f[3&s++]):i<55296||i>=57344?(u[s>>2]|=(224|i>>12)<<f[3&s++],u[s>>2]|=(128|i>>6&63)<<f[3&s++],u[s>>2]|=(128|63&i)<<f[3&s++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++o)),u[s>>2]|=(240|i>>18)<<f[3&s++],u[s>>2]|=(128|i>>12&63)<<f[3&s++],u[s>>2]|=(128|i>>6&63)<<f[3&s++],u[s>>2]|=(128|63&i)<<f[3&s++]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=u[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=h[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},E.prototype.hash=function(){var e,t,n,r,i,s,o,a,u,c=this.h0,l=this.h1,h=this.h2,f=this.h3,p=this.h4,m=this.h5,b=this.h6,g=this.h7,y=this.blocks;for(e=16;e<64;++e)t=((i=y[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=y[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[e]=y[e-16]+t+y[e-7]+n<<0;for(u=l&h,e=0;e<64;e+=4)this.first?(this.is224?(s=300032,g=(i=y[0]-1413257819)-150054599<<0,f=i+24177077<<0):(s=704751109,g=(i=y[0]-210244248)-1521486534<<0,f=i+143694565<<0),this.first=!1):(t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(s=c&l)^c&h^u,g=f+(i=g+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&b)+d[e]+y[e])<<0,f=i+(t+r)<<0),t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(o=f&c)^f&l^s,b=h+(i=b+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&p^~g&m)+d[e+1]+y[e+1])<<0,t=((h=i+(t+r)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(a=h&f)^h&c^o,m=l+(i=m+(n=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&g^~b&p)+d[e+2]+y[e+2])<<0,t=((l=i+(t+r)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(u=l&h)^l&f^a,p=c+(i=p+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&b^~m&g)+d[e+3]+y[e+3])<<0,c=i+(t+r)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+l<<0,this.h2=this.h2+h<<0,this.h3=this.h3+f<<0,this.h4=this.h4+p<<0,this.h5=this.h5+m<<0,this.h6=this.h6+b<<0,this.h7=this.h7+g<<0},E.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=l[e>>28&15]+l[e>>24&15]+l[e>>20&15]+l[e>>16&15]+l[e>>12&15]+l[e>>8&15]+l[e>>4&15]+l[15&e]+l[t>>28&15]+l[t>>24&15]+l[t>>20&15]+l[t>>16&15]+l[t>>12&15]+l[t>>8&15]+l[t>>4&15]+l[15&t]+l[n>>28&15]+l[n>>24&15]+l[n>>20&15]+l[n>>16&15]+l[n>>12&15]+l[n>>8&15]+l[n>>4&15]+l[15&n]+l[r>>28&15]+l[r>>24&15]+l[r>>20&15]+l[r>>16&15]+l[r>>12&15]+l[r>>8&15]+l[r>>4&15]+l[15&r]+l[i>>28&15]+l[i>>24&15]+l[i>>20&15]+l[i>>16&15]+l[i>>12&15]+l[i>>8&15]+l[i>>4&15]+l[15&i]+l[s>>28&15]+l[s>>24&15]+l[s>>20&15]+l[s>>16&15]+l[s>>12&15]+l[s>>8&15]+l[s>>4&15]+l[15&s]+l[o>>28&15]+l[o>>24&15]+l[o>>20&15]+l[o>>16&15]+l[o>>12&15]+l[o>>8&15]+l[o>>4&15]+l[15&o];return this.is224||(u+=l[a>>28&15]+l[a>>24&15]+l[a>>20&15]+l[a>>16&15]+l[a>>12&15]+l[a>>8&15]+l[a>>4&15]+l[15&a]),u},E.prototype.toString=E.prototype.hex,E.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,o>>24&255,o>>16&255,o>>8&255,255&o];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},E.prototype.array=E.prototype.digest,E.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},w.prototype=new E,w.prototype.finalize=function(){if(E.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();E.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),E.prototype.finalize.call(this)}};var S=g();S.sha256=S,S.sha224=g(!0),S.sha256.hmac=k(),S.sha224.hmac=k(!0),a?t.exports=S:(i.sha256=S.sha256,i.sha224=S.sha224,u&&define((function(){return S})))}()}).call(this)}).call(this,e("_process"))}}},{package:"js-sha256",file:"/home/gudahtt/projects/metamask-extension/node_modules/js-sha256/src/sha256.js"}],[4729,{"readable-stream":5700},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("readable-stream").Duplex;t.exports=function({engine:e}){if(!e)throw new Error("Missing engine parameter!");const t=new r({objectMode:!0,read:function(){return!1},write:function(t,n,r){e.handle(t,((e,t)=>{this.push(t)})),r()}});e.on&&e.on("notification",(e=>{t.push(e)}));return t}}}},{package:"json-rpc-middleware-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/json-rpc-middleware-stream/engineStream.js"}],[4732,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={space:"",cycles:!1,replacer:(e,t)=>t,stringify:JSON.stringify}}}},{package:"json-stringify-deterministic",file:"/home/gudahtt/projects/metamask-extension/node_modules/json-stringify-deterministic/lib/defaults.js"}],[4733,{"./defaults":4732,"./util":4734},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./defaults"),i=e("./util").isFunction,s=e("./util").isBoolean,o=e("./util").isObject,a=e("./util").isArray,u=e("./util").isRegex,c=e("./util").assign,l=e("./util").keys;t.exports=function(e,t){t=t||c({},r),i(t)&&(t={compare:t});const n=t.space||r.space,h=s(t.cycles)?t.cycles:r.cycles,f=t.replacer||r.replacer,d=t.stringify||r.stringify,p=t.compare&&(m=t.compare,function(e){return function(t,n){const r={key:t,value:e[t]},i={key:n,value:e[n]};return m(r,i)}});var m;h||d(e);const b=[];return function e(t,r,i,s){const c=n?"\n"+new Array(s+1).join(n):"",m=n?": ":":";if(i=function(e){return null===e||e===undefined?e:u(e)?e.toString():e.toJSON?e.toJSON():e}(i),(i=f.call(t,r,i))!==undefined){if(!o(i)||null===i)return d(i);if(a(i)){const t=[];for(let r=0;r<i.length;r++){const o=e(i,r,i[r],s+1)||d(null);t.push(c+n+o)}return"["+t.join(",")+c+"]"}{if(h){if(-1!==b.indexOf(i))return d("[Circular]");b.push(i)}const t=l(i).sort(p&&p(i)),r=[];for(let o=0;o<t.length;o++){const a=t[o],u=e(i,a,i[a],s+1);if(!u)continue;const l=d(a)+m+u;r.push(c+n+l)}return b.splice(b.indexOf(i),1),"{"+r.join(",")+c+"}"}}}({"":e},"",e,0)}}}},{package:"json-stringify-deterministic",file:"/home/gudahtt/projects/metamask-extension/node_modules/json-stringify-deterministic/lib/index.js"}],[4734,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={isArray:Array.isArray,assign:Object.assign,isObject:e=>"object"==typeof e,isFunction:e=>"function"==typeof e,isBoolean:e=>"boolean"==typeof e,isRegex:e=>e instanceof RegExp,keys:Object.keys}}}},{package:"json-stringify-deterministic",file:"/home/gudahtt/projects/metamask-extension/node_modules/json-stringify-deterministic/lib/util.js"}],[4751,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){var r;return function(){if(!t)return e.apply(this,arguments);var i=this,s=arguments,o=n&&!r;return clearTimeout(r),r=setTimeout((function(){if(r=null,!o)return e.apply(i,s)}),t),o?e.apply(this,arguments):void 0}}}}},{package:"just-debounce-it",file:"/home/gudahtt/projects/metamask-extension/node_modules/just-debounce-it/index.js"}],[4752,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function e(t){if(!Array.isArray(t))throw new Error("expected an array");for(var n=[],r=t.length,i=0;i<r;i++){var s=t[i];Array.isArray(s)?n.push.apply(n,e(s)):n.push(s)}return n}}}},{package:"just-flatten-it",file:"/home/gudahtt/projects/metamask-extension/node_modules/just-flatten-it/index.js"}],[4753,{},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e){if("__proto__"===e||"constructor"===e||"prototype"===e)throw new Error("setting of prototype values not supported")}t.exports=function(e,t,n){var i,s,o;Array.isArray(t)&&(i=t.slice(0));"string"==typeof t&&(i=t.split("."));"symbol"==typeof t&&(i=[t]);if(!Array.isArray(i))throw new Error("props arg must be an array, a string or a symbol");if(!(s=i.pop()))return!1;r(s);for(;o=i.shift();)if(r(o),void 0===e[o]&&(e[o]={}),!(e=e[o])||"object"!=typeof e)return!1;return e[s]=n,!0}}}},{package:"just-safe-set",file:"/home/gudahtt/projects/metamask-extension/node_modules/just-safe-set/index.js"}],[4754,{events:2082,randombytes:5554},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("randombytes"),{EventEmitter:i}=e("events");function s(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;++n)if(e[n]!==t[n])return!1;return!0}function o(e,t){if(!(t instanceof Uint8Array))throw new TypeError(e+" is not a Uint8Array")}class a extends i{constructor(e={}){super(),this.localNodeId=e.localNodeId||r(20),this.numberOfNodesPerKBucket=e.numberOfNodesPerKBucket||20,this.numberOfNodesToPing=e.numberOfNodesToPing||3,this.distance=e.distance||a.distance,this.arbiter=e.arbiter||a.arbiter,this.metadata=Object.assign({},e.metadata),o("option.localNodeId as parameter 1",this.localNodeId),this.root={contacts:[],dontSplit:!1,left:null,right:null}}static arbiter(e,t){return e.vectorClock>t.vectorClock?e:t}static distance(e,t){let n=0,r=0;const i=Math.min(e.length,t.length),s=Math.max(e.length,t.length);for(;r<i;++r)n=256*n+(e[r]^t[r]);for(;r<s;++r)n=256*n+255;return n}add(e){o("contact.id",(e||{}).id);let t=0,n=this.root;for(;null===n.contacts;)n=this._determineNode(n,e.id,t++);const r=this._indexOf(n,e.id);return r>=0?(this._update(n,r,e),this):n.contacts.length<this.numberOfNodesPerKBucket?(n.contacts.push(e),this.emit("added",e),this):n.dontSplit?(this.emit("ping",n.contacts.slice(0,this.numberOfNodesToPing),e),this):(this._split(n,t),this.add(e))}closest(e,t=Infinity){if(o("id",e),!Number.isInteger(t)&&t!==Infinity||t<=0)throw new TypeError("n is not positive number");let n=[];for(let r=[this.root],i=0;r.length>0&&n.length<t;){const t=r.pop();if(null===t.contacts){const n=this._determineNode(t,e,i++);r.push(t.left===n?t.right:t.left),r.push(n)}else n=n.concat(t.contacts)}return n.map((t=>[this.distance(t.id,e),t])).sort(((e,t)=>e[0]-t[0])).slice(0,t).map((e=>e[1]))}count(){let e=0;for(const t=[this.root];t.length>0;){const n=t.pop();null===n.contacts?t.push(n.right,n.left):e+=n.contacts.length}return e}_determineNode(e,t,n){const r=n>>3,i=n%8;if(t.length<=r&&0!==i)return e.left;return t[r]&1<<7-i?e.right:e.left}get(e){o("id",e);let t=0,n=this.root;for(;null===n.contacts;)n=this._determineNode(n,e,t++);const r=this._indexOf(n,e);return r>=0?n.contacts[r]:null}_indexOf(e,t){for(let n=0;n<e.contacts.length;++n)if(s(e.contacts[n].id,t))return n;return-1}remove(e){o("the id as parameter 1",e);let t=0,n=this.root;for(;null===n.contacts;)n=this._determineNode(n,e,t++);const r=this._indexOf(n,e);if(r>=0){const e=n.contacts.splice(r,1)[0];this.emit("removed",e)}return this}_split(e,t){e.left={contacts:[],dontSplit:!1,left:null,right:null},e.right={contacts:[],dontSplit:!1,left:null,right:null};for(const n of e.contacts)this._determineNode(e,n.id,t).contacts.push(n);e.contacts=null;const n=this._determineNode(e,this.localNodeId,t);(e.left===n?e.right:e.left).dontSplit=!0}toArray(){let e=[];for(const t=[this.root];t.length>0;){const n=t.pop();null===n.contacts?t.push(n.right,n.left):e=e.concat(n.contacts)}return e}_update(e,t,n){if(!s(e.contacts[t].id,n.id))throw new Error("wrong index for _update");const r=e.contacts[t],i=this.arbiter(r,n);i===r&&r!==n||(e.contacts.splice(t,1),e.contacts.push(i),this.emit("updated",r,i))}}t.exports=a}}},{package:"k-bucket",file:"/home/gudahtt/projects/metamask-extension/node_modules/k-bucket/index.js"}],[4776,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=Object.prototype.toString;function i(e){return"function"==typeof e.constructor?e.constructor.name:null}t.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t,n=typeof e;if("boolean"===n)return"boolean";if("string"===n)return"string";if("number"===n)return"number";if("symbol"===n)return"symbol";if("function"===n)return t=e,"GeneratorFunction"===i(t)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(i(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(n=r.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return n.slice(8,-1).toLowerCase().replace(/\s/g,"")}}}},{package:"kind-of",file:"/home/gudahtt/projects/metamask-extension/node_modules/kind-of/index.js"}],[4777,{"./VisibilityChangeEmitter":4778,_process:5420,debug:4780,events:2082,"lodash/get":5151,"lodash/isFunction":5161},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(e("events")),s=u(e("lodash/get")),o=u(e("lodash/isFunction")),a=u(e("./VisibilityChangeEmitter"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=e("debug")("latency-monitor:LatencyMonitor"),f=function(e){function n(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=e.latencyCheckIntervalMs,i=e.dataEmitIntervalMs,o=e.asyncTestFn,u=e.latencyRandomPercentage;c(this,n);var f=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),p=f;return p.latencyCheckIntervalMs=r||500,p.latencyRandomPercentage=u||10,p._latecyCheckMultiply=p.latencyRandomPercentage/100*2*p.latencyCheckIntervalMs,p._latecyCheckSubtract=p._latecyCheckMultiply/2,p.dataEmitIntervalMs=null===i||0===i?undefined:i||5e3,h("latencyCheckIntervalMs: %s dataEmitIntervalMs: %s",p.latencyCheckIntervalMs,p.dataEmitIntervalMs),p.dataEmitIntervalMs?h("Expecting ~%s events per summary",p.latencyCheckIntervalMs/p.dataEmitIntervalMs):h("Not emitting summaries"),p.asyncTestFn=o,t&&t.hrtime?(h("Using process.hrtime for timing"),p.now=t.hrtime,p.getDeltaMS=function(e){var t=p.now(e);return 1e3*t[0]+t[1]/1e6}):"undefined"!=typeof window&&(0,s.default)(window,"performance.now")?(h("Using performance.now for timing"),p.now=window.performance.now.bind(window.performance),p.getDeltaMS=function(e){return Math.round(p.now()-e)}):(h("Using Date.now for timing"),p.now=Date.now,p.getDeltaMS=function(e){return p.now()-e}),p._latencyData=p._initLatencyData(),d()&&(p._visibilityChangeEmitter=new a.default,p._visibilityChangeEmitter.on("visibilityChange",(function(e){e?p._startTimers():(p._emitSummary(),p._stopTimers())}))),p._visibilityChangeEmitter&&!p._visibilityChangeEmitter.isVisible()||p._startTimers(),f}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"_startTimers",value:function(){var e=this;this._checkLatencyID||(this._checkLatency(),this.dataEmitIntervalMs&&(this._emitIntervalID=setInterval((function(){return e._emitSummary()}),this.dataEmitIntervalMs),(0,o.default)(this._emitIntervalID.unref)&&this._emitIntervalID.unref()))}},{key:"_stopTimers",value:function(){this._checkLatencyID&&(clearTimeout(this._checkLatencyID),this._checkLatencyID=undefined),this._emitIntervalID&&(clearInterval(this._emitIntervalID),this._emitIntervalID=undefined)}},{key:"_emitSummary",value:function(){var e=this.getSummary();e.events>0&&this.emit("data",e)}},{key:"getSummary",value:function(){var e={events:this._latencyData.events,minMs:this._latencyData.minMs,maxMs:this._latencyData.maxMs,avgMs:this._latencyData.events?this._latencyData.totalMs/this._latencyData.events:Number.POSITIVE_INFINITY,lengthMs:this.getDeltaMS(this._latencyData.startTime)};return this._latencyData=this._initLatencyData(),h("Summary: %O",e),e}},{key:"_checkLatency",value:function(){var e=this,t=this,n=Math.random()*t._latecyCheckMultiply-t._latecyCheckSubtract,r={deltaOffset:Math.ceil(t.latencyCheckIntervalMs+n),startTime:t.now()},i=function(){if(e._checkLatencyID){var n=t.getDeltaMS(r.startTime)-r.deltaOffset;t._checkLatency(),t._latencyData.events++,t._latencyData.minMs=Math.min(t._latencyData.minMs,n),t._latencyData.maxMs=Math.max(t._latencyData.maxMs,n),t._latencyData.totalMs+=n,h("MS: %s Data: %O",n,t._latencyData)}};h("localData: %O",r),this._checkLatencyID=setTimeout((function(){t.asyncTestFn?(r.deltaOffset=0,r.startTime=t.now(),t.asyncTestFn(i)):(r.deltaOffset-=1,i())}),r.deltaOffset),(0,o.default)(this._checkLatencyID.unref)&&this._checkLatencyID.unref()}},{key:"_initLatencyData",value:function(){return{startTime:this.now(),minMs:Number.POSITIVE_INFINITY,maxMs:Number.NEGATIVE_INFINITY,events:0,totalMs:0}}}]),n}(i.default);function d(){return"undefined"!=typeof window}n.default=f}).call(this)}).call(this,e("_process"))}}},{package:"latency-monitor",file:"/home/gudahtt/projects/metamask-extension/node_modules/latency-monitor/dist/LatencyMonitor.js"}],[4778,{debug:4780,events:2082},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("events"),o=(r=s)&&r.__esModule?r:{default:r};function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=e("debug")("latency-monitor:VisibilityChangeEmitter"),c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return"undefined"==typeof document?(u('This is not a browser, no "document" found. Stopping.'),a(e)):(e._initializeVisibilityVarNames(),e._addVisibilityChangeListener(),e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initializeVisibilityVarNames",value:function(){var e=void 0,t=void 0;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),this._hidden=e,this._visibilityChange=t}},{key:"_addVisibilityChangeListener",value:function(){void 0===document.addEventListener||void 0===document[this._hidden]?u("Checking page visibility requires a browser that supports the Page Visibility API."):document.addEventListener(this._visibilityChange,this._handleVisibilityChange.bind(this),!1)}},{key:"isVisible",value:function(){return this._hidden===undefined||document[this._hidden]===undefined?undefined:!document[this._hidden]}},{key:"_handleVisibilityChange",value:function(){var e=!document[this._hidden];u(e?"Page Visible":"Page Hidden"),this.emit("visibilityChange",e)}}]),t}(o.default);n.default=c}}},{package:"latency-monitor",file:"/home/gudahtt/projects/metamask-extension/node_modules/latency-monitor/dist/VisibilityChangeEmitter.js"}],[4779,{"./dist/LatencyMonitor":4777},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=e("./dist/LatencyMonitor").default}}},{package:"latency-monitor",file:"/home/gudahtt/projects/metamask-extension/node_modules/latency-monitor/index.js"}],[4780,{"./debug":4781,_process:5420},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){function i(){var e;try{e=n.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(n=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))})),e.splice(s,0,r)},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=i,n.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(i())}).call(this)}).call(this,e("_process"))}}},{package:"debug",file:"/home/gudahtt/projects/metamask-extension/node_modules/latency-monitor/node_modules/debug/src/browser.js"}],[4781,{ms:4782},function(){with(this)return function(){"use strict";return function(e,t,n){var r;function i(e){function t(){if(t.enabled){var e=t,i=+new Date,s=i-(r||i);e.diff=s,e.prev=r,e.curr=i,r=i;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(t,r){if("%%"===t)return t;u++;var i=n.formatters[r];if("function"==typeof i){var s=o[u];t=i.call(e,s),o.splice(u,1),u--}return t})),n.formatArgs.call(e,o);var c=t.log||n.log||console.log.bind(console);c.apply(e,o)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=function(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}(e),"function"==typeof n.init&&n.init(t),t}(n=t.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){n.save(e),n.names=[],n.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),r=t.length,i=0;i<r;i++)t[i]&&("-"===(e=t[i].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={}}}},{package:"debug",file:"/home/gudahtt/projects/metamask-extension/node_modules/latency-monitor/node_modules/debug/src/debug.js"}],[4782,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=1e3,i=60*r,s=60*i,o=24*s,a=365.25*o;function u(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}t.exports=function(e,t){t=t||{};var n,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*a;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return undefined}}(e);if("number"===c&&!1===isNaN(e))return t.long?u(n=e,o,"day")||u(n,s,"hour")||u(n,i,"minute")||u(n,r,"second")||n+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=s)return Math.round(e/s)+"h";if(e>=i)return Math.round(e/i)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}}},{package:"ms",file:"/home/gudahtt/projects/metamask-extension/node_modules/latency-monitor/node_modules/ms/index.js"}],[4783,{"./lib/encodings":4784},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./lib/encodings");function i(e){if(!(this instanceof i))return new i(e);this.opts=e||{},this.encodings=r}t.exports=i,i.prototype._encoding=function(e){return"string"==typeof e&&(e=r[e]),e||(e=r.id),e},i.prototype._keyEncoding=function(e,t){return this._encoding(t&&t.keyEncoding||e&&e.keyEncoding||this.opts.keyEncoding)},i.prototype._valueEncoding=function(e,t){return this._encoding(t&&(t.valueEncoding||t.encoding)||e&&(e.valueEncoding||e.encoding)||this.opts.valueEncoding||this.opts.encoding)},i.prototype.encodeKey=function(e,t,n){return this._keyEncoding(t,n).encode(e)},i.prototype.encodeValue=function(e,t,n){return this._valueEncoding(t,n).encode(e)},i.prototype.decodeKey=function(e,t){return this._keyEncoding(t).decode(e)},i.prototype.decodeValue=function(e,t){return this._valueEncoding(t).decode(e)},i.prototype.encodeBatch=function(e,t){var n=this;return e.map((function(e){var r={type:e.type,key:n.encodeKey(e.key,t,e)};return n.keyAsBuffer(t,e)&&(r.keyEncoding="binary"),e.prefix&&(r.prefix=e.prefix),"value"in e&&(r.value=n.encodeValue(e.value,t,e),n.valueAsBuffer(t,e)&&(r.valueEncoding="binary")),r}))};var s=["lt","gt","lte","gte","start","end"];i.prototype.encodeLtgt=function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=s.indexOf(r)>-1?t.encodeKey(e[r],e):e[r]})),n},i.prototype.createStreamDecoder=function(e){var t=this;return e.keys&&e.values?function(n,r){return{key:t.decodeKey(n,e),value:t.decodeValue(r,e)}}:e.keys?function(n){return t.decodeKey(n,e)}:e.values?function(n,r){return t.decodeValue(r,e)}:function(){}},i.prototype.keyAsBuffer=function(e){return this._keyEncoding(e).buffer},i.prototype.valueAsBuffer=function(e){return this._valueEncoding(e).buffer}}}},{package:"level-codec",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-codec/index.js"}],[4784,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){n.utf8=n["utf-8"]={encode:function(e){return r(e)?e:String(e)},decode:t,buffer:!1,type:"utf8"},n.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},n.binary={encode:function(t){return r(t)?t:e.from(t)},decode:t,buffer:!0,type:"binary"},n.none={encode:t,decode:t,buffer:!1,type:"id"},n.id=n.none;function t(e){return e}function r(t){return t===undefined||null===t||e.isBuffer(t)}["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"].forEach((function(t){n[t]={encode:function(n){return r(n)?n:e.from(n,t)},decode:function(e){return e.toString(t)},buffer:!0,type:t}}))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"level-codec",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-codec/lib/encodings.js"}],[4785,{errno:2357},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("errno").create,i=r("LevelUPError"),s=r("NotFoundError",i);s.prototype.notFound=!0,s.prototype.status=404,t.exports={LevelUPError:i,InitializationError:r("InitializationError",i),OpenError:r("OpenError",i),ReadError:r("ReadError",i),WriteError:r("WriteError",i),NotFoundError:s,EncodingError:r("EncodingError",i)}}}},{package:"level-errors",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-errors/errors.js"}],[4786,{inherits:4404,"readable-stream":4801,xtend:6171},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("inherits"),i=e("readable-stream").Readable,s=e("xtend");function o(e,t){if(!(this instanceof o))return new o(e,t);t=t||{},i.call(this,s(t,{objectMode:!0})),this._iterator=e,this._options=t,this.on("end",this.destroy.bind(this,null,null))}t.exports=o,r(o,i),o.prototype._read=function(){var e=this,t=this._options;this.destroyed||this._iterator.next((function(n,r,i){if(!e.destroyed)return n?e.destroy(n):void(r===undefined&&i===undefined?e.push(null):!1!==t.keys&&!1===t.values?e.push(r):!1===t.keys&&!1!==t.values?e.push(i):e.push({key:r,value:i}))}))},o.prototype._destroy=function(e,t){this._iterator.end((function(n){t(e||n)}))}}}},{package:"level-iterator-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/index.js"}],[4787,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function s(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(n===undefined||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(s(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/errors-browser.js"}],[4788,{"./_stream_readable":4790,"./_stream_writable":4792,_process:5420,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=c;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,i);for(var o=r(s.prototype),a=0;a<o.length;a++){var u=o[a];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_duplex.js"}],[4789,{"./_stream_transform":4791,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_passthrough.js"}],[4790,{"../errors":4787,"./_stream_duplex":4788,"./internal/streams/async_iterator":4793,"./internal/streams/buffer_list":4794,"./internal/streams/destroy":4795,"./internal/streams/from":4797,"./internal/streams/state":4799,"./internal/streams/stream":4800,_process:5420,buffer:2081,events:2082,inherits:4404,"string_decoder/":5897,util:2080},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;t.exports=v,v.ReadableState=S;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=global.Uint8Array||function(){};var u,c=e("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,h,f,d=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,b=e("../errors").codes,g=b.ERR_INVALID_ARG_TYPE,y=b.ERR_STREAM_PUSH_AFTER_EOF,_=b.ERR_METHOD_NOT_IMPLEMENTED,k=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(v,s);var E=p.errorOrDestroy,w=["error","close","destroy","pause","resume"];function S(t,n,i){r=r||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=n instanceof r),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function v(t){if(r=r||e("./_stream_duplex"),!(this instanceof v))return new v(t);var n=this instanceof r;this._readableState=new S(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function I(e,t,n,r,i){u("readableAddChunk",t);var s,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}(e,c);else if(i||(s=function(e,t){var n;r=t,o.isBuffer(r)||r instanceof a||"string"==typeof t||t===undefined||e.objectMode||(n=new g("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(c,t)),s)E(e,s);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),r)c.endEmitted?E(e,new k):x(e,c,t,!0);else if(c.ended)E(e,new y);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!n?(t=c.decoder.write(t),c.objectMode||0!==t.length?x(e,c,t,!1):j(e,c)):x(e,c,t,!1)}else r||(c.reading=!1,j(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),j(e,t)}Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=p.destroy,v.prototype._undestroy=p.undestroy,v.prototype._destroy=function(e,t){t(e)},v.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=o.from(e,t),t=""),n=!0),I(this,e,t,!1,n)},v.prototype.unshift=function(e){return I(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var n=new l(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function R(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(N,e))}function N(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function j(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){u("readable nexttick read 0"),e.read(0)}function M(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function B(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(K,t,e))}function K(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function U(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):T(this),null;if(0===(e=R(e,t))&&t.ended)return 0===t.length&&B(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=R(n,t))),null===(r=e>0?C(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&B(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(e){E(this,new _("_read()"))},v.prototype.pipe=function(e,t){var r=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:b;function a(t,n){u("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",b),r.removeListener("data",f),h=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}s.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",l);var h=!1;function f(t){u("ondata");var n=e.write(t);u("dest.write",n),!1===n&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==U(s.pipes,e))&&!h&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),r.pause())}function d(t){u("onerror",t),b(),e.removeListener("error",d),0===i(e,"error")&&E(e,t)}function p(){e.removeListener("finish",m),b()}function m(){u("onfinish"),e.removeListener("close",p),b()}function b(){u("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",p),e.once("finish",m),e.emit("pipe",r),s.flowing||(u("pipe resume"),r.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=U(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},v.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?T(this):i.reading||n.nextTick(L,this))),r},v.prototype.addListener=v.prototype.on,v.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(O,this),r},v.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||n.nextTick(O,this),t},v.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(M,e,t))}(this,e)),e.paused=!1,this},v.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},v.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&i!==undefined)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<w.length;s++)e.on(w[s],this.emit.bind(this,w[s]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(v.prototype[Symbol.asyncIterator]=function(){return h===undefined&&(h=e("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(v.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(v.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),v._fromList=C,Object.defineProperty(v.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(v.from=function(t,n){return f===undefined&&(f=e("./internal/streams/from")),f(v,t,n)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[4791,{"../errors":4787,"./_stream_duplex":4788,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=l;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_transform.js"}],[4792,{"../errors":4787,"./_stream_duplex":4788,"./internal/streams/destroy":4795,"./internal/streams/state":4799,"./internal/streams/stream":4800,_process:5420,buffer:2081,inherits:4404,"util-deprecate":6008},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=v,v.WritableState=S;var s={deprecate:e("util-deprecate")},o=e("./internal/streams/stream"),a=e("buffer").Buffer,u=global.Uint8Array||function(){};var c,l=e("./internal/streams/destroy"),h=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,d=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,b=f.ERR_STREAM_CANNOT_PIPE,g=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,_=f.ERR_STREAM_WRITE_AFTER_END,k=f.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;function w(){}function S(t,s,o){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,s=r.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,s){--t.pendingcb,r?(n.nextTick(s,i),n.nextTick(N,e,t),e._writableState.errorEmitted=!0,E(e,i)):(s(i),e._writableState.errorEmitted=!0,E(e,i),N(e,t))}(e,r,i,t,s);else{var o=R(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||A(e,r),i?n.nextTick(x,e,r,o,s):x(e,r,o,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function v(t){var n=this instanceof(i=i||e("./_stream_duplex"));if(!n&&!c.call(v,this))return new v(t);this._writableState=new S(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function I(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function x(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),N(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)s[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;s.allBuffers=u,I(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,h=n.callback;if(I(e,t,!1,t.objectMode?1:c.length,c,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&E(e,n),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var r=R(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}e("inherits")(v,o),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===v&&(e&&e._writableState instanceof S)}})):c=function(e){return e instanceof this},v.prototype.pipe=function(){E(this,new b)},v.prototype.write=function(e,t,r){var i,s=this._writableState,o=!1,c=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof u);return c&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=w),s.ending?function(e,t){var r=new _;E(e,r),n.nextTick(t,r)}(this,r):(c||function(e,t,r,i){var s;return null===r?s=new y:"string"==typeof r||t.objectMode||(s=new d("chunk",["string","Buffer"],r)),!s||(E(e,s),n.nextTick(i,s),!1)}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var u=t.objectMode?1:r.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else I(e,t,!1,u,r,i,s);return c}(this,s,c,e,t,r)),o},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new p("_write()"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,N(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=l.destroy,v.prototype._undestroy=l.undestroy,v.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_writable.js"}],[4793,{"./end-of-stream":4796,_process:5420},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var n=e[f].read();null!==n&&(e[l]=null,e[o]=null,e[a]=null,t(d(n,!1)))}}function m(e){n.nextTick(p,e)}var b=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(d(undefined,!0));if(this[f].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(d(undefined,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(d(undefined,!0)):t[h](n,r)}),r)}}(i,this));else{var s=this[f].read();if(null!==s)return Promise.resolve(d(s,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(d(undefined,!0))}))}))})),r),b);t.exports=function(e){var t,n=Object.create(g,(i(t={},f,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[f].read();r?(n[l]=null,n[o]=null,n[a]=null,e(d(r,!1))):(n[o]=e,n[a]=t)},writable:!0}),t));return n[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[o]=null,n[a]=null,t(e)),void(n[u]=e)}var r=n[o];null!==r&&(n[l]=null,n[o]=null,n[a]=null,r(d(undefined,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[4794,{buffer:2081,util:2080},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=e("buffer").Buffer,a=e("util").inspect,u=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,c;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,n,r,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=i,r=a,o.prototype.copy.call(t,n,r),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?r+=i:r+=i.slice(0,e),0==(e-=s)){s===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(s));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&s(t.prototype,n),c&&s(t,c),e}()}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[4795,{_process:5420},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(r,o):(o._writableState.errorEmitted=!0,e.nextTick(n,o,t)):e.nextTick(n,o,t):s?(e.nextTick(r,o),s(t)):e.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[4796,{"../../../errors":4787},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,n,s){if("function"==typeof n)return e(t,null,n);n||(n={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(s||i);var o=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){a=!1,c=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){o=!1,h=!0,a||s.call(t)},d=function(e){s.call(t,e)},p=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new r),s.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new r),s.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[4797,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[4798,{"../../../errors":4787,"./end-of-stream":4796},function(){with(this)return function(){"use strict";return function(e,t,n){var r;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(t,n,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),r===undefined&&(r=e("./end-of-stream")),r(t,{readable:n,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,n){var s=n<t.length-1;return u(e,s,n>0,(function(e){r||(r=e),e&&o.forEach(c),s||(o.forEach(c),i(r))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[4799,{"../../../errors":4787},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var s=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new r(i?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/state.js"}],[48,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(t,n,r){t.tabId=e.tabId,r()}}}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/createTabIdMiddleware.js"}],[4800,{events:2082},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("events").EventEmitter}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[4801,{"./lib/_stream_duplex.js":4788,"./lib/_stream_passthrough.js":4789,"./lib/_stream_readable.js":4790,"./lib/_stream_transform.js":4791,"./lib/_stream_writable.js":4792,"./lib/internal/streams/end-of-stream.js":4796,"./lib/internal/streams/pipeline.js":4798},function(){with(this)return function(){"use strict";return function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/readable-browser.js"}],[4802,{"../is-buffer/index.js":4686,"./iterator":4803,"./util/immediate":4804,"./util/mixed-to-buffer":4805,"./util/support":4806,"abstract-leveldown":1673,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){t.exports=l;var r=e("abstract-leveldown").AbstractLevelDOWN,i=e("inherits"),s=e("./iterator"),o=e("./util/mixed-to-buffer"),a=e("./util/immediate"),u=e("./util/support"),c="level-js-";function l(e,t){if(!(this instanceof l))return new l(e,t);if(r.call(this),t=t||{},"string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.prefix=t.prefix||c,this.version=parseInt(t.version||1,10)}i(l,r),l.binaryKeys=u.binaryKeys(indexedDB),l.arrayKeys=u.arrayKeys(indexedDB),l.prototype._open=function(e,t){var n=indexedDB.open(this.prefix+this.location,this.version),r=this;n.onerror=function(){t(n.error||new Error("unknown error"))},n.onsuccess=function(){r.db=n.result,t()},n.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains(r.location)||t.createObjectStore(r.location)}},l.prototype.store=function(e){return this.db.transaction([this.location],e).objectStore(this.location)},l.prototype.await=function(e,t){var n=e.transaction;n.onabort=function(){t(n.error||new Error("aborted by user"))},n.oncomplete=function(){t(null,e.result)}},l.prototype._get=function(e,t,n){var r=this.store("readonly");try{var i=r.get(e)}catch(e){return a((function(){n(e)}))}this.await(i,(function(e,r){return e?n(e):r===undefined?n(new Error("NotFound")):(t.asBuffer&&(r=o(r)),void n(null,r))}))},l.prototype._del=function(e,t,n){var r=this.store("readwrite");try{var i=r.delete(e)}catch(e){return a((function(){n(e)}))}this.await(i,n)},l.prototype._put=function(e,t,n,r){var i=this.store("readwrite");try{var s=i.put(t,e)}catch(e){return a((function(){r(e)}))}this.await(s,r)},l.prototype._serializeKey=function(e){return n.isBuffer(e)?l.binaryKeys?e:e.toString():Array.isArray(e)?l.arrayKeys?e.map(this._serializeKey,this):String(e):e},l.prototype._serializeValue=function(e){return e},l.prototype._iterator=function(e){return new s(this,this.location,e)},l.prototype._batch=function(e,t,n){if(0===e.length)return a(n);var r,i=this.store("readwrite"),s=i.transaction,o=0;s.onabort=function(){n(r||s.error||new Error("aborted by user"))},s.oncomplete=function(){n()},function t(){var n=e[o++],a=n.key;try{var u="del"===n.type?i.delete(a):i.put(n.value,a)}catch(e){return r=e,void s.abort()}o<e.length&&(u.onsuccess=t)}()},l.prototype._close=function(e){this.db.close(),a(e)},l.destroy=function(e,t,n){"function"==typeof t&&(n=t,t=c);var r=indexedDB.deleteDatabase(t+e);r.onsuccess=function(){n()},r.onerror=function(e){n(e)}}}).call(this)}).call(this,{isBuffer:e("../is-buffer/index.js")})}}},{package:"level-js",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-js/index.js"}],[4803,{"./util/immediate":4804,"./util/mixed-to-buffer":4805,"abstract-leveldown":1673,inherits:4404,ltgt:5188},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("inherits"),i=e("abstract-leveldown").AbstractIterator,s=e("ltgt"),o=e("./util/mixed-to-buffer"),a=e("./util/immediate"),u=function(){};function c(e,t,n){if(i.call(this,e),this._limit=n.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keyAsBuffer=n.keyAsBuffer,this._valueAsBuffer=n.valueAsBuffer,0!==this._limit){try{var r=this.createKeyRange(n)}catch(e){return void(this._completed=!0)}this.createIterator(t,r,n.reverse)}else this._completed=!0}t.exports=c,r(c,i),c.prototype.createKeyRange=function(e){var t=s.lowerBound(e),n=s.upperBound(e),r=s.lowerBoundExclusive(e),i=s.upperBoundExclusive(e);return t!==undefined&&n!==undefined?IDBKeyRange.bound(t,n,r,i):t!==undefined?IDBKeyRange.lowerBound(t,r):n!==undefined?IDBKeyRange.upperBound(n,i):null},c.prototype.createIterator=function(e,t,n){var r=this,i=this.db.db.transaction([e],"readonly");i.objectStore(e).openCursor(t,n?"prev":"next").onsuccess=function(e){var t=e.target.result;t&&r.onItem(t)},this._transaction=i,i.onabort=function(){r.onAbort(r._transaction.error||new Error("aborted by user"))},i.oncomplete=function(){r.onComplete()}},c.prototype.onItem=function(e){this._cache.push(e.key,e.value),(this._limit<=0||++this._count<this._limit)&&e.continue(),this.maybeNext()},c.prototype.onAbort=function(e){this._aborted=!0,this._error=e,this.maybeNext()},c.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},c.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},c.prototype._next=function(e){if(this._aborted){var t=this._error;this._error=null,a((function(){e(t)}))}else if(this._cache.length>0){var n=this._cache.shift(),r=this._cache.shift();this._keyAsBuffer&&(n=o(n)),this._valueAsBuffer&&(r=o(r)),a((function(){e(null,n,r)}))}else this._completed?a(e):this._callback=e},c.prototype._end=function(e){if(this._aborted||this._completed){var t=this._error;a((function(){e(t)}))}else this.onItem=u,this.onAbort=e,this.onComplete=e}}}},{package:"level-js",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-js/iterator.js"}],[4804,{immediate:4394},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("immediate")}}},{package:"level-js",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-js/util/immediate-browser.js"}],[4805,{buffer:2081,"typedarray-to-buffer":5993},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("typedarray-to-buffer");t.exports=function(e){return e instanceof Uint8Array?r(e):e instanceof ArrayBuffer?n.from(e):n.from(String(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"level-js",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-js/util/mixed-to-buffer.js"}],[4806,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.test=function(e){return function(t){try{return t.cmp(e,0),!0}catch(e){return!1}}},n.binaryKeys=n.test(new Uint8Array(0)),n.arrayKeys=n.test([1])}}},{package:"level-js",file:"/home/gudahtt/projects/metamask-extension/node_modules/level-js/util/support.js"}],[4807,{"./common":4808,"./promisify":4810,"level-errors":4785},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("level-errors").WriteError,i=e("./promisify"),s=e("./common").getCallback,o=e("./common").getOptions;function a(e){this._levelup=e,this.batch=e.db.batch(),this.ops=[],this.length=0}a.prototype.put=function(e,t){try{this.batch.put(e,t)}catch(e){throw new r(e)}return this.ops.push({type:"put",key:e,value:t}),this.length++,this},a.prototype.del=function(e){try{this.batch.del(e)}catch(e){throw new r(e)}return this.ops.push({type:"del",key:e}),this.length++,this},a.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new r(e)}return this.ops=[],this.length=0,this},a.prototype.write=function(e,t){var n,a=this._levelup,u=this.ops;(t=s(e,t))||(n=(t=i()).promise),e=o(e);try{this.batch.write(e,(function(e){if(e)return t(new r(e));a.emit("batch",u),t()}))}catch(e){throw new r(e)}return n},t.exports=a}}},{package:"levelup",file:"/home/gudahtt/projects/metamask-extension/node_modules/levelup/lib/batch.js"}],[4808,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.getCallback=function(e,t){return"function"==typeof e?e:t},n.getOptions=function(e){return"object"==typeof e&&null!==e?e:{}}}}},{package:"levelup",file:"/home/gudahtt/projects/metamask-extension/node_modules/levelup/lib/common.js"}],[4809,{"./batch":4807,"./common":4808,"./promisify":4810,_process:5420,assert:1700,"deferred-leveldown":2259,events:2082,"level-errors":4785,"level-iterator-stream":4786,util:2087,xtend:6171},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("events").EventEmitter,i=e("util").inherits,s=e("xtend"),o=e("deferred-leveldown"),a=e("level-iterator-stream"),u=e("./batch"),c=e("level-errors"),l=e("assert"),h=e("./promisify"),f=e("./common").getCallback,d=e("./common").getOptions,p=c.WriteError,m=c.ReadError,b=c.NotFoundError,g=c.OpenError,y=c.InitializationError;function _(e,t,i){if(!(this instanceof _))return new _(e,t,i);var s;if(r.call(this),this.setMaxListeners(Infinity),"function"==typeof t&&(i=t,t={}),t=t||{},!e||"object"!=typeof e){if(s=new y("First argument must be an abstract-leveldown compliant store"),"function"==typeof i)return n.nextTick(i,s);throw s}l.strictEqual(typeof e.status,"string",".status required, old abstract-leveldown"),this.options=d(t),this._db=e,this.db=new o(e),this.open(i)}function k(e,t){if(!e._isOpening()&&!e.isOpen())return n.nextTick(t,new m("Database is not open")),!0}_.prototype.emit=r.prototype.emit,_.prototype.once=r.prototype.once,i(_,r),_.prototype.open=function(e,t){var r,i=this;return"function"==typeof e&&(t=e,e=null),t||(r=(t=h()).promise),e||(e=this.options),this.isOpen()?(n.nextTick(t,null,i),r):this._isOpening()?(this.once("open",(function(){t(null,i)})),r):(this.emit("opening"),this.db.open(e,(function(e){if(e)return t(new g(e));i.db=i._db,t(null,i),i.emit("open"),i.emit("ready")})),r)},_.prototype.close=function(e){var t,r=this;return e||(t=(e=h()).promise),this.isOpen()?(this.db.close((function(){r.emit("closed"),e.apply(null,arguments)})),this.emit("closing"),this.db=new o(this._db)):this.isClosed()?n.nextTick(e):"closing"===this.db.status?this.once("closed",e):this._isOpening()&&this.once("open",(function(){r.close(e)})),t},_.prototype.isOpen=function(){return"open"===this.db.status},_.prototype._isOpening=function(){return"opening"===this.db.status},_.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},_.prototype.get=function(e,t,n){if(null===e||e===undefined)throw new m("get() requires a key argument");var r;return(n=f(t,n))||(r=(n=h()).promise),k(this,n)||(t=d(t),this.db.get(e,t,(function(t,r){if(t)return t=/notfound/i.test(t)||t.notFound?new b("Key not found in database ["+e+"]",t):new m(t),n(t);n(null,r)}))),r},_.prototype.put=function(e,t,n,r){if(null===e||e===undefined)throw new p("put() requires a key argument");var i,s=this;return(r=f(n,r))||(i=(r=h()).promise),k(this,r)||(n=d(n),this.db.put(e,t,n,(function(n){if(n)return r(new p(n));s.emit("put",e,t),r()}))),i},_.prototype.del=function(e,t,n){if(null===e||e===undefined)throw new p("del() requires a key argument");var r,i=this;return(n=f(t,n))||(r=(n=h()).promise),k(this,n)||(t=d(t),this.db.del(e,t,(function(t){if(t)return n(new p(t));i.emit("del",e),n()}))),r},_.prototype.batch=function(e,t,n){if(!arguments.length)return new u(this);if(!Array.isArray(e))throw new p("batch() requires an array argument");var r,i=this;return(n=f(t,n))||(r=(n=h()).promise),k(this,n)||(t=d(t),this.db.batch(e,t,(function(t){if(t)return n(new p(t));i.emit("batch",e),n()}))),r},_.prototype.iterator=function(e){return this.db.iterator(e)},_.prototype.readStream=_.prototype.createReadStream=function(e){return"number"!=typeof(e=s({keys:!0,values:!0},e)).limit&&(e.limit=-1),new a(this.db.iterator(e),e)},_.prototype.keyStream=_.prototype.createKeyStream=function(e){return this.createReadStream(s(e,{keys:!0,values:!1}))},_.prototype.valueStream=_.prototype.createValueStream=function(e){return this.createReadStream(s(e,{keys:!1,values:!0}))},_.prototype.toString=function(){return"LevelUP"},_.errors=c,t.exports=_.default=_}).call(this)}).call(this,e("_process"))}}},{package:"levelup",file:"/home/gudahtt/projects/metamask-extension/node_modules/levelup/lib/levelup.js"}],[4810,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(){var e,t=new Promise((function(t,n){e=function(e,r){e?n(e):t(r)}}));return e.promise=t,e}}}},{package:"levelup",file:"/home/gudahtt/projects/metamask-extension/node_modules/levelup/lib/promisify.js"}],[4811,{"async/nextTick":1767,debug:2253,events:2082,mafmt:5190,multiaddr:5208,"peer-id":5410,"peer-info":5411},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("peer-id"),i=e("peer-info"),s=e("multiaddr"),o=e("mafmt"),a=e("events").EventEmitter,u=e("debug"),c=e("async/nextTick"),l=u("libp2p:bootstrap");l.error=u("libp2p:bootstrap:error");(t.exports=class extends a{constructor(e){super(),this._list=e.list,this._interval=e.interval||1e4,this._timer=null}start(e){if(this._timer)return c((()=>e()));this._timer=setInterval((()=>this._discoverBootstrapPeers()),this._interval),c((()=>{e(),this._discoverBootstrapPeers()}))}_discoverBootstrapPeers(){this._list.forEach((e=>{if(!function(e){try{return o.IPFS.matches(e)}catch(e){return!1}}(e))return l.error("Invalid multiaddr");const t=s(e),n=r.createFromB58String(t.getPeerId());i.create(n,((e,n)=>{if(e)return l.error("Invalid bootstrap peer id",e);n.multiaddrs.add(t),this.emit("peer",n)}))}))}stop(e){c(e),this._timer&&(clearInterval(this._timer),this._timer=null)}}).tag="bootstrap"}}},{package:"libp2p-bootstrap",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-bootstrap/src/index.js"}],[4812,{"./circuit/dialer":4813,"./circuit/utils":4817,"./listener":4819,debug:2253,mafmt:5190,multiaddr:5208},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("mafmt"),i=e("multiaddr"),s=e("./circuit/dialer"),o=e("./circuit/utils"),a=e("debug");a("libp2p:circuit:transportdialer").err=a("libp2p:circuit:error:transportdialer");const u=e("./listener");t.exports=class{static get tag(){return"Circuit"}constructor(e,t){this.options=t||{},this.swarm=e,this.dialer=null,this.utils=o(e),this.peerInfo=this.swarm._peerInfo,this.relays=this.filter(this.peerInfo.multiaddrs.toArray()),0===this.relays.length&&this.peerInfo.multiaddrs.add(`/p2p-circuit/ipfs/${this.peerInfo.id.toB58String()}`),this.dialer=new s(e,t),this.swarm.on("peer-mux-established",(e=>{this.dialer.canHop(e)})),this.swarm.on("peer-mux-closed",(e=>{this.dialer.relayPeers.delete(e.id.toB58String())}))}_dialSwarmRelays(){this.relays.forEach((e=>{e.toString().split("/p2p-circuit").filter((e=>e.length)).forEach((e=>{const t=this.utils.peerInfoFromMa(i(e));this.dialer._dialRelay(t)}))}))}dial(e,t,n){return this.dialer.dial(e,t,n)}createListener(e,t){"function"==typeof e&&(t=e,e=this.options||{});const n=u(this.swarm,e,t);return n.on("listen",this._dialSwarmRelays.bind(this)),n}filter(e){return Array.isArray(e)||(e=[e]),e.filter((e=>r.Circuit.matches(e)))}}}}},{package:"libp2p-circuit",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-circuit/src/circuit.js"}],[4813,{"../multicodec":4820,"../protocol":4821,"./stream-handler":4816,"./utils":4817,"async/setImmediate":1773,"async/waterfall":1779,debug:2253,"interface-connection":4406,multiaddr:5208,once:5307,"peer-id":5410},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("once"),i=e("peer-id"),s=e("async/waterfall"),o=e("async/setImmediate"),a=e("multiaddr"),u=e("interface-connection").Connection,c=e("./utils"),l=e("./stream-handler"),h=e("debug"),f=h("libp2p:circuit:dialer");f.err=h("libp2p:circuit:error:dialer");const d=e("../multicodec"),p=e("../protocol");t.exports=class{constructor(e,t){this.swarm=e,this.relayPeers=new Map,this.relayConns=new Map,this.options=t,this.utils=c(e)}_dialRelayHelper(e,t){return this.relayConns.has(e.id.toB58String())?t(null,this.relayConns.get(e.id.toB58String())):this._dialRelay(e,t)}dial(e,t){t=t||(()=>{});const n=e.toString();if(!n.includes("/p2p-circuit"))return f.err("invalid circuit address"),t(new Error("invalid circuit address"));const r=n.split("p2p-circuit"),i="/"===r[0]?null:a(r[0]),s=a(r[1]||r[0]),c=new u;return o(this._dialPeer.bind(this),s,i,((e,n)=>{if(e)return f.err(e),t(e);c.setInnerConn(n),t(null,c)})),c}canHop(e,t){t=r(t||(()=>{})),this._dialRelayHelper(e,((n,r)=>{if(n)return t(n);const i=new l(r);s([e=>i.write(p.CircuitRelay.encode({type:p.CircuitRelay.Type.CAN_HOP}),e),e=>i.read(e)],((n,r)=>{if(n)return t(n);if(p.CircuitRelay.decode(r).code!==p.CircuitRelay.Status.SUCCESS){const n=new Error(`HOP not supported, skipping - ${this.utils.getB58String(e)}`);return f(n),t(n)}f("HOP supported adding as relay - %s",this.utils.getB58String(e)),this.relayPeers.set(this.utils.getB58String(e),e),i.close(),t()}))}))}_dialPeer(e,t,n){if("function"==typeof t&&(n=t,t=null),n||(n=()=>{}),e=a(e),t)return this._negotiateRelay(t,e,((e,t)=>e?(f.err("An error has occurred negotiating the relay connection",e),n(e)):n(null,t)));{const t=Array.from(this.relayPeers.values());let r=i=>{if(!i){let e="no relay peers were found or all relays failed to dial";return f.err(e),n(e)}return this._negotiateRelay(i,e,((e,i)=>{if(e)return f.err(e),r(t.shift());n(null,i)}))};r(t.shift())}}_negotiateRelay(e,t,n){t=a(t),e=this.utils.peerInfoFromMa(e);const r=this.swarm._peerInfo.multiaddrs.toArray();this._dialRelayHelper(e,((e,o)=>{if(e)return f.err(e),n(e);let a=new l(o);s([e=>{let n;f("negotiating relay for peer %s",t.getPeerId());try{n=i.createFromB58String(t.getPeerId()).id}catch(t){return e(t)}a.write(p.CircuitRelay.encode({type:p.CircuitRelay.Type.HOP,srcPeer:{id:this.swarm._peerInfo.id.id,addrs:r.map((e=>e.buffer))},dstPeer:{id:n,addrs:[t.buffer]}}),e)},e=>a.read(e)],((e,t)=>{if(e)return n(e);const r=p.CircuitRelay.decode(t);return r.type!==p.CircuitRelay.Type.STATUS?n(new Error(`Got invalid message type - expected ${p.CircuitRelay.Type.STATUS} got ${r.type}`)):r.code!==p.CircuitRelay.Status.SUCCESS?n(new Error(`Got ${r.code} error code trying to dial over relay`)):void n(null,new u(a.rest()))}))}))}_dialRelay(e,t){t=r(t||(()=>{})),this.swarm.dial(e,d.relay,r(((e,n)=>{if(e)return f.err(e),t(e);t(null,n)})))}}}}},{package:"libp2p-circuit",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-circuit/src/circuit/dialer.js"}],[4814,{"../protocol":4821,"./../multicodec":4820,"./stream-handler":4816,"./utils":4817,"async/series":1772,"async/setImmediate":1773,"async/waterfall":1779,debug:2253,events:2082,multiaddr:5208,once:5307,"peer-id":5410,"peer-info":5411,"pull-stream/pull":5478},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream/pull"),i=e("debug"),s=e("peer-info"),o=e("peer-id"),a=e("events").EventEmitter,u=e("once"),c=e("./utils"),l=e("./stream-handler"),h=e("../protocol").CircuitRelay,f=e("multiaddr"),d=e("async/series"),p=e("async/waterfall"),m=e("async/setImmediate"),b=e("./../multicodec"),g=i("libp2p:circuit:relay");g.err=i("libp2p:circuit:error:relay");t.exports=class extends a{constructor(e,t){super(),this.swarm=e,this.peerInfo=this.swarm._peerInfo,this.utils=c(e),this.config=t||{active:!1,enabled:!1},this.active=this.config.active}handle(e,t){if(!this.config.enabled)return this.utils.writeResponse(t,h.Status.HOP_CANT_SPEAK_RELAY),t.close();if(e.type===h.Type.CAN_HOP)return this.utils.writeResponse(t,h.Status.SUCCESS),t.close();let n=null,r=null;try{n=o.createFromBytes(e.srcPeer.id).toB58String(),r=o.createFromBytes(e.dstPeer.id).toB58String()}catch(e){if(g.err(e),!n)return this.utils.writeResponse(t,h.Status.HOP_SRC_MULTIADDR_INVALID),t.close();if(!r)return this.utils.writeResponse(t,h.Status.HOP_DST_MULTIADDR_INVALID),t.close()}if(n===r)return this.utils.writeResponse(t,h.Status.HOP_CANT_RELAY_TO_SELF),t.close();if(!e.dstPeer.addrs.length){const t=f(`/p2p-circuit/ipfs/${r}`).buffer;e.dstPeer.addrs.push(t)}g("trying to establish a circuit: %s <-> %s",n,r);const i=()=>(this.utils.writeResponse(t,h.Status.HOP_NO_CONN_TO_DST),t.close()),s=e=>{let t;try{if(t=this.swarm._peerBook.get(r),!t.isConnected()&&!this.active){const t=new Error(`No Connection to peer ${r}`);return i(),e(t)}}catch(t){if(!this.active)return i(),e(t)}e()};d([n=>this.utils.validateAddrs(e,t,h.Type.HOP,n),e=>s(e),n=>this._circuit(t,e,n)],(e=>{if(e)return g.err(e),t.close(),m((()=>this.emit("circuit:error",e)));m((()=>this.emit("circuit:success")))}))}_connectToStop(e,t,n){this._dialPeer(e,((e,r)=>e?(this.utils.writeResponse(t,h.Status.HOP_CANT_DIAL_DST),g.err(e),n(e)):this.utils.writeResponse(t,h.Status.SUCCESS,(e=>e?(g.err(e),n(e)):n(null,r)))))}_negotiateStop(e,t,n,r){const i=Object.assign({},n,{type:h.Type.STOP});e.write(h.encode(i),(n=>{if(n)return this.utils.writeResponse(t,h.Status.HOP_CANT_OPEN_DST_STREAM),g.err(n),r(n);e.read(((e,t)=>{if(e)return g.err(e),r(e);return h.decode(t).code!==h.Status.SUCCESS?r(new Error("Unable to create circuit!")):r(null,t)}))}))}_circuit(e,t,n){let i=null;p([n=>this._connectToStop(t.dstPeer,e,n),(n,r)=>{i=new l(n),this._negotiateStop(i,e,t,r)}],(s=>{if(s)return e&&e.close(),i&&i.close(),n(s);const a=e.rest(),u=i.rest(),c=o.createFromBytes(t.srcPeer.id).toB58String(),l=o.createFromBytes(t.dstPeer.id).toB58String();r(a,u,a),g("circuit %s <-> %s established",c,l),n()}))}_dialPeer(e,t){const n=new s(o.createFromBytes(e.id));e.addrs.forEach((e=>n.multiaddrs.add(e))),this.swarm.dial(n,b.relay,u(((e,n)=>{if(e)return g.err(e),t(e);t(null,n)})))}}}}},{package:"libp2p-circuit",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-circuit/src/circuit/hop.js"}],[4815,{"../protocol":4821,"./utils":4817,"async/series":1772,"async/setImmediate":1773,debug:2253,events:2082,"interface-connection":4406,"peer-info":5411},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/setImmediate"),i=e("events").EventEmitter,s=e("interface-connection").Connection,o=e("./utils"),a=e("peer-info"),u=e("../protocol").CircuitRelay,c=e("async/series"),l=e("debug"),h=l("libp2p:circuit:stop");h.err=l("libp2p:circuit:error:stop");t.exports=class extends i{constructor(e){super(),this.swarm=e,this.utils=o(e)}handle(e,t,n){n=n||(()=>{}),c([n=>this.utils.validateAddrs(e,t,u.Type.STOP,n),e=>this.utils.writeResponse(t,u.Status.Success,e)],(i=>{if(i)return n(),h(i);const o=new a(this.utils.peerIdFromId(e.srcPeer.id));e.srcPeer.addrs.forEach((e=>o.multiaddrs.add(e)));const u=new s(t.rest());u.setPeerInfo(o),r((()=>this.emit("connection",u))),n(u)}))}}}}},{package:"libp2p-circuit",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-circuit/src/circuit/stop.js"}],[4816,{debug:2253,"pull-handshake":5456,"pull-length-prefixed":5459,"pull-stream/pull":5478,"pull-stream/sinks/collect":5479,"pull-stream/sources/empty":5488,"pull-stream/sources/values":5494},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream/sources/values"),i=e("pull-stream/sinks/collect"),s=e("pull-stream/sources/empty"),o=e("pull-stream/pull"),a=e("pull-length-prefixed"),u=e("pull-handshake"),c=e("debug"),l=c("libp2p:circuit:stream-handler");l.err=c("libp2p:circuit:error:stream-handler");t.exports=class{constructor(e,t,n,r){this.conn=e,this.stream=null,this.shake=null,this.timeout=t||6e4,this.maxLength=r||4096,"function"==typeof t&&(this.timeout=n||6e4),this.stream=u({timeout:this.timeout},t),this.shake=this.stream.handshake,o(this.stream,e,this.stream)}isValid(){return this.conn&&this.shake&&this.stream}read(e){if(!this.isValid())return e(new Error("handler is not in a valid state"));a.decodeFromReader(this.shake,{maxLength:this.maxLength},((t,n)=>t?(l.err(t),e(t)):e(null,n)))}write(e,t){if(t=t||(()=>{}),!this.isValid())return t(new Error("handler is not in a valid state"));o(r([e]),a.encode(),i(((e,n)=>{if(e)return l.err(e),this.shake.abort(e),t(e);n.forEach((e=>this.shake.write(e))),t()})))}getRawConn(){return this.conn}rest(){const e=this.shake.rest();return this.conn=null,this.stream=null,this.shake=null,e}close(){this.isValid()&&o(s(),this.rest())}}}}},{package:"libp2p-circuit",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-circuit/src/circuit/stream-handler.js"}],[4817,{"../protocol":4821,multiaddr:5208,"peer-id":5410,"peer-info":5411},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multiaddr"),i=e("peer-info"),s=e("peer-id"),o=e("../protocol");t.exports=function(e){function t(e,t,n){return n=n||(()=>{}),e.write(o.CircuitRelay.encode({type:o.CircuitRelay.Type.STATUS,code:t})),n()}return{getB58String:function(e){let t=null;if(r.isMultiaddr(e)){t=r(e).getPeerId()}else i.isPeerInfo(e)&&(t=e.id.toB58String());return t},peerInfoFromMa:function(t){let n;if(i.isPeerInfo(t))n=t;else if(r.isMultiaddr(t)){const r=t.getPeerId();try{n=e._peerBook.get(r)}catch(e){n=new i(s.createFromB58String(r))}n.multiaddrs.add(t)}else if(s.isPeerId(t)){const r=t.toB58String();n=e._peerBook.has(r)?e._peerBook.get(r):t}return n},isPeerConnected:function(t){return e.muxedConns[t]||e.conns[t]},validateAddrs:function(e,n,i,s){try{e.dstPeer.addrs.forEach((e=>r(e)))}catch(e){return t(n,i===o.CircuitRelay.Type.HOP?o.CircuitRelay.Status.HOP_DST_MULTIADDR_INVALID:o.CircuitRelay.Status.STOP_DST_MULTIADDR_INVALID),s(e)}try{e.srcPeer.addrs.forEach((e=>r(e)))}catch(e){return t(n,i===o.CircuitRelay.Type.HOP?o.CircuitRelay.Status.HOP_SRC_MULTIADDR_INVALID:o.CircuitRelay.Status.STOP_SRC_MULTIADDR_INVALID),s(e)}return s(null)},writeResponse:t,peerIdFromId:function(e){return"string"==typeof e?s.createFromB58String(e):s.createFromBytes(e)}}}}}},{package:"libp2p-circuit",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-circuit/src/circuit/utils.js"}],[4818,{"./circuit":4812},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("./circuit")}}},{package:"libp2p-circuit",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-circuit/src/index.js"}],[4819,{"./circuit/hop":4814,"./circuit/stop":4815,"./circuit/stream-handler":4816,"./circuit/utils":4817,"./multicodec":4820,"./protocol":4821,"async/setImmediate":1773,debug:2253,events:2082,mafmt:5190,multiaddr:5208},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/setImmediate"),i=e("./multicodec"),s=e("events").EventEmitter,o=e("multiaddr"),a=e("mafmt"),u=e("./circuit/stop"),c=e("./circuit/hop"),l=e("./protocol"),h=e("./circuit/utils"),f=e("./circuit/stream-handler"),d=e("debug"),p=d("libp2p:circuit:listener");p.err=d("libp2p:circuit:error:listener"),t.exports=(e,t,n)=>{const d=new s,m=h(e);return d.stopHandler=new u(e),d.stopHandler.on("connection",(e=>d.emit("connection",e))),d.hopHandler=new c(e,t.hop),d.listen=(t,s)=>{s=s||(()=>{}),e.handle(i.relay,((e,t)=>{const r=new f(t);r.read(((e,t)=>{if(e)return void p.err(e);let i=null;try{i=l.CircuitRelay.decode(t)}catch(e){return m.writeResponse(r,l.CircuitRelay.Status.MALFORMED_MESSAGE)}switch(i.type){case l.CircuitRelay.Type.CAN_HOP:case l.CircuitRelay.Type.HOP:return d.hopHandler.handle(i,r);case l.CircuitRelay.Type.STOP:return d.stopHandler.handle(i,r,n);default:return m.writeResponse(r,l.CircuitRelay.Status.INVALID_MSG_TYPE),r.close()}}))})),r((()=>d.emit("listen"))),s()},d.close=t=>{e.unhandle(i.relay),r((()=>d.emit("close"))),t()},d.getAddrs=t=>{let n=e._peerInfo.multiaddrs.toArray(),r=n.filter((t=>a.Circuit.matches(t)&&!t.toString().includes(e._peerInfo.id.toB58String())));r.length&&(n=r);let i=[];n.forEach((t=>{const n=`/p2p-circuit/ipfs/${e._peerInfo.id.toB58String()}`;if(t.toString()!==n)if(a.Circuit.matches(t))i.push(t.encapsulate(`/ipfs/${e._peerInfo.id.toB58String()}`));else if(t.getPeerId())i.push(o("/p2p-circuit").encapsulate(t));else{const n=`${t}/ipfs/${e._peerInfo.id.toB58String()}`;i.push(o("/p2p-circuit").encapsulate(n))}else i.push(o(n))})),t(null,i)},d}}}},{package:"libp2p-circuit",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-circuit/src/listener.js"}],[4820,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={relay:"/libp2p/circuit/relay/0.1.0"}}}},{package:"libp2p-circuit",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-circuit/src/multicodec.js"}],[4821,{protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("protons");t.exports=r("\nmessage CircuitRelay {\n\n  enum Status {\n    SUCCESS                    = 100;\n    HOP_SRC_ADDR_TOO_LONG      = 220;\n    HOP_DST_ADDR_TOO_LONG      = 221;\n    HOP_SRC_MULTIADDR_INVALID  = 250;\n    HOP_DST_MULTIADDR_INVALID  = 251;\n    HOP_NO_CONN_TO_DST         = 260;\n    HOP_CANT_DIAL_DST          = 261;\n    HOP_CANT_OPEN_DST_STREAM   = 262;\n    HOP_CANT_SPEAK_RELAY       = 270;\n    HOP_CANT_RELAY_TO_SELF     = 280;\n    STOP_SRC_ADDR_TOO_LONG     = 320;\n    STOP_DST_ADDR_TOO_LONG     = 321;\n    STOP_SRC_MULTIADDR_INVALID = 350;\n    STOP_DST_MULTIADDR_INVALID = 351;\n    STOP_RELAY_REFUSED         = 390;\n    MALFORMED_MESSAGE          = 400;\n  }\n\n  enum Type { // RPC identifier, either HOP, STOP or STATUS\n    HOP = 1;\n    STOP = 2;\n    STATUS = 3;\n    CAN_HOP = 4;\n  }\n\n  message Peer {\n    required bytes id = 1;    // peer id\n    repeated bytes addrs = 2; // peer's known addresses\n  }\n\n  optional Type type = 1;     // Type of the message\n\n  optional Peer srcPeer = 2;  // srcPeer and dstPeer are used when Type is HOP or STATUS\n  optional Peer dstPeer = 3;\n\n  optional Status code = 4;   // Status code, used when Type is STATUS\n}\n")}}},{package:"libp2p-circuit",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-circuit/src/protocol/index.js"}],[4822,{debug:2253,events:2082,"latency-monitor":4779},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events"),i=e("latency-monitor").default,s=e("debug")("libp2p:connection-manager"),o={maxPeers:Infinity,minPeers:0,maxData:Infinity,maxSentData:Infinity,maxReceivedData:Infinity,maxEventLoopDelay:Infinity,pollInterval:2e3,movingAverageInterval:6e4,defaultPeerValue:1};function a(e,t){return e[1]-t[1]}function u(e){return e.name.toLowerCase()}t.exports=class extends r{constructor(e,t){if(super(),this._libp2p=e,this._options=Object.assign({},o,t),this._options.maxPeersPerProtocol=function(e){e||(e={});return Object.keys(e).forEach((t=>{const n=e[t];delete e[t],e[t.toLowerCase()]=n})),e}(this._options.maxPeersPerProtocol),s("options: %j",this._options),this._stats=e.stats,t&&!this._stats)throw new Error("No libp2p.stats");this._peerValues=new Map,this._peers=new Map,this._peerProtocols=new Map,this._peerCountPerProtocol=new Map,this._onStatsUpdate=this._onStatsUpdate.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._libp2p.isStarted()?this._onceStarted():this._libp2p.once("start",this._onceStarted.bind(this))}start(){this._stats.on("update",this._onStatsUpdate),this._libp2p.on("connection:start",this._onPeerConnect),this._libp2p.on("connection:end",this._onPeerDisconnect),this._latencyMonitor=new i({dataEmitIntervalMs:this._options.pollInterval}),this._onLatencyMeasure=this._onLatencyMeasure.bind(this),this._latencyMonitor.on("data",this._onLatencyMeasure)}stop(){this._stats.removeListener("update",this._onStatsUpdate),this._libp2p.removeListener("connection:start",this._onPeerConnect),this._libp2p.removeListener("connection:end",this._onPeerDisconnect),this._latencyMonitor.removeListener("data",this._onLatencyMeasure)}setPeerValue(e,t){if(t<0||t>1)throw new Error("value should be a number between 0 and 1");e.toB58String&&(e=e.toB58String()),this._peerValues.set(e,t)}_onceStarted(){this._peerId=this._libp2p.peerInfo.id.toB58String()}_onStatsUpdate(){const e=this._stats.global.movingAverages,t=e.dataReceived[this._options.movingAverageInterval].movingAverage();this._checkLimit("maxReceivedData",t);const n=e.dataSent[this._options.movingAverageInterval].movingAverage();this._checkLimit("maxSentData",n);const r=t+n;this._checkLimit("maxData",r),s("stats update",r)}_onPeerConnect(e){const t=e.id.toB58String();s("%s: connected to %s",this._peerId,t),this._peerValues.set(t,this._options.defaultPeerValue),this._peers.set(t,e),this.emit("connected",t),this._checkLimit("maxPeers",this._peers.size),function(e){const t=new Set;return e.multiaddrs.forEach((e=>{e.protos().map(u).forEach((e=>{t.add(e)}))})),Array.from(t)}(e).forEach((e=>{this._peerCountPerProtocol[e]||(this._peerCountPerProtocol[e]=0),this._peerCountPerProtocol[e]++;let n=this._peerProtocols[t];n||(n=this._peerProtocols[t]=new Set),n.add(e),this._checkProtocolMaxPeersLimit(e,this._peerCountPerProtocol[e])}))}_onPeerDisconnect(e){const t=e.id.toB58String();s("%s: disconnected from %s",this._peerId,t),this._peerValues.delete(t),this._peers.delete(t);const n=this._peerProtocols[t];n&&Array.from(n).forEach((e=>{this._peerCountPerProtocol[e]&&this._peerCountPerProtocol[e]--})),this.emit("disconnected",t)}_onLatencyMeasure(e){this._checkLimit("maxEventLoopDelay",e.avgMs)}_checkLimit(e,t){const n=this._options[e];s("checking limit of %s. current value: %d of %d",e,t,n),t>n&&(s("%s: limit exceeded: %s, %d",this._peerId,e,t),this.emit("limit:exceeded",e,t),this._maybeDisconnectOne())}_checkProtocolMaxPeersLimit(e,t){s("checking protocol limit. current value of %s is %d",e,t);t>this._options.maxPeersPerProtocol[e]&&(s("%s: protocol max peers limit exceeded: %s, %d",this._peerId,e,t),this.emit("limit:exceeded",e,t),this._maybeDisconnectOne())}_maybeDisconnectOne(){if(this._options.minPeers<this._peerValues.size){const e=Array.from(this._peerValues).sort(a);s("%s: sorted peer values: %j",this._peerId,e);const t=e[0];if(t){const e=t[0];s("%s: lowest value peer is %s",this._peerId,e),s("%s: forcing disconnection from %j",this._peerId,e),this._disconnectPeer(e)}}}_disconnectPeer(e){s("preemptively disconnecting peer",e),this.emit("%s: disconnect:preemptive",this._peerId,e);const t=this._peers.get(e);this._libp2p.hangUp(t,(e=>{e&&this.emit("error",e)}))}}}}},{package:"libp2p-connection-manager",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-connection-manager/src/index.js"}],[4823,{"./utils":4827,blakejs:2034,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("blakejs"),i=e("./utils").toCallback,s={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},o={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},a=(e,t)=>i((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/blake.js"}],[4824,{buffer:2081,nodeify:5294},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("nodeify"),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function s(e){if(!i)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,s)=>{const o=i.digest({name:e},t);if("function"!=typeof o.then)return o.onerror=()=>{s(new Error(`hashing data using ${e}`))},void(o.oncomplete=e=>{s(null,e.target.result)});r(o.then((e=>n.from(new Uint8Array(e)))),s)}}t.exports={sha1:function(e,t){s("SHA-1")(e,t)},sha2256:function(e,t){s("SHA-256")(e,t)},sha2512:function(e,t){s("SHA-512")(e,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/crypto-sha1-2-browser.js"}],[4825,{"./blake":4823,"./crypto-sha1-2":4824,"./utils":4827,buffer:2081,"js-sha3":4719,murmurhash3js:5254},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("js-sha3"),i=e("murmurhash3js"),s=e("./utils"),o=e("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;t.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(r.sha3_512)),sha3384:a(u(r.sha3_384)),sha3256:a(u(r.sha3_256)),sha3224:a(u(r.sha3_224)),shake128:a(u(r.shake_128,128)),shake256:a(u(r.shake_256,256)),keccak224:a(u(r.keccak_224)),keccak256:a(u(r.keccak_256)),keccak384:a(u(r.keccak_384)),keccak512:a(u(r.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/crypto.js"}],[4826,{"./crypto":4825,buffer:2081,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("multihashes"),i=e("./crypto");function s(e,t,n,i){if("function"==typeof n&&(i=n,n=undefined),!i)throw new Error("Missing callback");s.digest(e,t,n,((e,s)=>{if(e)return i(e);i(null,r.encode(s,t,n))}))}t.exports=s,s.Buffer=n,s.multihash=r,s.digest=function(e,t,n,r){if("function"==typeof n&&(r=n,n=undefined),!r)throw new Error("Missing callback");let i,o=r;n&&(o=(e,t)=>{if(e)return r(e);r(null,t.slice(0,n))});try{i=s.createHash(t)}catch(e){return o(e)}i(e,o)},s.createHash=function(e){if(e=r.coerceCode(e),!s.functions[e])throw new Error("multihash function "+e+" not yet supported");return s.functions[e]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions),s.validate=(e,t,i)=>{s(e,r.decode(t).name,((e,r)=>{if(e)return i(e);i(e,0===n.compare(t,r))}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/index.js"}],[4827,{_process:5420,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e,t){(function(){n.toCallback=t=>function(n,r){let i;try{i=t(n)}catch(t){return void e.nextTick(r,t)}e.nextTick(r,null,i)},n.toBuf=(e,n)=>r=>{let i=e(r,n);return t.from(i,"hex")},n.fromString=(e,n)=>r=>{const i=t.isBuffer(r)?r.toString():r;return e(i,n)},n.fromNumberTo32BitBuf=(e,n)=>r=>{let i=e(r,n);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return t.from(s)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/utils.js"}],[4828,{"async/setImmediate":1773,"multihashing-async":4826,secp256k1:4835},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("secp256k1"),i=e("multihashing-async"),s=e("async/setImmediate"),o="sha2-256";t.exports=e=>{function t(e){if(!r.privateKeyVerify(e))throw new Error("Invalid private key")}return{generateKey:function(t){let n;do{n=e(32)}while(!r.privateKeyVerify(n));var i,o;i=null,o=n,s((()=>t(i,o)))},privateKeyLength:32,hashAndSign:function(e,t,n){const a=(e,t)=>s((()=>n(e,t)));i.digest(t,o,((t,n)=>{if(t)return a(t);try{const t=r.sign(n,e),i=r.signatureExport(t.signature);return a(null,i)}catch(t){a(t)}}))},hashAndVerify:function(e,t,n,a){const u=(e,t)=>s((()=>a(e,t)));i.digest(n,o,((n,i)=>{if(n)return u(n);try{t=r.signatureImport(t);const n=r.verify(i,t,e);return u(null,n)}catch(n){u(n)}}))},compressPublicKey:function(e){if(!r.publicKeyVerify(e))throw new Error("Invalid public key");return r.publicKeyConvert(e,!0)},decompressPublicKey:function(e){return r.publicKeyConvert(e,!1)},validatePrivateKey:t,validatePublicKey:function(e){if(!r.publicKeyVerify(e))throw new Error("Invalid public key")},computePublicKey:function(e){return t(e),r.publicKeyCreate(e)}}}}}},{package:"libp2p-crypto-secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/src/crypto.js"}],[4829,{"./crypto":4828,bs58:2088,"multihashing-async":4826},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("bs58"),i=e("multihashing-async");t.exports=(t,n,s)=>{s=s||e("./crypto")(n);class o{constructor(e){s.validatePublicKey(e),this._key=e}verify(e,t,n){u(n),s.hashAndVerify(this._key,t,e,n)}marshal(){return s.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(e){return this.bytes.equals(e.bytes)}hash(e){u(e),i(this.bytes,"sha2-256",e)}}class a{constructor(e,t){this._key=e,this._publicKey=t||s.computePublicKey(e),s.validatePrivateKey(this._key),s.validatePublicKey(this._publicKey)}sign(e,t){u(t),s.hashAndSign(this._key,e,t)}get public(){return new o(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(e){return this.bytes.equals(e.bytes)}hash(e){u(e),i(this.bytes,"sha2-256",e)}id(e){this.public.hash(((t,n)=>{if(t)return e(t);e(null,r.encode(n))}))}}function u(e){if("function"!=typeof e)throw new Error("callback is required")}return{Secp256k1PublicKey:o,Secp256k1PrivateKey:a,unmarshalSecp256k1PrivateKey:function(e,t){t(null,new a(e))},unmarshalSecp256k1PublicKey:function(e){return new o(e)},generateKeyPair:function(e,t){t===undefined&&"function"==typeof e&&(t=e),u(t),s.generateKey(((e,n)=>{if(e)return t(e);let r;try{r=new a(n)}catch(e){return t(e)}t(null,r)}))}}}}}},{package:"libp2p-crypto-secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/src/index.js"}],[4830,{"./utils":4834,blakejs:2034,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("blakejs"),i=e("./utils").toCallback,s={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},o={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},a=(e,t)=>i((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/blake.js"}],[4831,{buffer:2081,nodeify:5294},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("nodeify"),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function s(e){if(!i)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,s)=>{const o=i.digest({name:e},t);if("function"!=typeof o.then)return o.onerror=()=>{s(new Error(`hashing data using ${e}`))},void(o.oncomplete=e=>{s(null,e.target.result)});r(o.then((e=>n.from(new Uint8Array(e)))),s)}}t.exports={sha1:function(e,t){s("SHA-1")(e,t)},sha2256:function(e,t){s("SHA-256")(e,t)},sha2512:function(e,t){s("SHA-512")(e,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/crypto-sha1-2-browser.js"}],[4832,{"./blake":4830,"./crypto-sha1-2":4831,"./utils":4834,buffer:2081,"js-sha3":4719,murmurhash3js:5254},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("js-sha3"),i=e("murmurhash3js"),s=e("./utils"),o=e("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;t.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(r.sha3_512)),sha3384:a(u(r.sha3_384)),sha3256:a(u(r.sha3_256)),sha3224:a(u(r.sha3_224)),shake128:a(u(r.shake_128,128)),shake256:a(u(r.shake_256,256)),keccak224:a(u(r.keccak_224)),keccak256:a(u(r.keccak_256)),keccak384:a(u(r.keccak_384)),keccak512:a(u(r.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/crypto.js"}],[4833,{"./crypto":4832,buffer:2081,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("multihashes"),i=e("./crypto");function s(e,t,n,i){if("function"==typeof n&&(i=n,n=undefined),!i)throw new Error("Missing callback");s.digest(e,t,n,((e,s)=>{if(e)return i(e);i(null,r.encode(s,t,n))}))}t.exports=s,s.Buffer=n,s.multihash=r,s.digest=function(e,t,n,r){if("function"==typeof n&&(r=n,n=undefined),!r)throw new Error("Missing callback");let i,o=r;n&&(o=(e,t)=>{if(e)return r(e);r(null,t.slice(0,n))});try{i=s.createHash(t)}catch(e){return o(e)}i(e,o)},s.createHash=function(e){if(e=r.coerceCode(e),!s.functions[e])throw new Error("multihash function "+e+" not yet supported");return s.functions[e]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/index.js"}],[4834,{_process:5420,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e,t){(function(){n.toCallback=t=>function(n,r){let i;try{i=t(n)}catch(t){return void e.nextTick(r,t)}e.nextTick(r,null,i)},n.toBuf=(e,n)=>r=>{let i=e(r,n);return t.from(i,"hex")},n.fromString=(e,n)=>r=>{const i=t.isBuffer(r)?r.toString():r;return e(i,n)},n.fromNumberTo32BitBuf=(e,n)=>r=>{let i=e(r,n);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return t.from(s)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/utils.js"}],[4835,{"./lib":4838,"./lib/js":4844},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("./lib")(e("./lib/js"))}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/js.js"}],[4836,{"../../../../is-buffer/index.js":4686},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){var t=Object.prototype.toString;n.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},n.isBoolean=function(e,n){if("[object Boolean]"!==t.call(e))throw TypeError(n)},n.isBuffer=function(t,n){if(!e.isBuffer(t))throw TypeError(n)},n.isFunction=function(e,n){if("[object Function]"!==t.call(e))throw TypeError(n)},n.isNumber=function(e,n){if("[object Number]"!==t.call(e))throw TypeError(n)},n.isObject=function(e,n){if("[object Object]"!==t.call(e))throw TypeError(n)},n.isBufferLength=function(e,t,n){if(e.length!==t)throw RangeError(n)},n.isBufferLength2=function(e,t,n,r){if(e.length!==t&&e.length!==n)throw RangeError(r)},n.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},n.isNumberInInterval=function(e,t,n,r){if(e<=t||e>=n)throw RangeError(r)}}).call(this)}).call(this,{isBuffer:e("../../../../is-buffer/index.js")})}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/assert.js"}],[4837,{bip66:1970,"safe-buffer":5739},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=e("bip66"),s=r.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=r.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);n.privateKeyExport=function(e,t,n){var i=r.from(n?s:o);return e.copy(i,n?8:9),t.copy(i,n?181:214),i},n.privateKeyImport=function(e){var t=e.length,n=0;if(!(t<n+1||48!==e[n])&&!(t<(n+=1)+1)&&128&e[n]){var r=127&e[n];if(n+=1,!(r<1||r>2||t<n+r)){var i=e[n+r-1]|(r>1?e[n+r-2]<<8:0);if(!(t<(n+=r)+i||t<n+3||2!==e[n]||1!==e[n+1]||1!==e[n+2]||t<(n+=3)+2||4!==e[n]||e[n+1]>32||t<n+2+e[n+1]))return e.slice(n+2,n+2+e[n+1])}}},n.signatureExport=function(e){for(var t=r.concat([r.from([0]),e.r]),n=33,s=0;n>1&&0===t[s]&&!(128&t[s+1]);--n,++s);for(var o=r.concat([r.from([0]),e.s]),a=33,u=0;a>1&&0===o[u]&&!(128&o[u+1]);--a,++u);return i.encode(t.slice(s),o.slice(u))},n.signatureImport=function(e){var t=r.alloc(32,0),n=r.alloc(32,0);try{var s=i.decode(e);if(33===s.r.length&&0===s.r[0]&&(s.r=s.r.slice(1)),s.r.length>32)throw new Error("R length is too long");if(33===s.s.length&&0===s.s[0]&&(s.s=s.s.slice(1)),s.s.length>32)throw new Error("S length is too long")}catch(e){return}return s.r.copy(t,32-s.r.length),s.s.copy(n,32-s.s.length),{r:t,s:n}},n.signatureImportLax=function(e){var t=r.alloc(32,0),n=r.alloc(32,0),i=e.length,s=0;if(48===e[s++]){var o=e[s++];if(!(128&o&&(s+=o-128)>i)&&2===e[s++]){var a=e[s++];if(128&a){if(s+(o=a-128)>i)return;for(;o>0&&0===e[s];s+=1,o-=1);for(a=0;o>0;s+=1,o-=1)a=(a<<8)+e[s]}if(!(a>i-s)){var u=s;if(s+=a,2===e[s++]){var c=e[s++];if(128&c){if(s+(o=c-128)>i)return;for(;o>0&&0===e[s];s+=1,o-=1);for(c=0;o>0;s+=1,o-=1)c=(c<<8)+e[s]}if(!(c>i-s)){var l=s;for(s+=c;a>0&&0===e[u];a-=1,u+=1);if(!(a>32)){var h=e.slice(u,u+a);for(h.copy(t,32-h.length);c>0&&0===e[l];c-=1,l+=1);if(!(c>32)){var f=e.slice(l,l+c);return f.copy(n,32-f.length),{r:t,s:n}}}}}}}}}}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/der.js"}],[4838,{"./assert":4836,"./der":4837,"./messages.json":4845},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./assert"),i=e("./der"),s=e("./messages.json");function o(e,t){return e===undefined?t:(r.isBoolean(e,s.COMPRESSED_TYPE_INVALID),e)}t.exports=function(e){return{privateKeyVerify:function(t){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,n){r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n=o(n,!0);var a=e.privateKeyExport(t,n);return i.privateKeyExport(t,a,n)},privateKeyImport:function(t){if(r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),(t=i.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(s.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(t)},privateKeyModInverse:function(t){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,n){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r.isBuffer(n,s.TWEAK_TYPE_INVALID),r.isBufferLength(n,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,n)},privateKeyTweakMul:function(t,n){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r.isBuffer(n,s.TWEAK_TYPE_INVALID),r.isBufferLength(n,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,n)},publicKeyCreate:function(t,n){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n=o(n,!0),e.publicKeyCreate(t,n)},publicKeyConvert:function(t,n){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n=o(n,!0),e.publicKeyConvert(t,n)},publicKeyVerify:function(t){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,n,i){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(n,s.TWEAK_TYPE_INVALID),r.isBufferLength(n,32,s.TWEAK_LENGTH_INVALID),i=o(i,!0),e.publicKeyTweakAdd(t,n,i)},publicKeyTweakMul:function(t,n,i){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(n,s.TWEAK_TYPE_INVALID),r.isBufferLength(n,32,s.TWEAK_LENGTH_INVALID),i=o(i,!0),e.publicKeyTweakMul(t,n,i)},publicKeyCombine:function(t,n){r.isArray(t,s.EC_PUBLIC_KEYS_TYPE_INVALID),r.isLengthGTZero(t,s.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<t.length;++i)r.isBuffer(t[i],s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t[i],33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID);return n=o(n,!0),e.publicKeyCombine(t,n)},signatureNormalize:function(t){return r.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(t,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){r.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(t,64,s.ECDSA_SIGNATURE_LENGTH_INVALID);var n=e.signatureExport(t);return i.signatureExport(n)},signatureImport:function(t){r.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isLengthGTZero(t,s.ECDSA_SIGNATURE_LENGTH_INVALID);var n=i.signatureImport(t);if(n)return e.signatureImport(n);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){r.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isLengthGTZero(t,s.ECDSA_SIGNATURE_LENGTH_INVALID);var n=i.signatureImportLax(t);if(n)return e.signatureImport(n);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,n,i){r.isBuffer(t,s.MSG32_TYPE_INVALID),r.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),r.isBuffer(n,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(n,32,s.EC_PRIVATE_KEY_LENGTH_INVALID);var o=null,a=null;return i!==undefined&&(r.isObject(i,s.OPTIONS_TYPE_INVALID),i.data!==undefined&&(r.isBuffer(i.data,s.OPTIONS_DATA_TYPE_INVALID),r.isBufferLength(i.data,32,s.OPTIONS_DATA_LENGTH_INVALID),o=i.data),i.noncefn!==undefined&&(r.isFunction(i.noncefn,s.OPTIONS_NONCEFN_TYPE_INVALID),a=i.noncefn)),e.sign(t,n,a,o)},verify:function(t,n,i){return r.isBuffer(t,s.MSG32_TYPE_INVALID),r.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),r.isBuffer(n,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(n,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),r.isBuffer(i,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(i,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,n,i)},recover:function(t,n,i,a){return r.isBuffer(t,s.MSG32_TYPE_INVALID),r.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),r.isBuffer(n,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(n,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),r.isNumber(i,s.RECOVERY_ID_TYPE_INVALID),r.isNumberInInterval(i,-1,4,s.RECOVERY_ID_VALUE_INVALID),a=o(a,!0),e.recover(t,n,i,a)},ecdh:function(t,n){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(n,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(n,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,n)},ecdhUnsafe:function(t,n,i){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(n,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(n,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),i=o(i,!0),e.ecdhUnsafe(t,n,i)}}}}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/index.js"}],[4839,{"./optimized":4840,"safe-buffer":5739},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=e("./optimized");function s(){this.negative=0,this.words=null,this.length=0}s.fromNumber=function(e){var t=new s;return t.words=[67108863&e],t.length=1,t},s.fromBuffer=function(e){var t=new s;return t.words=new Array(10),t.words[0]=(3&e[28])<<24|e[29]<<16|e[30]<<8|e[31],t.words[1]=(15&e[25])<<22|e[26]<<14|e[27]<<6|e[28]>>>2,t.words[2]=(63&e[22])<<20|e[23]<<12|e[24]<<4|e[25]>>>4,t.words[3]=(255&e[19])<<18|e[20]<<10|e[21]<<2|e[22]>>>6,t.words[4]=(3&e[15])<<24|e[16]<<16|e[17]<<8|e[18],t.words[5]=(15&e[12])<<22|e[13]<<14|e[14]<<6|e[15]>>>2,t.words[6]=(63&e[9])<<20|e[10]<<12|e[11]<<4|e[12]>>>4,t.words[7]=(255&e[6])<<18|e[7]<<10|e[8]<<2|e[9]>>>6,t.words[8]=(3&e[2])<<24|e[3]<<16|e[4]<<8|e[5],t.words[9]=e[0]<<14|e[1]<<6|e[2]>>>2,t.length=10,t.strip()},s.prototype.toBuffer=function(){for(var e=this.words,t=this.length;t<10;++t)e[t]=0;return r.from([e[9]>>>14&255,e[9]>>>6&255,(63&e[9])<<2|e[8]>>>24&3,e[8]>>>16&255,e[8]>>>8&255,255&e[8],e[7]>>>18&255,e[7]>>>10&255,e[7]>>>2&255,(3&e[7])<<6|e[6]>>>20&63,e[6]>>>12&255,e[6]>>>4&255,(15&e[6])<<4|e[5]>>>22&15,e[5]>>>14&255,e[5]>>>6&255,(63&e[5])<<2|e[4]>>>24&3,e[4]>>>16&255,e[4]>>>8&255,255&e[4],e[3]>>>18&255,e[3]>>>10&255,e[3]>>>2&255,(3&e[3])<<6|e[2]>>>20&63,e[2]>>>12&255,e[2]>>>4&255,(15&e[2])<<4|e[1]>>>22&15,e[1]>>>14&255,e[1]>>>6&255,(63&e[1])<<2|e[0]>>>24&3,e[0]>>>16&255,e[0]>>>8&255,255&e[0]])},s.prototype.clone=function(){var e=new s;e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];return e.length=this.length,e.negative=this.negative,e},s.prototype.strip=function(){for(;this.length>1&&0==(0|this.words[this.length-1]);)this.length--;return this},s.prototype.normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.ucmp=function(e){if(this.length!==e.length)return this.length>e.length?1:-1;for(var t=this.length-1;t>=0;--t)if(this.words[t]!==e.words[t])return this.words[t]>e.words[t]?1:-1;return 0},s.prototype.gtOne=function(){return this.length>1||this.words[0]>1},s.prototype.isOverflow=function(){return this.ucmp(s.n)>=0},s.prototype.isHigh=function(){return 1===this.ucmp(s.nh)},s.prototype.bitLengthGT256=function(){return this.length>10||10===this.length&&this.words[9]>4194303},s.prototype.iuaddn=function(e){this.words[0]+=e;for(var t=0;this.words[t]>67108863&&t<this.length;++t)this.words[t]-=67108864,this.words[t+1]+=1;return t===this.length&&(this.words[t]=1,this.length+=1),this},s.prototype.iadd=function(e){if(this.negative!==e.negative)return 0!==this.negative?(this.negative=0,this.isub(e),this.negative^=1):(e.negative=0,this.isub(e),e.negative=1),this.normSign();var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0,i=0;r<n.length;++r){var s=t.words[r]+n.words[r]+i;this.words[r]=67108863&s,i=s>>>26}for(;0!==i&&r<t.length;++r)s=t.words[r]+i,this.words[r]=67108863&s,i=s>>>26;if(this.length=t.length,0!==i)this.words[this.length++]=i;else if(t!==this)for(;r<t.length;++r)this.words[r]=t.words[r];return this},s.prototype.add=function(e){return this.clone().iadd(e)},s.prototype.isub=function(e){if(this.negative!==e.negative)return 0!==this.negative?(this.negative=0,this.iadd(e),this.negative=1):(e.negative=0,this.iadd(e),e.negative=1),this.normSign();var t,n,r=this.ucmp(e);if(0===r)return this.negative=0,this.words[0]=0,this.length=1,this;r>0?(t=this,n=e):(t=e,n=this);for(var i=0,s=0;i<n.length;++i){var o=t.words[i]-n.words[i]+s;s=o>>26,this.words[i]=67108863&o}for(;0!==s&&i<t.length;++i)s=(o=t.words[i]+s)>>26,this.words[i]=67108863&o;if(0===s&&i<t.length&&t!==this)for(;i<t.length;++i)this.words[i]=t.words[i];return this.length=Math.max(this.length,i),t!==this&&(this.negative^=1),this.strip().normSign()},s.prototype.sub=function(e){return this.clone().isub(e)},s.umulTo=function(e,t,n){n.length=e.length+t.length-1;var r=e.words[0]*t.words[0],i=r/67108864|0;n.words[0]=67108863&r;for(var s=1,o=n.length;s<o;s++){for(var a=i>>>26,u=67108863&i,c=Math.max(0,s-e.length+1),l=Math.min(s,t.length-1);c<=l;c++){var h=s-c,f=e.words[h]*t.words[c]+u;a+=f/67108864|0,u=67108863&f}n.words[s]=u,i=a}return 0!==i&&(n.words[n.length++]=i),n.strip()},s.umulTo10x10=Math.imul?i.umulTo10x10:s.umulTo,s.umulnTo=function(e,t,n){if(0===t)return n.words=[0],n.length=1,n;for(var r=0,i=0;r<e.length;++r){var s=e.words[r]*t+i;n.words[r]=67108863&s,i=s/67108864|0}return i>0?(n.words[r]=i,n.length=e.length+1):n.length=e.length,n},s.prototype.umul=function(e){var t=new s;return t.words=new Array(this.length+e.length),10===this.length&&10===e.length?s.umulTo10x10(this,e,t):1===this.length?s.umulnTo(e,this.words[0],t):1===e.length?s.umulnTo(this,e.words[0],t):s.umulTo(this,e,t)},s.prototype.isplit=function(e){e.length=Math.min(this.length,9);for(var t=0;t<e.length;++t)e.words[t]=this.words[t];if(this.length<=9)return this.words[0]=0,this.length=1,this;var n=this.words[9];for(e.words[e.length++]=4194303&n,t=10;t<this.length;++t){var r=this.words[t];this.words[t-10]=(4194303&r)<<4|n>>>22,n=r}return n>>>=22,this.words[t-10]=n,0===n&&this.length>10?this.length-=10:this.length-=9,this},s.prototype.fireduce=function(){return this.isOverflow()&&this.isub(s.n),this},s.prototype.ureduce=function(){var e=this.clone().isplit(s.tmp).umul(s.nc).iadd(s.tmp);return e.bitLengthGT256()&&(e=e.isplit(s.tmp).umul(s.nc).iadd(s.tmp)).bitLengthGT256()&&(e=e.isplit(s.tmp).umul(s.nc).iadd(s.tmp)),e.fireduce()},s.prototype.ishrn=function(e){for(var t=(1<<e)-1,n=26-e,r=this.length-1,i=0;r>=0;--r){var s=this.words[r];this.words[r]=i<<n|s>>>e,i=s&t}return this.length>1&&0===this.words[this.length-1]&&(this.length-=1),this},s.prototype.uinvm=function(){for(var e=this.clone(),t=s.n.clone(),n=s.fromNumber(1),r=s.fromNumber(0),i=s.fromNumber(0),o=s.fromNumber(1);e.isEven()&&t.isEven();){for(var a=1,u=1;0==(e.words[0]&u)&&0==(t.words[0]&u)&&a<26;++a,u<<=1);e.ishrn(a),t.ishrn(a)}for(var c=t.clone(),l=e.clone();!e.isZero();){for(var h=0,f=1;0==(e.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(e.ishrn(h);h-- >0;)(n.isOdd()||r.isOdd())&&(n.iadd(c),r.isub(l)),n.ishrn(1),r.ishrn(1);for(var d=0,p=1;0==(t.words[0]&p)&&d<26;++d,p<<=1);if(d>0)for(t.ishrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(l)),i.ishrn(1),o.ishrn(1);e.ucmp(t)>=0?(e.isub(t),n.isub(i),r.isub(o)):(t.isub(e),i.isub(n),o.isub(r))}if(1===i.negative){i.negative=0;var m=i.ureduce();return m.negative^=1,m.normSign().iadd(s.n)}return i.ureduce()},s.prototype.imulK=function(){this.words[this.length]=0,this.words[this.length+1]=0,this.length+=2;for(var e=0,t=0;e<this.length;++e){var n=0|this.words[e];t+=977*n,this.words[e]=67108863&t,t=64*n+(t/67108864|0)}return 0===this.words[this.length-1]&&(this.length-=1,0===this.words[this.length-1]&&(this.length-=1)),this},s.prototype.redIReduce=function(){this.isplit(s.tmp).imulK().iadd(s.tmp),this.bitLengthGT256()&&this.isplit(s.tmp).imulK().iadd(s.tmp);var e=this.ucmp(s.p);return 0===e?(this.words[0]=0,this.length=1):e>0?this.isub(s.p):this.strip(),this},s.prototype.redNeg=function(){return this.isZero()?s.fromNumber(0):s.p.sub(this)},s.prototype.redAdd=function(e){return this.clone().redIAdd(e)},s.prototype.redIAdd=function(e){return this.iadd(e),this.ucmp(s.p)>=0&&this.isub(s.p),this},s.prototype.redIAdd7=function(){return this.iuaddn(7),this.ucmp(s.p)>=0&&this.isub(s.p),this},s.prototype.redSub=function(e){return this.clone().redISub(e)},s.prototype.redISub=function(e){return this.isub(e),0!==this.negative&&this.iadd(s.p),this},s.prototype.redMul=function(e){return this.umul(e).redIReduce()},s.prototype.redSqr=function(){return this.umul(this).redIReduce()},s.prototype.redSqrt=function(){if(this.isZero())return this.clone();for(var e=this.redSqr(),t=e.redSqr(),n=t.redSqr().redMul(t),r=n.redMul(e),i=r.redMul(this),s=i,o=0;o<54;++o)s=s.redSqr().redSqr().redSqr().redSqr().redMul(i);for(s=s.redSqr().redSqr().redSqr().redSqr().redMul(r),o=0;o<5;++o)s=s.redSqr().redSqr().redSqr().redSqr().redMul(i);return 0===(s=(s=s.redSqr().redSqr().redSqr().redSqr().redMul(n)).redSqr().redSqr().redSqr().redSqr().redSqr().redSqr().redMul(n)).redSqr().ucmp(this)?s:null},s.prototype.redInvm=function(){for(var e,t=this.clone(),n=s.p.clone(),r=s.fromNumber(1),i=s.fromNumber(0);t.gtOne()&&n.gtOne();){for(var o=0,a=1;0==(t.words[0]&a)&&o<26;++o,a<<=1);if(o>0)for(t.ishrn(o);o-- >0;)r.isOdd()&&r.iadd(s.p),r.ishrn(1);for(var u=0,c=1;0==(n.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(n.ishrn(u);u-- >0;)i.isOdd()&&i.iadd(s.p),i.ishrn(1);t.ucmp(n)>=0?(t.isub(n),r.isub(i)):(n.isub(t),i.isub(r))}return 0!==(e=1===t.length&&1===t.words[0]?r:i).negative&&e.iadd(s.p),0!==e.negative?(e.negative=0,e.redIReduce().redNeg()):e.redIReduce()},s.prototype.getNAF=function(e){for(var t=[],n=1<<e+1,r=n-1,i=n>>1,s=this.clone();!s.isZero();){for(var o=0,a=1;0==(s.words[0]&a)&&o<26;++o,a<<=1)t.push(0);if(0!==o)s.ishrn(o);else{var u=s.words[0]&r;if(u>=i)t.push(i-u),s.iuaddn(u-i).ishrn(1);else if(t.push(u),s.words[0]-=u,!s.isZero()){for(o=e-1;o>0;--o)t.push(0);s.ishrn(e)}}}return t},s.prototype.inspect=function(){if(this.isZero())return"0";for(var e=this.toBuffer().toString("hex"),t=0;"0"===e[t];++t);return e.slice(t)},s.n=s.fromBuffer(r.from("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","hex")),s.nh=s.n.clone().ishrn(1),s.nc=s.fromBuffer(r.from("000000000000000000000000000000014551231950B75FC4402DA1732FC9BEBF","hex")),s.p=s.fromBuffer(r.from("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","hex")),s.psn=s.p.sub(s.n),s.tmp=new s,s.tmp.words=new Array(10),s.fromNumber(1).words[3]=0,t.exports=s}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/js/bn/index.js"}],[4840,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.umulTo10x10=function(e,t,n){var r,i,s,o=e.words,a=t.words,u=n.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,b=0|o[2],g=8191&b,y=b>>>13,_=0|o[3],k=8191&_,E=_>>>13,w=0|o[4],S=8191&w,v=w>>>13,I=0|o[5],x=8191&I,A=I>>>13,R=0|o[6],T=8191&R,N=R>>>13,j=0|o[7],P=8191&j,O=j>>>13,L=0|o[8],M=8191&L,D=L>>>13,C=0|o[9],B=8191&C,K=C>>>13,U=0|a[0],F=8191&U,V=U>>>13,q=0|a[1],G=8191&q,H=q>>>13,Y=0|a[2],z=8191&Y,$=Y>>>13,W=0|a[3],X=8191&W,Z=W>>>13,Q=0|a[4],J=8191&Q,ee=Q>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],he=8191&le,fe=le>>>13,de=0|a[9],pe=8191&de,me=de>>>13;n.length=19,r=Math.imul(h,F),i=Math.imul(h,V);var be=c+r+((8191&(i+=Math.imul(f,F)))<<13);c=(s=Math.imul(f,V))+(i>>>13)+(be>>>26),be&=67108863,r=Math.imul(p,F),i=Math.imul(p,V),i+=Math.imul(m,F),s=Math.imul(m,V),r+=Math.imul(h,G),i+=Math.imul(h,H);var ge=c+r+((8191&(i+=Math.imul(f,G)))<<13);c=(s+=Math.imul(f,H))+(i>>>13)+(ge>>>26),ge&=67108863,r=Math.imul(g,F),i=Math.imul(g,V),i+=Math.imul(y,F),s=Math.imul(y,V),r+=Math.imul(p,G),i+=Math.imul(p,H),i+=Math.imul(m,G),s+=Math.imul(m,H),r+=Math.imul(h,z),i+=Math.imul(h,$);var ye=c+r+((8191&(i+=Math.imul(f,z)))<<13);c=(s+=Math.imul(f,$))+(i>>>13)+(ye>>>26),ye&=67108863,r=Math.imul(k,F),i=Math.imul(k,V),i+=Math.imul(E,F),s=Math.imul(E,V),r+=Math.imul(g,G),i+=Math.imul(g,H),i+=Math.imul(y,G),s+=Math.imul(y,H),r+=Math.imul(p,z),i+=Math.imul(p,$),i+=Math.imul(m,z),s+=Math.imul(m,$),r+=Math.imul(h,X),i+=Math.imul(h,Z);var _e=c+r+((8191&(i+=Math.imul(f,X)))<<13);c=(s+=Math.imul(f,Z))+(i>>>13)+(_e>>>26),_e&=67108863,r=Math.imul(S,F),i=Math.imul(S,V),i+=Math.imul(v,F),s=Math.imul(v,V),r+=Math.imul(k,G),i+=Math.imul(k,H),i+=Math.imul(E,G),s+=Math.imul(E,H),r+=Math.imul(g,z),i+=Math.imul(g,$),i+=Math.imul(y,z),s+=Math.imul(y,$),r+=Math.imul(p,X),i+=Math.imul(p,Z),i+=Math.imul(m,X),s+=Math.imul(m,Z),r+=Math.imul(h,J),i+=Math.imul(h,ee);var ke=c+r+((8191&(i+=Math.imul(f,J)))<<13);c=(s+=Math.imul(f,ee))+(i>>>13)+(ke>>>26),ke&=67108863,r=Math.imul(x,F),i=Math.imul(x,V),i+=Math.imul(A,F),s=Math.imul(A,V),r+=Math.imul(S,G),i+=Math.imul(S,H),i+=Math.imul(v,G),s+=Math.imul(v,H),r+=Math.imul(k,z),i+=Math.imul(k,$),i+=Math.imul(E,z),s+=Math.imul(E,$),r+=Math.imul(g,X),i+=Math.imul(g,Z),i+=Math.imul(y,X),s+=Math.imul(y,Z),r+=Math.imul(p,J),i+=Math.imul(p,ee),i+=Math.imul(m,J),s+=Math.imul(m,ee),r+=Math.imul(h,ne),i+=Math.imul(h,re);var Ee=c+r+((8191&(i+=Math.imul(f,ne)))<<13);c=(s+=Math.imul(f,re))+(i>>>13)+(Ee>>>26),Ee&=67108863,r=Math.imul(T,F),i=Math.imul(T,V),i+=Math.imul(N,F),s=Math.imul(N,V),r+=Math.imul(x,G),i+=Math.imul(x,H),i+=Math.imul(A,G),s+=Math.imul(A,H),r+=Math.imul(S,z),i+=Math.imul(S,$),i+=Math.imul(v,z),s+=Math.imul(v,$),r+=Math.imul(k,X),i+=Math.imul(k,Z),i+=Math.imul(E,X),s+=Math.imul(E,Z),r+=Math.imul(g,J),i+=Math.imul(g,ee),i+=Math.imul(y,J),s+=Math.imul(y,ee),r+=Math.imul(p,ne),i+=Math.imul(p,re),i+=Math.imul(m,ne),s+=Math.imul(m,re),r+=Math.imul(h,se),i+=Math.imul(h,oe);var we=c+r+((8191&(i+=Math.imul(f,se)))<<13);c=(s+=Math.imul(f,oe))+(i>>>13)+(we>>>26),we&=67108863,r=Math.imul(P,F),i=Math.imul(P,V),i+=Math.imul(O,F),s=Math.imul(O,V),r+=Math.imul(T,G),i+=Math.imul(T,H),i+=Math.imul(N,G),s+=Math.imul(N,H),r+=Math.imul(x,z),i+=Math.imul(x,$),i+=Math.imul(A,z),s+=Math.imul(A,$),r+=Math.imul(S,X),i+=Math.imul(S,Z),i+=Math.imul(v,X),s+=Math.imul(v,Z),r+=Math.imul(k,J),i+=Math.imul(k,ee),i+=Math.imul(E,J),s+=Math.imul(E,ee),r+=Math.imul(g,ne),i+=Math.imul(g,re),i+=Math.imul(y,ne),s+=Math.imul(y,re),r+=Math.imul(p,se),i+=Math.imul(p,oe),i+=Math.imul(m,se),s+=Math.imul(m,oe),r+=Math.imul(h,ue),i+=Math.imul(h,ce);var Se=c+r+((8191&(i+=Math.imul(f,ue)))<<13);c=(s+=Math.imul(f,ce))+(i>>>13)+(Se>>>26),Se&=67108863,r=Math.imul(M,F),i=Math.imul(M,V),i+=Math.imul(D,F),s=Math.imul(D,V),r+=Math.imul(P,G),i+=Math.imul(P,H),i+=Math.imul(O,G),s+=Math.imul(O,H),r+=Math.imul(T,z),i+=Math.imul(T,$),i+=Math.imul(N,z),s+=Math.imul(N,$),r+=Math.imul(x,X),i+=Math.imul(x,Z),i+=Math.imul(A,X),s+=Math.imul(A,Z),r+=Math.imul(S,J),i+=Math.imul(S,ee),i+=Math.imul(v,J),s+=Math.imul(v,ee),r+=Math.imul(k,ne),i+=Math.imul(k,re),i+=Math.imul(E,ne),s+=Math.imul(E,re),r+=Math.imul(g,se),i+=Math.imul(g,oe),i+=Math.imul(y,se),s+=Math.imul(y,oe),r+=Math.imul(p,ue),i+=Math.imul(p,ce),i+=Math.imul(m,ue),s+=Math.imul(m,ce),r+=Math.imul(h,he),i+=Math.imul(h,fe);var ve=c+r+((8191&(i+=Math.imul(f,he)))<<13);c=(s+=Math.imul(f,fe))+(i>>>13)+(ve>>>26),ve&=67108863,r=Math.imul(B,F),i=Math.imul(B,V),i+=Math.imul(K,F),s=Math.imul(K,V),r+=Math.imul(M,G),i+=Math.imul(M,H),i+=Math.imul(D,G),s+=Math.imul(D,H),r+=Math.imul(P,z),i+=Math.imul(P,$),i+=Math.imul(O,z),s+=Math.imul(O,$),r+=Math.imul(T,X),i+=Math.imul(T,Z),i+=Math.imul(N,X),s+=Math.imul(N,Z),r+=Math.imul(x,J),i+=Math.imul(x,ee),i+=Math.imul(A,J),s+=Math.imul(A,ee),r+=Math.imul(S,ne),i+=Math.imul(S,re),i+=Math.imul(v,ne),s+=Math.imul(v,re),r+=Math.imul(k,se),i+=Math.imul(k,oe),i+=Math.imul(E,se),s+=Math.imul(E,oe),r+=Math.imul(g,ue),i+=Math.imul(g,ce),i+=Math.imul(y,ue),s+=Math.imul(y,ce),r+=Math.imul(p,he),i+=Math.imul(p,fe),i+=Math.imul(m,he),s+=Math.imul(m,fe),r+=Math.imul(h,pe),i+=Math.imul(h,me);var Ie=c+r+((8191&(i+=Math.imul(f,pe)))<<13);c=(s+=Math.imul(f,me))+(i>>>13)+(Ie>>>26),Ie&=67108863,r=Math.imul(B,G),i=Math.imul(B,H),i+=Math.imul(K,G),s=Math.imul(K,H),r+=Math.imul(M,z),i+=Math.imul(M,$),i+=Math.imul(D,z),s+=Math.imul(D,$),r+=Math.imul(P,X),i+=Math.imul(P,Z),i+=Math.imul(O,X),s+=Math.imul(O,Z),r+=Math.imul(T,J),i+=Math.imul(T,ee),i+=Math.imul(N,J),s+=Math.imul(N,ee),r+=Math.imul(x,ne),i+=Math.imul(x,re),i+=Math.imul(A,ne),s+=Math.imul(A,re),r+=Math.imul(S,se),i+=Math.imul(S,oe),i+=Math.imul(v,se),s+=Math.imul(v,oe),r+=Math.imul(k,ue),i+=Math.imul(k,ce),i+=Math.imul(E,ue),s+=Math.imul(E,ce),r+=Math.imul(g,he),i+=Math.imul(g,fe),i+=Math.imul(y,he),s+=Math.imul(y,fe),r+=Math.imul(p,pe),i+=Math.imul(p,me);var xe=c+r+((8191&(i+=Math.imul(m,pe)))<<13);c=(s+=Math.imul(m,me))+(i>>>13)+(xe>>>26),xe&=67108863,r=Math.imul(B,z),i=Math.imul(B,$),i+=Math.imul(K,z),s=Math.imul(K,$),r+=Math.imul(M,X),i+=Math.imul(M,Z),i+=Math.imul(D,X),s+=Math.imul(D,Z),r+=Math.imul(P,J),i+=Math.imul(P,ee),i+=Math.imul(O,J),s+=Math.imul(O,ee),r+=Math.imul(T,ne),i+=Math.imul(T,re),i+=Math.imul(N,ne),s+=Math.imul(N,re),r+=Math.imul(x,se),i+=Math.imul(x,oe),i+=Math.imul(A,se),s+=Math.imul(A,oe),r+=Math.imul(S,ue),i+=Math.imul(S,ce),i+=Math.imul(v,ue),s+=Math.imul(v,ce),r+=Math.imul(k,he),i+=Math.imul(k,fe),i+=Math.imul(E,he),s+=Math.imul(E,fe),r+=Math.imul(g,pe),i+=Math.imul(g,me);var Ae=c+r+((8191&(i+=Math.imul(y,pe)))<<13);c=(s+=Math.imul(y,me))+(i>>>13)+(Ae>>>26),Ae&=67108863,r=Math.imul(B,X),i=Math.imul(B,Z),i+=Math.imul(K,X),s=Math.imul(K,Z),r+=Math.imul(M,J),i+=Math.imul(M,ee),i+=Math.imul(D,J),s+=Math.imul(D,ee),r+=Math.imul(P,ne),i+=Math.imul(P,re),i+=Math.imul(O,ne),s+=Math.imul(O,re),r+=Math.imul(T,se),i+=Math.imul(T,oe),i+=Math.imul(N,se),s+=Math.imul(N,oe),r+=Math.imul(x,ue),i+=Math.imul(x,ce),i+=Math.imul(A,ue),s+=Math.imul(A,ce),r+=Math.imul(S,he),i+=Math.imul(S,fe),i+=Math.imul(v,he),s+=Math.imul(v,fe),r+=Math.imul(k,pe),i+=Math.imul(k,me);var Re=c+r+((8191&(i+=Math.imul(E,pe)))<<13);c=(s+=Math.imul(E,me))+(i>>>13)+(Re>>>26),Re&=67108863,r=Math.imul(B,J),i=Math.imul(B,ee),i+=Math.imul(K,J),s=Math.imul(K,ee),r+=Math.imul(M,ne),i+=Math.imul(M,re),i+=Math.imul(D,ne),s+=Math.imul(D,re),r+=Math.imul(P,se),i+=Math.imul(P,oe),i+=Math.imul(O,se),s+=Math.imul(O,oe),r+=Math.imul(T,ue),i+=Math.imul(T,ce),i+=Math.imul(N,ue),s+=Math.imul(N,ce),r+=Math.imul(x,he),i+=Math.imul(x,fe),i+=Math.imul(A,he),s+=Math.imul(A,fe),r+=Math.imul(S,pe),i+=Math.imul(S,me);var Te=c+r+((8191&(i+=Math.imul(v,pe)))<<13);c=(s+=Math.imul(v,me))+(i>>>13)+(Te>>>26),Te&=67108863,r=Math.imul(B,ne),i=Math.imul(B,re),i+=Math.imul(K,ne),s=Math.imul(K,re),r+=Math.imul(M,se),i+=Math.imul(M,oe),i+=Math.imul(D,se),s+=Math.imul(D,oe),r+=Math.imul(P,ue),i+=Math.imul(P,ce),i+=Math.imul(O,ue),s+=Math.imul(O,ce),r+=Math.imul(T,he),i+=Math.imul(T,fe),i+=Math.imul(N,he),s+=Math.imul(N,fe),r+=Math.imul(x,pe),i+=Math.imul(x,me);var Ne=c+r+((8191&(i+=Math.imul(A,pe)))<<13);c=(s+=Math.imul(A,me))+(i>>>13)+(Ne>>>26),Ne&=67108863,r=Math.imul(B,se),i=Math.imul(B,oe),i+=Math.imul(K,se),s=Math.imul(K,oe),r+=Math.imul(M,ue),i+=Math.imul(M,ce),i+=Math.imul(D,ue),s+=Math.imul(D,ce),r+=Math.imul(P,he),i+=Math.imul(P,fe),i+=Math.imul(O,he),s+=Math.imul(O,fe),r+=Math.imul(T,pe),i+=Math.imul(T,me);var je=c+r+((8191&(i+=Math.imul(N,pe)))<<13);c=(s+=Math.imul(N,me))+(i>>>13)+(je>>>26),je&=67108863,r=Math.imul(B,ue),i=Math.imul(B,ce),i+=Math.imul(K,ue),s=Math.imul(K,ce),r+=Math.imul(M,he),i+=Math.imul(M,fe),i+=Math.imul(D,he),s+=Math.imul(D,fe),r+=Math.imul(P,pe),i+=Math.imul(P,me);var Pe=c+r+((8191&(i+=Math.imul(O,pe)))<<13);c=(s+=Math.imul(O,me))+(i>>>13)+(Pe>>>26),Pe&=67108863,r=Math.imul(B,he),i=Math.imul(B,fe),i+=Math.imul(K,he),s=Math.imul(K,fe),r+=Math.imul(M,pe),i+=Math.imul(M,me);var Oe=c+r+((8191&(i+=Math.imul(D,pe)))<<13);c=(s+=Math.imul(D,me))+(i>>>13)+(Oe>>>26),Oe&=67108863,r=Math.imul(B,pe),i=Math.imul(B,me);var Le=c+r+((8191&(i+=Math.imul(K,pe)))<<13);return c=(s=Math.imul(K,me))+(i>>>13)+(Le>>>26),Le&=67108863,u[0]=be,u[1]=ge,u[2]=ye,u[3]=_e,u[4]=ke,u[5]=Ee,u[6]=we,u[7]=Se,u[8]=ve,u[9]=Ie,u[10]=xe,u[11]=Ae,u[12]=Re,u[13]=Te,u[14]=Ne,u[15]=je,u[16]=Pe,u[17]=Oe,u[18]=Le,0!==c&&(u[19]=c,n.length++),n}}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/js/bn/optimized.js"}],[4841,{"./bn":4839},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./bn");function i(e,t,n){null===e&&null===t&&null===n?(this.x=i.one,this.y=i.one,this.z=i.zero):(this.x=e,this.y=t,this.z=n),this.zOne=this.z===i.one}i.zero=r.fromNumber(0),i.one=r.fromNumber(1),i.prototype.neg=function(){return this.inf?this:new i(this.x,this.y.redNeg(),this.z)},i.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),s=e.x.redMul(n),o=this.y.redMul(t).redMul(e.z),a=e.y.redMul(n).redMul(this.z),u=r.redSub(s),c=o.redSub(a);if(u.isZero())return c.isZero()?this.dbl():new i(null,null,null);var l=u.redSqr(),h=r.redMul(l),f=l.redMul(u),d=c.redSqr().redIAdd(f).redISub(h).redISub(h);return new i(d,c.redMul(h.redISub(d)).redISub(o.redMul(f)),this.z.redMul(e.z).redMul(u))},i.prototype.mixedAdd=function(e){if(this.inf)return e.toECJPoint();if(e.inf)return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(r),u=s.redSub(o);if(a.isZero())return u.isZero()?this.dbl():new i(null,null,null);var c=a.redSqr(),l=n.redMul(c),h=c.redMul(a),f=u.redSqr().redIAdd(h).redISub(l).redISub(l);return new i(f,u.redMul(l.redISub(f)).redISub(s.redMul(h)),this.z.redMul(a))},i.prototype.dbl=function(){if(this.inf)return this;var e,t,n;if(this.zOne){var r=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var u=r.redAdd(r).redIAdd(r),c=u.redSqr().redISub(a).redISub(a),l=o.redIAdd(o).redIAdd(o).redIAdd(o);e=c,t=u.redMul(a.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),p=this.x.redAdd(f).redSqr().redISub(h).redISub(d);p=p.redIAdd(p);var m=h.redAdd(h).redIAdd(h),b=m.redSqr(),g=d.redIAdd(d).redIAdd(d).redIAdd(d);e=b.redISub(p).redISub(p),t=m.redMul(p.redISub(e)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return new i(e,t,n)},i.prototype.dblp=function(e){if(0===e||this.inf)return this;for(var t=this,n=0;n<e;n++)t=t.dbl();return t},Object.defineProperty(i.prototype,"inf",{enumerable:!0,get:function(){return this.z.isZero()}}),t.exports=i}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/js/ecjpoint.js"}],[4842,{"./bn":4839,"./ecjpoint":4841,"safe-buffer":5739},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=e("./bn"),s=e("./ecjpoint");function o(e,t){null===e&&null===t?(this.x=this.y=null,this.inf=!0):(this.x=e,this.y=t,this.inf=!1)}o.fromPublicKey=function(e){var t,n,r=e[0];return 33!==e.length||2!==r&&3!==r?65!==e.length||4!==r&&6!==r&&7!==r?null:(t=i.fromBuffer(e.slice(1,33)),n=i.fromBuffer(e.slice(33,65)),t.ucmp(i.p)>=0||n.ucmp(i.p)>=0?null:6!==r&&7!==r||n.isOdd()===(7===r)?0!==t.redSqr().redMul(t).redIAdd7().ucmp(n.redSqr())?null:new o(t,n):null):(t=i.fromBuffer(e.slice(1,33))).ucmp(i.p)>=0||null===(n=t.redSqr().redMul(t).redIAdd7().redSqrt())?null:(3===r!==n.isOdd()&&(n=n.redNeg()),new o(t,n))},o.prototype.toPublicKey=function(e){var t,n=this.x,i=this.y;return e?((t=r.alloc(33))[0]=i.isOdd()?3:2,n.toBuffer().copy(t,1)):((t=r.alloc(65))[0]=4,n.toBuffer().copy(t,1),i.toBuffer().copy(t,33)),t},o.fromECJPoint=function(e){if(e.inf)return new o(null,null);var t=e.z.redInvm(),n=t.redSqr();return new o(e.x.redMul(n),e.y.redMul(n).redMul(t))},o.prototype.toECJPoint=function(){return this.inf?new s(null,null,null):new s(this.x,this.y,s.one)},o.prototype.neg=function(){return this.inf?this:new o(this.x,this.y.redNeg())},o.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(0===this.x.ucmp(e.x))return 0===this.y.ucmp(e.y)?this.dbl():new o(null,null);var t=this.y.redSub(e.y);t.isZero()||(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x);return new o(n,t.redMul(this.x.redSub(n)).redISub(this.y))},o.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.isZero())return new o(null,null);var t=this.x.redSqr(),n=t.redAdd(t).redIAdd(t).redMul(e.redInvm()),r=n.redSqr().redISub(this.x.redAdd(this.x));return new o(r,n.redMul(this.x.redSub(r)).redISub(this.y))},o.prototype.mul=function(e){for(var t=this._getNAFPoints(4),n=t.points,r=e.getNAF(t.wnd),i=new s(null,null,null),a=r.length-1;a>=0;a--){for(var u=0;a>=0&&0===r[a];a--,++u);if(a>=0&&(u+=1),i=i.dblp(u),a<0)break;var c=r[a];i=c>0?i.mixedAdd(n[c-1>>1]):i.mixedAdd(n[-c-1>>1].neg())}return o.fromECJPoint(i)},o.prototype._getNAFPoints1=function(){return{wnd:1,points:[this]}},o.prototype._getNAFPoints=function(e){var t=new Array((1<<e)-1);t[0]=this;for(var n=this.dbl(),r=1;r<t.length;++r)t[r]=t[r-1].add(n);return{wnd:e,points:t}},t.exports=o}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/js/ecpoint.js"}],[4843,{"./bn":4839,"./ecjpoint":4841,"./ecpoint":4842,"safe-buffer":5739},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=e("./bn"),s=e("./ecpoint"),o=e("./ecjpoint");function a(){this.x=i.fromBuffer(r.from("79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","hex")),this.y=i.fromBuffer(r.from("483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8","hex")),this.inf=!1,this._precompute()}a.prototype._precompute=function(){for(var e=new s(this.x,this.y),t=new Array(1+Math.ceil(64.25)),n=t[0]=e,r=1;r<t.length;++r){for(var i=0;i<4;i++)n=n.dbl();t[r]=n}this.precomputed={naf:e._getNAFPoints(7),doubles:{step:4,points:t,negpoints:t.map((function(e){return e.neg()}))}}},a.prototype.mul=function(e){for(var t=this.precomputed.doubles.step,n=this.precomputed.doubles.points,r=this.precomputed.doubles.negpoints,i=e.getNAF(1),a=((1<<t+1)-(t%2==0?2:1))/3,u=[],c=0;c<i.length;c+=t){for(var l=0,h=c+t-1;h>=c;h--)l=(l<<1)+i[h];u.push(l)}for(var f=new o(null,null,null),d=new o(null,null,null),p=a;p>0;p--){for(var m=0;m<u.length;m++)u[m]===p?d=d.mixedAdd(n[m]):u[m]===-p&&(d=d.mixedAdd(r[m]));f=f.add(d)}return s.fromECJPoint(f)},a.prototype.mulAdd=function(e,t,n){for(var r=this.precomputed.naf,i=t._getNAFPoints1(),s=[r.points,i.points],a=[e.getNAF(r.wnd),n.getNAF(i.wnd)],u=new o(null,null,null),c=[null,null],l=Math.max(a[0].length,a[1].length);l>=0;l--){for(var h=0;l>=0&&(c[0]=0|a[0][l],c[1]=0|a[1][l],0===c[0]&&0===c[1]);++h,--l);if(l>=0&&(h+=1),u=u.dblp(h),l<0)break;for(var f=0;f<2;f++){var d,p=c[f];0!==p&&(p>0?d=s[f][p>>1]:p<0&&(d=s[f][-p>>1].neg()),u=d.z===undefined?u.mixedAdd(d):u.add(d))}}return u},t.exports=new a}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/js/ecpointg.js"}],[4844,{"../messages.json":4845,"./bn":4839,"./ecpoint":4842,"./ecpointg":4843,"create-hash":2185,"drbg.js/hmac":2312,"safe-buffer":5739},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=e("create-hash"),s=e("drbg.js/hmac"),o=e("../messages.json"),a=e("./bn"),u=e("./ecpoint"),c=e("./ecpointg");n.privateKeyVerify=function(e){var t=a.fromBuffer(e);return!(t.isOverflow()||t.isZero())},n.privateKeyExport=function(e,t){var n=a.fromBuffer(e);if(n.isOverflow()||n.isZero())throw new Error(o.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return c.mul(n).toPublicKey(t)},n.privateKeyNegate=function(e){var t=a.fromBuffer(e);return t.isZero()?r.alloc(32):(t.ucmp(a.n)>0&&t.isub(a.n),a.n.sub(t).toBuffer())},n.privateKeyModInverse=function(e){var t=a.fromBuffer(e);if(t.isOverflow()||t.isZero())throw new Error(o.EC_PRIVATE_KEY_RANGE_INVALID);return t.uinvm().toBuffer()},n.privateKeyTweakAdd=function(e,t){var n=a.fromBuffer(t);if(n.isOverflow())throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(n.iadd(a.fromBuffer(e)),n.isOverflow()&&n.isub(a.n),n.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return n.toBuffer()},n.privateKeyTweakMul=function(e,t){var n=a.fromBuffer(t);if(n.isOverflow()||n.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);var r=a.fromBuffer(e);return n.umul(r).ureduce().toBuffer()},n.publicKeyCreate=function(e,t){var n=a.fromBuffer(e);if(n.isOverflow()||n.isZero())throw new Error(o.EC_PUBLIC_KEY_CREATE_FAIL);return c.mul(n).toPublicKey(t)},n.publicKeyConvert=function(e,t){var n=u.fromPublicKey(e);if(null===n)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);return n.toPublicKey(t)},n.publicKeyVerify=function(e){return null!==u.fromPublicKey(e)},n.publicKeyTweakAdd=function(e,t,n){var r=u.fromPublicKey(e);if(null===r)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=a.fromBuffer(t)).isOverflow())throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var i=c.mul(t).add(r);if(i.inf)throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return i.toPublicKey(n)},n.publicKeyTweakMul=function(e,t,n){var r=u.fromPublicKey(e);if(null===r)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=a.fromBuffer(t)).isOverflow()||t.isZero())throw new Error(o.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return r.mul(t).toPublicKey(n)},n.publicKeyCombine=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;++r)if(n[r]=u.fromPublicKey(e[r]),null===n[r])throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);for(var i=n[0],s=1;s<n.length;++s)i=i.add(n[s]);if(i.inf)throw new Error(o.EC_PUBLIC_KEY_COMBINE_FAIL);return i.toPublicKey(t)},n.signatureNormalize=function(e){var t=a.fromBuffer(e.slice(0,32)),n=a.fromBuffer(e.slice(32,64));if(t.isOverflow()||n.isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);var i=r.from(e);return n.isHigh()&&a.n.sub(n).toBuffer().copy(i,32),i},n.signatureExport=function(e){var t=e.slice(0,32),n=e.slice(32,64);if(a.fromBuffer(t).isOverflow()||a.fromBuffer(n).isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:n}},n.signatureImport=function(e){var t=a.fromBuffer(e.r);t.isOverflow()&&(t=a.fromNumber(0));var n=a.fromBuffer(e.s);return n.isOverflow()&&(n=a.fromNumber(0)),r.concat([t.toBuffer(),n.toBuffer()])},n.sign=function(e,t,n,i){var u=a.fromBuffer(t);if(u.isOverflow()||u.isZero())throw new Error(o.ECDSA_SIGN_FAIL);if(null===n){var l=new s("sha256",t,e,i);n=function(){return l.generate(32)}}for(var h=a.fromBuffer(e),f=0;;++f){var d=n(e,t,null,i,f);if(!r.isBuffer(d)||32!==d.length)throw new Error(o.ECDSA_SIGN_FAIL);var p=a.fromBuffer(d);if(!p.isOverflow()&&!p.isZero()){var m=c.mul(p),b=m.x.fireduce();if(!b.isZero()){var g=p.uinvm().umul(b.umul(u).ureduce().iadd(h).fireduce()).ureduce();if(!g.isZero()){var y=(0!==m.x.ucmp(b)?2:0)|(m.y.isOdd()?1:0);return g.isHigh()&&(g=a.n.sub(g),y^=1),{signature:r.concat([b.toBuffer(),g.toBuffer()]),recovery:y}}}}}},n.verify=function(e,t,n){var r=a.fromBuffer(t.slice(0,32)),i=a.fromBuffer(t.slice(32,64));if(r.isOverflow()||i.isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);if(i.isHigh()||r.isZero()||i.isZero())return!1;var s=u.fromPublicKey(n);if(null===s)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);var l=i.uinvm(),h=l.umul(a.fromBuffer(e)).ureduce(),f=l.umul(r).ureduce(),d=c.mulAdd(h,s,f);if(d.inf)return!1;var p=d.z.redSqr();return 0===r.redMul(p).ucmp(d.x)||!(r.ucmp(a.psn)>=0)&&0===r.iadd(a.psn).redMul(p).ucmp(d.x)},n.recover=function(e,t,n,i){var s=a.fromBuffer(t.slice(0,32)),l=a.fromBuffer(t.slice(32,64));if(s.isOverflow()||l.isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);do{if(s.isZero()||l.isZero())break;var h=s;if(n>>1){if(h.ucmp(a.psn)>=0)break;h=s.add(a.n)}var f=r.concat([r.from([2+(1&n)]),h.toBuffer()]),d=u.fromPublicKey(f);if(null===d)break;var p=s.uinvm(),m=a.n.sub(a.fromBuffer(e)).umul(p).ureduce(),b=l.umul(p).ureduce();return u.fromECJPoint(c.mulAdd(m,d,b)).toPublicKey(i)}while(0);throw new Error(o.ECDSA_RECOVER_FAIL)},n.ecdh=function(e,t){var r=n.ecdhUnsafe(e,t,!0);return i("sha256").update(r).digest()},n.ecdhUnsafe=function(e,t,n){var r=u.fromPublicKey(e);if(null===r)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);var i=a.fromBuffer(t);if(i.isOverflow()||i.isZero())throw new Error(o.ECDH_FAIL);return r.mul(i).toPublicKey(n)}}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/js/index.js"}],[4845,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_RANGE_INVALID:"private key range is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/messages.json"}],[4846,{"browserify-aes":2053},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("browserify-aes");t.exports={createCipheriv:r.createCipheriv,createDecipheriv:r.createDecipheriv}}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/aes/ciphers-browser.js"}],[4847,{"./ciphers":4846},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./ciphers"),i={16:"aes-128-ctr",32:"aes-256-ctr"};n.create=function(e,t,n){const s=i[e.length];if(!s)return n(new Error("Invalid key length"));const o=r.createCipheriv(s,e,t),a=r.createDecipheriv(s,e,t);n(null,{encrypt(e,t){t(null,o.update(e))},decrypt(e,t){t(null,a.update(e))}})}}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/aes/index.js"}],[4848,{"../nodeify":4861,"../webcrypto":4865,"./lengths":4849,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("../nodeify"),i=e("../webcrypto"),s=e("./lengths"),o={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};n.create=function(e,n,a){const u=o[e];r(i.subtle.importKey("raw",n,{name:"HMAC",hash:{name:u}},!1,["sign"]).then((n=>({digest(e,s){((e,n,s)=>{r(i.subtle.sign({name:"HMAC"},e,n).then((e=>t.from(e))),s)})(n,e,s)},length:s[e]}))),a)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/hmac/index-browser.js"}],[4849,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={SHA1:20,SHA256:32,SHA512:64}}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/hmac/lengths.js"}],[4850,{"./aes":4847,"./hmac":4848,"./keys":4855,"./pbkdf2":4862,"./random-bytes":4863},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./hmac"),i=e("./aes"),s=e("./keys");(n=t.exports).aes=i,n.hmac=r,n.keys=s,n.randomBytes=e("./random-bytes"),n.pbkdf2=e("./pbkdf2")}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/index.js"}],[4851,{"../nodeify":4861,"../util":4864,"../webcrypto":4865,"asn1.js":1685,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("../webcrypto"),i=e("../nodeify"),s=e("asn1.js").bignum,o=e("../util"),a=o.toBase64,u=o.toBn,c={"P-256":256,"P-384":384,"P-521":521};n.generateEphmeralKeyPair=function(e,n){i(r.subtle.generateKey({name:"ECDH",namedCurve:e},!0,["deriveBits"]).then((n=>{const o=(o,u,l)=>{let h;"function"==typeof u&&(l=u,u=undefined),h=u?r.subtle.importKey("jwk",function(e,t){const n=f(e,t.public);return n.d=a(new s(t.private)),n}(e,u),{name:"ECDH",namedCurve:e},!1,["deriveBits"]):Promise.resolve(n.privateKey);const d=Promise.all([r.subtle.importKey("jwk",f(e,o),{name:"ECDH",namedCurve:e},!1,[]),h]);i(d.then((t=>r.subtle.deriveBits({name:"ECDH",namedCurve:e,public:t[0]},t[1],c[e]))).then((e=>t.from(e))),l)};return r.subtle.exportKey("jwk",n.publicKey).then((e=>({key:h(e),genSharedKey:o})))})),n)};const l={"P-256":32,"P-384":48,"P-521":66};function h(e){const n=l[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,"be",n),u(e.y).toArrayLike(t,"be",n)],1+2*n)}function f(e,n){const r=l[e];if(!n.slice(0,1).equals(t.from([4])))throw new Error("Invalid key format");const i=new s(n.slice(1,r+1)),o=new s(n.slice(1+r));return{kty:"EC",crv:e,x:a(i,r),y:a(o,r),ext:!0}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/keys/ecdh-browser.js"}],[4852,{"./ed25519":4853,"./keys.proto":4857,bs58:2088,buffer:2081,"multihashing-async":4833,protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("multihashing-async"),i=e("protons"),s=e("bs58"),o=e("./ed25519"),a=i(e("./keys.proto"));class u{constructor(e){this._key=h(e,o.publicKeyLength)}verify(e,t,n){l(n),o.hashAndVerify(this._key,t,e,n)}marshal(){return n.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(e){return this.bytes.equals(e.bytes)}hash(e){l(e),r(this.bytes,"sha2-256",e)}}class c{constructor(e,t){this._key=h(e,o.privateKeyLength),this._publicKey=h(t,o.publicKeyLength)}sign(e,t){l(t),o.hashAndSign(this._key,e,t)}get public(){if(!this._publicKey)throw new Error("public key not provided");return new u(this._publicKey)}marshal(){return n.concat([n.from(this._key),n.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(e){return this.bytes.equals(e.bytes)}hash(e){l(e),r(this.bytes,"sha2-256",e)}id(e){this.public.hash(((t,n)=>{if(t)return e(t);e(null,s.encode(n))}))}}function l(e){if("function"!=typeof e)throw new Error("callback is required")}function h(e,t){if(n.isBuffer(e)&&(e=new Uint8Array(e)),!(e instanceof Uint8Array)||e.length!==t)throw new Error("Key must be a Uint8Array or Buffer of length "+t);return e}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(e,t){try{e=h(e,o.privateKeyLength+o.publicKeyLength)}catch(e){return t(e)}const n=e.slice(0,o.privateKeyLength),r=e.slice(o.privateKeyLength,e.length);t(null,new c(n,r))},unmarshalEd25519PublicKey:function(e){return e=h(e,o.publicKeyLength),new u(e)},generateKeyPair:function(e,t){t===undefined&&"function"==typeof e&&(t=e),o.generateKey(((e,n)=>{if(e)return t(e);let r;try{r=new c(n.secretKey,n.publicKey)}catch(e){return void t(e)}t(null,r)}))},generateKeyPairFromSeed:function(e,t,n){n===undefined&&"function"==typeof t&&(n=t),o.generateKeyFromSeed(e,((e,t)=>{if(e)return n(e);let r;try{r=new c(t.secretKey,t.publicKey)}catch(e){return void n(e)}n(null,r)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/keys/ed25519-class.js"}],[4853,{"async/nextTick":1767,buffer:2081,tweetnacl:5992},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("tweetnacl"),i=e("async/nextTick");n.publicKeyLength=r.sign.publicKeyLength,n.privateKeyLength=r.sign.secretKeyLength,n.generateKey=function(e){i((()=>{let t;try{t=r.sign.keyPair()}catch(t){return e(t)}e(null,t)}))},n.generateKeyFromSeed=function(e,t){i((()=>{let n;try{n=r.sign.keyPair.fromSeed(e)}catch(e){return t(e)}t(null,n)}))},n.hashAndSign=function(e,n,s){i((()=>{s(null,t.from(r.sign.detached(n,e)))}))},n.hashAndVerify=function(e,t,n,s){i((()=>{let i;try{i=r.sign.detached.verify(n,t,e)}catch(e){return s(e)}s(null,i)}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/keys/ed25519.js"}],[4854,{"./ecdh":4851},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./ecdh");t.exports=(e,t)=>{r.generateEphmeralKeyPair(e,t)}}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/keys/ephemeral-keys.js"}],[4855,{"../random-bytes":4863,"./ed25519-class":4852,"./ephemeral-keys":4854,"./key-stretcher":4856,"./keys.proto":4857,"./rsa-class":4859,buffer:2081,"libp2p-crypto-secp256k1":4829,"node-forge/lib/asn1":5264,"node-forge/lib/forge":5269,"node-forge/lib/pbe":5276,"node-forge/lib/rsa":5287,protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){const i=e("protons")(e("./keys.proto"));e("node-forge/lib/asn1"),e("node-forge/lib/rsa"),e("node-forge/lib/pbe");const s=e("node-forge/lib/forge");n=t.exports;const o={rsa:e("./rsa-class"),ed25519:e("./ed25519-class"),secp256k1:e("libp2p-crypto-secp256k1")(i,e("../random-bytes"))};function a(e){return o[e.toLowerCase()]!==undefined}n.supportedKeys=o,n.keysPBM=i,n.keyStretcher=e("./key-stretcher"),n.generateEphemeralKeyPair=e("./ephemeral-keys"),n.generateKeyPair=(e,t,n)=>{let r=o[e.toLowerCase()];if(!r)return n(new Error("invalid or unsupported key type"));r.generateKeyPair(t,n)},n.generateKeyPairFromSeed=(e,t,n,r)=>{let i=o[e.toLowerCase()];return i?"ed25519"!==e.toLowerCase()?r(new Error("Seed key derivation is unimplemented for RSA or secp256k1")):void i.generateKeyPairFromSeed(t,n,r):r(new Error("invalid or unsupported key type"))},n.unmarshalPublicKey=e=>{const t=i.PublicKey.decode(e),n=t.Data;switch(t.Type){case i.KeyType.RSA:return o.rsa.unmarshalRsaPublicKey(n);case i.KeyType.Ed25519:return o.ed25519.unmarshalEd25519PublicKey(n);case i.KeyType.Secp256k1:if(o.secp256k1)return o.secp256k1.unmarshalSecp256k1PublicKey(n);throw new Error("secp256k1 support requires libp2p-crypto-secp256k1 package");default:throw new Error("invalid or unsupported key type")}},n.marshalPublicKey=(e,t)=>{if(!a(t=(t||"rsa").toLowerCase()))throw new Error("invalid or unsupported key type");return e.bytes},n.unmarshalPrivateKey=(e,t)=>{let n;try{n=i.PrivateKey.decode(e)}catch(e){return t(e)}const r=n.Data;switch(n.Type){case i.KeyType.RSA:return o.rsa.unmarshalRsaPrivateKey(r,t);case i.KeyType.Ed25519:return o.ed25519.unmarshalEd25519PrivateKey(r,t);case i.KeyType.Secp256k1:return o.secp256k1?o.secp256k1.unmarshalSecp256k1PrivateKey(r,t):t(new Error("secp256k1 support requires libp2p-crypto-secp256k1 package"));default:t(new Error("invalid or unsupported key type"))}},n.marshalPrivateKey=(e,t)=>{if(!a(t=(t||"rsa").toLowerCase()))throw new Error("invalid or unsupported key type");return e.bytes},n.import=(e,t,n)=>{try{const i=s.pki.decryptRsaPrivateKey(e,t);if(null===i)throw new Error("Cannot read the key, most likely the password is wrong or not a RSA key");let a=s.asn1.toDer(s.pki.privateKeyToAsn1(i));return a=r.from(a.getBytes(),"binary"),o.rsa.unmarshalRsaPrivateKey(a,n)}catch(e){n(e)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/keys/index.js"}],[4856,{"../hmac":4848,"async/whilst":1780,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("async/whilst"),i=e("../hmac"),s={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=(e,t,o,a)=>{const u=s[e];if(!u)return a(new Error("unkown cipherType passed"));if(!t)return a(new Error("unkown hashType passed"));const c=u.keySize,l=u.ivSize,h=n.from("key expansion"),f=2*(l+c+20);i.create(t,o,((e,t)=>{if(e)return a(e);t.digest(h,((e,i)=>{if(e)return a(e);let s=[],o=0;r((()=>o<f),(function(e){t.digest(n.concat([i,h]),((n,r)=>{if(n)return e(n);let a=r.length;o+a>f&&(a=f-o),s.push(r),o+=a,t.digest(i,((t,n)=>{if(t)return e(t);i=n,e()}))}))}),(function(e){if(e)return a(e);const t=f/2,r=n.concat(s),i=r.slice(0,t),o=r.slice(t,f),u=e=>({iv:e.slice(0,l),cipherKey:e.slice(l,l+c),macKey:e.slice(l+c)});a(null,{k1:u(i),k2:u(o)})}))}))}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/keys/key-stretcher.js"}],[4857,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="enum KeyType {\n  RSA = 0;\n  Ed25519 = 1;\n  Secp256k1 = 2;\n}\nmessage PublicKey {\n  required KeyType Type = 1;\n  required bytes Data = 2;\n}\nmessage PrivateKey {\n  required KeyType Type = 1;\n  required bytes Data = 2;\n}"}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/keys/keys.proto.js"}],[4858,{"../nodeify":4861,"../random-bytes":4863,"../webcrypto":4865,"./rsa-utils":4860,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("../nodeify"),i=e("../webcrypto"),s=e("../random-bytes");function o(e){return Promise.all([i.subtle.exportKey("jwk",e.privateKey),i.subtle.exportKey("jwk",e.publicKey)])}n.utils=e("./rsa-utils"),n.generateKey=function(e,t){r(i.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(o).then((e=>({privateKey:e[0],publicKey:e[1]}))),t)},n.unmarshalPrivateKey=function(e,t){const n=i.subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]);var s;r(Promise.all([n,(s=e,i.subtle.importKey("jwk",{kty:s.kty,n:s.n,e:s.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))]).then((e=>o({privateKey:e[0],publicKey:e[1]}))).then((e=>({privateKey:e[0],publicKey:e[1]}))),t)},n.getRandomValues=s,n.hashAndSign=function(e,n,s){r(i.subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]).then((e=>i.subtle.sign({name:"RSASSA-PKCS1-v1_5"},e,Uint8Array.from(n)))).then((e=>t.from(e))),s)},n.hashAndVerify=function(e,t,n,s){r(i.subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]).then((e=>i.subtle.verify({name:"RSASSA-PKCS1-v1_5"},e,t,n))),s)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/keys/rsa-browser.js"}],[4859,{"./keys.proto":4857,"./rsa":4858,"async/nextTick":1767,bs58:2088,"multihashing-async":4833,"node-forge/lib/forge":5269,"node-forge/lib/pbe":5276,"node-forge/lib/sha512":5290,protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multihashing-async"),i=e("protons"),s=e("bs58"),o=e("async/nextTick"),a=e("./rsa"),u=i(e("./keys.proto"));e("node-forge/lib/sha512"),e("node-forge/lib/pbe");const c=e("node-forge/lib/forge");class l{constructor(e){this._key=e}verify(e,t,n){f(n),a.hashAndVerify(this._key,t,e,n)}marshal(){return a.utils.jwkToPkix(this._key)}get bytes(){return u.PublicKey.encode({Type:u.KeyType.RSA,Data:this.marshal()})}encrypt(e){return this._key.encrypt(e,"RSAES-PKCS1-V1_5")}equals(e){return this.bytes.equals(e.bytes)}hash(e){f(e),r(this.bytes,"sha2-256",e)}}class h{constructor(e,t){this._key=e,this._publicKey=t}genSecret(){return a.getRandomValues(16)}sign(e,t){f(t),a.hashAndSign(this._key,e,t)}get public(){if(!this._publicKey)throw new Error("public key not provided");return new l(this._publicKey)}decrypt(e,t){a.decrypt(this._key,e,t)}marshal(){return a.utils.jwkToPkcs1(this._key)}get bytes(){return u.PrivateKey.encode({Type:u.KeyType.RSA,Data:this.marshal()})}equals(e){return this.bytes.equals(e.bytes)}hash(e){f(e),r(this.bytes,"sha2-256",e)}id(e){this.public.hash(((t,n)=>{if(t)return e(t);e(null,s.encode(n))}))}export(e,t,n){"function"==typeof t&&(n=t,t=e,e="pkcs-8"),f(n),o((()=>{let r=null,i=null;try{const n=new c.util.ByteBuffer(this.marshal()),s=c.asn1.fromDer(n),o=c.pki.privateKeyFromAsn1(s);if("pkcs-8"===e){const e={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};i=c.pki.encryptRsaPrivateKey(o,t,e)}else r=new Error(`Unknown export format '${e}'`)}catch(e){r=e}n(r,i)}))}}function f(e){if("function"!=typeof e)throw new Error("callback is required")}t.exports={RsaPublicKey:l,RsaPrivateKey:h,unmarshalRsaPublicKey:function(e){const t=a.utils.pkixToJwk(e);return new l(t)},unmarshalRsaPrivateKey:function(e,t){const n=a.utils.pkcs1ToJwk(e);a.unmarshalPrivateKey(n,((e,n)=>{if(e)return t(e);t(null,new h(n.privateKey,n.publicKey))}))},generateKeyPair:function(e,t){a.generateKey(e,((e,n)=>{if(e)return t(e);t(null,new h(n.privateKey,n.publicKey))}))},fromJwk:function(e,t){a.unmarshalPrivateKey(e,((e,n)=>{if(e)return t(e);t(null,new h(n.privateKey,n.publicKey))}))}}}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/keys/rsa-class.js"}],[4860,{"./../util":4864,"asn1.js":1685},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("asn1.js"),i=e("./../util"),s=i.toBase64,o=i.toBn,a=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})),u=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid({"1.2.840.113549.1.1.1":"rsa"}),this.key("none").optional().null_(),this.key("curve").optional().objid(),this.key("params").optional().seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()))})),c=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())})),l=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));n.pkcs1ToJwk=function(e){const t=a.decode(e,"der");return{kty:"RSA",n:s(t.modulus),e:s(t.publicExponent),d:s(t.privateExponent),p:s(t.prime1),q:s(t.prime2),dp:s(t.exponent1),dq:s(t.exponent2),qi:s(t.coefficient),alg:"RS256",kid:"2011-04-29"}},n.jwkToPkcs1=function(e){return a.encode({version:0,modulus:o(e.n),publicExponent:o(e.e),privateExponent:o(e.d),prime1:o(e.p),prime2:o(e.q),exponent1:o(e.dp),exponent2:o(e.dq),coefficient:o(e.qi)},"der")},n.pkixToJwk=function(e){const t=c.decode(e,"der"),n=l.decode(t.subjectPublicKey.data,"der");return{kty:"RSA",n:s(n.modulus),e:s(n.publicExponent),alg:"RS256",kid:"2011-04-29"}},n.jwkToPkix=function(e){return c.encode({algorithm:{algorithm:"rsa",none:null},subjectPublicKey:{data:l.encode({modulus:o(e.n),publicExponent:o(e.e)},"der")}},"der")}}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/keys/rsa-utils.js"}],[4861,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){return e.then((e=>{t(null,e)}),(e=>{t(e)}))}}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/nodeify.js"}],[4862,{"node-forge/lib/pbkdf2":5277,"node-forge/lib/util":5291},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("node-forge/lib/pbkdf2"),i=e("node-forge/lib/util"),s={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};t.exports=function(e,t,n,o,a){const u=s[a];if(!u)throw new Error(`Hash '${a}' is unknown or not supported`);const c=r(e,t,n,o,u);return i.encode64(c)}}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/pbkdf2.js"}],[4863,{"iso-random-stream/src/random":4710},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("iso-random-stream/src/random");t.exports=function(e){if(!e||"number"!=typeof e)throw new Error("first argument must be a Number bigger than 0");return r(e)}}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/random-bytes.js"}],[4864,{"asn1.js":1685,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("asn1.js").bignum;n.toBase64=function(e,n){return e.toArrayLike(t,"be",n).toString("base64").replace(/(=*)$/,"").replace(/\+/g,"-").replace(/\//g,"_")},n.toBn=function(e){return new r(t.from(e,"base64"))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/util.js"}],[4865,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=self.crypto||self.msCrypto}}},{package:"libp2p-crypto",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-crypto/src/webcrypto.js"}],[4866,{debug:2253},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=r("libp2p:floodsub");i.err=r("libp2p:floodsub:error"),t.exports={log:i,multicodec:"/floodsub/1.0.0"}}}},{package:"libp2p-floodsub",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-floodsub/src/config.js"}],[4867,{"./config":4866,assert:1700,"async/map":1764,"async/setImmediate":1773,"libp2p-pubsub":4913,"pull-length-prefixed":5459,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream"),i=e("pull-length-prefixed"),s=e("assert"),o=e("libp2p-pubsub"),{message:a,utils:u}=e("libp2p-pubsub"),c=e("./config").multicodec,l=u.ensureArray,h=e("async/setImmediate"),f=e("async/map"),d=()=>{};t.exports=class extends o{constructor(e){super("libp2p:floodsub",c,e),this.subscriptions=new Set}_onDial(e,t,n){super._onDial(e,t,(t=>{if(t)return n(t);const r=e.id.toB58String(),i=this.peers.get(r);i&&i.isWritable&&i.sendSubscriptions(this.subscriptions),h((()=>n()))}))}_processConnection(e,t,n){r(t,i.decode(),r.map((e=>a.rpc.RPC.decode(e))),r.drain((t=>this._onRpc(e,t)),(t=>this._onConnectionEnd(e,n,t))))}_onRpc(e,t){if(!t)return;this.log("rpc from",e);const n=t.subscriptions,r=t.msgs;if(r&&r.length&&this._processRpcMessages(u.normalizeInRpcMessages(t.msgs)),n&&n.length){const t=this.peers.get(e);t&&(t.updateSubscriptions(n),this.emit("floodsub:subscription-change",t.info,t.topics,n))}}_processRpcMessages(e){e.forEach((e=>{const t=u.msgId(e.from,e.seqno);this.seenCache.has(t)||(this.seenCache.put(t),this._emitMessages(e.topicIDs,[e]),this._forwardMessages(e.topicIDs,[e]))}))}_emitMessages(e,t){e.forEach((e=>{this.subscriptions.has(e)&&t.forEach((t=>{this.emit(e,t)}))}))}_forwardMessages(e,t){this.peers.forEach((n=>{n.isWritable&&u.anyMatch(n.topics,e)&&(n.sendMessages(u.normalizeOutRpcMessages(t)),this.log("publish msgs on topics",e,n.info.id.toB58String()))}))}stop(e){super.stop((t=>{if(t)return e(t);this.subscriptions=new Set,e()}))}publish(e,t,n){s(this.started,"FloodSub is not started"),n=n||d,this.log("publish",e,t),e=l(e),t=l(t);const r=this.libp2p.peerInfo.id.toB58String();f(t,((t,n)=>{const i=u.randomSeqno();this.seenCache.put(u.msgId(r,i));const s={from:r,data:t,seqno:i,topicIDs:e};this._emitMessages(e,[s]),this._buildMessage(s,n)}),((t,r)=>{if(t)return n(t);this._forwardMessages(e,r),n(null)}))}subscribe(e){function t(n){if(n&&n.isWritable)return n.sendSubscriptions(e);const r=()=>{n.removeListener("connection",r),t(n)};n.on("connection",r),n.once("close",(()=>n.removeListener("connection",r)))}s(this.started,"FloodSub is not started"),(e=l(e)).forEach((e=>this.subscriptions.add(e))),this.peers.forEach((e=>t(e)))}unsubscribe(e){function t(n){n&&n.isWritable?n.sendUnsubscriptions(e):h(t.bind(n))}this.started&&((e=l(e)).forEach((e=>this.subscriptions.delete(e))),this.peers.forEach((e=>t(e))))}}}}},{package:"libp2p-floodsub",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-floodsub/src/index.js"}],[4868,{"./message":4871,multiaddr:5208,"peer-id":5410,"peer-info":5411,"pull-length-prefixed":5459,"pull-stream/pull":5478,"pull-stream/sinks/collect":5479,"pull-stream/throughs/take":5502},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("peer-info"),i=e("peer-id"),s=e("multiaddr"),o=e("pull-stream/pull"),a=e("pull-stream/throughs/take"),u=e("pull-stream/sinks/collect"),c=e("pull-length-prefixed"),l=e("./message");t.exports=(e,t,n)=>{"function"==typeof t&&(n=t,t=null,console.warn("WARNING: no expected peer info was given, identify will not be able to verify peer integrity")),o(e,c.decode(),a(1),u(((e,o)=>{if(e)return n(e);if(0===o.length)return n(new Error("conn was closed, did not receive data"));const a=l.decode(o[0]);i.createFromPubKey(a.publicKey,((e,i)=>{if(e)return n(e);const o=new r(i);if(t&&t.id.toB58String()!==i.toB58String())return n(new Error("invalid peer"));try{a.listenAddrs.map(s).forEach((e=>o.multiaddrs.add(e)))}catch(e){return n(e)}let u;try{u=function(e){if(!function(e){return e.observedAddr&&e.observedAddr.length>0}(e))return[];let t=e.observedAddr;Array.isArray(t)||(t=[t]);return t.map((e=>s(e)))}(a)}catch(e){return n(e)}o.protocols=new Set(a.protocols),n(null,o,u)}))})))}}}},{package:"libp2p-identify",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-identify/src/dialer.js"}],[4869,{"./dialer":4868,"./listener":4870,"./message":4871},function(){with(this)return function(){"use strict";return function(e,t,n){(n=t.exports).multicodec="/ipfs/id/1.0.0",n.listener=e("./listener"),n.dialer=e("./dialer"),n.message=e("./message")}}},{package:"libp2p-identify",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-identify/src/index.js"}],[4870,{"./message":4871,buffer:2081,"pull-length-prefixed":5459,"pull-stream/pull":5478,"pull-stream/sources/values":5494},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("pull-stream/pull"),i=e("pull-stream/sources/values"),s=e("pull-length-prefixed"),o=e("./message");t.exports=(e,t)=>{e.getObservedAddrs(((a,u)=>{if(a)return;u=u[0];let c=n.alloc(0);t.id.pubKey&&(c=t.id.pubKey.bytes);const l=o.encode({protocolVersion:"ipfs/0.1.0",agentVersion:"na",publicKey:c,listenAddrs:t.multiaddrs.toArray().map((e=>e.buffer)),observedAddr:u?u.buffer:n.from(""),protocols:Array.from(t.protocols)});r(i([l]),s.encode(),e)}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-identify",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-identify/src/listener.js"}],[4871,{protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("protons");t.exports=r("\nmessage Identify {\n  // protocolVersion determines compatibility between peers\n  optional string protocolVersion = 5; // e.g. ipfs/1.0.0\n\n  // agentVersion is like a UserAgent string in browsers, or client version in bittorrent\n  // includes the client name and client.\n  optional string agentVersion = 6; // e.g. go-ipfs/0.1.0\n\n  // publicKey is this node's public key (which also gives its node.ID)\n  // - may not need to be sent, as secure channel implies it has been sent.\n  // - then again, if we change / disable secure channel, may still want it.\n  optional bytes publicKey = 1;\n\n  // listenAddrs are the multiaddrs the sender node listens for open connections on\n  repeated bytes listenAddrs = 2;\n\n  // oservedAddr is the multiaddr of the remote endpoint that the sender node perceives\n  // this is useful information to convey to the other side, as it helps the remote endpoint\n  // determine whether its connection to the local peer goes through NAT.\n  optional bytes observedAddr = 4;\n\n  repeated string protocols = 3;\n}\n").Identify}}},{package:"libp2p-identify",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-identify/src/message.js"}],[4872,{"./utils":4876,blakejs:2034,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("blakejs"),i=e("./utils").toCallback,s={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},o={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},a=(e,t)=>i((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/node_modules/multihashing-async/src/blake.js"}],[4873,{buffer:2081,nodeify:5294},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("nodeify"),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function s(e){if(!i)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,s)=>{const o=i.digest({name:e},t);if("function"!=typeof o.then)return o.onerror=()=>{s(new Error(`hashing data using ${e}`))},void(o.oncomplete=e=>{s(null,e.target.result)});r(o.then((e=>n.from(new Uint8Array(e)))),s)}}t.exports={sha1:function(e,t){s("SHA-1")(e,t)},sha2256:function(e,t){s("SHA-256")(e,t)},sha2512:function(e,t){s("SHA-512")(e,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/node_modules/multihashing-async/src/crypto-sha1-2-browser.js"}],[4874,{"./blake":4872,"./crypto-sha1-2":4873,"./utils":4876,buffer:2081,"js-sha3":4719,murmurhash3js:5254},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("js-sha3"),i=e("murmurhash3js"),s=e("./utils"),o=e("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;t.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(r.sha3_512)),sha3384:a(u(r.sha3_384)),sha3256:a(u(r.sha3_256)),sha3224:a(u(r.sha3_224)),shake128:a(u(r.shake_128,128)),shake256:a(u(r.shake_256,256)),keccak224:a(u(r.keccak_224)),keccak256:a(u(r.keccak_256)),keccak384:a(u(r.keccak_384)),keccak512:a(u(r.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/node_modules/multihashing-async/src/crypto.js"}],[4875,{"./crypto":4874,buffer:2081,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("multihashes"),i=e("./crypto");function s(e,t,n,i){if("function"==typeof n&&(i=n,n=undefined),!i)throw new Error("Missing callback");s.digest(e,t,n,((e,s)=>{if(e)return i(e);i(null,r.encode(s,t,n))}))}t.exports=s,s.Buffer=n,s.multihash=r,s.digest=function(e,t,n,r){if("function"==typeof n&&(r=n,n=undefined),!r)throw new Error("Missing callback");let i,o=r;n&&(o=(e,t)=>{if(e)return r(e);r(null,t.slice(0,n))});try{i=s.createHash(t)}catch(e){return o(e)}i(e,o)},s.createHash=function(e){if(e=r.coerceCode(e),!s.functions[e])throw new Error("multihash function "+e+" not yet supported");return s.functions[e]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/node_modules/multihashing-async/src/index.js"}],[4876,{_process:5420,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e,t){(function(){n.toCallback=t=>function(n,r){let i;try{i=t(n)}catch(t){return void e.nextTick(r,t)}e.nextTick(r,null,i)},n.toBuf=(e,n)=>r=>{let i=e(r,n);return t.from(i,"hex")},n.fromString=(e,n)=>r=>{const i=t.isBuffer(r)?r.toString():r;return e(i,n)},n.fromNumberTo32BitBuf=(e,n)=>r=>{let i=e(r,n);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return t.from(s)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/node_modules/multihashing-async/src/utils.js"}],[4877,{},function(){with(this)return function(){"use strict";return function(e,t,n){const r=n.second=1e3,i=n.minute=60*r,s=n.hour=60*i;n.MAX_RECORD_AGE=36*s,n.PROTOCOL_DHT="/ipfs/kad/1.0.0",n.PROVIDERS_KEY_PREFIX="/providers/",n.PROVIDERS_LRU_CACHE_SIZE=256,n.PROVIDERS_VALIDITY=24*s,n.PROVIDERS_CLEANUP_INTERVAL=s,n.READ_MESSAGE_TIMEOUT=10*r,n.GET_MANY_RECORD_COUNT=16,n.K=20,n.ALPHA=3,n.maxMessageSize=2<<22,n.defaultRandomWalk={enabled:!0,queriesPerPeriod:1,interval:5*i,timeout:10*r,delay:10*r}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/constants.js"}],[4878,{"./constants":4877,"./message":4881,"./network":4882,"./private":4886,"./providers":4887,"./query":4889,"./query-manager":4888,"./random-walk":4893,"./routing":4894,"./utils":4903,assert:1700,"async/each":1733,"async/filter":1740,"async/timeout":1777,"async/waterfall":1779,"err-code":2355,events:2082,"interface-datastore":4411,"libp2p-crypto":4850,"libp2p-record":4925,"peer-id":5410,"peer-info":5411,"promise-to-callback":5422},function(){with(this)return function(){"use strict";return function(e,t,n){const{EventEmitter:r}=e("events"),i=e("libp2p-record"),s=e("interface-datastore").MemoryDatastore,o=e("async/waterfall"),a=e("async/each"),u=e("async/filter"),c=e("async/timeout"),l=e("peer-id"),h=e("peer-info"),f=e("libp2p-crypto"),d=e("promise-to-callback"),p=e("err-code"),m=e("./routing"),b=e("./utils"),g=e("./constants"),y=e("./query"),_=e("./network"),k=e("./private"),E=e("./providers"),w=e("./message"),S=e("./random-walk"),v=e("./query-manager"),I=e("assert");t.exports=class extends r{constructor(e,t){super(),I(e,"libp2p-kad-dht requires a instance of Switch"),(t=t||{}).validators=t.validators||{},t.selectors=t.selectors||{},this.switch=e,this.kBucketSize=t.kBucketSize||g.K,this.concurrency=t.concurrency||g.ALPHA,this.disjointPaths=Math.ceil(this.kBucketSize/2),this.routingTable=new m(this.peerInfo.id,this.kBucketSize),this.datastore=t.datastore||new s,this.providers=new E(this.datastore,this.peerInfo.id),this.validators={pk:i.validator.validators.pk,...t.validators},this.selectors={pk:i.selection.selectors.pk,...t.selectors},this.network=new _(this),this._log=b.logger(this.peerInfo.id);const n=k(this);Object.keys(n).forEach((e=>{this[e]=n[e]})),this.randomWalk=new S(this,t.randomWalk),this._queryManager=new v}get isStarted(){return this._running}start(e){this._running=!0,this._queryManager.start(),this.network.start((t=>{if(t)return e(t);this.randomWalk.start(),e()}))}stop(e){this._running=!1,this.randomWalk.stop(),this.providers.stop(),this._queryManager.stop(),this.network.stop(e)}get peerInfo(){return this.switch._peerInfo}get peerBook(){return this.switch._peerBook}put(e,t,n,r){"function"==typeof n?(r=n,n={}):n=n||{},this._log("PutValue %b",e),o([n=>b.createPutRecord(e,t,n),(t,r)=>o([n=>this._putLocal(e,t,n),t=>this.getClosestPeers(e,{shallow:!0},t),(r,i)=>{n.minPeers=n.minPeers||r.length,u(r,((n,r)=>{this._putValueToPeer(e,t,n,(e=>{if(e)return this._log.error("Failed to put to peer (%b): %s",n.id,e),r(null,!1);r(null,!0)}))}),((e,t)=>{if(e)return i(e);if(n.minPeers>t.length){const e=p(new Error("Failed to put value to enough peers"),"ERR_NOT_ENOUGH_PUT_PEERS");return this._log.error(e),i(e)}i()}))}],r)],r)}get(e,t,n){"function"==typeof t?(n=t,t={}):t=t||{},t.maxTimeout||t.timeout?t.maxTimeout&&!t.timeout&&(t.timeout=t.maxTimeout):t.timeout=g.minute,this._get(e,t,n)}getMany(e,t,n,r){"function"==typeof n?(r=n,n={}):n=n||{},n.maxTimeout||n.timeout?n.maxTimeout&&!n.timeout&&(n.timeout=n.maxTimeout):n.timeout=g.minute,this._log("getMany %b (%s)",e,t);let i=[];this._getLocal(e,((s,a)=>{if(s&&0===t)return r(s);if(null==s&&i.push({val:a.value,from:this.peerInfo.id}),i.length>=t)return r(null,i);const u=[];o([t=>b.convertBuffer(e,t),(r,s)=>{const o=this.routingTable.closestPeers(r,this.kBucketSize);if(this._log("peers in rt: %d",o.length),0===o.length){const e="Failed to lookup key! No peers from routing table!";return this._log.error(e),s(p(new Error(e),"ERR_NO_PEERS_IN_ROUTING_TABLE"))}const a=new y(this,e,((n,r)=>{const s=b.pathSize(t-i.length,r),o=[];return u.push(o),async t=>{let n,r,i;try{const i=await this._getValueOrPeersAsync(t,e);n=i.record,r=i.peers}catch(e){if("ERR_INVALID_RECORD"!==e.code)throw e;i=e}const a={closerPeers:r};return(n&&n.value||i)&&o.push({val:n&&n.value,from:t}),o.length>=s&&(a.pathComplete=!0),a}}));c((e=>{d(a.run(o))(e)}),n.timeout)(((e,t)=>{a.stop(),s(e,t)}))}],(e=>{if(i=[].concat.apply(i,u).slice(0,t),e&&0===i.length)return r(e);r(null,i)}))}))}getClosestPeers(e,t,n){this._log("getClosestPeers to %b",e),"function"==typeof t&&(n=t,t={shallow:!1}),b.convertBuffer(e,((r,i)=>{if(r)return n(r);const s=this.routingTable.closestPeers(i,this.kBucketSize),a=new y(this,e,(()=>async n=>({closerPeers:await this._closerPeersSingleAsync(e,n),pathComplete:!!t.shallow||undefined})));d(a.run(s))(((e,t)=>e?n(e):t&&t.finalSet?void o([e=>b.sortClosestPeers(Array.from(t.finalSet),i,e),(e,t)=>t(null,e.slice(0,this.kBucketSize))],n):n(null,[])))}))}getPublicKey(e,t){let n;if(this._log("getPublicKey %s",e.toB58String()),this.peerBook.has(e)){if(n=this.peerBook.get(e),n&&n.id.pubKey)return this._log("getPublicKey: found local copy"),t(null,n.id.pubKey)}else n=this.peerBook.put(new h(e));this._getPublicKeyFromNode(e,((r,i)=>{if(!r)return n.id=new l(e.id,null,i),this.peerBook.put(n),t(null,i);const s=b.keyForPublicKey(e);this.get(s,((r,i)=>{if(r)return t(r);const s=f.unmarshalPublicKey(i);n.id=new l(e,null,s),this.peerBook.put(n),t(null,s)}))}))}findPeerLocal(e,t){this._log("findPeerLocal %s",e.toB58String()),this.routingTable.find(e,((e,n)=>e?t(e):n&&this.peerBook.has(n)?void t(null,this.peerBook.get(n)):t()))}provide(e,t){this._log("provide: %s",e.toBaseEncodedString());const n=[];o([t=>d(this.providers.addProvider(e,this.peerInfo.id))((e=>t(e))),t=>this.getClosestPeers(e.buffer,t),(t,r)=>{const i=new w(w.TYPES.ADD_PROVIDER,e.buffer,0);i.providerPeers=[this.peerInfo],a(t,((t,r)=>{this._log("putProvider %s to %s",e.toBaseEncodedString(),t.toB58String()),this.network.sendMessage(t,i,(e=>{e&&n.push(e),r()}))}),r)}],(e=>{n.length&&(e=p(`Failed to provide to ${n.length} of ${this.kBucketSize} peers`,"ERR_SOME_PROVIDES_FAILED",{errors:n})),t(e)}))}findProviders(e,t,n){"function"==typeof t?(n=t,t={}):t=t||{},t.maxTimeout||t.timeout?t.maxTimeout&&!t.timeout&&(t.timeout=t.maxTimeout):t.timeout=g.minute,t.maxNumProviders=t.maxNumProviders||g.K,this._log("findProviders %s",e.toBaseEncodedString()),this._findNProviders(e,t.timeout,t.maxNumProviders,n)}findPeer(e,t,n){"function"==typeof t?(n=t,t={}):t=t||{},t.maxTimeout||t.timeout?t.maxTimeout&&!t.timeout&&(t.timeout=t.maxTimeout):t.timeout=g.minute,this._log("findPeer %s",e.toB58String()),this.findPeerLocal(e,((r,i)=>r?n(r):null!=i?(this._log("found local"),n(null,i)):void o([t=>b.convertPeerId(e,t),(n,r)=>{const i=this.routingTable.closestPeers(n,this.kBucketSize);if(0===i.length)return r(p(new Error("Peer lookup failed"),"ERR_LOOKUP_FAILED"));if(i.find((t=>t.isEqual(e)))&&this.peerBook.has(e))return this._log("found in peerbook"),r(null,this.peerBook.get(e));const s=new y(this,e.id,(()=>async t=>{const n=await this._findPeerSingleAsync(t,e),r=n.closerPeers.find((t=>t.id.isEqual(e)));return r?{peer:r,queryComplete:!0}:{closerPeers:n.closerPeers}}));c((e=>{d(s.run(i))(e)}),t.timeout)(((e,t)=>{s.stop(),r(e,t)}))},(t,n)=>{let r=!1;if(t.paths.forEach((e=>{e.success&&(r=!0,this.peerBook.put(e.peer))})),this._log("findPeer %s: %s",e.toB58String(),r),!r)return n(p(new Error("No peer found"),"ERR_NOT_FOUND"));n(null,this.peerBook.get(e))}],n)))}_peerDiscovered(e){this.emit("peer",e)}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/index.js"}],[4879,{"./peer-list":4884},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./peer-list");t.exports=class extends r{constructor(e){super(),this.limit=e}push(e){return this.length<this.limit&&super.push(e)}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/limited-peer-list.js"}],[4880,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports='// can\'t use, because protocol-buffers doesn\'t support imports\n// so we have to duplicate for now :(\n// import "record.proto";\n\nmessage Record {\n  // adjusted for javascript\n  optional bytes key = 1;\n  optional bytes value = 2;\n  optional bytes author = 3;\n  optional bytes signature = 4;\n  optional string timeReceived = 5;\n}\n\nmessage Message {\n  enum MessageType {\n    PUT_VALUE = 0;\n    GET_VALUE = 1;\n    ADD_PROVIDER = 2;\n    GET_PROVIDERS = 3;\n    FIND_NODE = 4;\n    PING = 5;\n  }\n\n  enum ConnectionType {\n    // sender does not have a connection to peer, and no extra information (default)\n    NOT_CONNECTED = 0;\n\n    // sender has a live connection to peer\n    CONNECTED = 1;\n\n    // sender recently connected to peer\n    CAN_CONNECT = 2;\n\n    // sender recently tried to connect to peer repeatedly but failed to connect\n    // ("try" here is loose, but this should signal "made strong effort, failed")\n    CANNOT_CONNECT = 3;\n  }\n\n  message Peer {\n    // ID of a given peer.\n    optional bytes id = 1;\n\n    // multiaddrs for a given peer\n    repeated bytes addrs = 2;\n\n    // used to signal the sender\'s connection capabilities to the peer\n    optional ConnectionType connection = 3;\n  }\n\n  // defines what type of message it is.\n  optional MessageType type = 1;\n\n  // defines what coral cluster level this query/response belongs to.\n  // in case we want to implement coral\'s cluster rings in the future.\n  optional int32 clusterLevelRaw = 10;\n\n  // Used to specify the key associated with this message.\n  // PUT_VALUE, GET_VALUE, ADD_PROVIDER, GET_PROVIDERS\n  // adjusted for javascript\n  optional bytes key = 2;\n\n  // Used to return a value\n  // PUT_VALUE, GET_VALUE\n  // adjusted Record to bytes for js\n  optional bytes record = 3;\n\n  // Used to return peers closer to a key in a query\n  // GET_VALUE, GET_PROVIDERS, FIND_NODE\n  repeated Peer closerPeers = 8;\n\n  // Used to return Providers\n  // GET_VALUE, ADD_PROVIDER, GET_PROVIDERS\n  repeated Peer providerPeers = 9;\n}'}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/message/dht.proto.js"}],[4881,{"../../../is-buffer/index.js":4686,"./dht.proto":4880,assert:1700,"libp2p-record":4925,"peer-id":5410,"peer-info":5411,protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("assert"),i=e("peer-info"),s=e("peer-id"),o=e("protons"),a=e("libp2p-record").Record,u=o(e("./dht.proto")),c=u.Message.MessageType,l=u.Message.ConnectionType;class h{constructor(e,t,i){t&&r(n.isBuffer(t)),this.type=e,this.key=t,this._clusterLevelRaw=i,this.closerPeers=[],this.providerPeers=[],this.record=null}get clusterLevel(){const e=this._clusterLevelRaw-1;return e<0?0:e}set clusterLevel(e){this._clusterLevelRaw=e}serialize(){const e={key:this.key,type:this.type,clusterLevelRaw:this._clusterLevelRaw,closerPeers:this.closerPeers.map(f),providerPeers:this.providerPeers.map(f)};return this.record&&(n.isBuffer(this.record)?e.record=this.record:e.record=this.record.serialize()),u.Message.encode(e)}static deserialize(e){const t=u.Message.decode(e),n=new h(t.type,t.key,t.clusterLevelRaw);return n.closerPeers=t.closerPeers.map(d),n.providerPeers=t.providerPeers.map(d),t.record&&(n.record=a.deserialize(t.record)),n}}function f(e){const t={id:e.id.id,addrs:e.multiaddrs.toArray().map((e=>e.buffer))};return e.isConnected()?t.connection=l.CONNECTED:t.connection=l.NOT_CONNECTED,t}function d(e){const t=new i(new s(e.id));return e.addrs.forEach((e=>t.multiaddrs.add(e))),t}h.TYPES=c,h.CONNECTION_TYPES=l,t.exports=h}).call(this)}).call(this,{isBuffer:e("../../../is-buffer/index.js")})}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/message/index.js"}],[4882,{"./constants":4877,"./message":4881,"./rpc":4902,"./utils":4903,"async/setImmediate":1773,"async/timeout":1777,"err-code":2355,"pull-length-prefixed":5459,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream"),i=e("async/timeout"),s=e("pull-length-prefixed"),o=e("async/setImmediate"),a=e("err-code"),u=e("./rpc"),c=e("./constants"),l=e("./message"),h=e("./utils");function f(e,t,n){r(r.values([t]),s.encode(),e,r.filter((e=>e.length<c.maxMessageSize)),s.decode(),r.collect(((e,t)=>{if(e)return n(e);if(0===t.length)return n(a(new Error("No message received"),"ERR_NO_MESSAGE_RECEIVED"));let r;try{r=l.deserialize(t[0])}catch(e){return n(a(e,"ERR_FAILED_DESERIALIZE_RESPONSE"))}n(null,r)})))}t.exports=class{constructor(e){this.dht=e,this.readMessageTimeout=c.READ_MESSAGE_TIMEOUT,this._log=h.logger(this.dht.peerInfo.id,"net"),this._rpc=u(this.dht),this._onPeerConnected=this._onPeerConnected.bind(this),this._running=!1}start(e){const t=t=>o((()=>e(t)));return this._running?t(a(new Error("Network is already running"),"ERR_NETWORK_ALREADY_RUNNING")):this.dht.isStarted?(this._running=!0,this.dht.switch.handle(c.PROTOCOL_DHT,this._rpc),this.dht.switch.on("peer-mux-established",this._onPeerConnected),void t()):t(a(new Error("Can not start network"),"ERR_CANNOT_START_NETWORK"))}stop(e){const t=t=>o((()=>e(t)));if(!this.dht.isStarted&&!this.isStarted)return t(a(new Error("Network is already stopped"),"ERR_NETWORK_ALREADY_STOPPED"));this._running=!1,this.dht.switch.removeListener("peer-mux-established",this._onPeerConnected),this.dht.switch.unhandle(c.PROTOCOL_DHT),t()}get isStarted(){return this._running}get isConnected(){return this.dht.isStarted&&this.isStarted}_onPeerConnected(e){if(!this.isConnected)return this._log.error("Network is offline");this.dht.switch.dial(e,c.PROTOCOL_DHT,((t,n)=>{if(t)return this._log("%s does not support protocol: %s",e.id.toB58String(),c.PROTOCOL_DHT);r(r.empty(),n),this.dht._add(e,(t=>{if(t)return this._log.error("Failed to add to the routing table",t);this._log("added to the routing table: %s",e.id.toB58String())}))}))}sendRequest(e,t,n){if(!this.isConnected)return n(a(new Error("Network is offline"),"ERR_NETWORK_OFFLINE"));this._log("sending to: %s",e.toB58String()),this.dht.switch.dial(e,c.PROTOCOL_DHT,((e,r)=>{if(e)return n(e);this._writeReadMessage(r,t.serialize(),n)}))}sendMessage(e,t,n){if(!this.isConnected)return o((()=>n(a(new Error("Network is offline"),"ERR_NETWORK_OFFLINE"))));this._log("sending to: %s",e.toB58String()),this.dht.switch.dial(e,c.PROTOCOL_DHT,((e,r)=>{if(e)return n(e);this._writeMessage(r,t.serialize(),n)}))}_writeReadMessage(e,t,n){i(f,this.readMessageTimeout)(e,t,n)}_writeMessage(e,t,n){r(r.values([t]),s.encode(),e,r.onEnd(n))}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/network.js"}],[4883,{"./utils":4903,"async/map":1764,"xor-distance":6170},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("xor-distance"),i=e("./utils"),s=e("async/map");t.exports=class{constructor(e,t){this.originDhtKey=e,this.capacity=t,this.peerDistances=[]}get length(){return this.peerDistances.length}get peers(){return this.peerDistances.map((e=>e.peerId))}add(e,t){if(this.peerDistances.find((t=>t.peerId.id.equals(e.id))))return t();i.convertPeerId(e,((n,i)=>{if(n)return t(n);const s={peerId:e,distance:r(this.originDhtKey,i)};this.peerDistances.push(s),this.peerDistances.sort(((e,t)=>r.compare(e.distance,t.distance))),this.peerDistances=this.peerDistances.slice(0,this.capacity),t()}))}anyCloser(e,t){return e.length?this.length?void s(e,((e,t)=>i.convertPeerId(e,t)),((e,n)=>{if(e)return t(e);const i=this.peerDistances[this.peerDistances.length-1].distance;for(const e of n){const n=r(this.originDhtKey,e);if(r.compare(n,i)<0)return t(null,!0)}return t(null,!1)})):t(null,!0):t(null,!1)}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/peer-distance-list.js"}],[4884,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=class{constructor(){this.list=[]}push(e){return!this.has(e)&&(this.list.push(e),!0)}has(e){const t=this.list.find((t=>t.id.isEqual(e.id)));return Boolean(t)}toArray(){return this.list.slice()}pop(){return this.list.pop()}get length(){return this.list.length}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/peer-list.js"}],[4885,{"./utils":4903,debug:2253,heap:4377,"promisify-es6":5424,"xor-distance":6170},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("heap"),i=e("xor-distance"),s=e("debug"),o=e("promisify-es6"),a=e("./utils"),u=s("libp2p:dht:peer-queue");class c{static async fromPeerId(e){const t=await o((t=>a.convertPeerId(e,t)))();return new c(t)}static async fromKey(e){const t=await o((t=>a.convertBuffer(e,t)))();return new c(t)}constructor(e){u("create: %b",e),this.from=e,this.heap=new r(a.xorCompare)}async enqueue(e){u("enqueue %s",e.toB58String());const t=await o((t=>a.convertPeerId(e,t)))(),n={id:e,distance:i(this.from,t)};this.heap.push(n)}dequeue(){const e=this.heap.pop();return u("dequeue %s",e.id.toB58String()),e.id}get length(){return this.heap.size()}}t.exports=c}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/peer-queue.js"}],[4886,{"./constants":4877,"./limited-peer-list":4879,"./message":4881,"./query":4889,"./utils":4903,"async/timeout":1777,"err-code":2355,"libp2p-record":4925,"peer-id":5410,"peer-info":5411,"promise-to-callback":5422,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("peer-id"),i=e("libp2p-record"),s=e("async/timeout"),o=e("peer-info"),a=e("promisify-es6"),u=e("promise-to-callback"),c=e("err-code"),l=e("./utils"),h=e("./message"),f=e("./constants"),d=e("./query"),p=e("./limited-peer-list"),m=i.Record;t.exports=e=>({_nearestPeersToQuery(e,t){u(this._nearestPeersToQueryAsync(e))(t)},async _nearestPeersToQueryAsync(t){const n=await a(l.convertBuffer)(t.key);return e.routingTable.closestPeers(n,e.kBucketSize).map((t=>e.peerBook.has(t)?e.peerBook.get(t):e.peerBook.put(new o(t))))},_betterPeersToQuery(e,t,n){u(this._betterPeersToQueryAsync(e,t))(n)},async _betterPeersToQueryAsync(t,n){e._log("betterPeersToQuery");return(await e._nearestPeersToQueryAsync(t)).filter((t=>e._isSelf(t.id)?(e._log.error("trying to return self as closer"),!1):!t.id.isEqual(n.id)))},_checkLocalDatastore(e,t){u(this._checkLocalDatastoreAsync(e))(t)},async _checkLocalDatastoreAsync(t){e._log("checkLocalDatastore: %b",t);const n=l.bufferToKey(t);let r;try{r=await a((t=>e.datastore.get(n,t)))()}catch(e){if("ERR_NOT_FOUND"===e.code)return undefined;throw e}const i=m.deserialize(r);if(!i)throw c("Invalid record","ERR_INVALID_RECORD");return null==i.timeReceived||l.now()-i.timeReceived>f.MAX_RECORD_AGE?(await a((t=>e.datastore.delete(n,t)))(),undefined):i},_add(e,t){u(this._addAsync(e))((e=>t(e)))},_addAsync:async t=>(t=e.peerBook.put(t),await a((n=>e.routingTable.add(t.id,n)))(),undefined),_verifyRecordLocally(e,t){u(this._verifyRecordLocallyAsync(e))((e=>t(e)))},async _verifyRecordLocallyAsync(t){e._log("verifyRecordLocally"),await a((n=>i.validator.verifyRecord(e.validators,t,n)))()},_closerPeersSingle(e,t,n){u(this._closerPeersSingleAsync(e,t))(n)},async _closerPeersSingleAsync(t,n){e._log("_closerPeersSingle %b from %s",t,n.toB58String());return(await e._findPeerSingleAsync(n,new r(t))).closerPeers.filter((t=>!e._isSelf(t.id))).map((t=>e.peerBook.put(t)))},_isSelf:t=>t&&e.peerInfo.id.id.equals(t.id),_findPeerSingle(e,t,n){u(this._findPeerSingleAsync(e,t))(n)},async _findPeerSingleAsync(t,n){e._log("_findPeerSingle %s",t.toB58String());const r=new h(h.TYPES.FIND_NODE,n.id,0);return a((n=>e.network.sendRequest(t,r,n)))()},_putValueToPeer(e,t,n,r){u(this._putValueToPeerAsync(e,t,n))(r)},async _putValueToPeerAsync(t,n,r){const i=new h(h.TYPES.PUT_VALUE,t,0);i.record=n;if(!(await a((t=>e.network.sendRequest(r,i,t)))()).record.value.equals(m.deserialize(n).value))throw c(new Error("value not put correctly"),"ERR_PUT_VALUE_INVALID")},_putLocal(e,t,n){u(this._putLocalAsync(e,t))((e=>n(e)))},_putLocalAsync:async(t,n)=>(await a((r=>e.datastore.put(l.bufferToKey(t),n,r)))(),undefined),_get(e,t,n){u(this._getAsync(e,t))(n)},async _getAsync(t,n){e._log("_get %b",t);const r=await a((r=>e.getMany(t,f.GET_MANY_RECORD_COUNT,n,r)))(),s=r.map((e=>e.val));let o=0;try{o=i.selection.bestRecord(e.selectors,t,s)}catch(e){if("ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY"!==e.code)throw e}const u=s[o];if(e._log("GetValue %b %s",t,u),!u)throw c(new Error("best value was not found"),"ERR_NOT_FOUND");return await this._sendCorrectionRecord(t,r,u),u},async _sendCorrectionRecord(t,n,r){const i=await a((e=>l.createPutRecord(t,r,e)))();return Promise.all(n.map((async n=>{if(!n.val.equals(r))if(e._isSelf(n.from))try{await e._putLocalAsync(t,i)}catch(t){e._log.error("Failed error correcting self",t)}else try{await e._putValueToPeerAsync(t,i,n.from)}catch(t){e._log.error("Failed error correcting entry",t)}})))},_getLocal(e,t){u(this._getLocalAsync(e))(t)},async _getLocalAsync(t){e._log("getLocal %b",t);const n=await a((n=>e.datastore.get(l.bufferToKey(t),n)))();e._log("found %b in local datastore",t);const r=m.deserialize(n);return await e._verifyRecordLocallyAsync(r),r},_getValueOrPeers(e,t,n){u(this._getValueOrPeersAsync(e,t))(((e,t)=>{if(e)return n(e);n(null,t.record,t.peers)}))},async _getValueOrPeersAsync(t,n){const r=await a((r=>e._getValueSingle(t,n,r)))(),i=r.closerPeers,s=r.record;if(s){try{await e._verifyRecordOnlineAsync(s)}catch(t){const n="invalid record received, discarded";throw e._log(n),c(new Error(n),"ERR_INVALID_RECORD")}return{record:s,peers:i}}if(i.length>0)return{peers:i};throw c(new Error("Not found"),"ERR_NOT_FOUND")},_getValueSingle(e,t,n){u(this._getValueSingleAsync(e,t))(n)},async _getValueSingleAsync(t,n){const r=new h(h.TYPES.GET_VALUE,n,0);return a((n=>e.network.sendRequest(t,r,n)))()},_verifyRecordOnline(e,t){u(this._verifyRecordOnlineAsync(e))((e=>t(e)))},async _verifyRecordOnlineAsync(t){await a((n=>i.validator.verifyRecord(e.validators,t,n)))()},_getPublicKeyFromNode(e,t){u(this._getPublicKeyFromNodeAsync(e))(t)},async _getPublicKeyFromNodeAsync(t){const n=l.keyForPublicKey(t),i=await a((r=>e._getValueSingle(t,n,r)))();if(!i.record||!i.record.value)throw c(`Node not responding with its public key: ${t.toB58String()}`,"ERR_INVALID_RECORD");const s=await a((e=>r.createFromPubKey(i.record.value,e)))();if(!s.isEqual(t))throw c("public key does not match id","ERR_PUBLIC_KEY_DOES_NOT_MATCH_ID");return s.pubKey},_findNProviders(e,t,n,r){u(this._findNProvidersAsync(e,t,n))(r)},async _findNProvidersAsync(t,n,r){const i=new p(r);if((await e.providers.getProviders(t)).forEach((t=>{let n;n=e.peerBook.has(t)?e.peerBook.get(t):e.peerBook.put(new o(t)),i.push(n)})),i.length>=r)return i.toArray();const h=[],f=new d(e,t.buffer,((n,s)=>{const o=l.pathSize(r-i.length,s),a=new p(o);return h.push(a),async n=>{const r=await e._findProvidersSingleAsync(n,t),i=r.providerPeers;return e._log("(%s) found %s provider entries",e.peerInfo.id.toB58String(),i.length),i.forEach((t=>{a.push(e.peerBook.put(t))})),a.length>=o?{pathComplete:!0}:{closerPeers:r.closerPeers}}})),m=e.routingTable.closestPeers(t.buffer,e.kBucketSize);try{await a((e=>s((e=>{u(f.run(m))(e)}),n)(e)))()}catch(e){if("ETIMEDOUT"!==e.code)throw e}finally{f.stop()}if(h.forEach((e=>{e.toArray().forEach((e=>{i.push(e)}))})),0===i.length)throw c(new Error("no providers found"),"ERR_NOT_FOUND");return i.toArray()},_findProvidersSingle(e,t,n){u(this._findProvidersSingleAsync(e,t))(n)},async _findProvidersSingleAsync(t,n){const r=new h(h.TYPES.GET_PROVIDERS,n.buffer,0);return a((n=>e.network.sendRequest(t,r,n)))()}})}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/private.js"}],[4887,{"./constants":4877,"./utils":4903,buffer:2081,hashlru:4374,"interface-datastore":4411,"p-queue":5367,"peer-id":5410,"promisify-es6":5424,"pull-stream-to-async-iterator":5475,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("hashlru"),i=e("varint"),s=e("peer-id"),o=e("interface-datastore").Key,a=e("p-queue"),u=e("promisify-es6"),c=e("pull-stream-to-async-iterator"),l=e("./constants"),h=e("./utils");function f(e){return e="string"==typeof e?e:h.encodeBase32(e.buffer),l.PROVIDERS_KEY_PREFIX+e}function d(e){const t=e.toString().split("/");if(4!==t.length)throw new Error("incorrectly formatted provider entry key in datastore: "+e);return{cid:t[2],peerId:t[3]}}function p(e){return i.decode(e)}t.exports=class{constructor(e,t,n){this.datastore=e,this._log=h.logger(t,"providers"),this.cleanupInterval=l.PROVIDERS_CLEANUP_INTERVAL,this.provideValidity=l.PROVIDERS_VALIDITY,this.lruCacheSize=n||l.PROVIDERS_LRU_CACHE_SIZE,this.providers=r(this.lruCacheSize),this.syncQueue=new a({concurrency:1})}stop(){this._cleaner&&(clearInterval(this._cleaner),this._cleaner=null)}_cleanup(){return this.syncQueue.add((async()=>{this._log("start cleanup");const e=Date.now();let t=0,n=0;const r=new Map,i=this.datastore.batch(),s=this.datastore.query({prefix:l.PROVIDERS_KEY_PREFIX});for await(const e of c(s))try{const{cid:s,peerId:o}=d(e.key),a=p(e.value),u=Date.now(),c=u-a,l=c>this.provideValidity;if(this._log("comparing: %d - %d = %d > %d %s",u,a,c,this.provideValidity,l?"(expired)":""),l){n++,i.delete(e.key);const t=r.get(s)||new Set;t.add(o),r.set(s,t)}t++}catch(e){this._log.error(e.message)}this._log("deleting %d / %d entries",n,t),r.size&&await u((e=>i.commit(e)))();for(const[e,t]of r){const n=f(e),r=this.providers.get(n);if(r){for(const e of t)r.delete(e);0===r.size?this.providers.remove(n):this.providers.set(n,r)}}this._log("Cleanup successful (%dms)",Date.now()-e)}))}async _getProvidersMap(e){const t=f(e);let n=this.providers.get(t);return n||(n=await async function(e,t){const n=new Map,r=e.query({prefix:f(t)});for await(const e of c(r)){const{peerId:t}=d(e.key);n.set(t,p(e.value))}return n}(this.datastore,e),this.providers.set(t,n)),n}get cleanupInterval(){return this._cleanupInterval}set cleanupInterval(e){this._cleanupInterval=e,this._cleaner&&clearInterval(this._cleaner),this._cleaner=setInterval((()=>this._cleanup()),this.cleanupInterval)}async addProvider(e,t){return this.syncQueue.add((async()=>{this._log("addProvider %s",e.toBaseEncodedString());const r=await this._getProvidersMap(e);this._log("loaded %s provs",r.size);const s=Date.now();r.set(h.encodeBase32(t.id),s);const a=f(e);return this.providers.set(a,r),async function(e,t,r,s){const a=[f(t),"/",h.encodeBase32(r.id)].join(""),c=new o(a),l=n.from(i.encode(s));return u((t=>e.put(c,l,t)))()}(this.datastore,e,t,s)}))}async getProviders(e){return this.syncQueue.add((async()=>{this._log("getProviders %s",e.toBaseEncodedString());return[...(await this._getProvidersMap(e)).keys()].map((e=>new s(h.decodeBase32(e))))}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/providers.js"}],[4888,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=class{constructor(){this.queries=new Set,this.running=!1}queryStarted(e){this.queries.add(e)}queryCompleted(e){this.queries.delete(e)}start(){this.running=!0}stop(){this.running=!1;for(const e of this.queries)e.stop();this.queries.clear()}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/query-manager.js"}],[4889,{"../utils":4903,"./run":4891,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multihashes"),i=e("../utils"),s=e("./run");t.exports=class{constructor(e,t,n){this.dht=e,this.key=t,this.makePath=n,this._log=i.logger(this.dht.peerInfo.id,"query:"+r.toB58String(t)),this.running=!1,this._onStart=this._onStart.bind(this),this._onComplete=this._onComplete.bind(this)}async run(e){return this.dht._queryManager.running?0===e.length?(this._log.error("Running query with no peers"),{finalSet:new Set,paths:[]}):(this._run=new s(this),this._log(`query running with K=${this.dht.kBucketSize}, A=${this.dht.concurrency}, D=${Math.min(this.dht.disjointPaths,e.length)}`),this._run.once("start",this._onStart),this._run.once("complete",this._onComplete),this._run.execute(e)):(this._log.error("Attempt to run query after shutdown"),{finalSet:new Set,paths:[]})}_onStart(){this.running=!0,this._startTime=Date.now(),this._log("query:start"),this.dht._queryManager.queryStarted(this)}_onComplete(){this.stop()}stop(){this._log(`query:done in ${Date.now()-this._startTime}ms`),this._run&&this._log(`${this._run.errors.length} of ${this._run.peersSeen.size} peers errored (${this._run.errors.length/this._run.peersSeen.size*100}% fail rate)`),this.running&&(this._run.removeListener("start",this._onStart),this._run.removeListener("complete",this._onComplete),this.running=!1,this._run&&this._run.stop(),this.dht._queryManager.queryCompleted(this))}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/query/index.js"}],[4890,{"../peer-queue":4885,"../utils":4903},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../peer-queue"),i=e("../utils");t.exports=class{constructor(e,t){if(this.run=e,this.queryFunc=i.withTimeout(t,3e4),!this.queryFunc)throw new Error("Path requires a `queryFn` to be specified");if("function"!=typeof this.queryFunc)throw new Error("Path expected `queryFn` to be a function. Got "+typeof this.queryFunc);this.initialPeers=[],this.peersToQuery=null}addInitialPeer(e){this.initialPeers.push(e)}async execute(){const e=await r.fromKey(this.run.query.key);this.peersToQuery=e,await Promise.all(this.initialPeers.map((e=>this.addPeerToQuery(e)))),await this.run.workerQueue(this)}async addPeerToQuery(e){this.run.query.dht._isSelf(e)||this.run.peersSeen.has(e)||await this.peersToQuery.enqueue(e)}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/query/path.js"}],[4891,{"../peer-distance-list":4883,"../utils":4903,"./path":4890,"./workerQueue":4892,events:2082,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../peer-distance-list"),i=e("events"),s=e("promisify-es6"),o=e("./path"),a=e("./workerQueue"),u=e("../utils");t.exports=class extends i{constructor(e){super(),this.query=e,this.running=!1,this.workers=[],this.peersSeen=new Set,this.errors=[],this.peersQueried=null}stop(){if(this.running){this.running=!1;for(const e of this.workers)e.stop()}}async execute(e){const t=[],n=Math.min(this.query.dht.disjointPaths,e.length);for(let e=0;e<n;e++)t.push(new o(this,this.query.makePath(e,n)));e.forEach(((e,r)=>{t[r%n].addInitialPeer(e)})),await this.executePaths(t);const r={finalSet:new Set(this.peersQueried.peers),paths:[]};for(const e of t)e.res&&(e.res.pathComplete||e.res.queryComplete)&&(e.res.success=!0,r.paths.push(e.res));return r}async executePaths(e){this.running=!0,this.emit("start");try{await Promise.all(e.map((e=>e.execute())))}finally{this.stop(),this.emit("complete")}if(this.errors.length===this.peersSeen.size)throw this.errors[0]}async workerQueue(e){await this.init(),await this.startWorker(e)}async startWorker(e){const t=new a(this.query.dht,this,e,this.query._log);this.workers.push(t),await t.execute()}async init(){this.peersQueried||(this.peersQueriedPromise?await this.peersQueriedPromise:(this.peersQueriedPromise=(async()=>{const e=await s((e=>u.convertBuffer(this.query.key,e)))();this.peersQueried=new r(e,this.query.dht.kBucketSize)})(),await this.peersQueriedPromise,delete this.peersQueriedPromise))}async continueQuerying(e){if(this.peersQueried.length<this.peersQueried.capacity)return!0;const t=e.queue.workersList().map((e=>e.data));return!!await s((e=>this.peersQueried.anyCloser(t,e)))()}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/query/run.js"}],[4892,{"async/queue":1769,"promise-to-callback":5422,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/queue"),i=e("promisify-es6"),s=e("promise-to-callback");t.exports=class{constructor(e,t,n,r){this.dht=e,this.run=t,this.path=n,this.log=r,this.concurrency=this.dht.concurrency,this.queue=this.setupQueue(),this.execution=null}setupQueue(){const e=r(((e,t)=>{s(this.processNext(e))(t)}),this.concurrency);return e.error=e=>{this.log.error("queue",e),this.stop(e)},e.drain=()=>{this.log("queue:drain"),this.stop()},e.unsaturated=()=>{this.running&&this.fill()},e.buffer=0,e}stop(e){this.running&&(this.running=!1,this.queue.kill(),this.log("worker:stop, %d workers still running",this.run.workers.filter((e=>e.running)).length),e?this.execution.reject(e):this.execution.resolve())}async execute(){this.running=!0,this.execution={};const e=new Promise(((e,t)=>Object.assign(this.execution,{resolve:e,reject:t})));this.fill(),await e}fill(){for(;this.queue.running()+this.queue.length()<this.concurrency&&this.path.peersToQuery.length>0;)this.queue.push(this.path.peersToQuery.dequeue())}async processNext(e){if(!this.running)return;if(this.run.peersSeen.has(e))return;let t,n,r,i;try{t=await this.run.continueQuerying(this)}catch(e){n=e}if(this.running){if(n)throw n;if(t){if(!this.run.peersSeen.has(e)){this.run.peersSeen.add(e),this.log("queue:work");try{r=await this.execQuery(e)}catch(e){i=e}if(this.running){if(this.log("queue:work:done",i,r),i)throw i;if(r&&r.queryComplete)return this.log("query:complete"),void this.run.stop();r&&r.pathComplete&&this.stop()}}}else this.stop()}}async execQuery(e){let t,n;try{t=await this.path.queryFunc(e)}catch(e){n=e}if(this.running)if(n)this.run.errors.push(n);else{if(await i((t=>this.run.peersQueried.add(e,t)))(),t.pathComplete||t.queryComplete)return this.path.res=t,{pathComplete:t.pathComplete,queryComplete:t.queryComplete};t.closerPeers&&t.closerPeers.length>0&&await Promise.all(t.closerPeers.map((async e=>{this.dht._isSelf(e.id)||(e=this.dht.peerBook.put(e),this.dht._peerDiscovered(e),await this.path.addPeerToQuery(e.id))})))}}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/query/workerQueue.js"}],[4893,{"./constants":4877,"./utils":4903,"abort-controller":1669,assert:1700,"err-code":2355,"libp2p-crypto":4850,"multihashing-async":4875,"p-times":5371,"peer-id":5410,"promisify-es6":5424},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("promisify-es6"),i=e("libp2p-crypto"),s=r(e("multihashing-async")),o=e("peer-id"),a=e("assert"),u=e("abort-controller"),c=e("err-code"),l=e("p-times"),h=e("./constants"),{logger:f}=e("./utils");t.exports=class{constructor(e,t){a(e,"Random Walk needs an instance of the Kademlia DHT"),this._options={...h.defaultRandomWalk,...t},this._kadDHT=e,this.log=f(e.peerInfo.id,"random-walk"),this._timeoutId=undefined}start(){!this._timeoutId&&this._options.enabled&&(this._timeoutId=setTimeout((()=>{this._runPeriodically()}),this._options.delay))}stop(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=undefined),this._controller&&this._controller.abort()}async _runPeriodically(){for(;this._timeoutId;){try{await this._walk(this._options.queriesPerPeriod,this._options.timeout)}catch(e){this._kadDHT._log.error("random-walk:error",e)}await new Promise((e=>{this._timeoutId=setTimeout(e,this._options.interval)}))}}async _walk(e,t){this.log("start"),this._controller=new u;try{await l(e,(async e=>{this.log("running query %d",e);try{const e=await this._randomPeerId();if(!this._controller)return;await this._query(e,{timeout:t,signal:this._controller.signal})}catch(t){if(t&&"ETIMEDOUT"!==t.code)throw this.log.error("query %d finished with error",e,t),t}this.log("finished query %d",e)}))}finally{this._controller=null,this.log("finished queries")}}async _query(e,t){let n;this.log("query:%s",e.toB58String());try{n=await r((n=>this._kadDHT.findPeer(e,t,n)))()}catch(e){if(e&&"ERR_NOT_FOUND"===e.code)return;throw e}throw this.log("query:found",n),c(`random-walk: ACTUALLY FOUND PEER: ${n}, ${e.toB58String()}`,"ERR_FOUND_RANDOM_PEER")}async _randomPeerId(){const e=await s(i.randomBytes(16),"sha2-256");return new o(e)}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/random-walk.js"}],[4894,{"./utils":4903,"k-bucket":4754},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("k-bucket"),i=e("./utils");t.exports=class{constructor(e,t){this.self=e,this._onPing=this._onPing.bind(this),i.convertPeerId(e,((e,n)=>{if(e)throw e;this.kb=new r({localNodeId:n,numberOfNodesPerKBucket:t,numberOfNodesToPing:1}),this.kb.on("ping",this._onPing)}))}_onPing(e,t){const n=e[0];this.kb.remove(n.id),this.kb.add(t)}get size(){return this.kb.count()}find(e,t){i.convertPeerId(e,((n,r)=>{if(n)return t(n);const i=this.closestPeer(r);if(i&&i.isEqual(e))return t(null,i);t()}))}closestPeer(e,t){const n=this.closestPeers(e,1);if(n.length>0)return n[0]}closestPeers(e,t){return this.kb.closest(e,t).map((e=>e.peer))}add(e,t){i.convertPeerId(e,((n,r)=>{if(n)return t(n);this.kb.add({id:r,peer:e}),t()}))}remove(e,t){i.convertPeerId(e,((e,n)=>{if(e)return t(e);this.kb.remove(n),t()}))}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/routing.js"}],[4895,{"../../utils":4903,cids:2119,"err-code":2355,"promise-to-callback":5422},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("cids"),i=e("err-code"),s=e("promise-to-callback"),o=e("../../utils");t.exports=e=>{const t=o.logger(e.peerInfo.id,"rpc:add-provider");return function(n,o,a){if(t("start"),!o.key||0===o.key.length)return a(i(new Error("Missing key"),"ERR_MISSING_KEY"));let u;try{u=new r(o.key)}catch(e){const t=`Invalid CID: ${e.message}`;return a(i(new Error(t),"ERR_INVALID_CID"))}let c=!1;o.providerPeers.forEach((r=>{r.id.isEqual(n.id)?r.multiaddrs.size<1?t("no valid addresses for provider %s. Ignore",n.id.toB58String()):(t("received provider %s for %s (addrs %s)",n.id.toB58String(),u.toBaseEncodedString(),r.multiaddrs.toArray().map((e=>e.toString()))),e._isSelf(r.id)||(c=!0,e.peerBook.put(r),s(e.providers.addProvider(u,r.id))((e=>a(e))))):t("invalid provider peer %s from %s",r.id.toB58String(),n.id.toB58String())})),c||s(e.providers.addProvider(u,n.id))((e=>a(e)))}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/rpc/handlers/add-provider.js"}],[4896,{"../../message":4881,"../../utils":4903,"async/waterfall":1779,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("async/waterfall"),i=e("../../message"),s=e("../../utils");t.exports=e=>{const t=s.logger(e.peerInfo.id,"rpc:find-node");return function(s,o,a){t("start"),r([t=>{if(o.key.equals(e.peerInfo.id.id))return t(null,[e.peerInfo]);e._betterPeersToQuery(o,s,t)},(e,r)=>{const a=new i(o.type,n.alloc(0),o.clusterLevel);e.length>0?a.closerPeers=e:t("handle FindNode %s: could not find anything",s.id.toB58String()),r(null,a)}],a)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/rpc/handlers/find-node.js"}],[4897,{"../../message":4881,"../../utils":4903,"async/parallel":1768,cids:2119,"err-code":2355,"peer-info":5411,"promise-to-callback":5422},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("cids"),i=e("async/parallel"),s=e("peer-info"),o=e("promise-to-callback"),a=e("err-code"),u=e("../../message"),c=e("../../utils");t.exports=e=>{const t=c.logger(e.peerInfo.id,"rpc:get-providers");return function(n,l,h){let f;try{f=new r(l.key)}catch(e){return h(a(new Error(`Invalid CID: ${e.message}`),"ERR_INVALID_CID"))}t("%s",f.toBaseEncodedString());const d=c.bufferToKey(f.buffer);i([n=>e.datastore.has(d,((e,r)=>{if(e)return t.error("Failed to check datastore existence",e),n(null,!1);n(null,r)})),t=>o(e.providers.getProviders(f))(t),t=>e._betterPeersToQuery(l,n,t)],((n,r)=>{if(n)return h(n);const i=r[0],o=r[2],a=r[1].map((t=>e.peerBook.has(t)?e.peerBook.get(t):e.peerBook.put(new s(t))));i&&a.push(e.peerInfo);const c=new u(l.type,l.key,l.clusterLevel);a.length>0&&(c.providerPeers=a),o.length>0&&(c.closerPeers=o),t("got %s providers %s closerPeers",a.length,o.length),h(null,c)}))}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/rpc/handlers/get-providers.js"}],[4898,{"../../message":4881,"../../utils":4903,"async/parallel":1768,"err-code":2355,"libp2p-record":4925},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/parallel"),i=e("libp2p-record").Record,s=e("err-code"),o=e("../../message"),a=e("../../utils");t.exports=e=>{const t=a.logger(e.peerInfo.id,"rpc:get-value");return function(n,u,c){const l=u.key;if(t("key: %b",l),!l||0===l.length)return c(s(new Error("Invalid key"),"ERR_INVALID_KEY"));const h=new o(o.TYPES.GET_VALUE,l,u.clusterLevel);if(a.isPublicKeyKey(l)){t("is public key");const n=a.fromPublicKeyKey(l);let r;if(e._isSelf(n)?r=e.peerInfo:e.peerBook.has(n)&&(r=e.peerBook.get(n)),r&&r.id.pubKey)return t("returning found public key"),h.record=new i(l,r.id.pubKey.bytes),c(null,h)}r([t=>e._checkLocalDatastore(l,t),t=>e._betterPeersToQuery(u,n,t)],((e,n)=>{if(e)return c(e);const r=n[0],i=n[1];r&&(t("got record"),h.record=r),i.length>0&&(t("got closer %s",i.length),h.closerPeers=i),c(null,h)}))}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/rpc/handlers/get-value.js"}],[4899,{"../../message":4881,"./add-provider":4895,"./find-node":4896,"./get-providers":4897,"./get-value":4898,"./ping":4900,"./put-value":4901},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../../message").TYPES;t.exports=t=>{const n={[r.GET_VALUE]:e("./get-value")(t),[r.PUT_VALUE]:e("./put-value")(t),[r.FIND_NODE]:e("./find-node")(t),[r.ADD_PROVIDER]:e("./add-provider")(t),[r.GET_PROVIDERS]:e("./get-providers")(t),[r.PING]:e("./ping")(t)};return function(e){return n[e]}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/rpc/handlers/index.js"}],[49,{"../../../shared/constants/app":6184,"../../../shared/modules/random-id":6201,"../metamask-controller":82,"./util":81,"@babel/runtime/helpers/interopRequireDefault":195,"@metamask/obs-store":1193,buffer:2081,"eth-rpc-errors":2455,"ethereumjs-util":2521,events:2082,loglevel:5182},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("events")),s=e("@metamask/obs-store"),o=e("ethereumjs-util"),a=e("eth-rpc-errors"),u=r(e("loglevel")),c=e("../../../shared/constants/app"),l=e("../metamask-controller"),h=r(e("../../../shared/modules/random-id")),f=e("./util");const d=/^[0-9A-Fa-f]+$/gu;class p extends i.default{constructor(e){super(),this.memStore=new s.ObservableStore({unapprovedDecryptMsgs:{},unapprovedDecryptMsgCount:0}),this.messages=[],this.metricsEvent=e.metricsEvent}get unapprovedDecryptMsgCount(){return Object.keys(this.getUnapprovedMsgs()).length}getUnapprovedMsgs(){return this.messages.filter((e=>"unapproved"===e.status)).reduce(((e,t)=>(e[t.id]=t,e)),{})}addUnapprovedMessageAsync(e,t){return new Promise(((n,r)=>{if(!e.from)return void r(new Error("MetaMask Decryption: from field is required."));const i=this.addUnapprovedMessage(e,t);this.once(`${i}:finished`,(t=>{switch(t.status){case"decrypted":return void n(t.rawData);case"rejected":return void r(a.ethErrors.provider.userRejectedRequest("MetaMask Decryption: User denied message decryption."));case"errored":return void r(new Error("This message cannot be decrypted"));default:r(new Error(`MetaMask Decryption: Unknown problem: ${JSON.stringify(e)}`))}}))}))}addUnapprovedMessage(e,t){u.default.debug(`DecryptMessageManager addUnapprovedMessage: ${JSON.stringify(e)}`),t&&(e.origin=t.origin),e.data=this.normalizeMsgData(e.data);const n=(new Date).getTime(),r=(0,h.default)(),i={id:r,msgParams:e,time:n,status:"unapproved",type:c.MESSAGE_TYPE.ETH_DECRYPT};return this.addMsg(i),this.emit("update"),r}addMsg(e){this.messages.push(e),this._saveMsgList()}getMsg(e){return this.messages.find((t=>t.id===e))}approveMessage(e){return this.setMsgStatusApproved(e.metamaskId),this.prepMsgForDecryption(e)}setMsgStatusApproved(e){this._setMsgStatus(e,"approved")}setMsgStatusDecrypted(e,t){const n=this.getMsg(e);n.rawData=t,this._updateMsg(n),this._setMsgStatus(e,"decrypted")}prepMsgForDecryption(e){return delete e.metamaskId,Promise.resolve(e)}rejectMsg(e,t=undefined){t&&this.metricsEvent({event:t,category:"Messages",properties:{action:"Decrypt Message Request"}}),this._setMsgStatus(e,"rejected")}errorMessage(e,t){const n=this.getMsg(e);n.error=t,this._updateMsg(n),this._setMsgStatus(e,"errored")}clearUnapproved(){this.messages=this.messages.filter((e=>"unapproved"!==e.status)),this._saveMsgList()}_setMsgStatus(e,t){const n=this.getMsg(e);if(!n)throw new Error(`DecryptMessageManager - Message not found for id: "${e}".`);n.status=t,this._updateMsg(n),this.emit(`${e}:${t}`,n),"rejected"!==t&&"decrypted"!==t&&"errored"!==t||this.emit(`${e}:finished`,n)}_updateMsg(e){const t=this.messages.findIndex((t=>t.id===e.id));-1!==t&&(this.messages[t]=e),this._saveMsgList()}_saveMsgList(){const e=this.getUnapprovedMsgs(),t=Object.keys(e).length;this.memStore.updateState({unapprovedDecryptMsgs:e,unapprovedDecryptMsgCount:t}),this.emit(l.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE)}normalizeMsgData(e){try{const t=(0,o.stripHexPrefix)(e);if(t.match(d))return(0,f.addHexPrefix)(t)}catch(e){u.default.debug("Message was not hex encoded, interpreting as utf8.")}return(0,o.bufferToHex)(t.from(e,"utf8"))}}n.default=p}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/decrypt-message-manager.js"}],[4900,{"../../utils":4903},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../../utils");t.exports=e=>{const t=r.logger(e.peerInfo.id,"rpc:ping");return function(e,n,r){t("from %s",e.id.toB58String()),r(null,n)}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/rpc/handlers/ping.js"}],[4901,{"../../utils":4903,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../../utils"),i=e("err-code");t.exports=e=>{const t=r.logger(e.peerInfo.id,"rpc:put-value");return function(n,s,o){const a=s.key;t("key: %b",a);const u=s.record;if(!u){const e=`Empty record from: ${n.id.toB58String()}`;return t.error(e),o(i(new Error(e),"ERR_EMPTY_RECORD"))}e._verifyRecordLocally(u,(n=>{if(n)return t.error(n.message),o(n);u.timeReceived=new Date;const i=r.bufferToKey(u.key);e.datastore.put(i,u.serialize(),(e=>{if(e)return o(e);o(null,s)}))}))}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/rpc/handlers/put-value.js"}],[4902,{"../constants":4877,"../message":4881,"../utils":4903,"./handlers":4899,"pull-length-prefixed":5459,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream"),i=e("pull-length-prefixed"),s=e("../message"),o=e("./handlers"),a=e("../utils"),u=e("../constants");t.exports=e=>{const t=a.logger(e.peerInfo.id,"rpc"),n=o(e);return function(o,a){a.getPeerInfo(((o,c)=>{if(o)return t.error("Failed to get peer info"),void t.error(o);t("from: %s",c.id.toB58String()),r(a,i.decode(),r.filter((e=>e.length<u.maxMessageSize)),r.map((e=>{let n;try{n=s.deserialize(e)}catch(e){return void t.error("failed to read incoming message",e)}return n})),r.filter(Boolean),r.asyncMap(((r,i)=>function(r,i,s){e._add(r,(e=>{e&&(t.error("Failed to update the kbucket store"),t.error(e));const o=n(i.type);if(!o)return t.error(`no handler found for message type: ${i.type}`),s();o(r,i,s)}))}(c,r,i))),r.filter(Boolean),r.map((e=>{let n;try{n=e.serialize()}catch(e){return void t.error("failed to send message",e)}return n})),r.filter(Boolean),i.encode(),a)}))}}}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/rpc/index.js"}],[4903,{"async/map":1764,"async/setImmediate":1773,"base32.js":1952,buffer:2081,debug:2253,"err-code":2355,"interface-datastore":4411,"libp2p-record":4925,multihashes:5234,"multihashing-async":4875,"peer-id":5410,"xor-distance":6170},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("debug"),i=e("multihashing-async"),s=e("multihashes"),o=e("interface-datastore").Key,a=e("base32.js"),u=e("xor-distance"),c=e("async/map"),l=e("libp2p-record").Record,h=e("async/setImmediate"),f=e("peer-id"),d=e("err-code");n.convertBuffer=(e,t)=>{i.digest(e,"sha2-256",t)},n.convertPeerId=(e,t)=>{i.digest(e.id,"sha2-256",t)},n.bufferToKey=e=>new o("/"+n.encodeBase32(e),!1),n.keyForPublicKey=e=>t.concat([t.from("/pk/"),e.id]),n.isPublicKeyKey=e=>"/pk/"===e.slice(0,4).toString(),n.fromPublicKeyKey=e=>new f(e.slice(4)),n.now=()=>Date.now(),n.encodeBase32=e=>(new a.Encoder).write(e).finalize(),n.decodeBase32=e=>{const n=new a.Decoder;return t.from(n.write(e).finalize())},n.sortClosestPeers=(e,t,r)=>{c(e,((e,r)=>{n.convertPeerId(e,((n,i)=>{if(n)return r(n);r(null,{peer:e,distance:u(i,t)})}))}),((e,t)=>{if(e)return r(e);r(null,t.sort(n.xorCompare).map((e=>e.peer)))}))},n.xorCompare=(e,t)=>u.compare(e.distance,t.distance),n.pathSize=(e,t)=>Math.ceil(e/t),n.createPutRecord=(e,t,n)=>{const r=new Date,i=new l(e,t,r);h((()=>{n(null,i.serialize())}))},n.logger=(e,t)=>{const n=["libp2p","dht"];t&&n.push(t),e&&n.push(`${e.toB58String().slice(0,8)}`),r.formatters.b=e=>s.toB58String(e);const i=r(n.join(":"));return i.error=r(n.concat(["error"]).join(":")),i},n.TimeoutError=class extends Error{get code(){return"ETIMEDOUT"}},n.withTimeout=(e,t)=>async(...n)=>Promise.race([e(...n),new Promise(((e,n)=>{setTimeout((()=>{n(d(new Error("Async function did not complete before timeout"),"ETIMEDOUT"))}),t)}))])}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-kad-dht",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-kad-dht/src/utils.js"}],[4904,{"./util":4907,"async/detect":1731,"async/series":1772,"async/setImmediate":1773,"async/waterfall":1779,buffer:2081,"err-code":2355,"node-forge/lib/forge":5269,"node-forge/lib/pbe":5276,"node-forge/lib/pkcs7":5280},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("async/setImmediate"),i=e("async/series"),s=e("async/detect"),o=e("async/waterfall");e("node-forge/lib/pkcs7"),e("node-forge/lib/pbe");const a=e("node-forge/lib/forge"),u=e("./util"),c=e("err-code");t.exports=class{constructor(e){if(!e)throw c(new Error("keychain is required"),"ERR_KEYCHAIN_REQUIRED");this.keychain=e}encrypt(e,t,s){const o=this,l=(e,t)=>r((()=>s(e,t)));if(!n.isBuffer(t))return l(c(new Error("Plain data must be a Buffer"),"ERR_INVALID_PARAMS"));i([t=>o.keychain.findKeyByName(e,t),t=>o.keychain._getPrivateKey(e,t)],((e,r)=>{if(e)return l(e);let i=r[0],c=r[1];try{const e=a.pki.decryptRsaPrivateKey(c,o.keychain._());u.certificateForKey(i,e,((e,r)=>{if(e)return s(e);const i=a.pkcs7.createEnvelopedData();i.addRecipient(r),i.content=a.util.createBuffer(t),i.encrypt();const o=a.asn1.toDer(i.toAsn1()).getBytes();l(null,n.from(o,"binary"))}))}catch(e){l(e)}}))}decrypt(e,t){const i=(e,n)=>r((()=>t(e,n)));if(!n.isBuffer(e))return i(c(new Error("CMS data is required"),"ERR_INVALID_PARAMS"));const u=this;let l;try{const t=a.util.createBuffer(e.toString("binary")),n=a.asn1.fromDer(t);l=a.pkcs7.messageFromAsn1(n)}catch(e){return i(c(new Error("Invalid CMS: "+e.message),"ERR_INVALID_CMS"))}const h=l.recipients.filter((e=>e.issuer.find((e=>"O"===e.shortName&&"ipfs"===e.value)))).filter((e=>e.issuer.find((e=>"CN"===e.shortName)))).map((e=>({recipient:e,keyId:e.issuer.find((e=>"CN"===e.shortName)).value})));s(h,((e,t)=>u.keychain.findKeyById(e.keyId,((e,n)=>t(null,!e&&n)))),((e,t)=>{if(e)return i(e);if(!t){const t=h.map((e=>e.keyId));return e=c(new Error("Decryption needs one of the key(s): "+t.join(", ")),"ERR_MISSING_KEYS",{missingKeys:t}),i(e)}o([e=>u.keychain.findKeyById(t.keyId,e),(e,t)=>u.keychain._getPrivateKey(e.name,t)],((e,r)=>{if(e)return i(e);const s=a.pki.decryptRsaPrivateKey(r,u.keychain._());l.decrypt(t.recipient,s),i(null,n.from(l.content.getBytes(),"binary"))}))}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-keychain",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-keychain/src/cms.js"}],[4905,{"./keychain":4906},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("./keychain")}}},{package:"libp2p-keychain",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-keychain/src/index.js"}],[4906,{"./cms":4904,"err-code":2355,"interface-datastore":4411,"libp2p-crypto":4850,"merge-options":5193,"pull-stream/pull":5478,"pull-stream/sinks/collect":5479,"sanitize-filename":5741},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("sanitize-filename"),i=e("merge-options"),s=e("libp2p-crypto"),o=e("interface-datastore"),a=e("pull-stream/sinks/collect"),u=e("pull-stream/pull"),c=e("./cms"),l=e("err-code"),h="/info/",f=14,d=16,p=1e3,m={dek:{keyLength:64,iterationCount:1e4,salt:"you should override this value with a crypto secure random number",hash:"sha2-512"}};function b(e){return!!e&&("string"==typeof e&&e===r(e.trim()))}function g(e,t){const n=800*Math.random()+200;setTimeout(e,n,t,null)}function y(e){return new o.Key("/pkcs8/"+e)}function _(e){return new o.Key(h+e)}t.exports=class{constructor(e,t){if(!e)throw new Error("store is required");this.store=e;const n=i(m,t);if(!n.passPhrase||n.passPhrase.length<20)throw new Error("passPhrase must be least 20 characters");if(n.dek.keyLength<f)throw new Error(`dek.keyLength must be least ${f} bytes`);if(n.dek.salt.length<d)throw new Error(`dek.saltLength must be least ${d} bytes`);if(n.dek.iterationCount<p)throw new Error(`dek.iterationCount must be least ${p}`);const r=s.pbkdf2(n.passPhrase,n.dek.salt,n.dek.iterationCount,n.dek.keyLength,n.dek.hash);Object.defineProperty(this,"_",{value:()=>r})}get cms(){return new c(this)}static generateOptions(){const e=Object.assign({},m),t=3*Math.ceil(d/3);return e.dek.salt=s.randomBytes(t).toString("base64"),e}static get options(){return m}createKey(e,t,n,r){const i=this;if(!b(e)||"self"===e)return g(r,l(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if("string"!=typeof t)return g(r,l(new Error(`Invalid key type '${t}'`),"ERR_INVALID_KEY_TYPE"));if(!Number.isSafeInteger(n))return g(r,l(new Error(`Invalid key size '${n}'`),"ERR_INVALID_KEY_SIZE"));const o=y(e);i.store.has(o,((a,u)=>{if(a)return g(r,a);if(u)return g(r,l(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));if("rsa"===t.toLowerCase())if(n<2048)return g(r,l(new Error(`Invalid RSA key size ${n}`),"ERR_INVALID_KEY_SIZE"));s.keys.generateKeyPair(t,n,((t,n)=>{if(t)return g(r,t);n.id(((t,s)=>{if(t)return g(r,t);n.export(this._(),((t,n)=>{if(t)return g(r,t);const a={name:e,id:s},u=i.store.batch();u.put(o,n),u.put(_(e),JSON.stringify(a)),u.commit((e=>{if(e)return g(r,e);r(null,a)}))}))}))}))}))}listKeys(e){const t={prefix:h};u(this.store.query(t),a(((t,n)=>{if(t)return g(e,t);const r=n.map((e=>JSON.parse(e.value)));e(null,r)})))}findKeyById(e,t){this.listKeys(((n,r)=>{if(n)return g(t,n);const i=r.find((t=>t.id===e));t(null,i)}))}findKeyByName(e,t){if(!b(e))return g(t,l(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));const n=_(e);this.store.get(n,((n,r)=>{if(n)return g(t,l(new Error(`Key '${e}' does not exist. ${n.message}`),"ERR_KEY_NOT_FOUND"));t(null,JSON.parse(r.toString()))}))}removeKey(e,t){const n=this;if(!b(e)||"self"===e)return g(t,l(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));const r=y(e);n.findKeyByName(e,((i,s)=>{if(i)return g(t,i);const o=n.store.batch();o.delete(r),o.delete(_(e)),o.commit((e=>{if(e)return g(t,e);t(null,s)}))}))}renameKey(e,t,n){const r=this;if(!b(e)||"self"===e)return g(n,l(new Error(`Invalid old key name '${e}'`),"ERR_OLD_KEY_NAME_INVALID"));if(!b(t)||"self"===t)return g(n,l(new Error(`Invalid new key name '${t}'`),"ERR_NEW_KEY_NAME_INVALID"));const i=y(e),s=y(t),o=_(e),a=_(t);this.store.get(i,((u,c)=>{if(u)return g(n,l(new Error(`Key '${e}' does not exist. ${u.message}`),"ERR_KEY_NOT_FOUND"));const h=c.toString();r.store.has(s,((e,u)=>e?g(n,e):u?g(n,l(new Error(`Key '${t}' already exists`),"ERR_KEY_ALREADY_EXISTS")):void r.store.get(o,((e,u)=>{if(e)return g(n,e);const c=JSON.parse(u.toString());c.name=t;const l=r.store.batch();l.put(s,h),l.put(a,JSON.stringify(c)),l.delete(i),l.delete(o),l.commit((e=>{if(e)return g(n,e);n(null,c)}))}))))}))}exportKey(e,t,n){if(!b(e))return g(n,l(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return g(n,l(new Error("Password is required"),"ERR_PASSWORD_REQUIRED"));const r=y(e);this.store.get(r,((r,i)=>{if(r)return g(n,l(new Error(`Key '${e}' does not exist. ${r.message}`),"ERR_KEY_NOT_FOUND"));const o=i.toString();s.keys.__import__(o,this._(),((e,r)=>{if(e)return g(n,e);r.export(t,n)}))}))}importKey(e,t,n,r){const i=this;if(!b(e)||"self"===e)return g(r,l(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return g(r,"PEM encoded key is required");const o=y(e);i.store.has(o,((a,u)=>a?g(r,a):u?g(r,l(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS")):void s.keys.__import__(t,n,((t,n)=>{if(t)return g(r,l(new Error("Cannot read the key, most likely the password is wrong"),"ERR_CANNOT_READ_KEY"));n.id(((t,s)=>{if(t)return g(r,t);n.export(this._(),((t,n)=>{if(t)return g(r,t);const a={name:e,id:s},u=i.store.batch();u.put(o,n),u.put(_(e),JSON.stringify(a)),u.commit((e=>{if(e)return g(r,e);r(null,a)}))}))}))}))))}importPeer(e,t,n){const r=this;if(!b(e))return g(n,l(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t||!t.privKey)return g(n,l(new Error("Peer.privKey is required"),"ERR_MISSING_PRIVATE_KEY"));const i=t.privKey,s=y(e);r.store.has(s,((t,o)=>t?g(n,t):o?g(n,l(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS")):void i.id(((t,o)=>{if(t)return g(n,t);i.export(this._(),((t,i)=>{if(t)return g(n,t);const a={name:e,id:o},u=r.store.batch();u.put(s,i),u.put(_(e),JSON.stringify(a)),u.commit((e=>{if(e)return g(n,e);n(null,a)}))}))}))))}_getPrivateKey(e,t){if(!b(e))return g(t,l(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));this.store.get(y(e),((n,r)=>{if(n)return g(t,l(new Error(`Key '${e}' does not exist. ${n.message}`),"ERR_KEY_NOT_FOUND"));t(null,r.toString())}))}}}}},{package:"libp2p-keychain",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-keychain/src/keychain.js"}],[4907,{"node-forge/lib/forge":5269,"node-forge/lib/x509":5292},function(){with(this)return function(){"use strict";return function(e,t,n){e("node-forge/lib/x509");const r=e("node-forge/lib/forge").pki;t.exports.certificateForKey=(e,t,n)=>{const i=r.setRsaPublicKey(t.n,t.e),s=r.createCertificate();s.publicKey=i,s.serialNumber="01",s.validity.notBefore=new Date,s.validity.notAfter=new Date,s.validity.notAfter.setFullYear(s.validity.notBefore.getFullYear()+10);const o=[{name:"organizationName",value:"ipfs"},{shortName:"OU",value:"keystore"},{name:"commonName",value:e.id}];return s.setSubject(o),s.setIssuer(o),s.setExtensions([{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"extKeyUsage",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:"nsCertType",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),s.sign(t),n(null,s)}}}},{package:"libp2p-keychain",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-keychain/src/util.js"}],[4908,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={PROTOCOL:"/ipfs/ping/1.0.0",PING_LENGTH:32}}}},{package:"libp2p-ping",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-ping/src/constants.js"}],[4909,{"./constants":4908,debug:2253,"pull-handshake":5456,"pull-stream/pull":5478},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream/pull"),i=e("pull-handshake"),s=e("./constants"),o=s.PROTOCOL,a=s.PING_LENGTH,u=e("debug"),c=u("libp2p-ping");c.error=u("libp2p-ping:error"),(n=t.exports).mount=function(e){e.handle(o,((e,t)=>{const n=i({timeout:0}),s=n.handshake;r(t,n,t),function e(){s.read(a,((t,n)=>{if(!0!==t)return t?c.error(t):(s.write(n),e())}))}()}))},n.unmount=function(e){e.unhandle(o)}}}},{package:"libp2p-ping",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-ping/src/handler.js"}],[4910,{"./handler":4909,"./ping":4911},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./handler");(n=t.exports=e("./ping")).mount=r.mount,n.unmount=r.unmount}}},{package:"libp2p-ping",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-ping/src/index.js"}],[4911,{"./constants":4908,"./util":4912,debug:2253,events:2082,"pull-handshake":5456,"pull-stream/pull":5478,"pull-stream/sources/empty":5488},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events").EventEmitter,i=e("pull-stream/pull"),s=e("pull-stream/sources/empty"),o=e("pull-handshake"),a=e("./constants"),u=e("./util").rnd,c=e("debug"),l=c("libp2p-ping");l.error=c("libp2p-ping:error");const h=a.PROTOCOL,f=a.PING_LENGTH;t.exports=class extends r{constructor(e,t){super(),this._stopped=!1,this.peer=t,this.swarm=e}start(){l("dialing %s to %s",h,this.peer.id.toB58String()),this.swarm.dial(this.peer,h,((e,t)=>{if(e)return this.emit("error",e);const n=o({timeout:0});this.shake=n.handshake,i(n,t,n);const r=this;!function e(){let t=new Date,n=u(f);r.shake.write(n),r.shake.read(f,((i,s)=>{let o=new Date;if(i||!n.equals(s)){const e=new Error("Received wrong ping ack");return r.emit("error",e)}r.emit("ping",o-t),r._stopped||e()}))}()}))}stop(){!this._stopped&&this.shake&&(this._stopped=!0,i(s(),this.shake.rest()))}}}}},{package:"libp2p-ping",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-ping/src/ping.js"}],[4912,{"./constants":4908,"libp2p-crypto":4850},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("libp2p-crypto"),i=e("./constants");t.exports.rnd=e=>(e||(e=i.PING_LENGTH),r.randomBytes(e))}}},{package:"libp2p-ping",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-ping/src/util.js"}],[4913,{"./message":4914,"./message/sign":4916,"./peer":4918,"./utils":4919,"async/each":1733,"async/nextTick":1767,debug:2253,"err-code":2355,events:2082,"pull-stream/pull":5478,"pull-stream/sources/empty":5488,"time-cache":5934},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events"),i=e("pull-stream/pull"),s=e("pull-stream/sources/empty"),o=e("async/each"),a=e("time-cache"),u=e("debug"),c=e("err-code"),l=e("./peer"),h=e("./message"),{signMessage:f}=e("./message/sign"),d=e("./utils"),p=e("async/nextTick");t.exports=class extends r{constructor(e,t,n,r){super(),r={signMessages:!0,...r},this.log=u(e),this.log.err=u(`${e}:error`),this.multicodec=t,this.libp2p=n,this.started=!1,r.signMessages&&(this.peerId=this.libp2p.peerInfo.id),this.topics=new Map,this.seenCache=new a,this.peers=new Map,this._dials=new Set,this._onConnection=this._onConnection.bind(this),this._dialPeer=this._dialPeer.bind(this)}_addPeer(e){const t=e.info.id.toB58String();let n=this.peers.get(t);return n||(this.log("new peer",t),this.peers.set(t,e),n=e,e.once("close",(()=>this._removePeer(e)))),++n._references,n}_removePeer(e){const t=e.info.id.toB58String();return this.log("remove",t,e._references),0==--e._references&&(this.log("delete peer",t),this.peers.delete(t)),e}_dialPeer(e,t){t=t||function(){};const n=e.id.toB58String(),r=this.peers.get(n);return r&&r.isConnected?p((()=>t())):this._dials.has(n)?(this.log("already dialing %s, ignoring dial attempt",n),p((()=>t()))):(this._dials.add(n),this.log("dialing %s",n),void this.libp2p.dialProtocol(e,this.multicodec,((r,i)=>{this.log("dial to %s complete",n);const s=!this._dials.has(n);return this._dials.delete(n),r?(this.log.err(r),t()):s?(this.log("pubsub was stopped, not processing dial to %s",n),t()):void this._onDial(e,i,t)})))}_onDial(e,t,n){const r=e.id.toB58String();this.log("connected",r);this._addPeer(new l(e)).attachConnection(t),p((()=>n()))}_onConnection(e,t){t.getPeerInfo(((e,n)=>{if(e)return this.log.err("Failed to identify incomming conn",e),i(s(),t);const r=n.id.toB58String(),o=this._addPeer(new l(n));this._processConnection(r,t,o)}))}_processConnection(e,t,n){throw c("_processConnection must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}_onConnectionEnd(e,t,n){n&&"socket hang up"!==n.message&&this.log.err(n),this.log("connection ended",e,n?n.message:""),this._removePeer(t)}_buildMessage(e,t){const n=d.normalizeOutRpcMessage(e);this.peerId?f(this.peerId,n,t):p(t,null,n)}publish(e,t,n){throw c("publish must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}subscribe(e){throw c("subscribe must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}unsubscribe(e){throw c("unsubscribe must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}start(e){if(this.started)return p((()=>e(new Error("already started"))));this.log("starting"),this.libp2p.handle(this.multicodec,this._onConnection),this.libp2p.on("peer:connect",this._dialPeer);const t=Object.values(this.libp2p.peerBook.getAll());o(t,((e,t)=>this._dialPeer(e,t)),(t=>{p((()=>{this.log("started"),this.started=!0,e(t)}))}))}stop(e){if(!this.started)return p((()=>e(new Error("not started yet"))));this.libp2p.unhandle(this.multicodec),this.libp2p.removeListener("peer:connect",this._dialPeer),this._dials=new Set,this.log("stopping"),o(this.peers.values(),((e,t)=>e.close(t)),(t=>{if(t)return e(t);this.log("stopped"),this.peers=new Map,this.started=!1,e()}))}},t.exports.message=h,t.exports.utils=d}}},{package:"libp2p-pubsub",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-pubsub/src/index.js"}],[4914,{"./rpc.proto.js":4915,"./topic-descriptor.proto.js":4917,protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("protons"),i=r(e("./rpc.proto.js")),s=i.RPC,o=r(e("./topic-descriptor.proto.js"));(n=t.exports).rpc=i,n.td=o,n.RPC=s,n.Message=s.Message,n.SubOpts=s.SubOpts}}},{package:"libp2p-pubsub",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-pubsub/src/message/index.js"}],[4915,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="\nmessage RPC {\n  repeated SubOpts subscriptions = 1;\n  repeated Message msgs = 2;\n\n  message SubOpts {\n    optional bool subscribe = 1; // subscribe or unsubcribe\n    optional string topicID = 2;\n  }\n\n  message Message {\n    optional bytes from = 1;\n    optional bytes data = 2;\n    optional bytes seqno = 3;\n    repeated string topicIDs = 4;\n    optional bytes signature = 5;\n    optional bytes key = 6;\n  }\n}"}}},{package:"libp2p-pubsub",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-pubsub/src/message/rpc.proto.js"}],[4916,{"./index":4914,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const{Message:r}=e("./index"),i=n.from("libp2p-pubsub:");t.exports.SignPrefix=i,t.exports.signMessage=function(e,t,s){const o=n.concat([i,r.encode(t)]);e.privKey.sign(o,((n,r)=>{if(n)return s(n);s(null,{...t,signature:r,key:e.pubKey.bytes})}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-pubsub",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-pubsub/src/message/sign.js"}],[4917,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="\n// topicCID = cid(merkledag_protobuf(topicDescriptor)); (not the topic.name)\nmessage TopicDescriptor {\n  optional string name = 1;\n  optional AuthOpts auth = 2;\n  optional EncOpts enc = 2;\n\n  message AuthOpts {\n    optional AuthMode mode = 1;\n    repeated bytes keys = 2; // root keys to trust\n\n    enum AuthMode {\n      NONE = 0; // no authentication, anyone can publish\n      KEY = 1; // only messages signed by keys in the topic descriptor are accepted\n      WOT = 2; // web of trust, certificates can allow publisher set to grow\n    }\n  }\n\n  message EncOpts {\n    optional EncMode mode = 1;\n    repeated bytes keyHashes = 2; // the hashes of the shared keys used (salted)\n\n    enum EncMode {\n      NONE = 0; // no encryption, anyone can read\n      SHAREDKEY = 1; // messages are encrypted with shared key\n      WOT = 2; // web of trust, certificates can allow publisher set to grow\n    }\n  }\n}"}}},{package:"libp2p-pubsub",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-pubsub/src/message/topic-descriptor.proto.js"}],[4918,{"./message":4914,"async/setImmediate":1773,events:2082,"pull-length-prefixed":5459,"pull-pushable":5471,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-length-prefixed"),i=e("pull-pushable"),s=e("pull-stream"),o=e("async/setImmediate"),a=e("events"),{RPC:u}=e("./message");t.exports=class extends a{constructor(e){super(),this.info=e,this.conn=null,this.topics=new Set,this.stream=null,this._references=0}get isConnected(){return Boolean(this.conn)}get isWritable(){return Boolean(this.stream)}write(e){if(!this.isWritable){const e=this.info.id.toB58String();throw new Error("No writable connection to "+e)}this.stream.push(e)}attachConnection(e){this.conn=e,this.stream=new i,s(this.stream,r.encode(),e,s.onEnd((()=>{this.conn=null,this.stream=null,this.emit("close")}))),this.emit("connection")}_sendRawSubscriptions(e,t){if(0===e.size)return;const n=[];e.forEach((e=>{n.push({subscribe:t,topicID:e})})),this.write(u.encode({subscriptions:n}))}sendSubscriptions(e){this._sendRawSubscriptions(e,!0)}sendUnsubscriptions(e){this._sendRawSubscriptions(e,!1)}sendMessages(e){this.write(u.encode({msgs:e}))}updateSubscriptions(e){e.forEach((e=>{e.subscribe?this.topics.add(e.topicID):this.topics.delete(e.topicID)}))}close(e){this._references=1,this.stream&&this.stream.end(),o((()=>{this.conn=null,this.stream=null,this.emit("close"),e()}))}}}}},{package:"libp2p-pubsub",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-pubsub/src/peer.js"}],[4919,{"../../is-buffer/index.js":4686,bs58:2088,"libp2p-crypto":4850},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){const i=e("libp2p-crypto"),s=e("bs58");(n=t.exports).randomSeqno=()=>i.randomBytes(20),n.msgId=(e,t)=>e+t.toString("hex"),n.anyMatch=(e,t)=>{let n;n=Array.isArray(t)?e=>t.indexOf(e)>-1:e=>t.has(e);for(let t of e)if(n(t))return!0;return!1},n.ensureArray=e=>Array.isArray(e)?e:[e],n.normalizeInRpcMessages=e=>e?e.map((e=>{const t=Object.assign({},e);return r.isBuffer(e.from)&&(t.from=s.encode(e.from)),t})):e,n.normalizeOutRpcMessage=e=>{const t=Object.assign({},e);return("string"==typeof e.from||e.from instanceof String)&&(t.from=s.decode(e.from)),t},n.normalizeOutRpcMessages=e=>e?e.map(n.normalizeOutRpcMessage):e}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"libp2p-pubsub",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-pubsub/src/utils.js"}],[4920,{"./utils":4924,blakejs:2034,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("blakejs"),i=e("./utils").toCallback,s={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},o={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},a=(e,t)=>i((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/node_modules/multihashing-async/src/blake.js"}],[4921,{buffer:2081,nodeify:5294},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("nodeify"),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function s(e){if(!i)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,s)=>{const o=i.digest({name:e},t);if("function"!=typeof o.then)return o.onerror=()=>{s(new Error(`hashing data using ${e}`))},void(o.oncomplete=e=>{s(null,e.target.result)});r(o.then((e=>n.from(new Uint8Array(e)))),s)}}t.exports={sha1:function(e,t){s("SHA-1")(e,t)},sha2256:function(e,t){s("SHA-256")(e,t)},sha2512:function(e,t){s("SHA-512")(e,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/node_modules/multihashing-async/src/crypto-sha1-2-browser.js"}],[4922,{"./blake":4920,"./crypto-sha1-2":4921,"./utils":4924,buffer:2081,"js-sha3":4719,murmurhash3js:5254},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("js-sha3"),i=e("murmurhash3js"),s=e("./utils"),o=e("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;t.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(r.sha3_512)),sha3384:a(u(r.sha3_384)),sha3256:a(u(r.sha3_256)),sha3224:a(u(r.sha3_224)),shake128:a(u(r.shake_128,128)),shake256:a(u(r.shake_256,256)),keccak224:a(u(r.keccak_224)),keccak256:a(u(r.keccak_256)),keccak384:a(u(r.keccak_384)),keccak512:a(u(r.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/node_modules/multihashing-async/src/crypto.js"}],[4923,{"./crypto":4922,buffer:2081,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("multihashes"),i=e("./crypto");function s(e,t,n,i){if("function"==typeof n&&(i=n,n=undefined),!i)throw new Error("Missing callback");s.digest(e,t,n,((e,s)=>{if(e)return i(e);i(null,r.encode(s,t,n))}))}t.exports=s,s.Buffer=n,s.multihash=r,s.digest=function(e,t,n,r){if("function"==typeof n&&(r=n,n=undefined),!r)throw new Error("Missing callback");let i,o=r;n&&(o=(e,t)=>{if(e)return r(e);r(null,t.slice(0,n))});try{i=s.createHash(t)}catch(e){return o(e)}i(e,o)},s.createHash=function(e){if(e=r.coerceCode(e),!s.functions[e])throw new Error("multihash function "+e+" not yet supported");return s.functions[e]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions),s.validate=(e,t,i)=>{s(e,r.decode(t).name,((e,r)=>{if(e)return i(e);i(e,0===n.compare(t,r))}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/node_modules/multihashing-async/src/index.js"}],[4924,{_process:5420,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e,t){(function(){n.toCallback=t=>function(n,r){let i;try{i=t(n)}catch(t){return void e.nextTick(r,t)}e.nextTick(r,null,i)},n.toBuf=(e,n)=>r=>{let i=e(r,n);return t.from(i,"hex")},n.fromString=(e,n)=>r=>{const i=t.isBuffer(r)?r.toString():r;return e(i,n)},n.fromNumberTo32BitBuf=(e,n)=>r=>{let i=e(r,n);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return t.from(s)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/node_modules/multihashing-async/src/utils.js"}],[4925,{"./record":4926,"./selection":4928,"./validator":4932},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={Record:e("./record"),validator:e("./validator"),selection:e("./selection")}}}},{package:"libp2p-record",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/src/index.js"}],[4926,{"../../is-buffer/index.js":4686,"./record.proto":4927,"./utils":4931,assert:1700,protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("protons"),i=e("assert"),s=r(e("./record.proto")).Record,o=e("./utils");class a{constructor(e,t,r){e&&i(n.isBuffer(e),"key must be a Buffer"),t&&i(n.isBuffer(t),"value must be a buffer"),this.key=e,this.value=t,this.timeReceived=r}serialize(){return s.encode(this.prepareSerialize())}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&o.toRFC3339(this.timeReceived)}}static deserialize(e){const t=s.decode(e);return a.fromDeserialized(t)}static fromDeserialized(e){let t;e.timeReceived&&(t=o.parseRFC3339(e.timeReceived));return new a(e.key,e.value,t)}}t.exports=a}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"libp2p-record",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/src/record.js"}],[4927,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="// Record represents a dht record that contains a value\n// for a key value pair\nmessage Record {\n  // The key that references this record\n  bytes key = 1;\n\n  // The actual value this record is storing\n  bytes value = 2;\n\n  // Note: These fields were removed from the Record message\n  // hash of the authors public key\n  // optional bytes author = 3;\n  // A PKI signature for the key+value+author\n  // optional bytes signature = 4;\n\n  // Time the record was received, set by receiver\n  optional string timeReceived = 5;\n}"}}},{package:"libp2p-record",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/src/record.proto.js"}],[4928,{"./selectors":4929,buffer:2081,"buffer-split":2094,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("buffer-split"),i=e("err-code");t.exports={bestRecord:(e,t,s)=>{if(0===s.length){throw i(new Error("No records given"),"ERR_NO_RECORDS_RECEIVED")}const o=r(t,n.from("/"));if(o.length<3){throw i(new Error("Record key does not have a selector function"),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")}const a=e[o[1].toString()];if(!a){const e=`Unrecognized key prefix: ${o[1]}`;throw i(new Error(e),"ERR_UNRECOGNIZED_KEY_PREFIX")}return a(t,s)},selectors:e("./selectors")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-record",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/src/selection.js"}],[4929,{"./public-key":4930},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={pk:e("./public-key")}}}},{package:"libp2p-record",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/src/selectors/index.js"}],[4930,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=(e,t)=>0}}},{package:"libp2p-record",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/src/selectors/public-key.js"}],[4931,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports.toRFC3339=e=>`${e.getUTCFullYear()}-${String(e.getUTCMonth()+1).padStart(2,"0")}-${String(e.getUTCDate()).padStart(2,"0")}T${String(e.getUTCHours()).padStart(2,"0")}:${String(e.getUTCMinutes()).padStart(2,"0")}:${String(e.getUTCSeconds()).padStart(2,"0")}.${1e3*e.getUTCMilliseconds()*1e3}Z`,t.exports.parseRFC3339=e=>{const t=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T"+"(\\d{2}):(\\d{2}):(\\d{2})"+"\\.(\\d+)Z"),n=String(e).trim().match(t);if(!n)throw new Error("Invalid format");const r=parseInt(n[1],10),i=parseInt(n[2],10)-1,s=parseInt(n[3],10),o=parseInt(n[4],10),a=parseInt(n[5],10),u=parseInt(n[6],10),c=parseInt(n[7].slice(0,-6),10);return new Date(Date.UTC(r,i,s,o,a,u,c))}}}},{package:"libp2p-record",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/src/utils.js"}],[4932,{"./validators":4933,buffer:2081,"buffer-split":2094,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("buffer-split"),i=e("err-code");t.exports={verifyRecord:(e,t,s)=>{const o=t.key,a=r(o,n.from("/"));if(a.length<3)return s();const u=e[a[1].toString()];if(!u){return s(i(new Error("Invalid record keytype"),"ERR_INVALID_RECORD_KEY_TYPE"))}u.func(o,t.value,s)},validators:e("./validators")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-record",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/src/validator.js"}],[4933,{"./public-key":4934},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={pk:e("./public-key")}}}},{package:"libp2p-record",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/src/validators/index.js"}],[4934,{"../../../is-buffer/index.js":4686,"async/setImmediate":1773,"multihashing-async":4923},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("async/setImmediate"),i=e("multihashing-async");t.exports={func:(e,t,s)=>{const o=e=>r((()=>s(e)));if(!n.isBuffer(e))return o(new Error('"key" must be a Buffer'));if(e.length<3)return o(new Error("invalid public key record"));if("/pk/"!==e.slice(0,4).toString())return o(new Error("key was not prefixed with /pk/"));const a=e.slice(4);i(t,"sha2-256",((e,t)=>e?o(e):a.equals(t)?void o():o(new Error("public key does not match passed in key"))))},sign:!1}}).call(this)}).call(this,{isBuffer:e("../../../is-buffer/index.js")})}}},{package:"libp2p-record",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-record/src/validators/public-key.js"}],[4935,{"./utils":4939,blakejs:2034,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("blakejs"),i=e("./utils").toCallback,s={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},o={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},a=(e,t)=>i((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/node_modules/multihashing-async/src/blake.js"}],[4936,{buffer:2081,nodeify:5294},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("nodeify"),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function s(e){if(!i)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,s)=>{const o=i.digest({name:e},t);if("function"!=typeof o.then)return o.onerror=()=>{s(new Error(`hashing data using ${e}`))},void(o.oncomplete=e=>{s(null,e.target.result)});r(o.then((e=>n.from(new Uint8Array(e)))),s)}}t.exports={sha1:function(e,t){s("SHA-1")(e,t)},sha2256:function(e,t){s("SHA-256")(e,t)},sha2512:function(e,t){s("SHA-512")(e,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/node_modules/multihashing-async/src/crypto-sha1-2-browser.js"}],[4937,{"./blake":4935,"./crypto-sha1-2":4936,"./utils":4939,buffer:2081,"js-sha3":4719,murmurhash3js:5254},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("js-sha3"),i=e("murmurhash3js"),s=e("./utils"),o=e("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;t.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(r.sha3_512)),sha3384:a(u(r.sha3_384)),sha3256:a(u(r.sha3_256)),sha3224:a(u(r.sha3_224)),shake128:a(u(r.shake_128,128)),shake256:a(u(r.shake_256,256)),keccak224:a(u(r.keccak_224)),keccak256:a(u(r.keccak_256)),keccak384:a(u(r.keccak_384)),keccak512:a(u(r.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/node_modules/multihashing-async/src/crypto.js"}],[4938,{"./crypto":4937,buffer:2081,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("multihashes"),i=e("./crypto");function s(e,t,n,i){if("function"==typeof n&&(i=n,n=undefined),!i)throw new Error("Missing callback");s.digest(e,t,n,((e,s)=>{if(e)return i(e);i(null,r.encode(s,t,n))}))}t.exports=s,s.Buffer=n,s.multihash=r,s.digest=function(e,t,n,r){if("function"==typeof n&&(r=n,n=undefined),!r)throw new Error("Missing callback");let i,o=r;n&&(o=(e,t)=>{if(e)return r(e);r(null,t.slice(0,n))});try{i=s.createHash(t)}catch(e){return o(e)}i(e,o)},s.createHash=function(e){if(e=r.coerceCode(e),!s.functions[e])throw new Error("multihash function "+e+" not yet supported");return s.functions[e]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/node_modules/multihashing-async/src/index.js"}],[4939,{_process:5420,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e,t){(function(){n.toCallback=t=>function(n,r){let i;try{i=t(n)}catch(t){return void e.nextTick(r,t)}e.nextTick(r,null,i)},n.toBuf=(e,n)=>r=>{let i=e(r,n);return t.from(i,"hex")},n.fromString=(e,n)=>r=>{const i=t.isBuffer(r)?r.toString():r;return e(i,n)},n.fromNumberTo32BitBuf=(e,n)=>r=>{let i=e(r,n);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return t.from(s)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/node_modules/multihashing-async/src/utils.js"}],[4940,{buffer:2081,"pull-length-prefixed":5459,"pull-stream/pull":5478,"pull-stream/throughs/async-map":5495,"pull-stream/throughs/map":5500},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("pull-stream/pull"),i=e("pull-stream/throughs/map"),s=e("pull-stream/throughs/async-map"),o=e("pull-length-prefixed"),a={fixed:!0,bytes:4};function u(){return i((e=>"string"==typeof e?t.from(e,"utf-8"):e))}n.createBoxStream=(e,n)=>r(u(),s(((r,i)=>{e.encrypt(r,((e,r)=>{if(e)return i(e);n.digest(r,((e,n)=>{if(e)return i(e);i(null,t.concat([r,n]))}))}))})),o.encode(a)),n.createUnboxStream=(e,t)=>r(u(),o.decode(a),s(((n,r)=>{const i=n.length,s=t.length;if(i<s)return r(new Error(`buffer (${i}) shorter than MAC size (${s})`));const o=i-s,a=n.slice(0,o),u=n.slice(o);t.digest(a,((t,n)=>t?r(t):u.equals(n)?void e.decrypt(a,((e,t)=>{if(e)return r(e);r(null,t)})):r(new Error(`MAC Invalid: ${u.toString("hex")} != ${n.toString("hex")}`))))})))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-secio",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/src/etm.js"}],[4941,{"../support":4949,"./secio.proto":4946,"async/parallel":1768,"async/waterfall":1779,buffer:2081,debug:2253,"libp2p-crypto":4850,"peer-id":5410,protons:5440},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("protons"),i=e("peer-id"),s=e("libp2p-crypto"),o=e("async/parallel"),a=e("async/waterfall"),u=e("debug"),c=u("libp2p:secio");c.error=u("libp2p:secio:error");const l=r(e("./secio.proto")),h=e("../support");n.createProposal=e=>(e.proposal.out={rand:s.randomBytes(16),pubkey:e.key.local.public.bytes,exchanges:h.exchanges.join(","),ciphers:h.ciphers.join(","),hashes:h.hashes.join(",")},e.proposalEncoded.out=l.Propose.encode(e.proposal.out),e.proposalEncoded.out),n.createExchange=(e,n)=>{s.keys.generateEphemeralKeyPair(e.protocols.local.curveT,((r,i)=>{if(r)return n(r);e.ephemeralKey.local=i.key,e.shared.generate=i.genSharedKey;const s=t.concat([e.proposalEncoded.out,e.proposalEncoded.in,e.ephemeralKey.local]);e.key.local.sign(s,((t,r)=>{if(t)return n(t);e.exchange.out={epubkey:e.ephemeralKey.local,signature:r},n(null,l.Exchange.encode(e.exchange.out))}))}))},n.identify=(e,t,n)=>{c("1.1 identify"),e.proposalEncoded.in=t,e.proposal.in=l.Propose.decode(t);const r=e.proposal.in.pubkey;e.key.remote=s.keys.unmarshalPublicKey(r),i.createFromPubKey(r.toString("base64"),((t,r)=>{if(t)return n(t);if(e.id.remote){if(e.id.remote.toB58String()!==r.toB58String())return n(new Error("dialed to the wrong peer, Ids do not match"))}else e.id.remote=r;c("1.1 identify - %s - identified remote peer as %s",e.id.local.toB58String(),e.id.remote.toB58String()),n()}))},n.selectProtocols=(e,t)=>{c("1.2 selection");const n={pubKeyBytes:e.key.local.public.bytes,exchanges:h.exchanges,hashes:h.hashes,ciphers:h.ciphers,nonce:e.proposal.out.rand},r={pubKeyBytes:e.proposal.in.pubkey,exchanges:e.proposal.in.exchanges.split(","),hashes:e.proposal.in.hashes.split(","),ciphers:e.proposal.in.ciphers.split(","),nonce:e.proposal.in.rand};h.selectBest(n,r,((n,r)=>{if(n)return t(n);e.protocols.remote={order:r.order,curveT:r.curveT,cipherT:r.cipherT,hashT:r.hashT},e.protocols.local={order:r.order,curveT:r.curveT,cipherT:r.cipherT,hashT:r.hashT},t()}))},n.verify=(e,n,r)=>{c("2.1. verify"),e.exchange.in=l.Exchange.decode(n),e.ephemeralKey.remote=e.exchange.in.epubkey;const i=t.concat([e.proposalEncoded.in,e.proposalEncoded.out,e.ephemeralKey.remote]);e.key.remote.verify(i,e.exchange.in.signature,((e,t)=>e?r(e):t?(c("2.1. verify - signature verified"),void r()):r(new Error("Bad signature"))))},n.generateKeys=(e,t)=>{c("2.2. keys"),a([t=>e.shared.generate(e.exchange.in.epubkey,t),(t,n)=>{e.shared.secret=t,s.keys.keyStretcher(e.protocols.local.cipherT,e.protocols.local.hashT,e.shared.secret,n)},(t,n)=>{if(e.protocols.local.order>0)e.protocols.local.keys=t.k1,e.protocols.remote.keys=t.k2;else{if(!(e.protocols.local.order<0))return n(new Error("you are trying to talk to yourself"));e.protocols.local.keys=t.k2,e.protocols.remote.keys=t.k1}c("2.3. mac + cipher"),o([t=>h.makeMacAndCipher(e.protocols.local,t),t=>h.makeMacAndCipher(e.protocols.remote,t)],n)}],t)},n.verifyNonce=(e,t)=>{const n=e.proposal.out.rand;if(!n.equals(t))throw new Error(`Failed to read our encrypted nonce: ${n.toString("hex")} != ${t.toString("hex")}`)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-secio",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/src/handshake/crypto.js"}],[4942,{"../support":4949,"./crypto":4941,"async/waterfall":1779,debug:2253},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=e("async/waterfall"),s=e("../support"),o=e("./crypto"),a=r("libp2p:secio");a.error=r("libp2p:secio:error"),t.exports=function(e,t){a("2. exchange - start"),a("2. exchange - writing exchange"),i([t=>o.createExchange(e,t),(t,n)=>{s.write(e,t),s.read(e.shake,n)},(t,n)=>{a("2. exchange - reading exchange"),o.verify(e,t,n)},t=>o.generateKeys(e,t)],(e=>{if(e)return t(e);a("2. exchange - finish"),t()}))}}}},{package:"libp2p-secio",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/src/handshake/exchange.js"}],[4943,{"../etm":4940,"./crypto":4941,debug:2253,"pull-handshake":5456,"pull-stream/pull":5478,"pull-stream/sources/error":5489},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream/pull"),i=e("pull-stream/sources/error"),s=e("pull-handshake"),o=e("debug"),a=o("libp2p:secio");a.error=o("libp2p:secio:error");const u=e("../etm"),c=e("./crypto");t.exports=function(e,t){a("3. finish - start");const n=e.protocols,o=e.shake.rest(),l=s({timeout:e.timeout},(e=>{if(e)throw e}));r(o,u.createUnboxStream(n.remote.cipher,n.remote.mac),l,u.createBoxStream(n.local.cipher,n.local.mac),o),l.handshake.write(e.proposal.in.rand),l.handshake.read(e.proposal.in.rand.length,((n,r)=>{const s=n=>{a.error(n),e.secure.resolve({source:i(n),sink(e){}}),t(n)};if(n)return s(n);try{c.verifyNonce(e,r)}catch(n){return s(n)}a("3. finish - finish"),e.secure.resolve(l.handshake.rest()),t()}))}}}},{package:"libp2p-secio",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/src/handshake/finish.js"}],[4944,{"./exchange":4942,"./finish":4943,"./propose":4945,"async/series":1772},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/series"),i=e("./propose"),s=e("./exchange"),o=e("./finish");t.exports=function(e,t){return r([t=>i(e,t),t=>s(e,t),t=>o(e,t)],(n=>{e.cleanSecrets(),n&&(!0===n&&(n=new Error("Stream ended prematurely")),e.shake.abort(n)),t(n)})),e.stream}}}},{package:"libp2p-secio",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/src/handshake/index.js"}],[4945,{"../support":4949,"./crypto":4941,"async/waterfall":1779,debug:2253},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=e("async/waterfall"),s=e("../support"),o=e("./crypto"),a=r("libp2p:secio");a.error=r("libp2p:secio:error"),t.exports=function(e,t){a("1. propose - start"),a("1. propose - writing proposal"),s.write(e,o.createProposal(e)),i([t=>s.read(e.shake,t),(t,n)=>{a("1. propose - reading proposal",t),o.identify(e,t,n)},t=>o.selectProtocols(e,t)],(e=>{if(e)return t(e);a("1. propose - finish"),t()}))}}}},{package:"libp2p-secio",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/src/handshake/propose.js"}],[4946,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="message Propose {\n  optional bytes rand = 1;\n  optional bytes pubkey = 2;\n  optional string exchanges = 3;\n  optional string ciphers = 4;\n  optional string hashes = 5;\n}\n\nmessage Exchange {\n  optional bytes epubkey = 1;\n  optional bytes signature = 2;\n}"}}},{package:"libp2p-secio",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/src/handshake/secio.proto.js"}],[4947,{"./handshake":4944,"./state":4948,assert:1700,debug:2253,"interface-connection":4406,once:5307,"peer-info":5411,"pull-stream/pull":5478},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream/pull"),i=e("interface-connection").Connection,s=e("assert"),o=e("peer-info"),a=e("debug"),u=e("once"),c=a("libp2p:secio");c.error=a("libp2p:secio:error");const l=e("./handshake"),h=e("./state");t.exports={tag:"/secio/1.0.0",encrypt(e,t,n,a){s(e,"no local private key provided"),s(t,"no connection for the handshake  provided"),"function"==typeof n&&(a=n,n=undefined),a=u(a||function(e){e&&c.error(e)});const f=new h(e,n,3e5,a);const d=new i(undefined,t);return r(t,l(f,(function(e){if(e)return a(e);t.getPeerInfo(((e,n)=>{d.setInnerConn(new i(f.secure,t)),e&&d.setPeerInfo(new o(f.id.remote)),a()}))})),t),d}}}}},{package:"libp2p-secio",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/src/index.js"}],[4948,{"pull-defer":5452,"pull-handshake":5456},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-handshake"),i=e("pull-defer");t.exports=class{constructor(e,t,n,s){"function"==typeof n&&(s=n,n=undefined),this.setup(),this.id.local=e,this.id.remote=t,this.key.local=e.privKey,this.timeout=n||6e4,s=s||(()=>{}),this.secure=i.duplex(),this.stream=r({timeout:this.timeout},s),this.shake=this.stream.handshake,delete this.stream.handshake}setup(){this.id={local:null,remote:null},this.key={local:null,remote:null},this.shake=null,this.cleanSecrets()}cleanSecrets(){this.shared={},this.ephemeralKey={local:null,remote:null},this.proposal={in:null,out:null},this.proposalEncoded={in:null,out:null},this.protocols={local:null,remote:null},this.exchange={in:null,out:null}}}}}},{package:"libp2p-secio",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/src/state.js"}],[4949,{"async/parallel":1768,buffer:2081,"libp2p-crypto":4850,"multihashing-async":4938,"pull-length-prefixed":5459,"pull-stream/pull":5478,"pull-stream/sinks/collect":5479,"pull-stream/sources/values":5494},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("multihashing-async"),i=e("pull-length-prefixed"),s=e("pull-stream/pull"),o=e("pull-stream/sources/values"),a=e("pull-stream/sinks/collect"),u=e("libp2p-crypto"),c=e("async/parallel");n.exchanges=["P-256","P-384","P-521"],n.ciphers=["AES-256","AES-128"],n.hashes=["SHA256","SHA512"],n.theBest=(e,t,n)=>{let r,i;if(e<0)r=n,i=t;else{if(!(e>0))return t[0];r=t,i=n}for(let e of r)for(let t of i)if(e===t)return e;throw new Error("No algorithms in common!")},n.makeMacAndCipher=(e,t)=>{c([t=>function(e,t,n){u.hmac.create(e,t,n)}(e.hashT,e.keys.macKey,t),t=>function(e,t,n,r){if("AES-128"===e||"AES-256"===e)return u.aes.create(n,t,r);r(new Error(`unrecognized cipher type: ${e}`))}(e.cipherT,e.keys.iv,e.keys.cipherKey,t)],((n,r)=>{if(n)return t(n);e.mac=r[0],e.cipher=r[1],t()}))},n.selectBest=(e,r,i)=>{n.digest(t.concat([r.pubKeyBytes,e.nonce]),((s,o)=>{if(s)return i(s);n.digest(t.concat([e.pubKeyBytes,r.nonce]),((s,a)=>{if(s)return i(s);const u=t.compare(o,a);if(0===u)return i(new Error("you are trying to talk to yourself"));i(null,{curveT:n.theBest(u,e.exchanges,r.exchanges),cipherT:n.theBest(u,e.ciphers,r.ciphers),hashT:n.theBest(u,e.hashes,r.hashes),order:u})}))}))},n.digest=(e,t)=>{r.digest(e,"sha2-256",e.length,t)},n.write=function(e,t,n){n=n||(()=>{}),s(o([t]),i.encode({fixed:!0,bytes:4}),a(((t,r)=>{if(t)return n(t);e.shake.write(r[0]),n()})))},n.read=function(e,t){i.decodeFromReader(e,{fixed:!0,bytes:4},t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-secio",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-secio/src/support.js"}],[4950,{},function(){with(this)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=Math.ceil,o=Math.floor,a="[BigNumber Error] ",u=a+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,h=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,p=1e9;function m(e){var t=0|e;return e>0||e===t?t:t-1}function b(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(t=e[r++]+"",n=l-t.length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function g(e,t){var n,r,i=e.c,s=t.c,o=e.s,a=t.s,u=e.e,c=t.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=u==c,!i||!s)return r?0:!i^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return u==c?0:u>c^n?1:-1}function y(e,t,n,r){if(e<t||e>n||e!==o(e))throw Error(a+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function _(e){var t=e.c.length-1;return m(e.e/l)==t&&e.c[t]%2!=0}function k(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function E(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,w,S,v,I,x,A,R,T,N,j=G.prototype={constructor:G,toString:null,valueOf:null},P=new G(1),O=20,L=4,M=-7,D=21,C=-1e7,B=1e7,K=!1,U=1,F=0,V={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},q="0123456789abcdefghijklmnopqrstuvwxyz";function G(e,t){var n,i,s,a,c,f,d,p,m=this;if(!(m instanceof G))return new G(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>B?m.c=m.e=null:e.e<C?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(a=0,c=e;c>=10;c/=10,a++);return void(a>B?m.c=m.e=null:(m.e=a,m.c=[e]))}p=String(e)}else{if(!r.test(p=String(e)))return S(m,p,f);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(a=p.indexOf("."))>-1&&(p=p.replace(".","")),(c=p.search(/e/i))>0?(a<0&&(a=c),a+=+p.slice(c+1),p=p.substring(0,c)):a<0&&(a=p.length)}else{if(y(t,2,q.length,"Base"),10==t)return $(m=new G(e),O+m.e+1,L);if(p=String(e),f="number"==typeof e){if(0*e!=0)return S(m,p,f,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,G.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=q.slice(0,t),a=c=0,d=p.length;c<d;c++)if(n.indexOf(i=p.charAt(c))<0){if("."==i){if(c>a){a=d;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,c=-1,a=0;continue}return S(m,String(e),f,t)}f=!1,(a=(p=w(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):a=p.length}for(c=0;48===p.charCodeAt(c);c++);for(d=p.length;48===p.charCodeAt(--d););if(p=p.slice(c,++d)){if(d-=c,f&&G.DEBUG&&d>15&&(e>h||e!==o(e)))throw Error(u+m.s*e);if((a=a-c-1)>B)m.c=m.e=null;else if(a<C)m.c=[m.e=0];else{if(m.e=a,m.c=[],c=(a+1)%l,a<0&&(c+=l),c<d){for(c&&m.c.push(+p.slice(0,c)),d-=l;c<d;)m.c.push(+p.slice(c,c+=l));c=l-(p=p.slice(c)).length}else c-=d;for(;c--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function H(e,t,n,r){var i,s,o,a,u;if(null==n?n=L:y(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)u=b(e.c),u=1==r||2==r&&(o<=M||o>=D)?k(u,o):E(u,o,"0");else if(s=(e=$(new G(e),t,n)).e,a=(u=b(e.c)).length,1==r||2==r&&(t<=s||s<=M)){for(;a<t;u+="0",a++);u=k(u,s)}else if(t-=o,u=E(u,s,"0"),s+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-a)>0)for(s+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function Y(e,t){for(var n,r=1,i=new G(e[0]);r<e.length;r++){if(!(n=new G(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function z(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*l-1)>B?e.c=e.e=null:n<C?e.c=[e.e=0]:(e.e=n,e.c=t),e}function $(e,t,n,r){var i,a,u,h,d,p,m,b=e.c,g=f;if(b){e:{for(i=1,h=b[0];h>=10;h/=10,i++);if((a=t-i)<0)a+=l,u=t,m=(d=b[p=0])/g[i-u-1]%10|0;else if((p=s((a+1)/l))>=b.length){if(!r)break e;for(;b.length<=p;b.push(0));d=m=0,i=1,u=(a%=l)-l+1}else{for(d=h=b[p],i=1;h>=10;h/=10,i++);m=(u=(a%=l)-l+i)<0?0:d/g[i-u-1]%10|0}if(r=r||t<0||null!=b[p+1]||(u<0?d:d%g[i-u-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(a>0?u>0?d/g[i-u]:0:b[p-1])%10&1||n==(e.s<0?8:7)),t<1||!b[0])return b.length=0,r?(t-=e.e+1,b[0]=g[(l-t%l)%l],e.e=-t||0):b[0]=e.e=0,e;if(0==a?(b.length=p,h=1,p--):(b.length=p+1,h=g[l-a],b[p]=u>0?o(d/g[i-u]%g[u])*h:0),r)for(;;){if(0==p){for(a=1,u=b[0];u>=10;u/=10,a++);for(u=b[0]+=h,h=1;u>=10;u/=10,h++);a!=h&&(e.e++,b[0]==c&&(b[0]=1));break}if(b[p]+=h,b[p]!=c)break;b[p--]=0,h=1}for(a=b.length;0===b[--a];b.pop());}e.e>B?e.c=e.e=null:e.e<C&&(e.c=[e.e=0])}return e}function W(e){var t,n=e.e;return null===n?e.toString():(t=b(e.c),t=n<=M||n>=D?k(t,n):E(t,n,"0"),e.s<0?"-"+t:t)}return G.clone=e,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(n=e[t],0,p,t),O=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(n=e[t],0,8,t),L=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(y(n[0],-p,0,t),y(n[1],0,p,t),M=n[0],D=n[1]):(y(n,-p,p,t),M=-(D=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)y(n[0],-p,-1,t),y(n[1],1,p,t),C=n[0],B=n[1];else{if(y(n,-p,p,t),!n)throw Error(a+t+" cannot be zero: "+n);C=-(B=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw K=!n,Error(a+"crypto unavailable");K=n}else K=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(n=e[t],0,9,t),U=n),e.hasOwnProperty(t="POW_PRECISION")&&(y(n=e[t],0,p,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);V=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);q=n}}return{DECIMAL_PLACES:O,ROUNDING_MODE:L,EXPONENTIAL_AT:[M,D],RANGE:[C,B],CRYPTO:K,MODULO_MODE:U,POW_PRECISION:F,FORMAT:V,ALPHABET:q}},G.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!G.DEBUG)return!0;var t,n,r=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&i>=-p&&i<=p&&i===o(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%l)<1&&(t+=l),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==o(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+e)},G.maximum=G.max=function(){return Y(arguments,j.lt)},G.minimum=G.min=function(){return Y(arguments,j.gt)},G.random=(v=9007199254740992,I=Math.random()*v&2097151?function(){return o(Math.random()*v)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,u,c=0,h=[],d=new G(P);if(null==e?e=O:y(e,0,p),i=s(e/l),K)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));c<i;)(u=131072*t[c]+(t[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(h.push(u%1e14),c+=2);c=i/2}else{if(!crypto.randomBytes)throw K=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(i*=7);c<i;)(u=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(h.push(u%1e14),c+=7);c=i/7}if(!K)for(;c<i;)(u=I())<9e15&&(h[c++]=u%1e14);for(i=h[--c],e%=l,i&&e&&(u=f[l-e],h[c]=o(i/u)*u);0===h[c];h.pop(),c--);if(c<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=l);for(c=1,u=h[0];u>=10;u/=10,c++);c<l&&(r-=l-c)}return d.e=r,d.c=h,d}),G.sum=function(){for(var e=1,t=arguments,n=new G(t[0]);e<t.length;)n=n.plus(t[e++]);return n},w=function(){var e="0123456789";function t(e,t,n,r){for(var i,s,o=[0],a=0,u=e.length;a<u;){for(s=o.length;s--;o[s]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(r,i,s,o,a){var u,c,l,h,f,d,p,m,g=r.indexOf("."),y=O,_=L;for(g>=0&&(h=F,F=0,r=r.replace(".",""),d=(m=new G(i)).pow(r.length-g),F=h,m.c=t(E(b(d.c),d.e,"0"),10,s,e),m.e=m.c.length),l=h=(p=t(r,i,s,a?(u=q,e):(u=e,q))).length;0==p[--h];p.pop());if(!p[0])return u.charAt(0);if(g<0?--l:(d.c=p,d.e=l,d.s=o,p=(d=n(d,m,y,_,s)).c,f=d.r,l=d.e),g=p[c=l+y+1],h=s/2,f=f||c<0||null!=p[c+1],f=_<4?(null!=g||f)&&(0==_||_==(d.s<0?3:2)):g>h||g==h&&(4==_||f||6==_&&1&p[c-1]||_==(d.s<0?8:7)),c<1||!p[0])r=f?E(u.charAt(1),-y,u.charAt(0)):u.charAt(0);else{if(p.length=c,f)for(--s;++p[--c]>s;)p[c]=0,c||(++l,p=[1].concat(p));for(h=p.length;!p[--h];);for(g=0,r="";g<=h;r+=u.charAt(p[g++]));r=E(r,l,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,s,o,a=0,u=e.length,c=t%d,l=t/d|0;for(e=e.slice();u--;)a=((i=c*(s=e[u]%d)+(r=l*s+(o=e[u]/d|0)*c)%d*d+a)/n|0)+(r/d|0)+l*o,e[u]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,a,u){var h,f,d,p,b,g,y,_,k,E,w,S,v,I,x,A,R,T=r.s==i.s?1:-1,N=r.c,j=i.c;if(!(N&&N[0]&&j&&j[0]))return new G(r.s&&i.s&&(N?!j||N[0]!=j[0]:j)?N&&0==N[0]||!j?0*T:T/0:NaN);for(k=(_=new G(T)).c=[],T=s+(f=r.e-i.e)+1,u||(u=c,f=m(r.e/l)-m(i.e/l),T=T/l|0),d=0;j[d]==(N[d]||0);d++);if(j[d]>(N[d]||0)&&f--,T<0)k.push(1),p=!0;else{for(I=N.length,A=j.length,d=0,T+=2,(b=o(u/(j[0]+1)))>1&&(j=e(j,b,u),N=e(N,b,u),A=j.length,I=N.length),v=A,w=(E=N.slice(0,A)).length;w<A;E[w++]=0);R=j.slice(),R=[0].concat(R),x=j[0],j[1]>=u/2&&x++;do{if(b=0,(h=t(j,E,A,w))<0){if(S=E[0],A!=w&&(S=S*u+(E[1]||0)),(b=o(S/x))>1)for(b>=u&&(b=u-1),y=(g=e(j,b,u)).length,w=E.length;1==t(g,E,y,w);)b--,n(g,A<y?R:j,y,u),y=g.length,h=1;else 0==b&&(h=b=1),y=(g=j.slice()).length;if(y<w&&(g=[0].concat(g)),n(E,g,w,u),w=E.length,-1==h)for(;t(j,E,A,w)<1;)b++,n(E,A<w?R:j,w,u),w=E.length}else 0===h&&(b++,E=[0]);k[d++]=b,E[0]?E[w++]=N[v]||0:(E=[N[v]],w=1)}while((v++<I||null!=E[0])&&T--);p=null!=E[0],k[0]||k.splice(0,1)}if(u==c){for(d=1,T=k[0];T>=10;T/=10,d++);$(_,s+(_.e=d+f*l-1)+1,a,p)}else _.e=f,_.r=+p;return _}}(),x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,A=/^([^.]+)\.$/,R=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,N=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,n,r){var i,s=n?t:t.replace(N,"");if(T.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(x,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(A,"$1").replace(R,"0.$1")),t!=s))return new G(s,i);if(G.DEBUG)throw Error(a+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},j.absoluteValue=j.abs=function(){var e=new G(this);return e.s<0&&(e.s=1),e},j.comparedTo=function(e,t){return g(this,new G(e,t))},j.decimalPlaces=j.dp=function(e,t){var n,r,i,s=this;if(null!=e)return y(e,0,p),null==t?t=L:y(t,0,8),$(new G(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((i=n.length-1)-m(this.e/l))*l,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},j.dividedBy=j.div=function(e,t){return n(this,new G(e,t),O,L)},j.dividedToIntegerBy=j.idiv=function(e,t){return n(this,new G(e,t),0,1)},j.exponentiatedBy=j.pow=function(e,t){var n,r,i,u,c,h,f,d,p=this;if((e=new G(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+W(e));if(null!=t&&(t=new G(t)),c=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return d=new G(Math.pow(+W(p),c?2-_(e):+W(e))),t?d.mod(t):d;if(h=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new G(NaN);(r=!h&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||c&&p.c[1]>=24e7:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return u=p.s<0&&_(e)?-0:0,p.e>-1&&(u=1/u),new G(h?1/u:u);F&&(u=s(F/l+2))}for(c?(n=new G(.5),h&&(e.s=1),f=_(e)):f=(i=Math.abs(+W(e)))%2,d=new G(P);;){if(f){if(!(d=d.times(p)).c)break;u?d.c.length>u&&(d.c.length=u):r&&(d=d.mod(t))}if(i){if(0===(i=o(i/2)))break;f=i%2}else if($(e=e.times(n),e.e+1,1),e.e>14)f=_(e);else{if(0===(i=+W(e)))break;f=i%2}p=p.times(p),u?p.c&&p.c.length>u&&(p.c.length=u):r&&(p=p.mod(t))}return r?d:(h&&(d=P.div(d)),t?d.mod(t):u?$(d,F,L,undefined):d)},j.integerValue=function(e){var t=new G(this);return null==e?e=L:y(e,0,8),$(t,t.e+1,e)},j.isEqualTo=j.eq=function(e,t){return 0===g(this,new G(e,t))},j.isFinite=function(){return!!this.c},j.isGreaterThan=j.gt=function(e,t){return g(this,new G(e,t))>0},j.isGreaterThanOrEqualTo=j.gte=function(e,t){return 1===(t=g(this,new G(e,t)))||0===t},j.isInteger=function(){return!!this.c&&m(this.e/l)>this.c.length-2},j.isLessThan=j.lt=function(e,t){return g(this,new G(e,t))<0},j.isLessThanOrEqualTo=j.lte=function(e,t){return-1===(t=g(this,new G(e,t)))||0===t},j.isNaN=function(){return!this.s},j.isNegative=function(){return this.s<0},j.isPositive=function(){return this.s>0},j.isZero=function(){return!!this.c&&0==this.c[0]},j.minus=function(e,t){var n,r,i,s,o=this,a=o.s;if(t=(e=new G(e,t)).s,!a||!t)return new G(NaN);if(a!=t)return e.s=-t,o.plus(e);var u=o.e/l,h=e.e/l,f=o.c,d=e.c;if(!u||!h){if(!f||!d)return f?(e.s=-t,e):new G(d?o:NaN);if(!f[0]||!d[0])return d[0]?(e.s=-t,e):new G(f[0]?o:3==L?-0:0)}if(u=m(u),h=m(h),f=f.slice(),a=u-h){for((s=a<0)?(a=-a,i=f):(h=u,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(s=(a=f.length)<(t=d.length))?a:t,a=t=0;t<r;t++)if(f[t]!=d[t]){s=f[t]<d[t];break}if(s&&(i=f,f=d,d=i,e.s=-e.s),(t=(r=d.length)-(n=f.length))>0)for(;t--;f[n++]=0);for(t=c-1;r>a;){if(f[--r]<d[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=c}f[r]-=d[r]}for(;0==f[0];f.splice(0,1),--h);return f[0]?z(e,f,h):(e.s=3==L?-1:1,e.c=[e.e=0],e)},j.modulo=j.mod=function(e,t){var r,i,s=this;return e=new G(e,t),!s.c||!e.s||e.c&&!e.c[0]?new G(NaN):!e.c||s.c&&!s.c[0]?new G(s):(9==U?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,U),(e=s.minus(r.times(e))).c[0]||1!=U||(e.s=s.s),e)},j.multipliedBy=j.times=function(e,t){var n,r,i,s,o,a,u,h,f,p,b,g,y,_,k,E=this,w=E.c,S=(e=new G(e,t)).c;if(!(w&&S&&w[0]&&S[0]))return!E.s||!e.s||w&&!w[0]&&!S||S&&!S[0]&&!w?e.c=e.e=e.s=null:(e.s*=E.s,w&&S?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=m(E.e/l)+m(e.e/l),e.s*=E.s,(u=w.length)<(p=S.length)&&(y=w,w=S,S=y,i=u,u=p,p=i),i=u+p,y=[];i--;y.push(0));for(_=c,k=d,i=p;--i>=0;){for(n=0,b=S[i]%k,g=S[i]/k|0,s=i+(o=u);s>i;)n=((h=b*(h=w[--o]%k)+(a=g*h+(f=w[o]/k|0)*b)%k*k+y[s]+n)/_|0)+(a/k|0)+g*f,y[s--]=h%_;y[s]=n}return n?++r:y.splice(0,1),z(e,y,r)},j.negated=function(){var e=new G(this);return e.s=-e.s||null,e},j.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new G(e,t)).s,!i||!t)return new G(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/l,o=e.e/l,a=r.c,u=e.c;if(!s||!o){if(!a||!u)return new G(i/0);if(!a[0]||!u[0])return u[0]?e:new G(a[0]?r:0*i)}if(s=m(s),o=m(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=u):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=u.length)<0&&(n=u,u=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+u[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++o),z(e,a,o)},j.precision=j.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return y(e,1,p),null==t?t=L:y(t,0,8),$(new G(s),e,t);if(!(n=s.c))return null;if(r=(i=n.length-1)*l+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},j.shiftedBy=function(e){return y(e,-9007199254740991,h),this.times("1e"+e)},j.squareRoot=j.sqrt=function(){var e,t,r,i,s,o=this,a=o.c,u=o.s,c=o.e,l=O+4,h=new G("0.5");if(1!==u||!a||!a[0])return new G(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+W(o)))||u==1/0?(((t=b(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=m((c+1)/2)-(c<0||c%2),r=new G(t=u==1/0?"1e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new G(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(s=r,r=h.times(s.plus(n(o,s,l,1))),b(s.c).slice(0,u)===(t=b(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||($(r,r.e+O+2,1),e=!r.times(r).eq(o));break}if(!i&&($(s,s.e+O+2,0),s.times(s).eq(o))){r=s;break}l+=4,u+=4,i=1}return $(r,r.e+O+1,L,e)},j.toExponential=function(e,t){return null!=e&&(y(e,0,p),e++),H(this,e,t,1)},j.toFixed=function(e,t){return null!=e&&(y(e,0,p),e=e+this.e+1),H(this,e,t)},j.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=V;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,o=r.split("."),u=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",h=o[0],f=o[1],d=i.s<0,p=d?h.slice(1):h,m=p.length;if(c&&(s=u,u=c,c=s,m-=s),u>0&&m>0){for(s=m%u||u,h=p.substr(0,s);s<m;s+=u)h+=l+p.substr(s,u);c>0&&(h+=l+p.slice(s)),d&&(h="-"+h)}r=f?h+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?f.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):f):h}return(n.prefix||"")+r+(n.suffix||"")},j.toFraction=function(e){var t,r,i,s,o,u,c,h,d,p,m,g,y=this,_=y.c;if(null!=e&&(!(c=new G(e)).isInteger()&&(c.c||1!==c.s)||c.lt(P)))throw Error(a+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+W(c));if(!_)return new G(y);for(t=new G(P),d=r=new G(P),i=h=new G(P),g=b(_),o=t.e=g.length-y.e-1,t.c[0]=f[(u=o%l)<0?l+u:u],e=!e||c.comparedTo(t)>0?o>0?t:d:c,u=B,B=1/0,c=new G(g),h.c[0]=0;p=n(c,t,0,1),1!=(s=r.plus(p.times(i))).comparedTo(e);)r=i,i=s,d=h.plus(p.times(s=d)),h=s,t=c.minus(p.times(s=t)),c=s;return s=n(e.minus(r),i,0,1),h=h.plus(s.times(d)),r=r.plus(s.times(i)),h.s=d.s=y.s,m=n(d,i,o*=2,L).minus(y).abs().comparedTo(n(h,r,o,L).minus(y).abs())<1?[d,i]:[h,r],B=u,m},j.toNumber=function(){return+W(this)},j.toPrecision=function(e,t){return null!=e&&y(e,1,p),H(this,e,t,2)},j.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=M||i>=D?k(b(n.c),i):E(b(n.c),i,"0"):10===e?t=E(b((n=$(new G(n),O+i+1,L)).c),n.e,"0"):(y(e,2,q.length,"Base"),t=w(E(b(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},j.valueOf=j.toJSON=function(){return W(this)},j._isBigNumber=!0,i&&(j[Symbol.toStringTag]="BigNumber",j[Symbol.for("nodejs.util.inspect.custom")]=j.valueOf),null!=t&&G.set(t),G}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"bignumber.js",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/node_modules/bignumber.js/bignumber.js"}],[4951,{"class-is":2121,debug:2253,events:2082},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events").EventEmitter,i=e("debug"),s=e("class-is");t.exports=s(class extends r{constructor({_switch:e,name:t}){super(),this.switch=e,this.ourPeerInfo=this.switch._peerInfo,this.log=i(`libp2p:conn:${t}`),this.log.error=i(`libp2p:conn:${t}:error`)}close(e){"DISCONNECTING"!==this._state._state&&(this.log("closing connection to %s",this.theirB58Id),e&&this._events.error&&this.emit("error",e),this._state("disconnect"))}emit(e,...t){"error"!==e||this._events.error?super.emit(e,...t):this.log.error(...t)}getState(){return this._state._state}encrypt(){this._state("encrypt")}protect(){this._state("privatize")}upgrade(){this._state("upgrade")}_onDisconnected(){this.switch.connection.remove(this),this.log("disconnected from %s",this.theirB58Id),this.emit("close"),this.removeAllListeners()}_onPrivatized(){this.emit("private",this.conn)}_onPrivatizing(){if(!this.switch.protector)return this._state("done");this.conn=this.switch.protector.protect(this.conn,(e=>{if(e)return this.close(e);this.log("successfully privatized conn to %s",this.theirB58Id),this.conn.setPeerInfo(this.theirPeerInfo),this._state("done")}))}},{className:"BaseConnection",symbolName:"libp2p-switch/BaseConnection"})}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/connection/base.js"}],[4952,{"../observe-connection":4965,"./incoming":4953,debug:2253},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=e("./incoming"),s=e("../observe-connection");t.exports=function(e){const t=r("libp2p:switch:listener");return function(n,r){return function(o){t("received incoming connection for transport %s",n),o.getPeerInfo(((a,u)=>{const c=n?s(n,null,o,e.observer):o,l=new i({connection:c,_switch:e,transportKey:n,peerInfo:u});l.once("error",(e=>t(e))),l.once("private",(e=>{if(r)return r(e);l.encrypt()})),l.once("encrypted",(()=>l.upgrade())),l.protect()}))}}}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/connection/handler.js"}],[4953,{"./base":4951,"class-is":2121,"fsm-event":4303,"multistream-select":5243},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("fsm-event"),i=e("multistream-select"),s=e("class-is"),o=e("./base");t.exports=s(class extends o{constructor({connection:e,_switch:t,transportKey:n,peerInfo:s}){super({_switch:t,name:`inc:${t._peerInfo.id.toB58String().slice(0,8)}`}),this.conn=e,this.theirPeerInfo=s||null,this.theirB58Id=this.theirPeerInfo?this.theirPeerInfo.id.toB58String():null,this.ourPeerInfo=this.switch._peerInfo,this.transportKey=n,this.protocolMuxer=this.switch.protocolMuxer(this.transportKey),this.msListener=new i.Listener,this._state=r("DIALED",{DISCONNECTED:{disconnect:"DISCONNECTED"},DIALED:{privatize:"PRIVATIZING",encrypt:"ENCRYPTING"},PRIVATIZING:{done:"PRIVATIZED",disconnect:"DISCONNECTING"},PRIVATIZED:{encrypt:"ENCRYPTING"},ENCRYPTING:{done:"ENCRYPTED",disconnect:"DISCONNECTING"},ENCRYPTED:{upgrade:"UPGRADING",disconnect:"DISCONNECTING"},UPGRADING:{done:"MUXED"},MUXED:{disconnect:"DISCONNECTING"},DISCONNECTING:{done:"DISCONNECTED"}}),this._state.on("DISCONNECTED",(()=>this._onDisconnected())),this._state.on("PRIVATIZING",(()=>this._onPrivatizing())),this._state.on("PRIVATIZED",(()=>this._onPrivatized())),this._state.on("ENCRYPTING",(()=>this._onEncrypting())),this._state.on("ENCRYPTED",(()=>{this.log("successfully encrypted connection to %s",this.theirB58Id||"unknown peer"),this.emit("encrypted",this.conn)})),this._state.on("UPGRADING",(()=>this._onUpgrading())),this._state.on("MUXED",(()=>{this.log("successfully muxed connection to %s",this.theirB58Id||"unknown peer"),this.emit("muxed",this.conn)})),this._state.on("DISCONNECTING",(()=>{this._state("done")}))}_onEncrypting(){this.log("encrypting connection via %s",this.switch.crypto.tag),this.msListener.addHandler(this.switch.crypto.tag,((e,t)=>{this.conn=this.switch.crypto.encrypt(this.ourPeerInfo.id,t,undefined,(e=>{if(e)return this.close(e);this.conn.getPeerInfo(((e,t)=>{this.theirPeerInfo=t,this._state("done")}))}))}),null),this.msListener.handle(this.conn,(e=>{e&&this.emit("crypto handshaking failed",e)}))}_onUpgrading(){this.log("adding the protocol muxer to the connection"),this.protocolMuxer(this.conn,this.msListener),this._state("done")}},{className:"IncomingConnectionFSM",symbolName:"libp2p-switch/IncomingConnectionFSM"})}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/connection/incoming.js"}],[4954,{"../errors":4960,"../observe-connection":4965,"../utils":4973,"./base":4951,"async/nextTick":1767,"async/parallel":1768,"class-is":2121,"err-code":2355,"fsm-event":4303,"libp2p-circuit":4818,"libp2p-identify":4869,"multistream-select":5243},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("fsm-event"),i=e("libp2p-circuit"),s=e("multistream-select"),o=e("class-is"),a=e("./base"),u=e("async/parallel"),c=e("async/nextTick"),l=e("libp2p-identify"),h=e("err-code"),{msHandle:f,msSelect:d,identifyDialer:p}=e("../utils"),m=e("../observe-connection"),{CONNECTION_FAILED:b,DIAL_SELF:g,INVALID_STATE_TRANSITION:y,NO_TRANSPORTS_REGISTERED:_,maybeUnexpectedEnd:k}=e("../errors");t.exports=o(class extends a{constructor({_switch:e,peerInfo:t,muxer:n,conn:i,type:s="out"}){super({_switch:e,name:`${s}:${e._peerInfo.id.toB58String().slice(0,8)}`}),this.theirPeerInfo=t,this.theirB58Id=this.theirPeerInfo.id.toB58String(),this.conn=i,this.muxer=n;let o="DISCONNECTED";this.muxer&&(o="MUXED"),this._state=r(o,{DISCONNECTED:{dial:"DIALING",disconnect:"DISCONNECTED",done:"DISCONNECTED"},DIALING:{abort:"ABORTED",done:"DIALED",error:"ERRORED",disconnect:"DISCONNECTING"},DIALED:{encrypt:"ENCRYPTING",privatize:"PRIVATIZING"},PRIVATIZING:{done:"PRIVATIZED",abort:"ABORTED",disconnect:"DISCONNECTING"},PRIVATIZED:{encrypt:"ENCRYPTING"},ENCRYPTING:{done:"ENCRYPTED",error:"ERRORED",disconnect:"DISCONNECTING"},ENCRYPTED:{upgrade:"UPGRADING",disconnect:"DISCONNECTING"},UPGRADING:{stop:"CONNECTED",done:"MUXED",error:"ERRORED",disconnect:"DISCONNECTING"},MUXED:{disconnect:"DISCONNECTING"},CONNECTED:{disconnect:"DISCONNECTING"},DISCONNECTING:{done:"DISCONNECTED",disconnect:"DISCONNECTING"},ABORTED:{},ERRORED:{disconnect:"DISCONNECTING"}}),this._state.on("DISCONNECTED",(()=>this._onDisconnected())),this._state.on("DIALING",(()=>this._onDialing())),this._state.on("DIALED",(()=>this._onDialed())),this._state.on("PRIVATIZING",(()=>this._onPrivatizing())),this._state.on("PRIVATIZED",(()=>this._onPrivatized())),this._state.on("ENCRYPTING",(()=>this._onEncrypting())),this._state.on("ENCRYPTED",(()=>{this.log("successfully encrypted connection to %s",this.theirB58Id),this.emit("encrypted",this.conn)})),this._state.on("UPGRADING",(()=>this._onUpgrading())),this._state.on("MUXED",(()=>{this.log("successfully muxed connection to %s",this.theirB58Id),delete this.switch.conns[this.theirB58Id],this.emit("muxed",this.muxer)})),this._state.on("CONNECTED",(()=>{this.log("unmuxed connection opened to %s",this.theirB58Id),this.emit("unmuxed",this.conn)})),this._state.on("DISCONNECTING",(()=>this._onDisconnecting())),this._state.on("ABORTED",(()=>this._onAborted())),this._state.on("ERRORED",(()=>this._onErrored())),this._state.on("error",(e=>this._onStateError(e)))}dial(){return this.theirB58Id===this.ourPeerInfo.id.toB58String()?this.emit("error",g()):"DIALING"===this.getState()?this.log("attempted to dial while already dialing, ignoring"):void this._state("dial")}shake(e,t){return e?this.muxer&&this.muxer.newStream?this.muxer.newStream(((n,r)=>{if(n)return t(n,null);this.log("created new stream to %s",this.theirB58Id),this._protocolHandshake(e,r,t)})):void this._protocolHandshake(e,this.conn,t):t(null,null)}upgrade(){this._state("upgrade")}_onDialing(){if(this.log("dialing %s",this.theirB58Id),!this.switch.hasTransports())return this.close(_());const e=this.switch.availableTransports(this.theirPeerInfo),t=Boolean(this.switch.transports[i.tag]);t&&!e.includes(i.tag)&&e.push(i.tag);const n=r=>{let s=r;if(!s)return t?this.close(b(`No available transports to dial peer ${this.theirB58Id}!`)):this.close(b(`Circuit not enabled and all transports failed to dial peer ${this.theirB58Id}!`));s===i.tag&&this.theirPeerInfo.multiaddrs.add(`/p2p-circuit/p2p/${this.theirB58Id}`),this.log("dialing transport %s",s),this.switch.transport.dial(s,this.theirPeerInfo,((t,r)=>{if(t)return this.emit("error:connection_attempt_failed",t),this.log(t),n(e.shift());this.conn=m(s,null,r,this.switch.observer),this._state("done")}))};n(e.shift())}_onDialed(){this.log("successfully dialed %s",this.theirB58Id),this.emit("connected",this.conn)}_onDisconnecting(){this.log("disconnecting from %s",this.theirB58Id,Boolean(this.muxer)),delete this.switch.conns[this.theirB58Id];let e=[];if(this.muxer&&e.push((e=>{this.muxer.end((()=>{delete this.muxer,e()}))})),this.conn){try{this.conn.source.abort()}catch(e){}delete this.conn}u(e,(()=>{this._state("done")}))}_onEncrypting(){const e=new s.Dialer;e.handle(this.conn,(t=>{if(t)return this.close(k(t));this.log("selecting crypto %s to %s",this.switch.crypto.tag,this.theirB58Id),e.select(this.switch.crypto.tag,((e,t)=>{if(e)return this.close(k(e));const n=m(null,this.switch.crypto.tag,t,this.switch.observer),r=this.switch.crypto.encrypt(this.ourPeerInfo.id,n,this.theirPeerInfo.id,(e=>{if(e)return this.close(e);this.conn=r,this.conn.setPeerInfo(this.theirPeerInfo),this._state("done")}))}))}))}_onUpgrading(){const e=Object.keys(this.switch.muxers);if(this.log("upgrading connection to %s",this.theirB58Id),0===e.length)return this._state("stop");const t=new s.Dialer;t.handle(this.conn,(n=>{if(n)return this._didUpgrade(n);const r=n=>{this.log("selecting %s",n),t.select(n,((t,i)=>{if(t)return 0===e.length?this._didUpgrade(t):r(e.shift());const s=m(null,n,i,this.switch.observer);this.muxer=this.switch.muxers[n].dialer(s),this.muxer.once("close",(()=>{this.close()})),this.muxer.on("stream",(e=>{this.log("new stream created via muxer to %s",this.theirB58Id),e.setPeerInfo(this.theirPeerInfo),this.switch.protocolMuxer(null)(e)})),this._didUpgrade(null),this.switch.identify&&this._identify(((e,t)=>{if(e)return this.close(e);this.theirPeerInfo=this.switch._peerBook.put(t.peerInfo)}))}))};r(e.shift())}))}_identify(e){if(!this.muxer)return c(e,h("The connection was already closed","ERR_CONNECTION_CLOSED"));this.muxer.newStream((async(t,n)=>{if(t)return e(t);const r=new s.Dialer;let i;try{await f(r,n);const e=await d(r,l.multicodec);i=await p(e,this.theirPeerInfo)}catch(t){return e(t)}e(null,i)}))}_didUpgrade(e){if(e)return this.log("Error upgrading connection:",e),this.switch.conns[this.theirB58Id]=this,this.emit("error:upgrade_failed",e),this._state("stop");this._state("done")}_protocolHandshake(e,t,n){const r=new s.Dialer;r.handle(t,(t=>{if(t)return n(t,null);r.select(e,((t,r)=>{if(t)return this.log("could not perform protocol handshake:",t),n(t,null);const i=m(null,e,r,this.switch.observer);this.log("successfully performed handshake of %s to %s",e,this.theirB58Id),this.emit("connection",i),n(null,i)}))}))}_onStateError(e){this.emit("error",y(e)),this.log(e)}},{className:"ConnectionFSM",symbolName:"libp2p-switch/ConnectionFSM"})}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/connection/index.js"}],[4955,{"../connection":4954,"../plaintext":4967,"../utils":4973,debug:2253,"libp2p-circuit":4818,"libp2p-identify":4869,"multistream-select":5243,once:5307},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("libp2p-identify"),i=e("multistream-select"),s=e("debug")("libp2p:switch:conn-manager"),o=e("once"),a=e("../connection"),{msHandle:u,msSelect:c,identifyDialer:l}=e("../utils"),h=e("libp2p-circuit"),f=e("../plaintext");t.exports=class{constructor(e){this.switch=e,this.connections={}}add(e){this.connections[e.theirB58Id]=this.connections[e.theirB58Id]||[],this.get(e)||(this.connections[e.theirB58Id].push(e),this.switch.emit("connection:start",e.theirPeerInfo),"MUXED"===e.getState()?(this.switch.emit("peer-mux-established",e.theirPeerInfo),this.switch.dialer.clearBlacklist(e.theirPeerInfo)):e.once("muxed",(()=>{this.switch.emit("peer-mux-established",e.theirPeerInfo),this.switch.dialer.clearBlacklist(e.theirPeerInfo)})))}get(e){if(!this.connections[e.theirB58Id])return null;for(let t=0;t<this.connections[e.theirB58Id].length;t++)if(this.connections[e.theirB58Id][t]===e)return this.connections[e.theirB58Id][t];return null}getOne(e){if(this.connections[e])for(var t=0;t<this.connections[e].length;t++)if("MUXED"===this.connections[e][t].getState())return this.connections[e][t];return null}remove(e){if(this.connections[e.theirB58Id]){for(let t=0;t<this.connections[e.theirB58Id].length;t++)if(this.connections[e.theirB58Id][t]===e){this.connections[e.theirB58Id].splice(t,1);break}0===this.connections[e.theirB58Id].length&&(delete this.connections[e.theirB58Id],e.theirPeerInfo.disconnect(),this.switch.emit("peer-mux-closed",e.theirPeerInfo)),this.switch.emit("connection:end",e.theirPeerInfo)}else e.theirPeerInfo&&(e.theirPeerInfo.disconnect(),this.switch.emit("peer-mux-closed",e.theirPeerInfo))}getAll(){let e=[];for(const t of Object.values(this.connections))e=[...e,...t];return e}getAllById(e){return this.connections[e]||[]}addStreamMuxer(e){this.switch.muxers[e.multicodec]=e,this.switch.handle(e.multicodec,((t,n)=>{const h=e.listener(n);return h.on("stream",this.switch.protocolMuxer(null)),this.switch.identify&&n.getPeerInfo(((e,t)=>{!e&&t||s("crypto peerInfo wasnt found"),n.getPeerInfo=async e=>{const n=h.newStream(),s=new i.Dialer;let a;e=o(e);try{await u(s,n);const e=await c(s,r.multicodec);a=await l(e,t)}catch(t){return h.end((()=>{e(t,null)}))}const{peerInfo:f}=a;f&&n.setPeerInfo(f),e(null,f)},n.getPeerInfo(((e,t)=>{if(e)return s("identify not successful");const r=t.id.toB58String();t=this.switch._peerBook.put(t);const i=new a({_switch:this.switch,peerInfo:t,muxer:h,conn:n,type:"inc"});this.switch.connection.add(i),t.isConnected()||(t.multiaddrs.size>0?t.connect(t.multiaddrs.toArray()[0]):t.connect(`/ipfs/${r}`)),h.once("close",(()=>{i.close()}))}))})),n}))}crypto(e,t){e||t||(e=f.tag,t=f.encrypt),this.switch.crypto={tag:e,encrypt:t}}enableCircuitRelay(e){(e=e||{}).enabled&&(e.hop||Object.assign(e,{hop:{enabled:!1,active:!1}}),this.switch.transport.add(h.tag,new h(this.switch,e)))}reuse(){this.switch.identify=!0,this.switch.handle(r.multicodec,((e,t)=>{r.listener(t,this.switch._peerInfo)}))}}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/connection/manager.js"}],[4956,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={BLACK_LIST_TTL:3e5,BLACK_LIST_ATTEMPTS:5,DIAL_TIMEOUT:3e4,MAX_COLD_CALLS:50,MAX_PARALLEL_DIALS:100,QUARTER_HOUR:9e5,PRIORITY_HIGH:10,PRIORITY_LOW:20}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/constants.js"}],[4957,{"../constants":4956,"../get-peer-info":4961,"./queueManager":4959},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./queueManager"),i=e("../get-peer-info"),{BLACK_LIST_ATTEMPTS:s,BLACK_LIST_TTL:o,MAX_COLD_CALLS:a,MAX_PARALLEL_DIALS:u,PRIORITY_HIGH:c,PRIORITY_LOW:l}=e("../constants");t.exports=function(e){const t=new r(e);function n({peerInfo:n,protocol:r,options:s,callback:o}){"function"==typeof r&&(o=r,r=null);try{n=i(n,e._peerBook)}catch(e){return o(e)}t.add({peerInfo:n,protocol:r,options:s,callback:o})}return e.state.on("STARTED:enter",(function(e){t.start(),e()})),e.state.on("STOPPING:enter",(function(e){t.stop(),e()})),{connect:function(e,t,r){"function"==typeof t&&(r=t,t=null),n({peerInfo:e,protocol:null,options:t={useFSM:!1,priority:l,...t},callback:r})},dial:function(e,t,r){n({peerInfo:e,protocol:t,options:{useFSM:!1,priority:c},callback:r})},dialFSM:function(e,t,r){n({peerInfo:e,protocol:t,options:{useFSM:!0,priority:c},callback:r})},clearBlacklist:function(e){t.clearBlacklist(e)},BLACK_LIST_ATTEMPTS:isNaN(e._options.blackListAttempts)?s:e._options.blackListAttempts,BLACK_LIST_TTL:isNaN(e._options.blacklistTTL)?o:e._options.blacklistTTL,MAX_COLD_CALLS:isNaN(e._options.maxColdCalls)?a:e._options.maxColdCalls,MAX_PARALLEL_DIALS:isNaN(e._options.maxParallelDials)?u:e._options.maxParallelDials}}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/dialer/index.js"}],[4958,{"../connection":4954,"../errors":4960,"async/nextTick":1767,debug:2253,once:5307},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../connection"),{DIAL_ABORTED:i,ERR_BLACKLISTED:s}=e("../errors"),o=e("async/nextTick"),a=e("once"),u=e("debug"),c=u("libp2p:switch:dial");function l({protocol:e,connection:t,callback:n}){if(!e)return n();t.shake(e,((e,r)=>{if(!r)return n(e);r.setPeerInfo(t.theirPeerInfo),n(null,r)}))}c.error=u("libp2p:switch:dial:error");t.exports=class{constructor(e,t,n){this.id=e,this.switch=t,this._queue=[],this.blackListed=null,this.blackListCount=0,this.isRunning=!1,this.onStopped=n}get length(){return this._queue.length}add(e,t,n){if(!this.isDialAllowed())return o(n,s());this._queue.push({protocol:e,useFSM:t,callback:n})}isDialAllowed(){return!this.blackListed||Date.now()>this.blackListed&&(this.blackListed=null,!0)}start(){return!this.isRunning&&(c("starting dial queue to %s",this.id),this.isRunning=!0,this._run(),!0)}stop(){this.isRunning&&(c("stopping dial queue to %s",this.id),this.isRunning=!1,this.onStopped(this.id))}abort(){for(;this.length>0;){this._queue.shift().callback(i())}this.stop()}blacklist(){if(this.blackListCount++,this.blackListCount>=this.switch.dialer.BLACK_LIST_ATTEMPTS)return void(this.blackListed=Infinity);let e=this.switch.dialer.BLACK_LIST_TTL*Math.pow(this.blackListCount,3);const t=.9*e,n=1.1*e;e=Math.floor(Math.random()*(n-t)+t),this.blackListed=Date.now()+e,this.abort()}_getOrCreateConnection(e){let t=this.switch.connection.getOne(this.id),n=!1;return t||(t=new r({_switch:this.switch,peerInfo:e,muxer:null,conn:null}),this.switch.connection.add(t),t.once("connected",(()=>t.protect())),t.once("private",(()=>t.encrypt())),t.once("encrypted",(()=>t.upgrade())),n=!0),{connectionFSM:t,didCreate:n}}_run(){if(this.length<1||!this.isRunning)return c("stopping the queue for %s",this.id),this.stop();const e=a((()=>{c("starting next dial to %s",this.id),this._run()})),t=this.switch._peerBook.get(this.id);let n=this._queue.shift(),{connectionFSM:r,didCreate:i}=this._getOrCreateConnection(t);if(n.useFSM&&o(n.callback,null,r),["MUXED","CONNECTED"].includes(r.getState()))return n.connection=r,l(n),void e();r.once("error",(e=>{n.callback(e),t.protocols.size>0&&t.isConnected()||this.blacklist()})),r.once("close",(()=>{e()})),r.once("muxed",(()=>{this.blackListCount=0,n.connection=r,l(n),e()})),r.once("unmuxed",(()=>{this.blackListCount=0,n.connection=r,l(n),e()})),i&&r.dial()}}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/dialer/queue.js"}],[4959,{"../constants":4956,"../errors":4960,"./queue":4958,"async/nextTick":1767,debug:2253,once:5307,retimer:5733},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("once"),i=e("./queue"),{DIAL_ABORTED:s}=e("../errors"),o=e("async/nextTick"),a=e("retimer"),{QUARTER_HOUR:u,PRIORITY_HIGH:c}=e("../constants"),l=e("debug")("libp2p:switch:dial:manager"),h=()=>{};t.exports=class{constructor(e){this._queue=new Set,this._coldCallQueue=new Set,this._dialingQueues=new Set,this._queues={},this.switch=e,this._cleanInterval=a(this._clean.bind(this),u),this.start()}_clean(){Object.values(this._queues).forEach((e=>{if(e.blackListed===Infinity)return e.abort(),void delete this._queues[e.id];if(!e.blackListed&&!e.isRunning&&e.length<1){let t=!1;try{const n=this.switch._peerBook.get(e.id);t=Boolean(n.isConnected())}catch(e){}t||(e.abort(),delete this._queues[e.id])}})),this._cleanInterval.reschedule(u)}start(){this.isRunning=!0}stop(){this.isRunning=!1,this._queue.clear(),this._coldCallQueue.clear(),this._cleanInterval.clear();Object.values(this._queues).forEach((e=>{e.abort(),delete this._queues[e.id]}))}add({peerInfo:e,protocol:t,options:n,callback:i}){i=i?r(i):h;const a=this.getQueue(e);if(n.priority>c){if(this._coldCallQueue.size>=this.switch.dialer.MAX_COLD_CALLS)return o(i,s());if(this._queue.has(a.id))return o(i,s())}a.add(t,n.useFSM,i),e.isConnected()?a.start():a.isDialAllowed()&&(a.isRunning||(n.priority<=c?(this._queue.add(a.id),this._coldCallQueue.delete(a.id)):this._coldCallQueue.add(a.id)),this.run())}run(){if(this.isRunning&&this._dialingQueues.size<this.switch.dialer.MAX_PARALLEL_DIALS){let e={done:!0};if(this._queue.size>0?(e=this._queue.values().next(),this._queue.delete(e.value)):this._coldCallQueue.size>0&&(e=this._coldCallQueue.values().next(),this._coldCallQueue.delete(e.value)),e.done)return;let t=this._queues[e.value];if(!t)return void l("missing queue %s, maybe it was aborted?",e.value);this._dialingQueues.add(t.id),t.start()}}clearBlacklist(e){const t=this.getQueue(e);t.blackListed=null,t.blackListCount=0}_onQueueStopped(e){this._dialingQueues.delete(e),this.run()}getQueue(e){const t=e.id.toB58String();return this._queues[t]=this._queues[t]||new i(t,this.switch,this._onQueueStopped.bind(this)),this._queues[t]}}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/dialer/queueManager.js"}],[4960,{"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code");t.exports={CONNECTION_FAILED:e=>r(e,"CONNECTION_FAILED"),DIAL_ABORTED:()=>r("Dial was aborted","DIAL_ABORTED"),ERR_BLACKLISTED:()=>r("Dial is currently blacklisted for this peer","ERR_BLACKLISTED"),DIAL_SELF:()=>r("A node cannot dial itself","DIAL_SELF"),INVALID_STATE_TRANSITION:e=>r(e,"INVALID_STATE_TRANSITION"),NO_TRANSPORTS_REGISTERED:()=>r("No transports registered, dial not possible","NO_TRANSPORTS_REGISTERED"),PROTECTOR_REQUIRED:()=>r("No protector provided with private network enforced","PROTECTOR_REQUIRED"),UNEXPECTED_END:()=>r("Unexpected end of input from reader.","UNEXPECTED_END"),maybeUnexpectedEnd:e=>!0===e?t.exports.UNEXPECTED_END():e}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/errors.js"}],[4961,{multiaddr:5208,"peer-id":5410,"peer-info":5411},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("peer-id"),i=e("peer-info"),s=e("multiaddr");t.exports=function(e,t){let n;if(i.isPeerInfo(e))return t.put(e);if(s.isMultiaddr(e)){const s=e.getPeerId();try{n=t.get(s)}catch(e){n=new i(r.createFromB58String(s))}return n.multiaddrs.add(e),n}if(r.isPeerId(e)){const n=e.toB58String();try{return t.get(n)}catch(e){throw new Error(`Couldnt get PeerInfo for ${n}`)}}throw new Error("peer type not recognized")}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/get-peer-info.js"}],[4962,{"./connection/handler":4952,"./connection/manager":4955,"./dialer":4957,"./errors":4960,"./get-peer-info":4961,"./observer":4966,"./plaintext":4967,"./protocol-muxer":4968,"./stats":4969,"./transport":4972,assert:1700,"async/each":1733,"async/eachSeries":1738,"async/series":1772,debug:2253,events:2082,"fsm-event":4303,"libp2p-circuit":4818},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("fsm-event"),i=e("events").EventEmitter,s=e("async/each"),o=e("async/eachSeries"),a=e("async/series"),u=e("libp2p-circuit"),c=e("./transport"),l=e("./connection/manager"),h=e("./get-peer-info"),f=e("./dialer"),d=e("./connection/handler"),p=e("./protocol-muxer"),m=e("./plaintext"),b=e("./observer"),g=e("./stats"),y=e("assert"),_=e("./errors"),k=e("debug"),E=k("libp2p:switch");E.error=k("libp2p:switch:error");t.exports=class extends i{constructor(e,t,n){super(),y(e,"You must provide a `peerInfo`"),y(t,"You must provide a `peerBook`"),this._peerInfo=e,this._peerBook=t,this._options=n||{},this.setMaxListeners(Infinity),this.transports={},this.conns={},this.protocols={},this.muxers={},this.identify=!1,this.crypto=m,this.protector=this._options.protector||null,this.transport=new c(this),this.connection=new l(this),this.observer=b(this),this.stats=g(this.observer,this._options.stats),this.protocolMuxer=p(this.protocols,this.observer),this._connectionHandler=d(this),this.state=new r("STOPPED",{STOPPED:{start:"STARTING",stop:"STOPPING"},STARTING:{done:"STARTED",stop:"STOPPING"},STARTED:{stop:"STOPPING",start:"STARTED"},STOPPING:{stop:"STOPPING",done:"STOPPED"}}),this.state.on("STARTING",(()=>{E("The switch is starting"),this._onStarting()})),this.state.on("STOPPING",(()=>{E("The switch is stopping"),this._onStopping()})),this.state.on("STARTED",(()=>{E("The switch has started"),this.emit("start")})),this.state.on("STOPPED",(()=>{E("The switch has stopped"),this.emit("stop")})),this.state.on("error",(e=>{E.error(e),this.emit("error",e)})),this.dialer=f(this),this.dial=this.dialer.dial,this.dialFSM=this.dialer.dialFSM}availableTransports(e){const t=e.multiaddrs.toArray();return Object.keys(this.transports).filter((e=>this.transports[e].filter(t).length>0)).sort(((e,t)=>e===u.tag?1:t===u.tag||e<t?-1:1))}handle(e,t,n){this.protocols[e]={handlerFunc:t,matchFunc:n},this._peerInfo.protocols.add(e)}unhandle(e){this.protocols[e]&&delete this.protocols[e],this._peerInfo.protocols.delete(e)}hangUp(e,t){const n=h(e,this._peerBook).id.toB58String(),r=[...this.connection.getAllById(n)];s(r,((e,t)=>{e.once("close",t),e.close()}),t)}hasTransports(){const e=Object.keys(this.transports).filter((e=>e!==u.tag));return e&&e.length>0}start(e=(()=>{})){this.once("start",e),this.state("start")}stop(e=(()=>{})){this.once("stop",e),this.state("stop")}_onStarting(){this.stats.start(),o(this.availableTransports(this._peerInfo),((e,t)=>{this.transport.listen(e,{},null,t)}),(e=>{if(e)return E.error(e),this.emit("error",e),this.state("stop");this.state("done")}))}_onStopping(){this.stats.stop(),a([e=>{s(this.transports,((e,t)=>{s(e.listeners,((e,t)=>{e.close((e=>{e&&E.error(e),t()}))}),t)}),e)},e=>s(this.connection.getAll(),((e,t)=>{e.once("close",t),e.close()}),e)],(e=>{this.state("done")}))}},t.exports.errors=_}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/index.js"}],[4963,{"./queue":4964,"async/tryEach":1778,debug:2253},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/tryEach"),i=e("debug")("libp2p:switch:dialer"),s=e("./queue");t.exports=class{constructor(e,t){i("create: %s peer limit, %s dial timeout",e,t),this.perPeerLimit=e,this.dialTimeout=t,this.queues=new Map}dialMany(e,t,n,s){i("dialMany:start");const o={cancel:!1};let a=[];const u=n.map((n=>r=>this.dialSingle(e,t,n,o,((e,t)=>e?(a.push(e),r(e)):r(null,t)))));r(u,((e,t)=>{if(t&&t.conn)return i("dialMany:success"),s(null,t);i("dialMany:error"),s(a)}))}dialSingle(e,t,n,r,o){const a=e.toB58String();let u;i("dialSingle: %s:%s",a,n.toString()),this.queues.has(a)?u=this.queues.get(a):(u=new s(this.perPeerLimit,this.dialTimeout),this.queues.set(a,u)),u.push(t,n,r,o)}}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/limit-dialer/index.js"}],[4964,{"async/queue":1769,"async/timeout":1777,debug:2253,"interface-connection":4406,once:5307,"pull-stream/pull":5478,"pull-stream/sources/empty":5488},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("interface-connection").Connection,i=e("pull-stream/pull"),s=e("pull-stream/sources/empty"),o=e("async/timeout"),a=e("async/queue"),u=e("debug"),c=e("once"),l=u("libp2p:switch:dialer:queue");l.error=u("libp2p:switch:dialer:queue:error");t.exports=class{constructor(e,t){this.dialTimeout=t,this.queue=a(((e,t)=>{this._doWork(e.transport,e.addr,e.token,t)}),e)}_doWork(e,t,n,o){o=c(o),l("work:start"),this._dialWithTimeout(e,t,((a,u)=>{if(a)return l.error(`${e.constructor.name}:work`,a),o(a);if(n.cancel)return l("work:cancel"),i(s(),u),"function"==typeof u.close?u.close((e=>o(null))):o(null);n.cancel=!0,l("work:success");(new r).setInnerConn(u),o(null,{multiaddr:t,conn:u})}))}_dialWithTimeout(e,t,n){o((n=>{const r=e.dial(t,(e=>{if(e)return n(e);n(null,r)}))}),this.dialTimeout)(n)}push(e,t,n,r){this.queue.push({transport:e,addr:t,token:n},r)}}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/limit-dialer/queue.js"}],[4965,{"interface-connection":4406,"pull-stream/pull":5478},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("interface-connection").Connection,i=e("pull-stream/pull");t.exports=(e,t,n,s)=>{const o=new Promise(((e,t)=>{n.getPeerInfo(((t,r)=>{if(!t&&r)return void e(r);const i=n.setPeerInfo;n.setPeerInfo=t=>{i.call(n,t),e(t)}}))})),a={source:i(n,s.incoming(e,t,o)),sink:i(s.outgoing(e,t,o),n)};return new r(a,n)}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/observe-connection.js"}],[4966,{events:2082,"pull-stream/throughs/map":5500},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream/throughs/map"),i=e("events");t.exports=e=>{const t=Object.assign(new i,{incoming:n("in"),outgoing:n("out")});return e.on("peer-mux-established",(e=>{t.emit("peer:connected",e.id.toB58String())})),e.on("peer-mux-closed",(e=>{t.emit("peer:closed",e.id.toB58String())})),t;function n(e){return(n,i,s)=>r((r=>(function(e,n,r,i,s){e.then((e=>{if(e){const o=e.id.toB58String();t.emit("message",o,n,r,i,s)}}))}(s,n,i,e,r.length),r)))}}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/observer.js"}],[4967,{"async/setImmediate":1773},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/setImmediate");t.exports={tag:"/plaintext/1.0.0",encrypt:(e,t,n,i)=>("function"==typeof n&&(i=n,n=undefined),r((()=>i())),t)}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/plaintext.js"}],[4968,{"./observe-connection":4965,debug:2253,"multistream-select":5243},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multistream-select"),i=e("./observe-connection"),s=e("debug"),o=s("libp2p:switch:protocol-muxer");o.error=s("libp2p:switch:protocol-muxer:error"),t.exports=function(e,t){return n=>(s,a)=>{const u=a||new r.Listener;let c;c=n&&!a?i(n,null,s,t):s,Object.keys(e).forEach((n=>{if(!n)return;u.addHandler(n,((n,r)=>{o("registering handler with protocol %s",n);const s=e[n];if(s){const e=s&&s.handlerFunc;if(e){e(s,i(null,n,r,t))}}}),e[n].matchFunc)})),u.handle(c,(e=>{e&&o.error("multistream handshake failed",e)}))}}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/protocol-muxer.js"}],[4969,{"./old-peers":4970,"./stat":4971,events:2082},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events"),i=e("./stat"),s=e("./old-peers"),o={computeThrottleMaxQueueSize:1e3,computeThrottleTimeout:2e3,movingAverageIntervals:[6e4,3e5,9e5],maxOldPeersRetention:50},a=["dataReceived","dataSent"],u={in:"dataReceived",out:"dataSent"};t.exports=(e,t)=>{const n=Object.assign({},o,t),c=new i(a,n),l=Object.assign(new r,{start:function(){e.on("message",m),c.start();for(let e of f.values())e.start();for(let e of d.values())e.start()},stop:function(){e.removeListener("message",m),c.stop();for(let e of f.values())e.stop();for(let e of d.values())e.stop()},global:c,peers:()=>Array.from(f.keys()),forPeer:e=>f.get(e)||h.get(e),transports:()=>Array.from(d.keys()),forTransport:e=>d.get(e),protocols:()=>Array.from(p.keys()),forProtocol:e=>p.get(e)});c.on("update",b);const h=s(n.maxOldPeersRetention),f=new Map,d=new Map,p=new Map;return e.on("peer:closed",(e=>{const t=f.get(e);t&&(t.removeListener("update",b),t.stop(),f.delete(e),h.set(e,t))})),l;function m(e,t,r,s,o){const l=u[s];if(t){c.push(l,o);let t=f.get(e);t||(t=h.get(e),t?h.delete(e):t=new i(a,n),t.on("update",b),t.start(),f.set(e,t)),t.push(l,o)}if(t){let e=d.get(t);e||(e=new i(a,n),e.on("update",b),d.set(t,e)),e.push(l,o)}if(r){let e=p.get(r);e||(e=new i(a,n),e.on("update",b),p.set(r,e)),e.push(l,o)}}function b(){l.emit("update")}}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/stats/index.js"}],[4970,{hashlru:4374},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("hashlru");t.exports=e=>{const t=r(e);return t.delete=t.remove,t}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/stats/old-peers.js"}],[4971,{"bignumber.js":4950,events:2082,"moving-average":5203,retimer:5733},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events"),i=e("bignumber.js"),s=e("moving-average"),o=e("retimer");t.exports=class extends r{constructor(e,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this);const n=this._options.movingAverageIntervals;for(var r=0;r<e.length;r++){var o=e[r];this._stats[o]=i(0),this._movingAverages[o]={};for(var a=0;a<n.length;a++){var u=n[a];(this._movingAverages[o][u]=s(u)).push(this._frequencyLastTime,0)}}}start(){this._queue.length&&this._resetComputeTimeout()}stop(){this._timeout&&(this._timeout.clear(),this._timeout=null)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(e,t){this._queue.push([e,t,Date.now()]),this._resetComputeTimeout()}_resetComputeTimeout(){this._timeout?this._timeout.reschedule(this._nextTimeout()):this._timeout=o(this._update,this._nextTimeout())}_nextTimeout(){const e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(;this._queue.length;){const t=e=this._queue.shift();this._applyOp(t)}this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){const t=e-this._frequencyLastTime;Object.keys(this._stats).forEach((n=>{this._updateFrequencyFor(n,t,e)})),this._frequencyLastTime=e}_updateFrequencyFor(e,t,n){const r=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;const i=r/(t||1)*1e3;let o=this._movingAverages[e];o||(o=this._movingAverages[e]={});const a=this._options.movingAverageIntervals;for(var u=0;u<a.length;u++){var c=a[u],l=o[c];l||(l=o[c]=s(c)),l.push(n,i)}}_applyOp(e){const t=e[0],n=e[1];if("number"!=typeof n)throw new Error("invalid increment number:",n);let r;r=this._stats.hasOwnProperty(t)?this._stats[t]:this._stats[t]=i(0),this._stats[t]=r.plus(n),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=n}}}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/stats/stat.js"}],[4972,{"./constants":4956,"./limit-dialer":4963,"./utils":4973,"async/parallel":1768,debug:2253,once:5307},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/parallel"),i=e("once"),s=e("debug")("libp2p:switch:transport"),o=e("./limit-dialer"),{DIAL_TIMEOUT:a}=e("./constants"),{uniqueBy:u}=e("./utils");class c{constructor(e){this.switch=e,this.dialer=new o(8,this.switch._options.dialTimeout||a)}add(e,t){if(s("adding %s",e),this.switch.transports[e])throw new Error("There is already a transport with this key");this.switch.transports[e]=t,this.switch.transports[e].listeners||(this.switch.transports[e].listeners=[])}remove(e,t){if(t=t||function(){},!this.switch.transports[e])return t();this.close(e,(n=>{delete this.switch.transports[e],t(n)}))}removeAll(e){const t=Object.keys(this.switch.transports).map((e=>t=>{this.remove(e,t)}));r(t,e)}dial(e,t,n){const r=this.switch.transports[e];let i=t.multiaddrs.toArray();Array.isArray(i)||(i=[i]),i=c.dialables(r,i,this.switch._peerInfo),s("dialing %s",e,i.map((e=>e.toString()))),this.dialer.dialMany(t.id,r,i,((e,r)=>{if(e)return n(e);t.connect(r.multiaddr),n(null,r.conn)}))}listen(e,t,n,s){n=this.switch._connectionHandler(e,n);const o=this.switch.transports[e];let a=this.switch._peerInfo.multiaddrs.toArray();a=u(a,(e=>{const t=Number(e.toOptions().port);return isNaN(t)||0===t?e.toString():t}));const l=c.dialables(o,a);o.listeners||(o.listeners=[]);let h=[];const f=l.map((e=>t=>{const r=i(t),s=o.createListener(n);s.once("error",r),s.listen(e,(e=>{if(e)return r(e);s.removeListener("error",r),s.getAddrs(((e,t)=>{if(e)return r(e);h=h.concat(t),o.listeners.push(s),r()}))}))}));r(f,(e=>{if(e)return s(e);this.switch._peerInfo.multiaddrs.replace(l,h),s()}))}close(e,t){const n=this.switch.transports[e];if(!n)return t(new Error(`Trying to close non existing transport: ${e}`));r(n.listeners.map((e=>t=>{e.close(t)})),t)}static dialables(e,t,n){if(!e||!e.filter)return[];const r=e.filter(t);if(!n||!r.length)return r;const i=function(e){const t=e.id.toB58String();return e.multiaddrs.toArray().reduce(((e,n)=>{const r=n.getPeerId();n=n.toString();const i=r?n.slice(0,n.lastIndexOf(`/ipfs/${r}`)):`${n}/ipfs/${t}`;return e.concat([n,i])}),[]).filter((e=>Boolean(e))).concat(`/ipfs/${t}`)}(n);return r.filter((e=>!i.some((t=>function(e){const t=e.protoNames().reverse().find((e=>l.includes(e)));return e=e.toString(),t?e.slice(e.lastIndexOf(t)+t.length):e}(e).startsWith(t)))))}}const l=["p2p-circuit","p2p-websocket-star","p2p-webrtc-star","p2p-stardust"];t.exports=c}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/transport.js"}],[4973,{"libp2p-identify":4869},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("libp2p-identify");t.exports.msHandle=(e,t)=>new Promise(((n,r)=>{e.handle(t,(e=>{if(e)return r(e);n()}))})),t.exports.msSelect=(e,t)=>new Promise(((n,r)=>{e.select(t,((e,t)=>{if(e)return r(e);n(t)}))})),t.exports.identifyDialer=(e,t)=>new Promise(((n,i)=>{r.dialer(e,t,((e,t,r)=>{if(e)return i(e);n({peerInfo:t,observedAddrs:r})}))})),t.exports.uniqueBy=(e,t)=>[...new Map(e.map((e=>[t(e),e]))).values()]}}},{package:"libp2p-switch",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-switch/src/utils.js"}],[4974,{"./utils":4975,"async/setImmediate":1773,"class-is":2121,debug:2253,events:2082,"interface-connection":4406,mafmt:5190,multiaddr:5208,once:5307,"peer-id":5410,"peer-info":5411,"simple-peer":5820,"socket.io-client":5838,"stream-to-pull-stream":5896,webrtcsupport:6161},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug")("libp2p:webrtc-star"),i=e("multiaddr"),s=e("mafmt"),o=e("class-is"),a=e("socket.io-client"),u=e("events").EventEmitter,c=e("simple-peer"),l=e("peer-id"),h=e("peer-info"),f=e("interface-connection").Connection,d=e("stream-to-pull-stream"),p=e("once"),m=e("async/setImmediate"),b=e("webrtcsupport"),g=e("./utils"),y=g.cleanUrlSIO,_=g.cleanMultiaddr,k=p((()=>{})),E={transports:["websocket"],"force new connection":!0};t.exports=o(class{constructor(e){e=e||{},this.maSelf=undefined,this.sioOptions={transports:["websocket"],"force new connection":!0},e.wrtc&&(this.wrtc=e.wrtc),this.discovery=new u,this.discovery.tag="webRTCStar",this.discovery._isStarted=!1,this.discovery.start=e=>{this.discovery._isStarted=!0,m(e)},this.discovery.stop=e=>{this.discovery._isStarted=!1,m(e)},this.listenersRefs={},this._peerDiscovered=this._peerDiscovered.bind(this)}dial(e,t,n){"function"==typeof t&&(n=t,t={}),n=n?p(n):k;const i=(~~(1e9*Math.random())).toString(36)+Date.now(),s=this.listenersRefs[Object.keys(this.listenersRefs)[0]].io,o={initiator:!0,trickle:!1};let a;this.wrtc&&(o.wrtc=this.wrtc);try{a=new c(o)}catch(e){return r("Could not create connection:",e),n(e)}const u=new f(d.duplex(a));let l=!1;return a.on("signal",(t=>{s.emit("ss-handshake",{intentId:i,srcMultiaddr:this.maSelf.toString(),dstMultiaddr:e.toString(),signal:t})})),a.once("timeout",(()=>n(new Error("timeout")))),a.once("error",(e=>{l||n(e)})),s.on("ws-handshake",(t=>{if(t.intentId===i&&t.err)return n(new Error(t.err));t.intentId===i&&t.answer&&(a.once("connect",(()=>{l=!0,u.destroy=a.destroy.bind(a),a.once("close",(()=>u.destroy())),u.getObservedAddrs=t=>t(null,[e]),n(null,u)})),a.signal(t.signal))})),u}createListener(e,t){"function"==typeof e&&(t=e,e={});const n=new u;return n.listen=(e,i)=>{if(i=i?p(i):k,!b.support&&!this.wrtc)return m((()=>i(new Error("no WebRTC support"))));this.maSelf=e;const s=y(e);r("Dialing to Signalling Server on: "+s),n.io=a.connect(s,E),n.io.once("connect_error",i),n.io.once("error",(e=>{n.emit("error",e),n.emit("close")})),n.io.on("ws-handshake",(function(e){if(e.answer||e.err)return;const s={trickle:!1};o.wrtc&&(s.wrtc=o.wrtc);let a;try{a=new c(s)}catch(e){return r("Could not create incoming connection:",e),i(e)}const u=new f(d.duplex(a));a.once("connect",(()=>{u.getObservedAddrs=t=>t(null,[e.srcMultiaddr]),n.emit("connection",u),t(u)})),a.once("signal",(t=>{e.signal=t,e.answer=!0,n.io.emit("ss-handshake",e)})),a.signal(e.signal)})),n.io.on("ws-peer",this._peerDiscovered),n.io.on("connect",(()=>{n.io.emit("ss-join",e.toString())})),n.io.once("connect",(()=>{n.emit("listening"),i()}));const o=this},n.close=e=>{e=e?p(e):k,n.io.emit("ss-leave"),m((()=>{n.emit("close"),e()}))},n.getAddrs=e=>{m((()=>e(null,[this.maSelf])))},this.listenersRefs[i.toString()]=n,n}filter(e){return Array.isArray(e)||(e=[e]),e.filter((e=>!(e.protoNames().indexOf("p2p-circuit")>-1)&&s.WebRTCStar.matches(e)))}_peerDiscovered(e){if(!this.discovery._isStarted)return;r("Peer Discovered:",e);const t=(e=_(e)).split("/ipfs/"),n=t[t.length-1],s=l.createFromB58String(n),o=new h(s);o.multiaddrs.add(i(e)),this.discovery.emit("peer",o)}},{className:"WebRTCStar",symbolName:"@libp2p/js-libp2p-webrtc-star/webrtcstar"})}}},{package:"libp2p-webrtc-star",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-webrtc-star/src/index.js"}],[4975,{multiaddr:5208},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multiaddr");(n=t.exports).cleanUrlSIO=function(e){const t=e.toString().split("/"),n=e.protos()[1].name,i=e.protos()[2].name,s=e.stringTuples()[1][1];if("tcp"!==n||"ws"!==i&&"wss"!==i)throw new Error("invalid multiaddr: "+e.toString());return r.isName(e)?"ws"===i?"http://"+t[2]+(80===s?"":":"+s):"wss"===i?"https://"+t[2]+(443===s?"":":"+s):void 0:"http://"+t[2]+":"+t[4]},n.cleanMultiaddr=function(e){const t="/libp2p-webrtc-star";if(-1!==e.indexOf(t)){e=e.substring(t.length,e.length);let n=r(e);const i=n.stringTuples().filter((e=>421===e[0]))[0];n=n.decapsulate("ipfs"),n=n.encapsulate("/p2p-webrtc-star"),n=n.encapsulate(`/ipfs/${i[1]}`),e=n.toString()}return e}}}},{package:"libp2p-webrtc-star",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-webrtc-star/src/utils.js"}],[4976,{"async/map":1764,"async/parallel":1768,debug:2253,events:2082,"libp2p-websocket-star":4978,mafmt:5190,multiaddr:5208,once:5307},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug")("libp2p:websocket-star:multi"),i=e("once"),s=e("events").EventEmitter,o=e("async/map"),a=e("async/parallel"),u=e("multiaddr"),c=e("mafmt"),l=e("libp2p-websocket-star");t.exports=class{constructor(e){this.opt=e||{},this.servers=e.servers||[],this.ws=new l(this.opt),this.discovery=this.ws.discovery}dial(e,t,n){return r("dial",e),this.ws.dial(e,t,n)}createListener(e,t){"function"==typeof e&&(t=e,e={});const n=new s;return n.servers={},n.online=[],this.servers.forEach((r=>{const i=this.ws.createListener(e,t);i.once("error",(()=>{})),i.url=r,n.servers[r]=i})),n.listen=(e,t)=>{const s=e.toString().split("ipfs/").pop();r("listen on %s server(s) with id %s",this.servers.length,s),a(this.servers.map((e=>n.servers[e])).map((e=>t=>{r("listen %s",e.url);const o=i((i=>(r("listen %s ok %s",e.url,!i),i?t(r(i)):(n.online.push(e),t()))));setTimeout(o,this.opt.timeout||5e3,new Error("Timeout")),e.listen(u(e.url).encapsulate("/ipfs/"+s),o)})),(()=>{if(n.online.length||this.opt.ignore_no_online)n.emit("listening"),t();else{const e=new Error("Couldn't listen on any of the servers");n.emit("error",e),t(e)}}))},n.close=e=>a(n.online.map((e=>t=>e.close(t))),(t=>e(t,n.online=[]))),n.getAddrs=e=>o(n.online,((e,t)=>e.getAddrs(t)),((t,n)=>t?e(t):e(null,n.reduce(((e,t)=>e.concat(t)),[])))),n}filter(e){return Array.isArray(e)||(e=[e]),e.filter((e=>e.toString().startsWith("/p2p-websocket-star")||c.WebSocketStar.matches(e)))}}}}},{package:"libp2p-websocket-star-multi",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-websocket-star-multi/src/index.js"}],[4977,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.ERR_WS_STAR_WEBSOCKET_CONNECTION="ERR_WS_STAR_WEBSOCKET_CONNECTION"}}},{package:"libp2p-websocket-star",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-websocket-star/src/errors/index.js"}],[4978,{"./listener":4979,"./utils":4980,"async/setImmediate":1773,"class-is":2121,debug:2253,events:2082,"interface-connection":4406,mafmt:5190,multiaddr:5208,"peer-id":5410,"peer-info":5411},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug")("libp2p:websocket-star"),i=e("multiaddr"),s=e("events").EventEmitter,o=e("peer-id"),a=e("peer-info"),u=e("interface-connection").Connection,c=e("async/setImmediate"),l=e("./utils"),h=e("./listener"),f=l.cleanUrlSIO,d=e("mafmt"),p=e("class-is");t.exports=p(class{constructor(e){e=e||{},this.id=e.id,this.flag=e.allowJoinWithDisabledChallenge,this.discovery=new s,this.discovery.tag="websocketStar",this.discovery.start=e=>{c(e)},this.discovery.stop=e=>{c(e)},this.listeners_list={},this._peerDiscovered=this._peerDiscovered.bind(this)}lazySetId(e){e&&(this.id=e,this.canCrypto=!0)}dial(e,t,n){let r;"function"==typeof t&&(n=t,t={});try{r=f(e)}catch(e){return n(e)}const i=this.listeners_list[r];return i?i.dial(e,t,n):(n(new Error("No listener for this server")),new u)}createListener(e,t){"function"==typeof e&&(t=e,e={});const n=new h({id:this.id,handler:t,listeners:this.listeners_list,flag:this.flag});return n.on("peer",this._peerDiscovered),n}filter(e){return Array.isArray(e)||(e=[e]),e.filter((e=>d.WebSocketStar.matches(e)))}_peerDiscovered(e){r("Peer Discovered:",e);const t=e.split("/ipfs/").pop(),n=o.createFromB58String(t),s=new a(n);s.multiaddrs.add(i(e)),this.discovery.emit("peer",s)}},{className:"WebsocketStar",symbolName:"@libp2p/js-libp2p-websocket-star/websocketstar"})}}},{package:"libp2p-websocket-star",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-websocket-star/src/index.js"}],[4979,{"./errors":4977,"./utils":4980,"async/series":1772,"async/setImmediate":1773,buffer:2081,debug:2253,events:2082,"interface-connection":4406,"libp2p-crypto":4850,multiaddr:5208,once:5307,"pull-stream/pull":5478,"pull-stream/throughs/through":5503,"socket.io-client":5838,"socket.io-pull-stream":5860,uuid:6009},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("debug")("libp2p:websocket-star:listener"),i=e("multiaddr"),s=e("socket.io-client"),o=e("socket.io-pull-stream"),a=e("uuid"),u=e("async/series"),c=e("events").EventEmitter,l=e("interface-connection").Connection,h=e("once"),f=e("async/setImmediate"),d=e("./utils"),p=d.cleanUrlSIO,m=e("libp2p-crypto"),b=e("pull-stream/pull"),g=e("pull-stream/throughs/through"),y=e("./errors"),_=h((()=>{})),k={transports:["websocket"],"force new connection":!0};t.exports=class extends c{constructor(e){super(),this.id=e.id,this.log=r.bind(r,"listener#offline"),this.canCrypto=Boolean(e.id),this._handler=e.handler||_,this.listeners_list=e.listeners||{},this.flag=e.flag,this.conns=[],this.connected=!1}_up(e){if(e=e?h(e):_,this.io)return e();this.log=r.bind(r,"listener#"+this.server),this.log("dialing to signalling server");const t=this.io=s.connect(this.server,k);o(t,{codec:"buffer"}),t.once("error",e),t.once("connect_error",e),t.once("connect",e);const n=new d.Protocol(this.log);n.addRequest("ws-peer",["multiaddr"],((e,t)=>this.emit("peer",t))),n.addRequest("ss-incomming",["string","multiaddr","function"],this._incommingDial.bind(this)),n.handleSocket(t)}_down(){this.io&&(this.io.disconnect(),this.emit("close"),delete this.io)}_cryptoChallenge(e){if(!this.io)return e(new Error("Not connected"));const t=this.canCrypto?m.keys.marshalPublicKey(this.id.pubKey).toString("hex"):"",r=this.ma.toString();this.io.emit("ss-join",r,t,((t,r,i)=>{if(t)return e(t);if(r){if(!this.canCrypto)return this._down(),e(new Error("Can't sign cryptoChallenge: No id provided"));this.log("performing cryptoChallenge"),this.id.privKey.sign(n.from(r),((t,n)=>{if(t)return e(t);this.signature=n.toString("hex"),this._join(e)}))}else{if(!this.flag)return this._down(),e(new Error('Tried to listen on a server with crypto challenge disabled!\n    This is prohibited by default and can lead to security issues!\n    Please set "allowJoinWithDisabledChallenge" to true in the constructor options (but only if you know what you are doing)!'));this.signature="_",e(null,null,i)}}))}_crypto(e){if(e=e?h(e):_,this.log("joining"),!this.io)return e(new Error("Not connected"));this.signature?this._join(e):this._cryptoChallenge(e)}_join(e){this.io.emit("ss-join",this.ma.toString(),this.signature,e)}_incommingDial(e,t,n,r){this.log("dial#"+t+" incomming from",n);const s=i(n),o=this.io.createSource(t+".dialer"),a=this.io.createSink(t+".listener");r();const u=new l({sink:a,source:o},{getObservedAddrs:e=>e(null,[s])});this.emit("connection",u),this._handler(u)}listen(e,t){if(this.ma=e,this.server=p(e),this.listeners_list[this.server]=this,t=t?h(t):_,this.connected)return this.closing=!1,f((()=>t()));u([e=>this._up(e),e=>this._crypto(((t,n,r)=>e(t,r)))],((e,[n,r])=>{if(e){if(e.description&&"ENOTFOUND"===e.description.code){const t=e.description.hostname;e=Object.assign(new Error(`WebSocket connection failed on ${t}`),{code:y.ERR_WS_STAR_WEBSOCKET_CONNECTION})}return this.log("error",e),e instanceof Error||(e=new Error(e)),this._down(),this.emit("error",e),this.emit("close"),t(e)}this.log("success"),this.connected=!0,this.io.on("reconnect",(()=>{this.signature=null,this._crypto(((e,t,n)=>{if(e)this.log("reconnect error",e),this.emit("error",e);else{this.log("reconnected");for(const e of n||[])this.emit("peer",e)}}))})),this.emit("listening");for(const e of r||[])this.emit("peer",e);t()}))}getAddrs(e){f((()=>e(null,this.ma?[this.ma]:[])))}get activeConnections(){return this.conns=this.conns.filter((e=>e.sink||e.source)),Boolean(this.conns.length)}maybeClose(){!this.activeConnections&&this.closing&&(this.connected=!1,this.closing=!1,this.log("no more connections and listener is offline - closing"),this._down())}close(e){e=e?h(e):_,this.closing=!0,this.maybeClose(),e()}stateWatch(e,t){let n={sink:!0,source:!0};const r=e=>g((e=>e),(t=>{n[e]=!1,n.sink||n.source||this.maybeClose()}));return this.conns.push(n),{sink:b(r("sink"),e),source:b(t,r("source"))}}dial(e,t,n){"function"==typeof t&&(n=t,t={});const s=i(e),o=new l(null),u=a(),c=this.log.bind(r,"dial#"+u);n=n?h(n):_;let f=this.io;if(!f)return n(new Error("Not listening"));const d=f.createSink(u+".dialer");return c("dialing",e.toString()),f.emit("ss-dial",this.ma.toString(),e.toString(),u,(e=>{if(e)return n(e instanceof Error?e:new Error(e));c(e?"error: "+e.toString():"success");const t=f.createSource(u+".listener");o.setInnerConn(this.stateWatch(d,t),{getObservedAddrs:e=>e(null,[s])}),n(null,o)})),o}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-websocket-star",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-websocket-star/src/listener.js"}],[4980,{buffer:2081,"libp2p-crypto":4850,mafmt:5190,multiaddr:5208,"peer-id":5410},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){const i=e("multiaddr"),s=e("peer-id"),o=e("libp2p-crypto"),a=e("mafmt");const u={string:e=>"string"==typeof e,object:e=>"object"==typeof e,multiaddr:e=>{if(u.string(e))try{return i(e),!0}catch(e){return!1}},function:e=>"function"==typeof e};function c(e,t){if(!Array.isArray(t))throw new Error("Data is not an array");e.forEach(((e,n)=>{if(!u[e])throw console.error("Type %s does not exist",e),new Error("Type "+e+" does not exist");if(!u[e](t[n]))throw new Error("Data at index "+n+" is invalid for type "+e)}))}(n=t.exports).cleanUrlSIO=function(e){const t=e.protos(),n=t[0].name,r=t[1].name,i=t[2].name,s=e.stringTuples(),o=s[1][1];if("tcp"!==r||"ws"!==i&&"wss"!==i)throw new Error("invalid multiaddr: "+e.toString());let a=s[0][1];"ip6"===n&&(a="["+a+"]");let u="ws"===i&&80===o||"wss"===i&&443===o?"":o;return("wss"===i?"https":"http")+"://"+a+(u?":"+u:"")},n.validate=c,n.Protocol=function(e){e||(e=()=>{});const t=this;t.requests={},t.addRequest=(e,n,r)=>{t.requests[e]={def:n,handle:r}},t.handleSocket=n=>{n.r={},Object.keys(t.requests).forEach((r=>{const i=t.requests[r];n.on(r,(function(){const t=[...arguments];try{c(i.def,t),t.unshift(n),i.handle.apply(null,t)}catch(i){e(i),e("peer %s has sent invalid data for request %s",n.id||"<server>",r,t)}}))}))}},n.getIdAndValidate=function(e,t,n){s.createFromPubKey(r.from(e,"hex"),((i,s)=>i?n(new Error("Crypto error")):s.toB58String()!==t?n(new Error("Id is not matching")):n(null,o.keys.unmarshalPublicKey(r.from(e,"hex")))))},n.validateMa=e=>a.WebSocketStar.matches(i(e))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-websocket-star",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-websocket-star/src/utils.js"}],[4981,{"./listener":4982,"class-is":2121,debug:2253,"interface-connection":4406,mafmt:5190,"multiaddr-to-uri":5205,"pull-ws/client":5510},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-ws/client"),i=e("mafmt"),s=e("class-is"),o=e("interface-connection").Connection,a=e("multiaddr-to-uri"),u=e("debug")("libp2p:websockets:dialer"),c=e("./listener");t.exports=s(class{dial(e,t,n){"function"==typeof t&&(n=t,t={}),n=n||function(){};const i=a(e);u("dialing %s",i);const s=r(i,{binary:!0,onConnect:e=>{n(e)}}),c=new o(s);return c.getObservedAddrs=t=>t(null,[e]),c.close=e=>s.close(e),c}createListener(e,t){return"function"==typeof e&&(t=e,e={}),c(e,t)}filter(e){return Array.isArray(e)||(e=[e]),e.filter((e=>!e.protoNames().includes("p2p-circuit")&&(e.protoNames().includes("ipfs")&&(e=e.decapsulate("ipfs")),i.WebSockets.matches(e)||i.WebSocketsSecure.matches(e))))}},{className:"WebSockets",symbolName:"@libp2p/js-libp2p-websockets/websockets"})}}},{package:"libp2p-websockets",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-websockets/src/index.js"}],[4982,{"interface-connection":4406,multiaddr:5208,os:5363,"pull-ws/server":5514},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("interface-connection").Connection,i=e("multiaddr"),s=e("os");function o(){}const a=e("pull-ws/server")||o;t.exports=(e,t)=>{const n=a(e,(e=>{e.getObservedAddrs=e=>e(null,[]),t(new r(e))}));let u;return n._listen=n.listen,n.listen=(e,t)=>{t=t||o,u=e,e.protoNames().includes("ipfs")&&(e=e.decapsulate("ipfs")),n._listen(e.toOptions(),t)},n.getAddrs=e=>{const t=[],r=n.address();if(!r)return e(new Error("Listener is not ready yet"));let o=u.getPeerId();if(-1!==u.toString().indexOf("ip4")){let e=u.decapsulate("tcp");if(e=e.encapsulate("/tcp/"+r.port+"/ws"),u.getPeerId()&&(e=e.encapsulate("/ipfs/"+o)),-1!==e.toString().indexOf("0.0.0.0")){const n=s.networkInterfaces();Object.keys(n).forEach((r=>{n[r].forEach((n=>{"IPv4"===n.family&&t.push(i(e.toString().replace("0.0.0.0",n.address)))}))}))}else t.push(e)}e(null,t)},n}}}},{package:"libp2p-websockets",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p-websockets/src/listener.js"}],[4983,{superstruct:5906},function(){with(this)return function(){"use strict";return function(e,t,n){const{struct:r,superstruct:i}=e("superstruct"),{optional:s,list:o}=r,a=i(),u=a.union([a.interface({createListener:"function",dial:"function"}),"function"]),c=a({connEncryption:s(o([a("object|function")])),connProtector:a.union(["undefined",a.interface({protect:"function"})]),contentRouting:s(o(["object"])),dht:s(a("null|function|object")),peerDiscovery:s(o([a("object|function")])),peerRouting:s(o(["object"])),streamMuxer:s(o([a("object|function")])),transport:a.intersection([[u],a.interface({length:e=>e>0||"ERROR_EMPTY"})])}),l=a({peerDiscovery:a("object",{autoDial:!0}),relay:a({enabled:"boolean",hop:s(a({enabled:"boolean",active:"boolean"},{enabled:!1,active:!1}))},{enabled:!0}),dht:a("object?",{enabled:!1,kBucketSize:20,randomWalk:{enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:1e4}}),EXPERIMENTAL:a({pubsub:"boolean"},{pubsub:!1})},{}),h=a({switch:"object?",connectionManager:a("object",{minPeers:25}),datastore:"object?",peerInfo:"object",peerBook:"object?",modules:c,config:l});t.exports.validate=e=>{const[t,n]=h.validate(e);if(t)throw new Error(`${t.message}${t.reason?" - "+t.reason:""}`);return n.config.dht.enabled&&a("function|object")(n.modules.dht),n.config.peerDiscovery.autoDial===undefined&&(n.config.peerDiscovery.autoDial=!0),n}}}},{package:"libp2p",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p/src/config.js"}],[4984,{"async/parallel":1768,"async/tryEach":1778,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/tryEach"),i=e("async/parallel"),s=e("err-code");t.exports=e=>{const t=e._modules.contentRouting||[];return e._dht&&t.unshift(e._dht),{findProviders:(e,n,i)=>{if("function"==typeof n?(i=n,n={}):"number"==typeof n&&(n={maxTimeout:n}),!t.length)return i(s(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE"));const o=t.map((t=>r=>t.findProviders(e,n,((e,t)=>e?r(e):t&&0!==Object.keys(t).length?void r(null,t):r(s(new Error("not found"),"NOT_FOUND"),null)))));r(o,((e,t)=>{if(e&&"NOT_FOUND"!==e.code)return i(e);i(null,t=t||[])}))},provide:(e,n)=>{if(!t.length)return n(s(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE"));i(t.map((t=>n=>t.provide(e,n))),n)}}}}}},{package:"libp2p",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p/src/content-routing.js"}],[4985,{"./errors":4986,"async/nextTick":1767,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/nextTick"),i=e("err-code"),{messages:s,codes:o}=e("./errors");t.exports=e=>({put:(t,n,a)=>{if(!e._dht)return r(a,i(new Error(s.DHT_DISABLED),o.DHT_DISABLED));e._dht.put(t,n,a)},get:(t,n,a)=>{if("function"==typeof n&&(a=n,n={}),!e._dht)return r(a,i(new Error(s.DHT_DISABLED),o.DHT_DISABLED));e._dht.get(t,n,a)},getMany:(t,n,a,u)=>{if("function"==typeof a&&(u=a,a={}),!e._dht)return r(u,i(new Error(s.DHT_DISABLED),o.DHT_DISABLED));e._dht.getMany(t,n,a,u)}})}}},{package:"libp2p",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p/src/dht.js"}],[4986,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available"},n.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF"}}}},{package:"libp2p",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p/src/errors.js"}],[4987,{"err-code":2355,multiaddr:5208,"peer-id":5410,"peer-info":5411},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("peer-id"),i=e("peer-info"),s=e("multiaddr"),o=e("err-code");t.exports=e=>function(t,n){let a;if(i.isPeerInfo(t))a=t;else if(s.isMultiaddr(t)||"string"==typeof t){if("string"==typeof t)try{t=s(t)}catch(e){return n(o(e,"ERR_INVALID_MULTIADDR"))}const u=t.getPeerId();if(!u)return n(o(new Error("peer multiaddr instance or string must include peerId"),"ERR_INVALID_MULTIADDR"));try{a=e.peerBook.get(u)}catch(e){a=new i(r.createFromB58String(u))}a.multiaddrs.add(t)}else{if(!r.isPeerId(t))return n(o(new Error(`${a} is not a valid peer type`),"ERR_INVALID_PEER_TYPE"));{const r=t.toB58String();try{a=e.peerBook.get(r)}catch(r){return e.peerRouting.findPeer(t,n)}}}n(null,a)}}}},{package:"libp2p",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p/src/get-peer-info.js"}],[4988,{"./config":4983,"./content-routing":4984,"./dht":4985,"./errors":4986,"./get-peer-info":4987,"./peer-routing":4989,"./pubsub":4990,"./util":4991,_process:5420,"async/each":1733,"async/nextTick":1767,"async/parallel":1768,"async/series":1772,debug:2253,"err-code":2355,events:2082,"fsm-event":4303,"libp2p-connection-manager":4822,"libp2p-ping":4910,"libp2p-switch":4962,"libp2p-websockets":4981,"peer-book":5409,"peer-info":5411},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("fsm-event"),i=e("events").EventEmitter,s=e("debug"),o=s("libp2p");o.error=s("libp2p:error");const a=e("err-code"),u=e("async/each"),c=e("async/series"),l=e("async/parallel"),h=e("async/nextTick"),f=e("peer-book"),d=e("peer-info"),p=e("libp2p-switch"),m=e("libp2p-ping"),b=e("libp2p-websockets"),g=e("libp2p-connection-manager"),{emitFirst:y}=e("./util"),_=e("./peer-routing"),k=e("./content-routing"),E=e("./dht"),w=e("./pubsub"),S=e("./get-peer-info"),v=e("./config").validate,{codes:I}=e("./errors"),x=(e,t)=>a(new Error(`libp2p cannot ${e} when not started; state is ${t}`),I.ERR_NODE_NOT_STARTED);class A extends i{constructor(e){if(super(),this._options=v(e),this.datastore=this._options.datastore,this.peerInfo=this._options.peerInfo,this.peerBook=this._options.peerBook||new f,this._modules=this._options.modules,this._config=this._options.config,this._transport=[],this._discovery=[],this._switch=new p(this.peerInfo,this.peerBook,this._options.switch),this._switch.on("error",((...e)=>this.emit("error",...e))),this.stats=this._switch.stats,this.connectionManager=new g(this,this._options.connectionManager),this._modules.streamMuxer){this._modules.streamMuxer.forEach((e=>this._switch.connection.addStreamMuxer(e))),this._switch.connection.reuse(),this._switch.connection.enableCircuitRelay(this._config.relay),this._switch.on("peer-mux-established",(e=>{this.emit("peer:connect",e)})),this._switch.on("peer-mux-closed",(e=>{this.emit("peer:disconnect",e)}))}if(this._switch.on("connection:start",(e=>{this.emit("connection:start",e)})),this._switch.on("connection:end",(e=>{this.emit("connection:end",e)})),this._modules.connEncryption){this._modules.connEncryption.forEach((e=>{this._switch.connection.crypto(e.tag,e.encrypt)}))}if(this._modules.connProtector)this._switch.protector=this._modules.connProtector;else if(n.env.LIBP2P_FORCE_PNET)throw new Error("Private network is enforced, but no protector was provided");if(this._config.dht.enabled){const e=this._modules.dht;this._dht=new e(this._switch,{datastore:this.datastore,...this._config.dht})}this._config.EXPERIMENTAL.pubsub&&(this.pubsub=w(this)),this.peerRouting=_(this),this.contentRouting=k(this),this.dht=E(this),this._getPeerInfo=S(this),m.mount(this._switch),this.state=new r("STOPPED",{STOPPED:{start:"STARTING",stop:"STOPPED"},STARTING:{done:"STARTED",abort:"STOPPED",stop:"STOPPING"},STARTED:{stop:"STOPPING",start:"STARTED"},STOPPING:{stop:"STOPPING",done:"STOPPED"}}),this.state.on("STARTING",(()=>{o("libp2p is starting"),this._onStarting()})),this.state.on("STOPPING",(()=>{o("libp2p is stopping"),this._onStopping()})),this.state.on("STARTED",(()=>{o("libp2p has started"),this.emit("start")})),this.state.on("STOPPED",(()=>{o("libp2p has stopped"),this.emit("stop")})),this.state.on("error",(e=>{o.error(e),this.emit("error",e)})),this.state.on("STARTED",(()=>{this.peerBook.getAllArray().forEach((e=>{this.emit("peer:discovery",e),this._maybeConnect(e)}))})),this._peerDiscovered=this._peerDiscovered.bind(this)}emit(e,...t){"error"!==e||this._events.error?super.emit(e,...t):o.error(...t)}start(e=(()=>{})){y(this,["error","start"],e),this.state("start")}stop(e=(()=>{})){y(this,["error","stop"],e),this.state("stop")}isStarted(){return!!this.state&&"STARTED"===this.state._state}dial(e,t){this.dialProtocol(e,null,t)}dialProtocol(e,t,n){if(!this.isStarted())return n(x("dial",this.state._state));"function"==typeof t&&(n=t,t=undefined),this._getPeerInfo(e,((e,r)=>{if(e)return n(e);this._switch.dial(r,t,n)}))}dialFSM(e,t,n){if(!this.isStarted())return n(x("dial",this.state._state));"function"==typeof t&&(n=t,t=undefined),this._getPeerInfo(e,((e,r)=>{if(e)return n(e);this._switch.dialFSM(r,t,n)}))}hangUp(e,t){this._getPeerInfo(e,((e,n)=>{if(e)return t(e);this._switch.hangUp(n,t)}))}ping(e,t){if(!this.isStarted())return t(x("ping",this.state._state));this._getPeerInfo(e,((e,n)=>{if(e)return t(e);t(null,new m(this._switch,n))}))}handle(e,t,n){this._switch.handle(e,t,n)}unhandle(e){this._switch.unhandle(e)}_onStarting(){if(!this._modules.transport)return this.emit("error",new Error("no transports were present")),this.state("abort");let e;const t=[],n=[];this.peerInfo.multiaddrs.toArray().forEach((e=>{e.getPeerId()||(t.push(e),n.push(e.encapsulate("/p2p/"+this.peerInfo.id.toB58String())))})),this.peerInfo.multiaddrs.replace(t,n);const r=this.peerInfo.multiaddrs.toArray();this._modules.transport.forEach((t=>{let n;n="function"==typeof t?new t({libp2p:this}):t,n.filter(r).length>0?this._switch.transport.add(n.tag||n[Symbol.toStringTag],n):b.isWebSockets(n)&&(e=n),this._transport.push(n)})),c([e=>{this.connectionManager.start(),this._switch.start(e)},t=>{e&&this._switch.transport.add(e.tag||e.constructor.name,e);this.peerInfo.multiaddrs.toArray().forEach((e=>{e.toString().match(/\/p2p-circuit($|\/)/)||this._transport.find((t=>t.filter(e).length>0))||this.peerInfo.multiaddrs.delete(e)})),t()},e=>{this._dht?this._dht.start((()=>{this._dht.on("peer",this._peerDiscovered),e()})):e()},e=>{if(this._floodSub)return this._floodSub.start(e);e()},e=>{this._modules.peerDiscovery?this._setupPeerDiscovery(e):e()}],(e=>{if(e)return o.error(e),this.emit("error",e),this.state("stop");this.state("done")}))}_onStopping(){c([e=>{l(this._discovery.map((e=>(e.removeListener("peer",this._peerDiscovered),t=>e.stop((e=>{o.error("an error occurred stopping the discovery service",e),t()}))))),e)},e=>{if(this._floodSub)return this._floodSub.stop(e);e()},e=>{if(this._dht)return this._dht.removeListener("peer",this._peerDiscovered),this._dht.stop(e);e()},e=>{this.connectionManager.stop(),this._switch.stop(e)},e=>{this._switch.transport.removeAll((()=>e()))}],(e=>{e&&(o.error(e),this.emit("error",e)),this.state("done")}))}_peerDiscovered(e){e.id.toB58String()!==this.peerInfo.id.toB58String()?(e=this.peerBook.put(e),this.isStarted()&&(this.emit("peer:discovery",e),this._maybeConnect(e))):o.error(new Error(I.ERR_DISCOVERED_SELF))}_maybeConnect(e){if(!0===this._config.peerDiscovery.autoDial&&!e.isConnected()){(this._options.connectionManager.minPeers||0)>Object.keys(this._switch.connection.connections).length&&(o("connecting to discovered peer"),this._switch.dialer.connect(e,(e=>{e&&o.error("could not connect to discovered peer",e)})))}}_setupPeerDiscovery(e){for(const e of this._modules.peerDiscovery){let t={enabled:!0};if(e.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[e.tag]&&(t={...t,...this._config.peerDiscovery[e.tag]}),t.enabled){let n;n="function"==typeof e?new e(Object.assign({},t,{peerInfo:this.peerInfo})):e,n.on("peer",this._peerDiscovered),this._discovery.push(n)}}u(this._discovery,((e,t)=>{e.start(t)}),e)}}t.exports=A,t.exports.createLibp2p=(e,t)=>{if(e.peerInfo)return h(t,null,new A(e));d.create(((n,r)=>{if(n)return t(n);e.peerInfo=r,t(null,new A(e))}))}}).call(this)}).call(this,e("_process"))}}},{package:"libp2p",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p/src/index.js"}],[4989,{"async/tryEach":1778,"err-code":2355},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/tryEach"),i=e("err-code");t.exports=e=>{const t=e._modules.peerRouting||[];return e._dht&&t.unshift(e._dht),{findPeer:(e,n,s)=>{"function"==typeof n&&(s=n,n={}),t.length||s(i(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE"));const o=t.map((t=>r=>t.findPeer(e,n,((e,t)=>e?r(e):t&&0!==Object.keys(t).length?void r(null,t):r(i(new Error("not found"),"NOT_FOUND"),null)))));r(o,((e,t)=>{if(e)return s(e);s(null,t=t||[])}))}}}}}},{package:"libp2p",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p/src/peer-routing.js"}],[4990,{"../../is-buffer/index.js":4686,"./errors":4986,"async/nextTick":1767,"err-code":2355,"libp2p-floodsub":4867},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("async/nextTick"),{messages:i,codes:s}=e("./errors"),o=e("libp2p-floodsub"),a=e("err-code");t.exports=e=>{const t=new o(e);return e._floodSub=t,{subscribe:(n,o,u,c)=>{if("function"==typeof o&&(c=u,u=o,o={}),!e.isStarted()&&!t.started)return r(c,a(new Error(i.NOT_STARTED_YET),s.PUBSUB_NOT_STARTED));var l;l=c,0===t.listenerCount(n)&&t.subscribe(n),t.on(n,u),r(l)},unsubscribe:(n,o,u)=>{if(!e.isStarted()&&!t.started)return r(u,a(new Error(i.NOT_STARTED_YET),s.PUBSUB_NOT_STARTED));o||u?t.removeListener(n,o):t.removeAllListeners(n),0===t.listenerCount(n)&&t.unsubscribe(n),"function"==typeof u&&r((()=>u()))},publish:(o,u,c)=>e.isStarted()||t.started?n.isBuffer(u)?void t.publish(o,u,c):r(c,a(new Error("data must be a Buffer"),"ERR_DATA_IS_NOT_A_BUFFER")):r(c,a(new Error(i.NOT_STARTED_YET),s.PUBSUB_NOT_STARTED)),ls:n=>{if(!e.isStarted()&&!t.started)return r(n,a(new Error(i.NOT_STARTED_YET),s.PUBSUB_NOT_STARTED));const o=Array.from(t.subscriptions);r((()=>n(null,o)))},peers:(n,o)=>{if(!e.isStarted()&&!t.started)return r(o,a(new Error(i.NOT_STARTED_YET),s.PUBSUB_NOT_STARTED));"function"==typeof n&&(o=n,n=null);const u=Array.from(t.peers.values()).filter((e=>!n||e.topics.has(n))).map((e=>e.info.id.toB58String()));r((()=>o(null,u)))},setMaxListeners:e=>t.setMaxListeners(e)}}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"libp2p",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p/src/pubsub.js"}],[4991,{once:5307},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("once");t.exports.emitFirst=function(e,t,n){n=r(n),t.forEach((r=>{e.once(r,((...r)=>{t.forEach((t=>{e.removeListener(t,n)})),n.apply(e,r)}))}))}}}},{package:"libp2p",file:"/home/gudahtt/projects/metamask-extension/node_modules/libp2p/src/util/index.js"}],[4998,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",h="[object Map]",f="[object Number]",d="[object Object]",p="[object Promise]",m="[object RegExp]",b="[object Set]",g="[object String]",y="[object Symbol]",_="[object WeakMap]",k="[object ArrayBuffer]",E="[object DataView]",w=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[s]=v[o]=v[k]=v[a]=v[E]=v[u]=v[c]=v[l]=v[h]=v[f]=v[d]=v[m]=v[b]=v[g]=v[_]=!1;var I="object"==typeof global&&global&&global.Object===Object&&global,x="object"==typeof self&&self&&self.Object===Object&&self,A=I||x||Function("return this")(),R="object"==typeof n&&n&&!n.nodeType&&n,T=R&&"object"==typeof t&&t&&!t.nodeType&&t,N=T&&T.exports===R&&I.process,j=function(){try{return N&&N.binding("util")}catch(e){}}(),P=j&&j.isTypedArray;function O(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function L(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function M(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var C,B,K,U=Array.prototype,F=Function.prototype,V=Object.prototype,q=A["__core-js_shared__"],G=(C=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",H=F.toString,Y=V.hasOwnProperty,z=V.toString,$=RegExp("^"+H.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=A.Symbol,X=A.Uint8Array,Z=V.propertyIsEnumerable,Q=U.splice,J=(B=Object.keys,K=Object,function(e){return B(K(e))}),ee=Ie(A,"DataView"),te=Ie(A,"Map"),ne=Ie(A,"Promise"),re=Ie(A,"Set"),ie=Ie(A,"WeakMap"),se=Ie(Object,"create"),oe=Re(ee),ae=Re(te),ue=Re(ne),ce=Re(re),le=Re(ie),he=W?W.prototype:undefined,fe=he?he.valueOf:undefined;function de(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=e?e.length:0;for(this.__data__=new me;++t<n;)this.add(e[t])}function ge(e){this.__data__=new pe(e)}function ye(e,t){var n=Ne(e)||function(e){return function(e){return Me(e)&&je(e)}(e)&&Y.call(e,"callee")&&(!Z.call(e,"callee")||z.call(e)==s)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!Y.call(e,o)||i&&("length"==o||Ae(o,r))||n.push(o);return n}function _e(e,t){for(var n=e.length;n--;)if(Te(e[n][0],t))return n;return-1}function ke(e,t,n,r,i){return e===t||(null==e||null==t||!Le(e)&&!Me(t)?e!=e&&t!=t:function(e,t,n,r,i,l){var p=Ne(e),_=Ne(t),w=o,S=o;p||(w=(w=xe(e))==s?d:w);_||(S=(S=xe(t))==s?d:S);var v=w==d&&!L(e),I=S==d&&!L(t),x=w==S;if(x&&!v)return l||(l=new ge),p||De(e)?Se(e,t,n,r,i,l):function(e,t,n,r,i,s,o){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!r(new X(e),new X(t)));case a:case u:case f:return Te(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case g:return e==t+"";case h:var l=M;case b:var d=2&s;if(l||(l=D),e.size!=t.size&&!d)return!1;var p=o.get(e);if(p)return p==t;s|=1,o.set(e,t);var _=Se(l(e),l(t),r,i,s,o);return o.delete(e),_;case y:if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,w,n,r,i,l);if(!(2&i)){var A=v&&Y.call(e,"__wrapped__"),R=I&&Y.call(t,"__wrapped__");if(A||R){var T=A?e.value():e,N=R?t.value():t;return l||(l=new ge),n(T,N,r,i,l)}}if(!x)return!1;return l||(l=new ge),function(e,t,n,r,i,s){var o=2&i,a=Ce(e),u=a.length,c=Ce(t).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var h=a[l];if(!(o?h in t:Y.call(t,h)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var d=!0;s.set(e,t),s.set(t,e);var p=o;for(;++l<u;){var m=e[h=a[l]],b=t[h];if(r)var g=o?r(b,m,h,t,e,s):r(m,b,h,e,t,s);if(!(g===undefined?m===b||n(m,b,r,i,s):g)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var y=e.constructor,_=t.constructor;y==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(d=!1)}return s.delete(e),s.delete(t),d}(e,t,n,r,i,l)}(e,t,ke,n,r,i))}function Ee(e){return!(!Le(e)||function(e){return!!G&&G in e}(e))&&(Pe(e)||L(e)?$:w).test(Re(e))}function we(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||V,t!==r)return J(e);var t,n,r,i=[];for(var s in Object(e))Y.call(e,s)&&"constructor"!=s&&i.push(s);return i}function Se(e,t,n,r,i,s){var o=2&i,a=e.length,u=t.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var l=-1,h=!0,f=1&i?new be:undefined;for(s.set(e,t),s.set(t,e);++l<a;){var d=e[l],p=t[l];if(r)var m=o?r(p,d,l,t,e,s):r(d,p,l,e,t,s);if(m!==undefined){if(m)continue;h=!1;break}if(f){if(!O(t,(function(e,t){if(!f.has(t)&&(d===e||n(d,e,r,i,s)))return f.add(t)}))){h=!1;break}}else if(d!==p&&!n(d,p,r,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function ve(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ie(e,t){var n=function(e,t){return null==e?undefined:e[t]}(e,t);return Ee(n)?n:undefined}de.prototype.clear=function(){this.__data__=se?se(null):{}},de.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},de.prototype.get=function(e){var t=this.__data__;if(se){var n=t[e];return n===r?undefined:n}return Y.call(t,e)?t[e]:undefined},de.prototype.has=function(e){var t=this.__data__;return se?t[e]!==undefined:Y.call(t,e)},de.prototype.set=function(e,t){return this.__data__[e]=se&&t===undefined?r:t,this},pe.prototype.clear=function(){this.__data__=[]},pe.prototype.delete=function(e){var t=this.__data__,n=_e(t,e);return!(n<0)&&(n==t.length-1?t.pop():Q.call(t,n,1),!0)},pe.prototype.get=function(e){var t=this.__data__,n=_e(t,e);return n<0?undefined:t[n][1]},pe.prototype.has=function(e){return _e(this.__data__,e)>-1},pe.prototype.set=function(e,t){var n=this.__data__,r=_e(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},me.prototype.clear=function(){this.__data__={hash:new de,map:new(te||pe),string:new de}},me.prototype.delete=function(e){return ve(this,e).delete(e)},me.prototype.get=function(e){return ve(this,e).get(e)},me.prototype.has=function(e){return ve(this,e).has(e)},me.prototype.set=function(e,t){return ve(this,e).set(e,t),this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,r),this},be.prototype.has=function(e){return this.__data__.has(e)},ge.prototype.clear=function(){this.__data__=new pe},ge.prototype.delete=function(e){return this.__data__.delete(e)},ge.prototype.get=function(e){return this.__data__.get(e)},ge.prototype.has=function(e){return this.__data__.has(e)},ge.prototype.set=function(e,t){var n=this.__data__;if(n instanceof pe){var r=n.__data__;if(!te||r.length<199)return r.push([e,t]),this;n=this.__data__=new me(r)}return n.set(e,t),this};var xe=function(e){return z.call(e)};function Ae(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function Re(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Te(e,t){return e===t||e!=e&&t!=t}(ee&&xe(new ee(new ArrayBuffer(1)))!=E||te&&xe(new te)!=h||ne&&xe(ne.resolve())!=p||re&&xe(new re)!=b||ie&&xe(new ie)!=_)&&(xe=function(e){var t=z.call(e),n=t==d?e.constructor:undefined,r=n?Re(n):undefined;if(r)switch(r){case oe:return E;case ae:return h;case ue:return p;case ce:return b;case le:return _}return t});var Ne=Array.isArray;function je(e){return null!=e&&Oe(e.length)&&!Pe(e)}function Pe(e){var t=Le(e)?z.call(e):"";return t==l||"[object GeneratorFunction]"==t}function Oe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Le(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Me(e){return!!e&&"object"==typeof e}var De=P?function(e){return function(t){return e(t)}}(P):function(e){return Me(e)&&Oe(e.length)&&!!v[z.call(e)]};function Ce(e){return je(e)?ye(e):we(e)}t.exports=function(e,t,n){var r=(n="function"==typeof n?n:undefined)?n(e,t):undefined;return r===undefined?ke(e,t,n):!!r}}}},{package:"lodash.isequalwith",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash.isequalwith/index.js"}],[4999,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=Object.prototype.toString,i=Array.isArray;t.exports=function(e){return"string"==typeof e||!i(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==r.call(e)}}}},{package:"lodash.isstring",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash.isstring/index.js"}],[50,{"../../../shared/constants/app":6184,"../../../shared/modules/random-id":6201,"../metamask-controller":82,"@babel/runtime/helpers/interopRequireDefault":195,"@metamask/obs-store":1193,"eth-rpc-errors":2455,events:2082,loglevel:5182},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("events")),s=e("@metamask/obs-store"),o=e("eth-rpc-errors"),a=r(e("loglevel")),u=e("../../../shared/constants/app"),c=e("../metamask-controller"),l=r(e("../../../shared/modules/random-id"));class h extends i.default{constructor(e){super(),this.memStore=new s.ObservableStore({unapprovedEncryptionPublicKeyMsgs:{},unapprovedEncryptionPublicKeyMsgCount:0}),this.messages=[],this.metricsEvent=e.metricsEvent}get unapprovedEncryptionPublicKeyMsgCount(){return Object.keys(this.getUnapprovedMsgs()).length}getUnapprovedMsgs(){return this.messages.filter((e=>"unapproved"===e.status)).reduce(((e,t)=>(e[t.id]=t,e)),{})}addUnapprovedMessageAsync(e,t){return new Promise(((n,r)=>{if(!e)return void r(new Error("MetaMask Message: address field is required."));const i=this.addUnapprovedMessage(e,t);this.once(`${i}:finished`,(t=>{switch(t.status){case"received":return void n(t.rawData);case"rejected":return void r(o.ethErrors.provider.userRejectedRequest("MetaMask EncryptionPublicKey: User denied message EncryptionPublicKey."));default:r(new Error(`MetaMask EncryptionPublicKey: Unknown problem: ${JSON.stringify(e)}`))}}))}))}addUnapprovedMessage(e,t){a.default.debug("EncryptionPublicKeyManager addUnapprovedMessage: address");const n=(new Date).getTime(),r=(0,l.default)(),i={id:r,msgParams:e,time:n,status:"unapproved",type:u.MESSAGE_TYPE.ETH_GET_ENCRYPTION_PUBLIC_KEY};return t&&(i.origin=t.origin),this.addMsg(i),this.emit("update"),r}addMsg(e){this.messages.push(e),this._saveMsgList()}getMsg(e){return this.messages.find((t=>t.id===e))}approveMessage(e){return this.setMsgStatusApproved(e.metamaskId),this.prepMsgForEncryptionPublicKey(e)}setMsgStatusApproved(e){this._setMsgStatus(e,"approved")}setMsgStatusReceived(e,t){const n=this.getMsg(e);n.rawData=t,this._updateMsg(n),this._setMsgStatus(e,"received")}prepMsgForEncryptionPublicKey(e){return delete e.metamaskId,Promise.resolve(e)}rejectMsg(e,t=undefined){t&&this.metricsEvent({event:t,category:"Messages",properties:{action:"Encryption public key Request"}}),this._setMsgStatus(e,"rejected")}errorMessage(e,t){const n=this.getMsg(e);n.error=t,this._updateMsg(n),this._setMsgStatus(e,"errored")}clearUnapproved(){this.messages=this.messages.filter((e=>"unapproved"!==e.status)),this._saveMsgList()}_setMsgStatus(e,t){const n=this.getMsg(e);if(!n)throw new Error(`EncryptionPublicKeyManager - Message not found for id: "${e}".`);n.status=t,this._updateMsg(n),this.emit(`${e}:${t}`,n),"rejected"!==t&&"received"!==t||this.emit(`${e}:finished`,n)}_updateMsg(e){const t=this.messages.findIndex((t=>t.id===e.id));-1!==t&&(this.messages[t]=e),this._saveMsgList()}_saveMsgList(){const e=this.getUnapprovedMsgs(),t=Object.keys(e).length;this.memStore.updateState({unapprovedEncryptionPublicKeyMsgs:e,unapprovedEncryptionPublicKeyMsgCount:t}),this.emit(c.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE)}}n.default=h}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/encryption-public-key-manager.js"}],[5002,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r="Expected a function",i=0/0,s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof global&&global&&global.Object===Object&&global,h="object"==typeof self&&self&&self.Object===Object&&self,f=l||h||Function("return this")(),d=Object.prototype.toString,p=Math.max,m=Math.min,b=function(){return f.Date.now()};function g(e,t,n){var i,s,o,a,u,c,l=0,h=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(r);function g(t){var n=i,r=s;return i=s=undefined,l=t,a=e.apply(r,n)}function k(e){return l=e,u=setTimeout(w,t),h?g(e):a}function E(e){var n=e-c;return c===undefined||n>=t||n<0||f&&e-l>=o}function w(){var e=b();if(E(e))return S(e);u=setTimeout(w,function(e){var n=t-(e-c);return f?m(n,o-(e-l)):n}(e))}function S(e){return u=undefined,d&&i?g(e):(i=s=undefined,a)}function v(){var e=b(),n=E(e);if(i=arguments,s=this,c=e,n){if(u===undefined)return k(c);if(f)return u=setTimeout(w,t),g(c)}return u===undefined&&(u=setTimeout(w,t)),a}return t=_(t)||0,y(n)&&(h=!!n.leading,o=(f="maxWait"in n)?p(_(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),v.cancel=function(){u!==undefined&&clearTimeout(u),l=0,i=c=s=u=undefined},v.flush=function(){return u===undefined?a:S(b())},v}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return i;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=a.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):o.test(e)?i:+e}t.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(r);return y(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),g(e,t,{leading:i,maxWait:t,trailing:s})}}}},{package:"lodash.throttle",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash.throttle/index.js"}],[5016,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_arrayEach.js"}],[5024,{"./_baseAssignValue":5028,"./eq":5150},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseAssignValue"),i=e("./eq"),s=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var o=e[t];s.call(e,t)&&i(o,n)&&(n!==undefined||t in e)||r(e,t,n)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_assignValue.js"}],[5026,{"./_copyObject":5075,"./keys":5170},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_copyObject"),i=e("./keys");t.exports=function(e,t){return e&&r(t,i(t),e)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseAssign.js"}],[5027,{"./_copyObject":5075,"./keysIn":5171},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_copyObject"),i=e("./keysIn");t.exports=function(e,t){return e&&r(t,i(t),e)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseAssignIn.js"}],[5028,{"./_defineProperty":5081},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_defineProperty");t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseAssignValue.js"}],[5029,{"./_Stack":5011,"./_arrayEach":5016,"./_assignValue":5024,"./_baseAssign":5026,"./_baseAssignIn":5027,"./_cloneBuffer":5069,"./_copyArray":5074,"./_copySymbols":5076,"./_copySymbolsIn":5077,"./_getAllKeys":5086,"./_getAllKeysIn":5087,"./_getTag":5095,"./_initCloneArray":5103,"./_initCloneByTag":5104,"./_initCloneObject":5105,"./isArray":5156,"./isBuffer":5159,"./isMap":5163,"./isObject":5164,"./isSet":5167,"./keys":5170,"./keysIn":5171},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_Stack"),i=e("./_arrayEach"),s=e("./_assignValue"),o=e("./_baseAssign"),a=e("./_baseAssignIn"),u=e("./_cloneBuffer"),c=e("./_copyArray"),l=e("./_copySymbols"),h=e("./_copySymbolsIn"),f=e("./_getAllKeys"),d=e("./_getAllKeysIn"),p=e("./_getTag"),m=e("./_initCloneArray"),b=e("./_initCloneByTag"),g=e("./_initCloneObject"),y=e("./isArray"),_=e("./isBuffer"),k=e("./isMap"),E=e("./isObject"),w=e("./isSet"),S=e("./keys"),v=e("./keysIn"),I="[object Arguments]",x="[object Function]",A="[object Object]",R={};R[I]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[A]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[x]=R["[object WeakMap]"]=!1,t.exports=function e(t,n,T,N,j,P){var O,L=1&n,M=2&n,D=4&n;if(T&&(O=j?T(t,N,j,P):T(t)),O!==undefined)return O;if(!E(t))return t;var C=y(t);if(C){if(O=m(t),!L)return c(t,O)}else{var B=p(t),K=B==x||"[object GeneratorFunction]"==B;if(_(t))return u(t,L);if(B==A||B==I||K&&!j){if(O=M||K?{}:g(t),!L)return M?h(t,a(O,t)):l(t,o(O,t))}else{if(!R[B])return j?t:{};O=b(t,B,L)}}P||(P=new r);var U=P.get(t);if(U)return U;P.set(t,O),w(t)?t.forEach((function(r){O.add(e(r,n,T,r,t,P))})):k(t)&&t.forEach((function(r,i){O.set(i,e(r,n,T,i,t,P))}));var F=C?undefined:(D?M?d:f:M?v:S)(t);return i(F||t,(function(r,i){F&&(r=t[i=r]),s(O,i,e(r,n,T,i,t,P))})),O}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseClone.js"}],[5030,{"./isObject":5164},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./isObject"),i=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=undefined,n}}();t.exports=s}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseCreate.js"}],[5034,{"./_createBaseFor":5079},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_createBaseFor")();t.exports=r}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseFor.js"}],[5035,{"./_baseFor":5034,"./keys":5170},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseFor"),i=e("./keys");t.exports=function(e,t){return e&&r(e,t,i)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseForOwn.js"}],[5039,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){return null!=e&&t in Object(e)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseHasIn.js"}],[5045,{"./_getTag":5095,"./isObjectLike":5165},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_getTag"),i=e("./isObjectLike");t.exports=function(e){return i(e)&&"[object Map]"==r(e)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseIsMap.js"}],[5046,{"./_Stack":5011,"./_baseIsEqual":5043},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_Stack"),i=e("./_baseIsEqual");t.exports=function(e,t,n,s){var o=n.length,a=o,u=!s;if(null==e)return!a;for(e=Object(e);o--;){var c=n[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var l=(c=n[o])[0],h=e[l],f=c[1];if(u&&c[2]){if(h===undefined&&!(l in e))return!1}else{var d=new r;if(s)var p=s(h,f,l,e,t,d);if(!(p===undefined?i(f,h,3,s,d):p))return!1}}return!0}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseIsMatch.js"}],[5049,{"./_getTag":5095,"./isObjectLike":5165},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_getTag"),i=e("./isObjectLike");t.exports=function(e){return i(e)&&"[object Set]"==r(e)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseIsSet.js"}],[5051,{"./_baseMatches":5054,"./_baseMatchesProperty":5055,"./identity":5153,"./isArray":5156,"./property":5176},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseMatches"),i=e("./_baseMatchesProperty"),s=e("./identity"),o=e("./isArray"),a=e("./property");t.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):a(e)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseIteratee.js"}],[5053,{"./_isPrototype":5111,"./_nativeKeysIn":5128,"./isObject":5164},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./isObject"),i=e("./_isPrototype"),s=e("./_nativeKeysIn"),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return s(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&o.call(e,a))&&n.push(a);return n}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseKeysIn.js"}],[5054,{"./_baseIsMatch":5046,"./_getMatchData":5089,"./_matchesStrictComparable":5124},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseIsMatch"),i=e("./_getMatchData"),s=e("./_matchesStrictComparable");t.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseMatches.js"}],[5055,{"./_baseIsEqual":5043,"./_isKey":5108,"./_isStrictComparable":5112,"./_matchesStrictComparable":5124,"./_toKey":5146,"./get":5151,"./hasIn":5152},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseIsEqual"),i=e("./get"),s=e("./hasIn"),o=e("./_isKey"),a=e("./_isStrictComparable"),u=e("./_matchesStrictComparable"),c=e("./_toKey");t.exports=function(e,t){return o(e)&&a(t)?u(c(e),t):function(n){var o=i(n,e);return o===undefined&&o===t?s(n,e):r(t,o,3)}}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseMatchesProperty.js"}],[5056,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){return function(t){return null==t?undefined:t[e]}}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_baseProperty.js"}],[5057,{"./_baseGet":5036},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseGet");t.exports=function(e){return function(t){return r(t,e)}}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_basePropertyDeep.js"}],[5068,{"./_Uint8Array":5013},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_Uint8Array");t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_cloneArrayBuffer.js"}],[5069,{"./_root":5133},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_root"),i="object"==typeof n&&n&&!n.nodeType&&n,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=s&&s.exports===i?r.Buffer:undefined,a=o?o.allocUnsafe:undefined;t.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_cloneBuffer.js"}],[5070,{"./_cloneArrayBuffer":5068},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_cloneArrayBuffer");t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_cloneDataView.js"}],[5071,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=/\w*$/;t.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_cloneRegExp.js"}],[5072,{"./_Symbol":5012},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_Symbol"),i=r?r.prototype:undefined,s=i?i.valueOf:undefined;t.exports=function(e){return s?Object(s.call(e)):{}}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_cloneSymbol.js"}],[5073,{"./_cloneArrayBuffer":5068},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_cloneArrayBuffer");t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_cloneTypedArray.js"}],[5074,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_copyArray.js"}],[5075,{"./_assignValue":5024,"./_baseAssignValue":5028},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_assignValue"),i=e("./_baseAssignValue");t.exports=function(e,t,n,s){var o=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var c=t[a],l=s?s(n[c],e[c],c,n,e):undefined;l===undefined&&(l=e[c]),o?i(n,c,l):r(n,c,l)}return n}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_copyObject.js"}],[5076,{"./_copyObject":5075,"./_getSymbols":5093},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_copyObject"),i=e("./_getSymbols");t.exports=function(e,t){return r(e,i(e),t)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_copySymbols.js"}],[5077,{"./_copyObject":5075,"./_getSymbolsIn":5094},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_copyObject"),i=e("./_getSymbolsIn");t.exports=function(e,t){return r(e,i(e),t)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_copySymbolsIn.js"}],[5079,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var u=o[e?a:++i];if(!1===n(s[u],u,s))break}return t}}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_createBaseFor.js"}],[5087,{"./_baseGetAllKeys":5037,"./_getSymbolsIn":5094,"./keysIn":5171},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseGetAllKeys"),i=e("./_getSymbolsIn"),s=e("./keysIn");t.exports=function(e){return r(e,s,i)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_getAllKeysIn.js"}],[5089,{"./_isStrictComparable":5112,"./keys":5170},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_isStrictComparable"),i=e("./keys");t.exports=function(e){for(var t=i(e),n=t.length;n--;){var s=t[n],o=e[s];t[n]=[s,o,r(o)]}return t}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_getMatchData.js"}],[5094,{"./_arrayPush":5022,"./_getPrototype":5091,"./_getSymbols":5093,"./stubArray":5177},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_arrayPush"),i=e("./_getPrototype"),s=e("./_getSymbols"),o=e("./stubArray"),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,s(e)),e=i(e);return t}:o;t.exports=a}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_getSymbolsIn.js"}],[5097,{"./_castPath":5067,"./_isIndex":5107,"./_toKey":5146,"./isArguments":5155,"./isArray":5156,"./isLength":5162},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_castPath"),i=e("./isArguments"),s=e("./isArray"),o=e("./_isIndex"),a=e("./isLength"),u=e("./_toKey");t.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,h=!1;++c<l;){var f=u(t[c]);if(!(h=null!=e&&n(e,f)))break;e=e[f]}return h||++c!=l?h:!!(l=null==e?0:e.length)&&a(l)&&o(f,l)&&(s(e)||i(e))}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_hasPath.js"}],[51,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=[{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"resolver",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"label",type:"bytes32"},{name:"owner",type:"address"}],name:"setSubnodeOwner",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"ttl",type:"uint64"}],name:"setTTL",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"ttl",outputs:[{name:"",type:"uint64"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"resolver",type:"address"}],name:"setResolver",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"owner",type:"address"}],name:"setOwner",outputs:[],payable:!1,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"owner",type:"address"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!0,name:"label",type:"bytes32"},{indexed:!1,name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"ttl",type:"uint64"}],name:"NewTTL",type:"event"}];n.default=r}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/ens-ipfs/contracts/registry.js"}],[5103,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_initCloneArray.js"}],[5104,{"./_cloneArrayBuffer":5068,"./_cloneDataView":5070,"./_cloneRegExp":5071,"./_cloneSymbol":5072,"./_cloneTypedArray":5073},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_cloneArrayBuffer"),i=e("./_cloneDataView"),s=e("./_cloneRegExp"),o=e("./_cloneSymbol"),a=e("./_cloneTypedArray");t.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return s(e);case"[object Symbol]":return o(e)}}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_initCloneByTag.js"}],[5105,{"./_baseCreate":5030,"./_getPrototype":5091,"./_isPrototype":5111},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseCreate"),i=e("./_getPrototype"),s=e("./_isPrototype");t.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:r(i(e))}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_initCloneObject.js"}],[5112,{"./isObject":5164},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./isObject");t.exports=function(e){return e==e&&!r(e)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_isStrictComparable.js"}],[5124,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==undefined||e in Object(n)))}}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_matchesStrictComparable.js"}],[5128,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/_nativeKeysIn.js"}],[5148,{"./_baseClone":5029},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseClone");t.exports=function(e){return r(e,5)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/cloneDeep.js"}],[5152,{"./_baseHasIn":5039,"./_hasPath":5097},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseHasIn"),i=e("./_hasPath");t.exports=function(e,t){return null!=e&&i(e,t,r)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/hasIn.js"}],[5163,{"./_baseIsMap":5045,"./_baseUnary":5062,"./_nodeUtil":5129},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseIsMap"),i=e("./_baseUnary"),s=e("./_nodeUtil"),o=s&&s.isMap,a=o?i(o):r;t.exports=a}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/isMap.js"}],[5167,{"./_baseIsSet":5049,"./_baseUnary":5062,"./_nodeUtil":5129},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseIsSet"),i=e("./_baseUnary"),s=e("./_nodeUtil"),o=s&&s.isSet,a=o?i(o):r;t.exports=a}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/isSet.js"}],[5171,{"./_arrayLikeKeys":5020,"./_baseKeysIn":5053,"./isArrayLike":5157},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_arrayLikeKeys"),i=e("./_baseKeysIn"),s=e("./isArrayLike");t.exports=function(e){return s(e)?r(e,!0):i(e)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/keysIn.js"}],[5173,{"./_baseAssignValue":5028,"./_baseForOwn":5035,"./_baseIteratee":5051},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseAssignValue"),i=e("./_baseForOwn"),s=e("./_baseIteratee");t.exports=function(e,t){var n={};return t=s(t,3),i(e,(function(e,i,s){r(n,i,t(e,i,s))})),n}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/mapValues.js"}],[5176,{"./_baseProperty":5056,"./_basePropertyDeep":5057,"./_isKey":5108,"./_toKey":5146},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./_baseProperty"),i=e("./_basePropertyDeep"),s=e("./_isKey"),o=e("./_toKey");t.exports=function(e){return s(e)?r(o(e)):i(e)}}}},{package:"lodash",file:"/home/gudahtt/projects/metamask-extension/node_modules/lodash/property.js"}],[5183,{_process:5420,events:2082,fs:2080,util:2087},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("fs"),i=e("util").format,s=e("events").EventEmitter;let o=!(n.type&&"renderer"===n.type||!n.version);const a={DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",NONE:"NONE"};let u=a.DEBUG,c=null,l=new s,h={Black:0,Red:1,Green:2,Yellow:3,Blue:4,Magenta:5,Cyan:6,Grey:7,White:9,Default:9};o||(h={Black:"Black",Red:"IndianRed",Green:"LimeGreen",Yellow:"Orange",Blue:"RoyalBlue",Magenta:"Orchid",Cyan:"SkyBlue",Grey:"DimGrey",White:"White",Default:"Black"});const f=[h.Cyan,h.Green,h.Yellow,h.Red,h.Default],d={useColors:!0,color:h.Default,showTimestamp:!0,useLocalTime:!1,showLevel:!0,filename:c,appendFile:!0};class p{constructor(e,t){this.category=e;let n={};Object.assign(n,d),Object.assign(n,t),this.options=n,this.debug=this.debug.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}debug(){this._shouldLog(a.DEBUG)&&this._write(a.DEBUG,i.apply(null,arguments))}log(){this._shouldLog(a.DEBUG)&&this.debug.apply(this,arguments)}info(){this._shouldLog(a.INFO)&&this._write(a.INFO,i.apply(null,arguments))}warn(){this._shouldLog(a.WARN)&&this._write(a.WARN,i.apply(null,arguments))}error(){this._shouldLog(a.ERROR)&&this._write(a.ERROR,i.apply(null,arguments))}_write(e,t){(this.options.filename||c)&&!this.fileWriter&&o&&(this.fileWriter=r.openSync(this.options.filename||c,this.options.appendFile?"a+":"w+"));let n=this._format(e,t),i=this._createLogMessage(e,t),s=this._createLogMessage(e,t,n.timestamp,n.level,n.category,n.text);this.fileWriter&&o&&r.writeSync(this.fileWriter,i+"\n",null,"utf-8"),o||!this.options.useColors?(console.log(s),l.emit("data",this.category,e,t)):e===a.ERROR?this.options.showTimestamp&&this.options.showLevel?console.error(s,n.timestamp,n.level,n.category,n.text):this.options.showTimestamp&&!this.options.showLevel?console.error(s,n.timestamp,n.category,n.text):!this.options.showTimestamp&&this.options.showLevel?console.error(s,n.level,n.category,n.text):console.error(s,n.category,n.text):this.options.showTimestamp&&this.options.showLevel?console.log(s,n.timestamp,n.level,n.category,n.text):this.options.showTimestamp&&!this.options.showLevel?console.log(s,n.timestamp,n.category,n.text):!this.options.showTimestamp&&this.options.showLevel?console.log(s,n.level,n.category,n.text):console.log(s,n.category,n.text)}_format(e,t){let n="",r="",i="",s=": ";if(this.options.useColors){const t=Object.keys(a).map((e=>a[e])).indexOf(e),u=this.options.color;o?(this.options.showTimestamp&&(n="[3"+h.Grey+"m"),this.options.showLevel&&(r="[3"+f[t]+";22m"),i="[3"+u+";1m",s="[0m: "):(this.options.showTimestamp&&(n="color:"+h.Grey),this.options.showLevel&&(r="color:"+f[t]),i="color:"+u+"; font-weight: bold")}return{timestamp:n,level:r,category:i,text:s}}_createLogMessage(e,t,n,r,i,s){n=n||"",r=r||"",i=i||"",s=s||": ",!o&&this.options.useColors&&(this.options.showTimestamp&&(n="%c"),this.options.showLevel&&(r="%c"),i="%c",s=": %c");let u="";return this.options.showTimestamp&&!this.options.useLocalTime&&(u+=(new Date).toISOString()+" "),this.options.showTimestamp&&this.options.useLocalTime&&(u+=(new Date).toLocaleString()+" "),u=n+u,this.options.showLevel&&(u+=r+"["+e+"]"+(e===a.INFO||e===a.WARN?" ":"")+" "),u+=i+this.category,u+=s+t,u}_shouldLog(e){let t=void 0!==n&&n.env!==undefined&&n.env.LOG!==undefined?n.env.LOG.toUpperCase():null;t="undefined"!=typeof window&&window.LOG?window.LOG.toUpperCase():t;const r=t||u,i=Object.keys(a).map((e=>a[e]));return i.indexOf(e)>=i.indexOf(r)}}t.exports={Colors:h,LogLevels:a,setLogLevel:e=>{u=e},setLogfile:e=>{c=e},create:(e,t)=>new p(e,t),forceBrowserMode:e=>o=!e,events:l}}).call(this)}).call(this,e("_process"))}}},{package:"logplease",file:"/home/gudahtt/projects/metamask-extension/node_modules/logplease/src/index.js"}],[5184,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){!function t(){var n=!0,r=!1;do{r=!0,n=!1,e.call(this,(function(){r?n=!0:t()})),r=!1}while(n)}()}}}},{package:"looper",file:"/home/gudahtt/projects/metamask-extension/node_modules/looper/index.js"}],[5187,{events:2082,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("events"),i=e("inherits");function s(e){if(!(this instanceof s))return new s(e);"number"==typeof e&&(e={max:e}),e||(e={}),r.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=e.max||1e3,this.maxAge=e.maxAge||0}t.exports=s,i(s,r.EventEmitter),Object.defineProperty(s.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),s.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},s.prototype.remove=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];return delete this.cache[e],this._unlink(e,t.prev,t.next),t.value}},s.prototype._unlink=function(e,t,n){this.length--,0===this.length?this.head=this.tail=null:this.head===e?(this.head=t,this.cache[this.head].next=null):this.tail===e?(this.tail=n,this.cache[this.tail].prev=null):(this.cache[t].next=n,this.cache[n].prev=t)},s.prototype.peek=function(e){if(this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return t.value}},s.prototype.set=function(e,t){var n;if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){if((n=this.cache[e]).value=t,this.maxAge&&(n.modified=Date.now()),e===this.head)return t;this._unlink(e,n.prev,n.next)}else n={value:t,modified:0,next:null,prev:null},this.maxAge&&(n.modified=Date.now()),this.cache[e]=n,this.length===this.max&&this.evict();return this.length++,n.next=null,n.prev=this.head,this.head&&(this.cache[this.head].next=e),this.head=e,this.tail||(this.tail=e),t},s.prototype._checkAge=function(e,t){return!(this.maxAge&&Date.now()-t.modified>this.maxAge)||(this.remove(e),this.emit("evict",{key:e,value:t.value}),!1)},s.prototype.get=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return this.head!==e&&(e===this.tail?(this.tail=t.next,this.cache[this.tail].prev=null):this.cache[t.prev].next=t.next,this.cache[t.next].prev=t.prev,this.cache[this.head].next=e,t.prev=this.head,t.next=null,this.head=e),t.value}},s.prototype.evict=function(){if(this.tail){var e=this.tail,t=this.remove(this.tail);this.emit("evict",{key:e,value:t})}}}}},{package:"lru",file:"/home/gudahtt/projects/metamask-extension/node_modules/lru/index.js"}],[5188,{"../is-buffer/index.js":4686},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function t(e){return e!==undefined&&""!==e}function r(e,t){return Object.hasOwnProperty.call(e,t)}function i(e,t){return Object.hasOwnProperty.call(e,t)&&t}n.compare=function(t,n){if(e.isBuffer(t)){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t[i]-n[i];if(s)return s}return t.length-n.length}return t<n?-1:t>n?1:0};var s=n.lowerBoundKey=function(e){return i(e,"gt")||i(e,"gte")||i(e,"min")||(e.reverse?i(e,"end"):i(e,"start"))||undefined},o=n.lowerBound=function(e,t){var n=s(e);return n?e[n]:t},a=n.lowerBoundInclusive=function(e){return!r(e,"gt")},u=n.upperBoundInclusive=function(e){return!r(e,"lt")},c=n.lowerBoundExclusive=function(e){return!a(e)},l=n.upperBoundExclusive=function(e){return!u(e)},h=n.upperBoundKey=function(e){return i(e,"lt")||i(e,"lte")||i(e,"max")||(e.reverse?i(e,"start"):i(e,"end"))||undefined},f=n.upperBound=function(e,t){var n=h(e);return n?e[n]:t};function d(e){return e}n.start=function(e,t){return e.reverse?f(e,t):o(e,t)},n.end=function(e,t){return e.reverse?o(e,t):f(e,t)},n.startInclusive=function(e){return e.reverse?u(e):a(e)},n.endInclusive=function(e){return e.reverse?a(e):u(e)},n.toLtgt=function(e,t,i,s,o){t=t||{},i=i||d;var a=arguments.length>3,u=n.lowerBoundKey(e),c=n.upperBoundKey(e);return u?"gt"===u?t.gt=i(e.gt,!1):t.gte=i(e[u],!1):a&&(t.gte=i(s,!1)),c?"lt"===c?t.lt=i(e.lt,!0):t.lte=i(e[c],!0):a&&(t.lte=i(o,!0)),null!=e.reverse&&(t.reverse=!!e.reverse),r(t,"max")&&delete t.max,r(t,"min")&&delete t.min,r(t,"start")&&delete t.start,r(t,"end")&&delete t.end,t},n.contains=function(e,r,i){i=i||n.compare;var s=o(e);if(t(s)&&((a=i(r,s))<0||0===a&&c(e)))return!1;var a,u=f(e);if(t(u)&&((a=i(r,u))>0||0===a&&l(e)))return!1;return!0},n.filter=function(e,t){return function(r){return n.contains(e,r,t)}}}).call(this)}).call(this,{isBuffer:e("../is-buffer/index.js")})}}},{package:"ltgt",file:"/home/gudahtt/projects/metamask-extension/node_modules/ltgt/index.js"}],[5190,{multiaddr:5208},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multiaddr"),i=T("dns4"),s=T("dns6"),o=R(T("dnsaddr"),i,s),a=R(T("ip4"),T("ip6")),u=R(A(a,T("tcp")),A(o,T("tcp"))),c=A(a,T("udp")),l=A(c,T("utp")),h=R(A(o,T("tcp")),o),f=R(A(u,T("ws")),A(h,T("ws"))),d=R(A(u,T("wss")),A(h,T("wss"))),p=R(A(u,T("http")),A(a,T("http")),A(h,T("http")),A(h)),m=R(A(u,T("https")),A(a,T("https")),A(h,T("https"))),b=R(A(f,T("p2p-webrtc-star"),T("ipfs")),A(d,T("p2p-webrtc-star"),T("ipfs"))),g=R(A(f,T("p2p-websocket-star"),T("ipfs")),A(d,T("p2p-websocket-star"),T("ipfs")),A(f,T("p2p-websocket-star")),A(d,T("p2p-websocket-star"))),y=R(A(p,T("p2p-webrtc-direct")),A(m,T("p2p-webrtc-direct"))),_=R(f,d,p,m,b,y,u,l),k=R(A(_,T("p2p-stardust"),T("ipfs")),A(_,T("p2p-stardust")));let E=R(A(_,T("ipfs")),b,T("ipfs"));const w=R(A(E,T("p2p-circuit"),E),A(E,T("p2p-circuit")),A(T("p2p-circuit"),E),A(_,T("p2p-circuit")),A(T("p2p-circuit"),_),T("p2p-circuit")),S=()=>R(A(w,S),w),v=S(),I=R(A(v,E,v),A(E,v),A(v,E),v,E);function x(e){return function(t){if(!r.isMultiaddr(t))try{t=r(t)}catch(e){return!1}let n=e(t.protoNames());return null!==n&&0===n.length}}function A(){const e=Array.from(arguments);function t(t){return t.length<e.length?null:(e.some((e=>{if(null===(t="function"==typeof e?e().partialMatch(t):e.partialMatch(t)))return!0})),t)}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:x(t),partialMatch:t}}function R(){const e=Array.from(arguments);function t(t){let n=null;return e.some((e=>{const r="function"==typeof e?e().partialMatch(t):e.partialMatch(t);if(r)return n=r,!0})),n}const n={toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:x(t),partialMatch:t};return n}function T(e){const t=e;return{toString:function(){return t},matches:function(e){if("string"==typeof e)try{e=r(e)}catch(e){return!1}const n=e.protoNames();return 1===n.length&&n[0]===t},partialMatch:function(e){return 0===e.length?null:e[0]===t?e.slice(1):null}}}n.DNS=h,n.DNS4=i,n.DNS6=s,n.IP=a,n.TCP=u,n.UDP=c,n.UTP=l,n.HTTP=p,n.HTTPS=m,n.WebSockets=f,n.WebSocketsSecure=d,n.WebSocketStar=g,n.WebRTCStar=b,n.WebRTCDirect=y,n.Reliable=_,n.Stardust=k,n.Circuit=v,n.IPFS=I}}},{package:"mafmt",file:"/home/gudahtt/projects/metamask-extension/node_modules/mafmt/src/index.js"}],[5192,{charenc:2117,crypt:2190,"is-buffer":4686},function(){with(this)return function(){"use strict";return function(e,t,n){var r,i,s,o,a;r=e("crypt"),i=e("charenc").utf8,s=e("is-buffer"),o=e("charenc").bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),u=8*e.length,c=1732584193,l=-271733879,h=-1732584194,f=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[u>>>5]|=128<<u%32,n[14+(u+64>>>9<<4)]=u;var p=a._ff,m=a._gg,b=a._hh,g=a._ii;for(d=0;d<n.length;d+=16){var y=c,_=l,k=h,E=f;c=p(c,l,h,f,n[d+0],7,-680876936),f=p(f,c,l,h,n[d+1],12,-389564586),h=p(h,f,c,l,n[d+2],17,606105819),l=p(l,h,f,c,n[d+3],22,-1044525330),c=p(c,l,h,f,n[d+4],7,-176418897),f=p(f,c,l,h,n[d+5],12,1200080426),h=p(h,f,c,l,n[d+6],17,-1473231341),l=p(l,h,f,c,n[d+7],22,-45705983),c=p(c,l,h,f,n[d+8],7,1770035416),f=p(f,c,l,h,n[d+9],12,-1958414417),h=p(h,f,c,l,n[d+10],17,-42063),l=p(l,h,f,c,n[d+11],22,-1990404162),c=p(c,l,h,f,n[d+12],7,1804603682),f=p(f,c,l,h,n[d+13],12,-40341101),h=p(h,f,c,l,n[d+14],17,-1502002290),c=m(c,l=p(l,h,f,c,n[d+15],22,1236535329),h,f,n[d+1],5,-165796510),f=m(f,c,l,h,n[d+6],9,-1069501632),h=m(h,f,c,l,n[d+11],14,643717713),l=m(l,h,f,c,n[d+0],20,-373897302),c=m(c,l,h,f,n[d+5],5,-701558691),f=m(f,c,l,h,n[d+10],9,38016083),h=m(h,f,c,l,n[d+15],14,-660478335),l=m(l,h,f,c,n[d+4],20,-405537848),c=m(c,l,h,f,n[d+9],5,568446438),f=m(f,c,l,h,n[d+14],9,-1019803690),h=m(h,f,c,l,n[d+3],14,-187363961),l=m(l,h,f,c,n[d+8],20,1163531501),c=m(c,l,h,f,n[d+13],5,-1444681467),f=m(f,c,l,h,n[d+2],9,-51403784),h=m(h,f,c,l,n[d+7],14,1735328473),c=b(c,l=m(l,h,f,c,n[d+12],20,-1926607734),h,f,n[d+5],4,-378558),f=b(f,c,l,h,n[d+8],11,-2022574463),h=b(h,f,c,l,n[d+11],16,1839030562),l=b(l,h,f,c,n[d+14],23,-35309556),c=b(c,l,h,f,n[d+1],4,-1530992060),f=b(f,c,l,h,n[d+4],11,1272893353),h=b(h,f,c,l,n[d+7],16,-155497632),l=b(l,h,f,c,n[d+10],23,-1094730640),c=b(c,l,h,f,n[d+13],4,681279174),f=b(f,c,l,h,n[d+0],11,-358537222),h=b(h,f,c,l,n[d+3],16,-722521979),l=b(l,h,f,c,n[d+6],23,76029189),c=b(c,l,h,f,n[d+9],4,-640364487),f=b(f,c,l,h,n[d+12],11,-421815835),h=b(h,f,c,l,n[d+15],16,530742520),c=g(c,l=b(l,h,f,c,n[d+2],23,-995338651),h,f,n[d+0],6,-198630844),f=g(f,c,l,h,n[d+7],10,1126891415),h=g(h,f,c,l,n[d+14],15,-1416354905),l=g(l,h,f,c,n[d+5],21,-57434055),c=g(c,l,h,f,n[d+12],6,1700485571),f=g(f,c,l,h,n[d+3],10,-1894986606),h=g(h,f,c,l,n[d+10],15,-1051523),l=g(l,h,f,c,n[d+1],21,-2054922799),c=g(c,l,h,f,n[d+8],6,1873313359),f=g(f,c,l,h,n[d+15],10,-30611744),h=g(h,f,c,l,n[d+6],15,-1560198380),l=g(l,h,f,c,n[d+13],21,1309151649),c=g(c,l,h,f,n[d+4],6,-145523070),f=g(f,c,l,h,n[d+11],10,-1120210379),h=g(h,f,c,l,n[d+2],15,718787259),l=g(l,h,f,c,n[d+9],21,-343485551),c=c+y>>>0,l=l+_>>>0,h=h+k>>>0,f=f+E>>>0}return r.endian([c,l,h,f])})._ff=function(e,t,n,r,i,s,o){var a=e+(t&n|~t&r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._gg=function(e,t,n,r,i,s,o){var a=e+(t&r|n&~r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._hh=function(e,t,n,r,i,s,o){var a=e+(t^n^r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._ii=function(e,t,n,r,i,s,o){var a=e+(n^(t|~r))+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._blocksize=16,a._digestsize=16,t.exports=function(e,t){if(e===undefined||null===e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(a(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}}}},{package:"md5",file:"/home/gudahtt/projects/metamask-extension/node_modules/md5/md5.js"}],[5193,{"is-plain-obj":4700},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("is-plain-obj"),i=Object.prototype.hasOwnProperty,s=Object.propertyIsEnumerable,o=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0}),a=this,u={concatArrays:!1},c=e=>{const t=[];for(const n in e)i.call(e,n)&&t.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(e);for(let r=0;r<n.length;r++)s.call(e,n[r])&&t.push(n[r])}return t};function l(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return c(e).forEach((n=>{o(t,n,l(e[n]))})),t}(e):r(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return c(e).forEach((n=>{o(t,n,l(e[n]))})),t}(e):e}const h=(e,t,n,r)=>(n.forEach((n=>{n in e&&e[n]!==Object.getPrototypeOf(e)?o(e,n,f(e[n],t[n],r)):o(e,n,l(t[n]))})),e);function f(e,t,n){return n.concatArrays&&Array.isArray(e)&&Array.isArray(t)?((e,t,n)=>{let r=e.slice(0,0),s=0;return[e,t].forEach((t=>{const a=[];for(let n=0;n<t.length;n++)i.call(t,n)&&(a.push(String(n)),o(r,s++,t===e?t[n]:l(t[n])));r=h(r,t,c(t).filter((e=>-1===a.indexOf(e))),n)})),r})(e,t,n):r(t)&&r(e)?h(e,t,c(t),n):l(t)}t.exports=function(){const e=f(l(u),this!==a&&this||{},u);let t={foobar:{}};for(let n=0;n<arguments.length;n++){const i=arguments[n];if(i!==undefined){if(!r(i))throw new TypeError("`"+i+"` is not an Option Object");t=f(t,{foobar:i},e)}}return t.foobar}}}},{package:"merge-options",file:"/home/gudahtt/projects/metamask-extension/node_modules/merge-options/index.js"}],[5199,{"./constants":5200,events:2082,"observable-webworkers":5306,shortid:5810},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events").EventEmitter,i=e("shortid"),{WORKER_REQUEST_READ_LOCK:s,WORKER_RELEASE_READ_LOCK:o,MASTER_GRANT_READ_LOCK:a,WORKER_REQUEST_WRITE_LOCK:u,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:l}=e("./constants"),h=e("observable-webworkers"),f=(e,t,n,r,i)=>(s,o)=>{if(!o||!o.data||o.data.type!==n)return;const a={type:o.data.type,name:o.data.name,identifier:o.data.identifier};e.emit(t,a.name,(()=>(s.postMessage({type:i,name:a.name,identifier:a.identifier}),new Promise((e=>{const t=n=>{if(!n||!n.data)return;const i={type:n.data.type,name:n.data.name,identifier:n.data.identifier};i&&i.type===r&&i.identifier===a.identifier&&(s.removeEventListener("message",t),e())};s.addEventListener("message",t)})))))},d=(e,t,n,r,s)=>o=>{const a=i.generate();return e.postMessage({type:n,identifier:a,name:t}),new Promise(((n,i)=>{const u=c=>{if(!c||!c.data)return;const l={type:c.data.type,identifier:c.data.identifier};if(l&&l.type===r&&l.identifier===a){let r;e.removeEventListener("message",u),o().catch((e=>{r=e})).then((o=>(e.postMessage({type:s,identifier:a,name:t}),r?i(r):n(o))))}};e.addEventListener("message",u)}))},p={global:global,singleProcess:!1};t.exports=e=>{if(!!(e=Object.assign({},p,e)).global.document||e.singleProcess){const e=new r;return h.addEventListener("message",f(e,"requestReadLock",s,o,a)),h.addEventListener("message",f(e,"requestWriteLock",u,c,l)),e}return{isWorker:!0,readLock:(e,t)=>d(t.global,e,s,a,o),writeLock:(e,t)=>d(t.global,e,u,l,c)}}}}},{package:"mortice",file:"/home/gudahtt/projects/metamask-extension/node_modules/mortice/lib/browser.js"}],[52,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=[{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes32"}],name:"setContent",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"key",type:"string"},{name:"value",type:"string"}],name:"setText",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"},{name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{name:"contentType",type:"uint256"},{name:"data",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"setPubkey",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes"}],name:"setContenthash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"},{name:"key",type:"string"}],name:"text",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"contentType",type:"uint256"},{name:"data",type:"bytes"}],name:"setABI",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"name",type:"string"}],name:"setName",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"contenthash",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"pubkey",outputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"addr",type:"address"}],name:"setAddr",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"ensAddr",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!0,name:"contentType",type:"uint256"}],name:"ABIChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"x",type:"bytes32"},{indexed:!1,name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"indexedKey",type:"string"},{indexed:!1,name:"key",type:"string"}],name:"TextChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"}];n.default=r}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/ens-ipfs/contracts/resolver.js"}],[5200,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={WORKER_REQUEST_READ_LOCK:"lock:worker:request-read",WORKER_RELEASE_READ_LOCK:"lock:worker:release-read",MASTER_GRANT_READ_LOCK:"lock:master:grant-read",WORKER_REQUEST_WRITE_LOCK:"lock:worker:request-write",WORKER_RELEASE_WRITE_LOCK:"lock:worker:release-write",MASTER_GRANT_WRITE_LOCK:"lock:master:grant-write"}}}},{package:"mortice",file:"/home/gudahtt/projects/metamask-extension/node_modules/mortice/lib/constants.js"}],[5201,{"./browser":5199,"./node":5202,"observable-webworkers":5306,"p-queue":5367,"promise-timeout":5421},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./node"),i=e("./browser"),s=e("p-queue"),{timeout:o}=e("promise-timeout"),a=e("observable-webworkers"),u={};let c;const l={concurrency:Infinity,timeout:846e5,global:global,singleProcess:!1};t.exports=(e,t)=>(t||(t={}),"object"==typeof e&&(t=e,e="lock"),e||(e="lock"),t=Object.assign({},l,t),c||(c=r(t)||i(t),c.isWorker||(c.on("requestReadLock",((e,t)=>{u[e]&&u[e].readLock(t)})),c.on("requestWriteLock",((e,t)=>{u[e]&&u[e].writeLock(t)})))),u[e]||(u[e]=((e,t)=>{if(c.isWorker)return{readLock:c.readLock(e,t),writeLock:c.writeLock(e,t)};const n=new s({concurrency:1});let r=null;return{readLock:e=>{if(r)return r.add((()=>o(e(),t.timeout)));r=new s({concurrency:t.concurrency,autoStart:!1});const i=r,a=r.add((()=>o(e(),t.timeout)));return n.add((()=>(i.start(),i.onIdle().then((()=>{r===i&&(r=null)}))))),a},writeLock:e=>(r=null,n.add((()=>o(e(),t.timeout))))}})(e,t)),u[e]),t.exports.Worker=function(e,t){let n;t=t||global.Worker;try{n=new t(e)}catch(r){r.message.includes("not a constructor")&&(n=t(e))}if(!n)throw new Error("Could not create Worker from",t);return a(n),n}}}},{package:"mortice",file:"/home/gudahtt/projects/metamask-extension/node_modules/mortice/lib/index.js"}],[5202,{"./constants":5200,_process:5420,cluster:2080,events:2082,shortid:5810},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("events").EventEmitter,i=e("shortid"),{WORKER_REQUEST_READ_LOCK:s,WORKER_RELEASE_READ_LOCK:o,MASTER_GRANT_READ_LOCK:a,WORKER_REQUEST_WRITE_LOCK:u,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:l}=e("./constants");let h;const f=(e,t,n,r,i)=>(s,o)=>{o&&o.type===n&&e.emit(t,o.name,(()=>(s.send({type:i,name:o.name,identifier:o.identifier}),new Promise((e=>{const t=n=>{n&&n.type===r&&n.identifier===o.identifier&&(s.removeListener("message",t),e())};s.on("message",t)})))))},d=(e,t,r,s)=>o=>{const a=i.generate();return n.send({type:t,identifier:a,name:e}),new Promise(((t,i)=>{const u=c=>{if(c&&c.type===r&&c.identifier===a){n.removeListener("message",u);let r=null;o().catch((e=>{r=e})).then((o=>{if(n.send({type:s,identifier:a,name:e}),r)return i(r);t(o)}))}};n.on("message",u)}))};t.exports=t=>{try{if(h=e("cluster"),!Object.keys(h).length)return}catch(e){return}if(h.isMaster||t.singleProcess){const e=new r;return h.on("message",f(e,"requestReadLock",s,o,a)),h.on("message",f(e,"requestWriteLock",u,c,l)),e}return{isWorker:!0,readLock:(e,t)=>d(e,s,a,o),writeLock:(e,t)=>d(e,u,l,c)}}}).call(this)}).call(this,e("_process"))}}},{package:"mortice",file:"/home/gudahtt/projects/metamask-extension/node_modules/mortice/lib/node.js"}],[5203,{},function(){with(this)return function(){"use strict";return function(e,t,n){const r=Math.exp;t.exports=function(e){if("number"!=typeof e)throw new Error("must provide a timespan to the moving average constructor");if(e<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let t,n,i=0,s=0,o=0,a={};return a.push=function(a,u){if(n){const c=1-r(-(a-n)/e),l=u-t;t=c*u+(1-c)*t,i=(1-c)*(i+l*(c*l)),s=Math.sqrt(i),o=t+c*l}else t=u;n=a},a.movingAverage=function(){return t},a.variance=function(){return i},a.deviation=function(){return s},a.forecast=function(){return o},a}}}},{package:"moving-average",file:"/home/gudahtt/projects/metamask-extension/node_modules/moving-average/index.js"}],[5204,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=1e3,i=60*r,s=60*i,o=24*s,a=7*o,u=365.25*o;function c(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"weeks":case"week":case"w":return n*a;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return undefined}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return c(e,t,o,"day");if(t>=s)return c(e,t,s,"hour");if(t>=i)return c(e,t,i,"minute");if(t>=r)return c(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=s)return Math.round(e/s)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}}},{package:"ms",file:"/home/gudahtt/projects/metamask-extension/node_modules/ms/index.js"}],[5205,{multiaddr:5208},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multiaddr"),i=(e,t)=>t,s={ip4:i,ip6:(e,t,n,r)=>1===r.length&&"ip6"===r[0].protocol?t:`[${t}]`,tcp:(e,t,n,r)=>r.some((e=>["http","https","ws","wss"].includes(e.protocol)))?`${e}:${t}`:`tcp://${e}:${t}`,udp:(e,t)=>`udp://${e}:${t}`,dnsaddr:i,dns4:i,dns6:i,ipfs:(e,t)=>`${e}/ipfs/${t}`,p2p:(e,t)=>`${e}/p2p/${t}`,http:e=>`http://${e}`,https:e=>`https://${e}`,ws:e=>`ws://${e}`,wss:e=>`wss://${e}`,"p2p-websocket-star":e=>`${e}/p2p-websocket-star`,"p2p-webrtc-star":e=>`${e}/p2p-webrtc-star`,"p2p-webrtc-direct":e=>`${e}/p2p-webrtc-direct`};t.exports=e=>r(e).stringTuples().map((e=>({protocol:r.protocols.codes[e[0]].name,content:e[1]}))).reduce(((e,t,n,r)=>{const i=s[t.protocol];if(!i)throw new Error(`Unsupported protocol ${t.protocol}`);return i(e,t.content,n,r)}),"")}}},{package:"multiaddr-to-uri",file:"/home/gudahtt/projects/metamask-extension/node_modules/multiaddr-to-uri/index.js"}],[5206,{"./convert":5207,"./protocols-table":5209,buffer:2081,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("./convert"),i=e("./protocols-table"),s=e("varint");function o(e){const t=[],n=e.split("/").slice(1);if(1===n.length&&""===n[0])return[];for(let r=0;r<n.length;r++){const s=n[r],o=i(s);if(0!==o.size){if(r++,r>=n.length)throw g("invalid address: "+e);if(o.path){t.push([s,b(n.slice(r).join("/"))]);break}t.push([s,n[r]])}else t.push([s])}return t}function a(e){const t=[];return e.map((e=>{const n=y(e);t.push(n.name),e.length>1&&t.push(e[1])})),b(t.join("/"))}function u(e){return e.map((e=>{Array.isArray(e)||(e=[e]);const t=y(e);return e.length>1?[t.code,r.toBuffer(t.code,e[1])]:[t.code]}))}function c(e){return e.map((e=>{const t=y(e);return e.length>1?[t.code,r.toString(t.code,e[1])]:[t.code]}))}function l(e){return p(n.concat(e.map((e=>{const t=y(e);let r=n.from(s.encode(t.code));return e.length>1&&(r=n.concat([r,e[1]])),r}))))}function h(e,t){if(e.size>0)return e.size/8;if(0===e.size)return 0;return s.decode(t)+s.decode.bytes}function f(e){const t=[];let n=0;for(;n<e.length;){const r=s.decode(e,n),o=s.decode.bytes,a=h(i(r),e.slice(n+o));if(0===a){t.push([r]),n+=o;continue}const u=e.slice(n+o,n+o+a);if(n+=a+o,n>e.length)throw g("Invalid address buffer: "+e.toString("hex"));t.push([r,u])}return t}function d(e){return l(u(o(e=b(e))))}function p(e){const t=m(e);if(t)throw t;return n.from(e)}function m(e){try{f(e)}catch(e){return e}}function b(e){return"/"+e.trim().split("/").filter((e=>e)).join("/")}function g(e){return new Error("Error parsing address: "+e)}function y(e){return i(e[0])}t.exports={stringToStringTuples:o,stringTuplesToString:a,tuplesToStringTuples:c,stringTuplesToTuples:u,bufferToTuples:f,tuplesToBuffer:l,bufferToString:function(e){const t=f(e);return a(c(t))},stringToBuffer:d,fromString:function(e){return d(e)},fromBuffer:p,validateBuffer:m,isValidBuffer:function(e){return m(e)===undefined},cleanPath:b,ParseError:g,protoFromTuple:y,sizeForAddr:h}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multiaddr",file:"/home/gudahtt/projects/metamask-extension/node_modules/multiaddr/src/codec.js"}],[5207,{"./protocols-table":5209,bs58:2088,buffer:2081,"hi-base32":4379,ip:4417,"is-ip":4696,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("ip"),i=e("is-ip"),s=e("./protocols-table"),o=e("bs58"),a=e("hi-base32"),u=e("varint");function c(e,t){return t instanceof n?c.toString(e,t):c.toBuffer(e,t)}function l(e){if(!i(e))throw new Error("invalid ip address");return r.toBuffer(e)}function h(e){const t=n.alloc(2);return t.writeUInt16BE(e,0),t}function f(e){return e.readUInt16BE(0)}function d(e){const t=e.slice(0,e.length-2),n=e.slice(e.length-2);return a.encode(t).toString("ascii").toLowerCase()+":"+f(n)}t.exports=c,c.toString=function(e,t){switch((e=s(e)).code){case 4:case 41:return function(e){const t=r.toString(e);if(!i(t))throw new Error("invalid ip address");return t}(t);case 6:case 273:case 33:case 132:return f(t);case 53:case 54:case 55:case 56:case 400:return function(e){const t=u.decode(e);if((e=e.slice(u.decode.bytes)).length!==t)throw new Error("inconsistent lengths");return e.toString()}(t);case 421:return function(e){const t=u.decode(e),n=e.slice(u.decode.bytes);if(n.length!==t)throw new Error("inconsistent lengths");return o.encode(n)}(t);case 444:case 445:return d(t);default:return t.toString("hex")}},c.toBuffer=function(e,t){switch((e=s(e)).code){case 4:case 41:return l(t);case 6:case 273:case 33:case 132:return h(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:return function(e){const t=n.from(e),r=n.from(u.encode(t.length));return n.concat([r,t])}(t);case 421:return function(e){const t=n.from(o.decode(e)),r=n.from(u.encode(t.length));return n.concat([r,t])}(t);case 444:return function(e){const t=e.split(":");if(2!==t.length)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(16!==t[0].length)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion address.");const r=n.from(a.decode.asBytes(t[0].toUpperCase())),i=parseInt(t[1],10);if(i<1||i>65536)throw new Error("Port number is not in range(1, 65536)");const s=h(i);return n.concat([r,s])}(t);case 445:return function(e){const t=e.split(":");if(2!==t.length)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(56!==t[0].length)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion3 address.");const r=n.from(a.decode.asBytes(t[0].toUpperCase())),i=parseInt(t[1],10);if(i<1||i>65536)throw new Error("Port number is not in range(1, 65536)");const s=h(i);return n.concat([r,s])}(t);default:return n.from(t,"hex")}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multiaddr",file:"/home/gudahtt/projects/metamask-extension/node_modules/multiaddr/src/convert.js"}],[5208,{"./codec":5206,"./protocols-table":5209,bs58:2088,buffer:2081,"class-is":2121,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("./codec"),i=e("./protocols-table"),s=e("varint"),o=e("bs58"),a=e("class-is").proto((function(e){if(!(this instanceof a))return new a(e);if(null==e&&(e=""),e instanceof n)this.buffer=r.fromBuffer(e);else if("string"==typeof e||e instanceof String){if(e.length>0&&"/"!==e.charAt(0))throw new Error(`multiaddr "${e}" must start with a "/"`);this.buffer=r.fromString(e)}else{if(!(e.buffer&&e.protos&&e.protoCodes))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.buffer=r.fromBuffer(e.buffer)}}),{className:"Multiaddr",symbolName:"@multiformats/js-multiaddr/multiaddr"});a.prototype.toString=function(){return r.bufferToString(this.buffer)},a.prototype.toJSON=a.prototype.toString,a.prototype.toOptions=function(){const e={},t=this.toString().split("/");return e.family="ip4"===t[1]?"ipv4":"ipv6",e.host=t[2],e.transport=t[3],e.port=t[4],e},a.prototype.inspect=function(){return"<Multiaddr "+this.buffer.toString("hex")+" - "+r.bufferToString(this.buffer)+">"},a.prototype.protos=function(){return this.protoCodes().map((e=>Object.assign({},i(e))))},a.prototype.protoCodes=function(){const e=[],t=this.buffer;let n=0;for(;n<t.length;){const o=s.decode(t,n),a=s.decode.bytes,u=i(o);n+=r.sizeForAddr(u,t.slice(n+a))+a,e.push(o)}return e},a.prototype.protoNames=function(){return this.protos().map((e=>e.name))},a.prototype.tuples=function(){return r.bufferToTuples(this.buffer)},a.prototype.stringTuples=function(){const e=r.bufferToTuples(this.buffer);return r.tuplesToStringTuples(e)},a.prototype.encapsulate=function(e){return e=a(e),a(this.toString()+e.toString())},a.prototype.decapsulate=function(e){e=e.toString();const t=this.toString(),n=t.lastIndexOf(e);if(n<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return a(t.slice(0,n))},a.prototype.getPeerId=function(){let e=null;try{e=this.stringTuples().filter((e=>{if(e[0]===i.names.ipfs.code)return!0}))[0][1],o.decode(e)}catch(t){e=null}return e},a.prototype.getPath=function(){let e=null;try{e=this.stringTuples().filter((e=>{if(i(e[0]).path)return!0}))[0][1]}catch(t){e=null}return e},a.prototype.equals=function(e){return this.buffer.equals(e.buffer)},a.prototype.nodeAddress=function(){const e=this.protoCodes(),t=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(4!==e[0]&&41!==e[0]&&54!==e[0]&&55!==e[0])throw new Error(`no protocol with name: "'${t[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if("tcp"!==n[2]&&"udp"!==n[2])throw new Error(`no protocol with name: "'${t[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:41===e[0]||55===e[0]?6:4,address:n[1],port:n[3]}},a.fromNodeAddress=function(e,t){if(!e)throw new Error("requires node address object");if(!t)throw new Error("requires transport protocol");const n="IPv6"===e.family?"ip6":"ip4";return a("/"+[n,e.address,t,e.port].join("/"))},a.prototype.isThinWaistAddress=function(e){const t=(e||this).protos();return 2===t.length&&((4===t[0].code||41===t[0].code)&&(6===t[1].code||273===t[1].code))},a.protocols=i,a.isName=function(e){return!!a.isMultiaddr(e)&&e.protos().some((e=>e.resolvable))},a.resolve=function(e,t){return a.isMultiaddr(e)&&a.isName(e)?t(new Error("not implemented yet")):t(new Error("not a valid name"))},t.exports=a}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multiaddr",file:"/home/gudahtt/projects/metamask-extension/node_modules/multiaddr/src/index.js"}],[5209,{},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e){if("number"==typeof e){if(r.codes[e])return r.codes[e];throw new Error("no protocol with code: "+e)}if("string"==typeof e||e instanceof String){if(r.names[e])return r.names[e];throw new Error("no protocol with name: "+e)}throw new Error("invalid protocol id type: "+e)}const i=-1;function s(e,t,n,r,i){return{code:e,size:t,name:n,resolvable:Boolean(r),path:Boolean(i)}}r.lengthPrefixedVarSize=i,r.V=i,r.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,i,"ip6zone"],[53,i,"dns","resolvable"],[54,i,"dns4","resolvable"],[55,i,"dns6","resolvable"],[56,i,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,i,"unix",!1,"path"],[421,i,"p2p"],[421,i,"ipfs"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,i,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"]],r.names={},r.codes={},r.table.map((e=>{const t=s.apply(null,e);r.codes[t.code]=t,r.names[t.name]=t})),r.object=s,t.exports=r}}},{package:"multiaddr",file:"/home/gudahtt/projects/metamask-extension/node_modules/multiaddr/src/protocols-table.js"}],[5210,{"safe-buffer":5739},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer;t.exports=function(e){for(var t={},n=e.length,i=e.charAt(0),s=0;s<e.length;s++){var o=e.charAt(s);if(t[o]!==undefined)throw new TypeError(o+" is ambiguous");t[o]=s}function a(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.allocUnsafe(0);for(var s=[0],o=0;o<e.length;o++){var a=t[e[o]];if(a===undefined)return;for(var u=0,c=a;u<s.length;++u)c+=s[u]*n,s[u]=255&c,c>>=8;for(;c>0;)s.push(255&c),c>>=8}for(var l=0;e[l]===i&&l<e.length-1;++l)s.push(0);return r.from(s.reverse())}return{encode:function(t){if(0===t.length)return"";for(var r=[0],s=0;s<t.length;++s){for(var o=0,a=t[s];o<r.length;++o)a+=r[o]<<8,r[o]=a%n,a=a/n|0;for(;a>0;)r.push(a%n),a=a/n|0}for(var u="",c=0;0===t[c]&&c<t.length-1;++c)u+=i;for(var l=r.length-1;l>=0;--l)u+=e[r[l]];return u},decodeUnsafe:a,decode:function(e){var t=a(e);if(t)return t;throw new Error("Non-base"+n+" character")}}}}}},{package:"base-x",file:"/home/gudahtt/projects/metamask-extension/node_modules/multibase/node_modules/base-x/index.js"}],[5211,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=class{constructor(e,t,n,r){this.name=e,this.code=t,this.alphabet=r,n&&r&&(this.engine=n(r))}encode(e){return this.engine.encode(e)}decode(e){return this.engine.decode(e)}isImplemented(){return this.engine}}}}},{package:"multibase",file:"/home/gudahtt/projects/metamask-extension/node_modules/multibase/src/base.js"}],[5212,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){t.exports=function(t){return{encode:t=>"string"==typeof t?e.from(t).toString("hex"):t.toString("hex"),decode(n){for(let e of n)if(t.indexOf(e)<0)throw new Error("invalid base16 character");return e.from(n,"hex")}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multibase",file:"/home/gudahtt/projects/metamask-extension/node_modules/multibase/src/base16.js"}],[5213,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e,t){let n=e.byteLength,r=new Uint8Array(e),i=t.indexOf("=")===t.length-1;i&&(t=t.substring(0,t.length-2));let s=0,o=0,a="";for(let e=0;e<n;e++)for(o=o<<8|r[e],s+=8;s>=5;)a+=t[o>>>s-5&31],s-=5;if(s>0&&(a+=t[o<<5-s&31]),i)for(;a.length%8!=0;)a+="=";return a}t.exports=function(t){return{encode:r=>n("string"==typeof r?e.from(r):r,t),decode(e){for(let n of e)if(t.indexOf(n)<0)throw new Error("invalid base32 character");return function(e,t){let n=(e=e.replace(new RegExp("=","g"),"")).length,r=0,i=0,s=0,o=new Uint8Array(5*n/8|0);for(let a=0;a<n;a++)i=i<<5|t.indexOf(e[a]),r+=5,r>=8&&(o[s++]=i>>>r-8&255,r-=8);return o.buffer}(e,t)}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multibase",file:"/home/gudahtt/projects/metamask-extension/node_modules/multibase/src/base32.js"}],[5214,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){t.exports=function(t){const n=t.indexOf("=")>-1,r=t.indexOf("-")>-1&&t.indexOf("_")>-1;return{encode(t){let i="";i="string"==typeof t?e.from(t).toString("base64"):t.toString("base64"),r&&(i=i.replace(/\+/g,"-").replace(/\//g,"_"));const s=i.indexOf("=");return s>0&&!n&&(i=i.substring(0,s)),i},decode(n){for(let e of n)if(t.indexOf(e)<0)throw new Error("invalid base64 character");return e.from(n,"base64")}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multibase",file:"/home/gudahtt/projects/metamask-extension/node_modules/multibase/src/base64.js"}],[5215,{"./base.js":5211,"./base16":5212,"./base32":5213,"./base64":5214,"base-x":5210},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./base.js"),i=e("base-x"),s=e("./base16"),o=e("./base32"),a=e("./base64"),u=[["base1","1","","1"],["base2","0",i,"01"],["base8","7",i,"01234567"],["base10","9",i,"0123456789"],["base16","f",s,"0123456789abcdef"],["base32","b",o,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",o,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",o,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",o,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",o,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",i,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",i,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],c=u.reduce(((e,t)=>(e[t[0]]=new r(t[0],t[1],t[2],t[3]),e)),{}),l=u.reduce(((e,t)=>(e[t[1]]=c[t[0]],e)),{});t.exports={names:c,codes:l}}}},{package:"multibase",file:"/home/gudahtt/projects/metamask-extension/node_modules/multibase/src/constants.js"}],[5216,{"./constants":5215,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){const i=e("./constants");(n=t.exports=o).encode=function(e,t){const n=a(e);return o(n.name,r.from(n.encode(t)))},n.decode=function(e){r.isBuffer(e)&&(e=e.toString());const t=e.substring(0,1);"string"==typeof(e=e.substring(1,e.length))&&(e=r.from(e));const n=a(t);return r.from(n.decode(e.toString()))},n.isEncoded=function(e){r.isBuffer(e)&&(e=e.toString());if("[object String]"!==Object.prototype.toString.call(e))return!1;const t=e.substring(0,1);try{return a(t).name}catch(e){return!1}},n.names=Object.freeze(Object.keys(i.names)),n.codes=Object.freeze(Object.keys(i.codes));const s=new Error("Unsupported encoding");function o(e,t){if(!t)throw new Error("requires an encoded buffer");const n=a(e),i=r.from(n.code);return function(e,t){a(e).decode(t.toString())}(n.name,t),r.concat([i,t])}function a(e){let t;if(i.names[e])t=i.names[e];else{if(!i.codes[e])throw s;t=i.codes[e]}if(!t.isImplemented())throw new Error("Base "+e+" is not implemented yet");return t}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multibase",file:"/home/gudahtt/projects/metamask-extension/node_modules/multibase/src/index.js"}],[5217,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){n.protobuf=e.from("50","hex"),n.cbor=e.from("51","hex"),n.rlp=e.from("60","hex"),n.bencode=e.from("63","hex"),n.json=e.from("0200","hex"),n.messagepack=e.from("0201","hex"),n.multicodec=e.from("30","hex"),n.multihash=e.from("31","hex"),n.multiaddr=e.from("32","hex"),n.multibase=e.from("33","hex"),n.identity=e.from("00","hex"),n.sha1=e.from("11","hex"),n["sha2-256"]=e.from("12","hex"),n["sha2-512"]=e.from("13","hex"),n["sha3-512"]=e.from("14","hex"),n["sha3-384"]=e.from("15","hex"),n["sha3-256"]=e.from("16","hex"),n["sha3-224"]=e.from("17","hex"),n["shake-128"]=e.from("18","hex"),n["shake-256"]=e.from("19","hex"),n["keccak-224"]=e.from("1a","hex"),n["keccak-256"]=e.from("1b","hex"),n["keccak-384"]=e.from("1c","hex"),n["keccak-512"]=e.from("1d","hex"),n["murmur3-128"]=e.from("22","hex"),n["murmur3-32"]=e.from("23","hex"),n["dbl-sha2-256"]=e.from("56","hex"),n.md4=e.from("d4","hex"),n.md5=e.from("d5","hex"),n.bmt=e.from("d6","hex"),n.x11=e.from("1100","hex"),n["blake2b-8"]=e.from("b201","hex"),n["blake2b-16"]=e.from("b202","hex"),n["blake2b-24"]=e.from("b203","hex"),n["blake2b-32"]=e.from("b204","hex"),n["blake2b-40"]=e.from("b205","hex"),n["blake2b-48"]=e.from("b206","hex"),n["blake2b-56"]=e.from("b207","hex"),n["blake2b-64"]=e.from("b208","hex"),n["blake2b-72"]=e.from("b209","hex"),n["blake2b-80"]=e.from("b20a","hex"),n["blake2b-88"]=e.from("b20b","hex"),n["blake2b-96"]=e.from("b20c","hex"),n["blake2b-104"]=e.from("b20d","hex"),n["blake2b-112"]=e.from("b20e","hex"),n["blake2b-120"]=e.from("b20f","hex"),n["blake2b-128"]=e.from("b210","hex"),n["blake2b-136"]=e.from("b211","hex"),n["blake2b-144"]=e.from("b212","hex"),n["blake2b-152"]=e.from("b213","hex"),n["blake2b-160"]=e.from("b214","hex"),n["blake2b-168"]=e.from("b215","hex"),n["blake2b-176"]=e.from("b216","hex"),n["blake2b-184"]=e.from("b217","hex"),n["blake2b-192"]=e.from("b218","hex"),n["blake2b-200"]=e.from("b219","hex"),n["blake2b-208"]=e.from("b21a","hex"),n["blake2b-216"]=e.from("b21b","hex"),n["blake2b-224"]=e.from("b21c","hex"),n["blake2b-232"]=e.from("b21d","hex"),n["blake2b-240"]=e.from("b21e","hex"),n["blake2b-248"]=e.from("b21f","hex"),n["blake2b-256"]=e.from("b220","hex"),n["blake2b-264"]=e.from("b221","hex"),n["blake2b-272"]=e.from("b222","hex"),n["blake2b-280"]=e.from("b223","hex"),n["blake2b-288"]=e.from("b224","hex"),n["blake2b-296"]=e.from("b225","hex"),n["blake2b-304"]=e.from("b226","hex"),n["blake2b-312"]=e.from("b227","hex"),n["blake2b-320"]=e.from("b228","hex"),n["blake2b-328"]=e.from("b229","hex"),n["blake2b-336"]=e.from("b22a","hex"),n["blake2b-344"]=e.from("b22b","hex"),n["blake2b-352"]=e.from("b22c","hex"),n["blake2b-360"]=e.from("b22d","hex"),n["blake2b-368"]=e.from("b22e","hex"),n["blake2b-376"]=e.from("b22f","hex"),n["blake2b-384"]=e.from("b230","hex"),n["blake2b-392"]=e.from("b231","hex"),n["blake2b-400"]=e.from("b232","hex"),n["blake2b-408"]=e.from("b233","hex"),n["blake2b-416"]=e.from("b234","hex"),n["blake2b-424"]=e.from("b235","hex"),n["blake2b-432"]=e.from("b236","hex"),n["blake2b-440"]=e.from("b237","hex"),n["blake2b-448"]=e.from("b238","hex"),n["blake2b-456"]=e.from("b239","hex"),n["blake2b-464"]=e.from("b23a","hex"),n["blake2b-472"]=e.from("b23b","hex"),n["blake2b-480"]=e.from("b23c","hex"),n["blake2b-488"]=e.from("b23d","hex"),n["blake2b-496"]=e.from("b23e","hex"),n["blake2b-504"]=e.from("b23f","hex"),n["blake2b-512"]=e.from("b240","hex"),n["blake2s-8"]=e.from("b241","hex"),n["blake2s-16"]=e.from("b242","hex"),n["blake2s-24"]=e.from("b243","hex"),n["blake2s-32"]=e.from("b244","hex"),n["blake2s-40"]=e.from("b245","hex"),n["blake2s-48"]=e.from("b246","hex"),n["blake2s-56"]=e.from("b247","hex"),n["blake2s-64"]=e.from("b248","hex"),n["blake2s-72"]=e.from("b249","hex"),n["blake2s-80"]=e.from("b24a","hex"),n["blake2s-88"]=e.from("b24b","hex"),n["blake2s-96"]=e.from("b24c","hex"),n["blake2s-104"]=e.from("b24d","hex"),n["blake2s-112"]=e.from("b24e","hex"),n["blake2s-120"]=e.from("b24f","hex"),n["blake2s-128"]=e.from("b250","hex"),n["blake2s-136"]=e.from("b251","hex"),n["blake2s-144"]=e.from("b252","hex"),n["blake2s-152"]=e.from("b253","hex"),n["blake2s-160"]=e.from("b254","hex"),n["blake2s-168"]=e.from("b255","hex"),n["blake2s-176"]=e.from("b256","hex"),n["blake2s-184"]=e.from("b257","hex"),n["blake2s-192"]=e.from("b258","hex"),n["blake2s-200"]=e.from("b259","hex"),n["blake2s-208"]=e.from("b25a","hex"),n["blake2s-216"]=e.from("b25b","hex"),n["blake2s-224"]=e.from("b25c","hex"),n["blake2s-232"]=e.from("b25d","hex"),n["blake2s-240"]=e.from("b25e","hex"),n["blake2s-248"]=e.from("b25f","hex"),n["blake2s-256"]=e.from("b260","hex"),n["skein256-8"]=e.from("b301","hex"),n["skein256-16"]=e.from("b302","hex"),n["skein256-24"]=e.from("b303","hex"),n["skein256-32"]=e.from("b304","hex"),n["skein256-40"]=e.from("b305","hex"),n["skein256-48"]=e.from("b306","hex"),n["skein256-56"]=e.from("b307","hex"),n["skein256-64"]=e.from("b308","hex"),n["skein256-72"]=e.from("b309","hex"),n["skein256-80"]=e.from("b30a","hex"),n["skein256-88"]=e.from("b30b","hex"),n["skein256-96"]=e.from("b30c","hex"),n["skein256-104"]=e.from("b30d","hex"),n["skein256-112"]=e.from("b30e","hex"),n["skein256-120"]=e.from("b30f","hex"),n["skein256-128"]=e.from("b310","hex"),n["skein256-136"]=e.from("b311","hex"),n["skein256-144"]=e.from("b312","hex"),n["skein256-152"]=e.from("b313","hex"),n["skein256-160"]=e.from("b314","hex"),n["skein256-168"]=e.from("b315","hex"),n["skein256-176"]=e.from("b316","hex"),n["skein256-184"]=e.from("b317","hex"),n["skein256-192"]=e.from("b318","hex"),n["skein256-200"]=e.from("b319","hex"),n["skein256-208"]=e.from("b31a","hex"),n["skein256-216"]=e.from("b31b","hex"),n["skein256-224"]=e.from("b31c","hex"),n["skein256-232"]=e.from("b31d","hex"),n["skein256-240"]=e.from("b31e","hex"),n["skein256-248"]=e.from("b31f","hex"),n["skein256-256"]=e.from("b320","hex"),n["skein512-8"]=e.from("b321","hex"),n["skein512-16"]=e.from("b322","hex"),n["skein512-24"]=e.from("b323","hex"),n["skein512-32"]=e.from("b324","hex"),n["skein512-40"]=e.from("b325","hex"),n["skein512-48"]=e.from("b326","hex"),n["skein512-56"]=e.from("b327","hex"),n["skein512-64"]=e.from("b328","hex"),n["skein512-72"]=e.from("b329","hex"),n["skein512-80"]=e.from("b32a","hex"),n["skein512-88"]=e.from("b32b","hex"),n["skein512-96"]=e.from("b32c","hex"),n["skein512-104"]=e.from("b32d","hex"),n["skein512-112"]=e.from("b32e","hex"),n["skein512-120"]=e.from("b32f","hex"),n["skein512-128"]=e.from("b330","hex"),n["skein512-136"]=e.from("b331","hex"),n["skein512-144"]=e.from("b332","hex"),n["skein512-152"]=e.from("b333","hex"),n["skein512-160"]=e.from("b334","hex"),n["skein512-168"]=e.from("b335","hex"),n["skein512-176"]=e.from("b336","hex"),n["skein512-184"]=e.from("b337","hex"),n["skein512-192"]=e.from("b338","hex"),n["skein512-200"]=e.from("b339","hex"),n["skein512-208"]=e.from("b33a","hex"),n["skein512-216"]=e.from("b33b","hex"),n["skein512-224"]=e.from("b33c","hex"),n["skein512-232"]=e.from("b33d","hex"),n["skein512-240"]=e.from("b33e","hex"),n["skein512-248"]=e.from("b33f","hex"),n["skein512-256"]=e.from("b340","hex"),n["skein512-264"]=e.from("b341","hex"),n["skein512-272"]=e.from("b342","hex"),n["skein512-280"]=e.from("b343","hex"),n["skein512-288"]=e.from("b344","hex"),n["skein512-296"]=e.from("b345","hex"),n["skein512-304"]=e.from("b346","hex"),n["skein512-312"]=e.from("b347","hex"),n["skein512-320"]=e.from("b348","hex"),n["skein512-328"]=e.from("b349","hex"),n["skein512-336"]=e.from("b34a","hex"),n["skein512-344"]=e.from("b34b","hex"),n["skein512-352"]=e.from("b34c","hex"),n["skein512-360"]=e.from("b34d","hex"),n["skein512-368"]=e.from("b34e","hex"),n["skein512-376"]=e.from("b34f","hex"),n["skein512-384"]=e.from("b350","hex"),n["skein512-392"]=e.from("b351","hex"),n["skein512-400"]=e.from("b352","hex"),n["skein512-408"]=e.from("b353","hex"),n["skein512-416"]=e.from("b354","hex"),n["skein512-424"]=e.from("b355","hex"),n["skein512-432"]=e.from("b356","hex"),n["skein512-440"]=e.from("b357","hex"),n["skein512-448"]=e.from("b358","hex"),n["skein512-456"]=e.from("b359","hex"),n["skein512-464"]=e.from("b35a","hex"),n["skein512-472"]=e.from("b35b","hex"),n["skein512-480"]=e.from("b35c","hex"),n["skein512-488"]=e.from("b35d","hex"),n["skein512-496"]=e.from("b35e","hex"),n["skein512-504"]=e.from("b35f","hex"),n["skein512-512"]=e.from("b360","hex"),n["skein1024-8"]=e.from("b361","hex"),n["skein1024-16"]=e.from("b362","hex"),n["skein1024-24"]=e.from("b363","hex"),n["skein1024-32"]=e.from("b364","hex"),n["skein1024-40"]=e.from("b365","hex"),n["skein1024-48"]=e.from("b366","hex"),n["skein1024-56"]=e.from("b367","hex"),n["skein1024-64"]=e.from("b368","hex"),n["skein1024-72"]=e.from("b369","hex"),n["skein1024-80"]=e.from("b36a","hex"),n["skein1024-88"]=e.from("b36b","hex"),n["skein1024-96"]=e.from("b36c","hex"),n["skein1024-104"]=e.from("b36d","hex"),n["skein1024-112"]=e.from("b36e","hex"),n["skein1024-120"]=e.from("b36f","hex"),n["skein1024-128"]=e.from("b370","hex"),n["skein1024-136"]=e.from("b371","hex"),n["skein1024-144"]=e.from("b372","hex"),n["skein1024-152"]=e.from("b373","hex"),n["skein1024-160"]=e.from("b374","hex"),n["skein1024-168"]=e.from("b375","hex"),n["skein1024-176"]=e.from("b376","hex"),n["skein1024-184"]=e.from("b377","hex"),n["skein1024-192"]=e.from("b378","hex"),n["skein1024-200"]=e.from("b379","hex"),n["skein1024-208"]=e.from("b37a","hex"),n["skein1024-216"]=e.from("b37b","hex"),n["skein1024-224"]=e.from("b37c","hex"),n["skein1024-232"]=e.from("b37d","hex"),n["skein1024-240"]=e.from("b37e","hex"),n["skein1024-248"]=e.from("b37f","hex"),n["skein1024-256"]=e.from("b380","hex"),n["skein1024-264"]=e.from("b381","hex"),n["skein1024-272"]=e.from("b382","hex"),n["skein1024-280"]=e.from("b383","hex"),n["skein1024-288"]=e.from("b384","hex"),n["skein1024-296"]=e.from("b385","hex"),n["skein1024-304"]=e.from("b386","hex"),n["skein1024-312"]=e.from("b387","hex"),n["skein1024-320"]=e.from("b388","hex"),n["skein1024-328"]=e.from("b389","hex"),n["skein1024-336"]=e.from("b38a","hex"),n["skein1024-344"]=e.from("b38b","hex"),n["skein1024-352"]=e.from("b38c","hex"),n["skein1024-360"]=e.from("b38d","hex"),n["skein1024-368"]=e.from("b38e","hex"),n["skein1024-376"]=e.from("b38f","hex"),n["skein1024-384"]=e.from("b390","hex"),n["skein1024-392"]=e.from("b391","hex"),n["skein1024-400"]=e.from("b392","hex"),n["skein1024-408"]=e.from("b393","hex"),n["skein1024-416"]=e.from("b394","hex"),n["skein1024-424"]=e.from("b395","hex"),n["skein1024-432"]=e.from("b396","hex"),n["skein1024-440"]=e.from("b397","hex"),n["skein1024-448"]=e.from("b398","hex"),n["skein1024-456"]=e.from("b399","hex"),n["skein1024-464"]=e.from("b39a","hex"),n["skein1024-472"]=e.from("b39b","hex"),n["skein1024-480"]=e.from("b39c","hex"),n["skein1024-488"]=e.from("b39d","hex"),n["skein1024-496"]=e.from("b39e","hex"),n["skein1024-504"]=e.from("b39f","hex"),n["skein1024-512"]=e.from("b3a0","hex"),n["skein1024-520"]=e.from("b3a1","hex"),n["skein1024-528"]=e.from("b3a2","hex"),n["skein1024-536"]=e.from("b3a3","hex"),n["skein1024-544"]=e.from("b3a4","hex"),n["skein1024-552"]=e.from("b3a5","hex"),n["skein1024-560"]=e.from("b3a6","hex"),n["skein1024-568"]=e.from("b3a7","hex"),n["skein1024-576"]=e.from("b3a8","hex"),n["skein1024-584"]=e.from("b3a9","hex"),n["skein1024-592"]=e.from("b3aa","hex"),n["skein1024-600"]=e.from("b3ab","hex"),n["skein1024-608"]=e.from("b3ac","hex"),n["skein1024-616"]=e.from("b3ad","hex"),n["skein1024-624"]=e.from("b3ae","hex"),n["skein1024-632"]=e.from("b3af","hex"),n["skein1024-640"]=e.from("b3b0","hex"),n["skein1024-648"]=e.from("b3b1","hex"),n["skein1024-656"]=e.from("b3b2","hex"),n["skein1024-664"]=e.from("b3b3","hex"),n["skein1024-672"]=e.from("b3b4","hex"),n["skein1024-680"]=e.from("b3b5","hex"),n["skein1024-688"]=e.from("b3b6","hex"),n["skein1024-696"]=e.from("b3b7","hex"),n["skein1024-704"]=e.from("b3b8","hex"),n["skein1024-712"]=e.from("b3b9","hex"),n["skein1024-720"]=e.from("b3ba","hex"),n["skein1024-728"]=e.from("b3bb","hex"),n["skein1024-736"]=e.from("b3bc","hex"),n["skein1024-744"]=e.from("b3bd","hex"),n["skein1024-752"]=e.from("b3be","hex"),n["skein1024-760"]=e.from("b3bf","hex"),n["skein1024-768"]=e.from("b3c0","hex"),n["skein1024-776"]=e.from("b3c1","hex"),n["skein1024-784"]=e.from("b3c2","hex"),n["skein1024-792"]=e.from("b3c3","hex"),n["skein1024-800"]=e.from("b3c4","hex"),n["skein1024-808"]=e.from("b3c5","hex"),n["skein1024-816"]=e.from("b3c6","hex"),n["skein1024-824"]=e.from("b3c7","hex"),n["skein1024-832"]=e.from("b3c8","hex"),n["skein1024-840"]=e.from("b3c9","hex"),n["skein1024-848"]=e.from("b3ca","hex"),n["skein1024-856"]=e.from("b3cb","hex"),n["skein1024-864"]=e.from("b3cc","hex"),n["skein1024-872"]=e.from("b3cd","hex"),n["skein1024-880"]=e.from("b3ce","hex"),n["skein1024-888"]=e.from("b3cf","hex"),n["skein1024-896"]=e.from("b3d0","hex"),n["skein1024-904"]=e.from("b3d1","hex"),n["skein1024-912"]=e.from("b3d2","hex"),n["skein1024-920"]=e.from("b3d3","hex"),n["skein1024-928"]=e.from("b3d4","hex"),n["skein1024-936"]=e.from("b3d5","hex"),n["skein1024-944"]=e.from("b3d6","hex"),n["skein1024-952"]=e.from("b3d7","hex"),n["skein1024-960"]=e.from("b3d8","hex"),n["skein1024-968"]=e.from("b3d9","hex"),n["skein1024-976"]=e.from("b3da","hex"),n["skein1024-984"]=e.from("b3db","hex"),n["skein1024-992"]=e.from("b3dc","hex"),n["skein1024-1000"]=e.from("b3dd","hex"),n["skein1024-1008"]=e.from("b3de","hex"),n["skein1024-1016"]=e.from("b3df","hex"),n["skein1024-1024"]=e.from("b3e0","hex"),n.ip4=e.from("04","hex"),n.tcp=e.from("06","hex"),n.dccp=e.from("21","hex"),n.ip6=e.from("29","hex"),n.ip6zone=e.from("2a","hex"),n.dns=e.from("35","hex"),n.dns4=e.from("36","hex"),n.dns6=e.from("37","hex"),n.dnsaddr=e.from("38","hex"),n.sctp=e.from("84","hex"),n.udp=e.from("0111","hex"),n["p2p-webrtc-star"]=e.from("0113","hex"),n["p2p-webrtc-direct"]=e.from("0114","hex"),n["p2p-stardust"]=e.from("0115","hex"),n["p2p-circuit"]=e.from("0122","hex"),n.udt=e.from("012d","hex"),n.utp=e.from("012e","hex"),n.unix=e.from("0190","hex"),n.p2p=e.from("01a5","hex"),n.ipfs=e.from("01a5","hex"),n.https=e.from("01bb","hex"),n.onion=e.from("01bc","hex"),n.onion3=e.from("01bd","hex"),n.garlic64=e.from("01be","hex"),n.garlic32=e.from("01bf","hex"),n.quic=e.from("01cc","hex"),n.ws=e.from("01dd","hex"),n.wss=e.from("01de","hex"),n["p2p-websocket-star"]=e.from("01df","hex"),n.http=e.from("01e0","hex"),n.raw=e.from("55","hex"),n["dag-pb"]=e.from("70","hex"),n["dag-cbor"]=e.from("71","hex"),n["libp2p-key"]=e.from("72","hex"),n["git-raw"]=e.from("78","hex"),n["torrent-info"]=e.from("7b","hex"),n["torrent-file"]=e.from("7c","hex"),n["leofcoin-block"]=e.from("81","hex"),n["leofcoin-tx"]=e.from("82","hex"),n["leofcoin-pr"]=e.from("83","hex"),n["eth-block"]=e.from("90","hex"),n["eth-block-list"]=e.from("91","hex"),n["eth-tx-trie"]=e.from("92","hex"),n["eth-tx"]=e.from("93","hex"),n["eth-tx-receipt-trie"]=e.from("94","hex"),n["eth-tx-receipt"]=e.from("95","hex"),n["eth-state-trie"]=e.from("96","hex"),n["eth-account-snapshot"]=e.from("97","hex"),n["eth-storage-trie"]=e.from("98","hex"),n["bitcoin-block"]=e.from("b0","hex"),n["bitcoin-tx"]=e.from("b1","hex"),n["zcash-block"]=e.from("c0","hex"),n["zcash-tx"]=e.from("c1","hex"),n["stellar-block"]=e.from("d0","hex"),n["stellar-tx"]=e.from("d1","hex"),n["decred-block"]=e.from("e0","hex"),n["decred-tx"]=e.from("e1","hex"),n["dash-block"]=e.from("f0","hex"),n["dash-tx"]=e.from("f1","hex"),n["swarm-manifest"]=e.from("fa","hex"),n["swarm-feed"]=e.from("fb","hex"),n["dag-json"]=e.from("0129","hex"),n.path=e.from("2f","hex"),n["ipld-ns"]=e.from("e2","hex"),n["ipfs-ns"]=e.from("e3","hex"),n["swarm-ns"]=e.from("e4","hex"),n["ipns-ns"]=e.from("e5","hex"),n.zeronet=e.from("e6","hex"),n["ed25519-pub"]=e.from("ed","hex"),n["holochain-adr-v0"]=e.from("807124","hex"),n["holochain-adr-v1"]=e.from("817124","hex"),n["holochain-key-v0"]=e.from("947124","hex"),n["holochain-key-v1"]=e.from("957124","hex"),n["holochain-sig-v0"]=e.from("a27124","hex"),n["holochain-sig-v1"]=e.from("a37124","hex")}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multicodec",file:"/home/gudahtt/projects/metamask-extension/node_modules/multicodec/src/base-table.js"}],[5218,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=Object.freeze({PROTOBUF:80,CBOR:81,RLP:96,BENCODE:99,JSON:512,MESSAGEPACK:513,MULTICODEC:48,MULTIHASH:49,MULTIADDR:50,MULTIBASE:51,IDENTITY:0,SHA1:17,SHA2_256:18,SHA2_512:19,SHA3_512:20,SHA3_384:21,SHA3_256:22,SHA3_224:23,SHAKE_128:24,SHAKE_256:25,KECCAK_224:26,KECCAK_256:27,KECCAK_384:28,KECCAK_512:29,MURMUR3_128:34,MURMUR3_32:35,DBL_SHA2_256:86,MD4:212,MD5:213,BMT:214,X11:4352,BLAKE2B_8:45569,BLAKE2B_16:45570,BLAKE2B_24:45571,BLAKE2B_32:45572,BLAKE2B_40:45573,BLAKE2B_48:45574,BLAKE2B_56:45575,BLAKE2B_64:45576,BLAKE2B_72:45577,BLAKE2B_80:45578,BLAKE2B_88:45579,BLAKE2B_96:45580,BLAKE2B_104:45581,BLAKE2B_112:45582,BLAKE2B_120:45583,BLAKE2B_128:45584,BLAKE2B_136:45585,BLAKE2B_144:45586,BLAKE2B_152:45587,BLAKE2B_160:45588,BLAKE2B_168:45589,BLAKE2B_176:45590,BLAKE2B_184:45591,BLAKE2B_192:45592,BLAKE2B_200:45593,BLAKE2B_208:45594,BLAKE2B_216:45595,BLAKE2B_224:45596,BLAKE2B_232:45597,BLAKE2B_240:45598,BLAKE2B_248:45599,BLAKE2B_256:45600,BLAKE2B_264:45601,BLAKE2B_272:45602,BLAKE2B_280:45603,BLAKE2B_288:45604,BLAKE2B_296:45605,BLAKE2B_304:45606,BLAKE2B_312:45607,BLAKE2B_320:45608,BLAKE2B_328:45609,BLAKE2B_336:45610,BLAKE2B_344:45611,BLAKE2B_352:45612,BLAKE2B_360:45613,BLAKE2B_368:45614,BLAKE2B_376:45615,BLAKE2B_384:45616,BLAKE2B_392:45617,BLAKE2B_400:45618,BLAKE2B_408:45619,BLAKE2B_416:45620,BLAKE2B_424:45621,BLAKE2B_432:45622,BLAKE2B_440:45623,BLAKE2B_448:45624,BLAKE2B_456:45625,BLAKE2B_464:45626,BLAKE2B_472:45627,BLAKE2B_480:45628,BLAKE2B_488:45629,BLAKE2B_496:45630,BLAKE2B_504:45631,BLAKE2B_512:45632,BLAKE2S_8:45633,BLAKE2S_16:45634,BLAKE2S_24:45635,BLAKE2S_32:45636,BLAKE2S_40:45637,BLAKE2S_48:45638,BLAKE2S_56:45639,BLAKE2S_64:45640,BLAKE2S_72:45641,BLAKE2S_80:45642,BLAKE2S_88:45643,BLAKE2S_96:45644,BLAKE2S_104:45645,BLAKE2S_112:45646,BLAKE2S_120:45647,BLAKE2S_128:45648,BLAKE2S_136:45649,BLAKE2S_144:45650,BLAKE2S_152:45651,BLAKE2S_160:45652,BLAKE2S_168:45653,BLAKE2S_176:45654,BLAKE2S_184:45655,BLAKE2S_192:45656,BLAKE2S_200:45657,BLAKE2S_208:45658,BLAKE2S_216:45659,BLAKE2S_224:45660,BLAKE2S_232:45661,BLAKE2S_240:45662,BLAKE2S_248:45663,BLAKE2S_256:45664,SKEIN256_8:45825,SKEIN256_16:45826,SKEIN256_24:45827,SKEIN256_32:45828,SKEIN256_40:45829,SKEIN256_48:45830,SKEIN256_56:45831,SKEIN256_64:45832,SKEIN256_72:45833,SKEIN256_80:45834,SKEIN256_88:45835,SKEIN256_96:45836,SKEIN256_104:45837,SKEIN256_112:45838,SKEIN256_120:45839,SKEIN256_128:45840,SKEIN256_136:45841,SKEIN256_144:45842,SKEIN256_152:45843,SKEIN256_160:45844,SKEIN256_168:45845,SKEIN256_176:45846,SKEIN256_184:45847,SKEIN256_192:45848,SKEIN256_200:45849,SKEIN256_208:45850,SKEIN256_216:45851,SKEIN256_224:45852,SKEIN256_232:45853,SKEIN256_240:45854,SKEIN256_248:45855,SKEIN256_256:45856,SKEIN512_8:45857,SKEIN512_16:45858,SKEIN512_24:45859,SKEIN512_32:45860,SKEIN512_40:45861,SKEIN512_48:45862,SKEIN512_56:45863,SKEIN512_64:45864,SKEIN512_72:45865,SKEIN512_80:45866,SKEIN512_88:45867,SKEIN512_96:45868,SKEIN512_104:45869,SKEIN512_112:45870,SKEIN512_120:45871,SKEIN512_128:45872,SKEIN512_136:45873,SKEIN512_144:45874,SKEIN512_152:45875,SKEIN512_160:45876,SKEIN512_168:45877,SKEIN512_176:45878,SKEIN512_184:45879,SKEIN512_192:45880,SKEIN512_200:45881,SKEIN512_208:45882,SKEIN512_216:45883,SKEIN512_224:45884,SKEIN512_232:45885,SKEIN512_240:45886,SKEIN512_248:45887,SKEIN512_256:45888,SKEIN512_264:45889,SKEIN512_272:45890,SKEIN512_280:45891,SKEIN512_288:45892,SKEIN512_296:45893,SKEIN512_304:45894,SKEIN512_312:45895,SKEIN512_320:45896,SKEIN512_328:45897,SKEIN512_336:45898,SKEIN512_344:45899,SKEIN512_352:45900,SKEIN512_360:45901,SKEIN512_368:45902,SKEIN512_376:45903,SKEIN512_384:45904,SKEIN512_392:45905,SKEIN512_400:45906,SKEIN512_408:45907,SKEIN512_416:45908,SKEIN512_424:45909,SKEIN512_432:45910,SKEIN512_440:45911,SKEIN512_448:45912,SKEIN512_456:45913,SKEIN512_464:45914,SKEIN512_472:45915,SKEIN512_480:45916,SKEIN512_488:45917,SKEIN512_496:45918,SKEIN512_504:45919,SKEIN512_512:45920,SKEIN1024_8:45921,SKEIN1024_16:45922,SKEIN1024_24:45923,SKEIN1024_32:45924,SKEIN1024_40:45925,SKEIN1024_48:45926,SKEIN1024_56:45927,SKEIN1024_64:45928,SKEIN1024_72:45929,SKEIN1024_80:45930,SKEIN1024_88:45931,SKEIN1024_96:45932,SKEIN1024_104:45933,SKEIN1024_112:45934,SKEIN1024_120:45935,SKEIN1024_128:45936,SKEIN1024_136:45937,SKEIN1024_144:45938,SKEIN1024_152:45939,SKEIN1024_160:45940,SKEIN1024_168:45941,SKEIN1024_176:45942,SKEIN1024_184:45943,SKEIN1024_192:45944,SKEIN1024_200:45945,SKEIN1024_208:45946,SKEIN1024_216:45947,SKEIN1024_224:45948,SKEIN1024_232:45949,SKEIN1024_240:45950,SKEIN1024_248:45951,SKEIN1024_256:45952,SKEIN1024_264:45953,SKEIN1024_272:45954,SKEIN1024_280:45955,SKEIN1024_288:45956,SKEIN1024_296:45957,SKEIN1024_304:45958,SKEIN1024_312:45959,SKEIN1024_320:45960,SKEIN1024_328:45961,SKEIN1024_336:45962,SKEIN1024_344:45963,SKEIN1024_352:45964,SKEIN1024_360:45965,SKEIN1024_368:45966,SKEIN1024_376:45967,SKEIN1024_384:45968,SKEIN1024_392:45969,SKEIN1024_400:45970,SKEIN1024_408:45971,SKEIN1024_416:45972,SKEIN1024_424:45973,SKEIN1024_432:45974,SKEIN1024_440:45975,SKEIN1024_448:45976,SKEIN1024_456:45977,SKEIN1024_464:45978,SKEIN1024_472:45979,SKEIN1024_480:45980,SKEIN1024_488:45981,SKEIN1024_496:45982,SKEIN1024_504:45983,SKEIN1024_512:45984,SKEIN1024_520:45985,SKEIN1024_528:45986,SKEIN1024_536:45987,SKEIN1024_544:45988,SKEIN1024_552:45989,SKEIN1024_560:45990,SKEIN1024_568:45991,SKEIN1024_576:45992,SKEIN1024_584:45993,SKEIN1024_592:45994,SKEIN1024_600:45995,SKEIN1024_608:45996,SKEIN1024_616:45997,SKEIN1024_624:45998,SKEIN1024_632:45999,SKEIN1024_640:46e3,SKEIN1024_648:46001,SKEIN1024_656:46002,SKEIN1024_664:46003,SKEIN1024_672:46004,SKEIN1024_680:46005,SKEIN1024_688:46006,SKEIN1024_696:46007,SKEIN1024_704:46008,SKEIN1024_712:46009,SKEIN1024_720:46010,SKEIN1024_728:46011,SKEIN1024_736:46012,SKEIN1024_744:46013,SKEIN1024_752:46014,SKEIN1024_760:46015,SKEIN1024_768:46016,SKEIN1024_776:46017,SKEIN1024_784:46018,SKEIN1024_792:46019,SKEIN1024_800:46020,SKEIN1024_808:46021,SKEIN1024_816:46022,SKEIN1024_824:46023,SKEIN1024_832:46024,SKEIN1024_840:46025,SKEIN1024_848:46026,SKEIN1024_856:46027,SKEIN1024_864:46028,SKEIN1024_872:46029,SKEIN1024_880:46030,SKEIN1024_888:46031,SKEIN1024_896:46032,SKEIN1024_904:46033,SKEIN1024_912:46034,SKEIN1024_920:46035,SKEIN1024_928:46036,SKEIN1024_936:46037,SKEIN1024_944:46038,SKEIN1024_952:46039,SKEIN1024_960:46040,SKEIN1024_968:46041,SKEIN1024_976:46042,SKEIN1024_984:46043,SKEIN1024_992:46044,SKEIN1024_1000:46045,SKEIN1024_1008:46046,SKEIN1024_1016:46047,SKEIN1024_1024:46048,IP4:4,TCP:6,DCCP:33,IP6:41,IP6ZONE:42,DNS:53,DNS4:54,DNS6:55,DNSADDR:56,SCTP:132,UDP:273,P2P_WEBRTC_STAR:275,P2P_WEBRTC_DIRECT:276,P2P_STARDUST:277,P2P_CIRCUIT:290,UDT:301,UTP:302,UNIX:400,P2P:421,IPFS:421,HTTPS:443,ONION:444,ONION3:445,GARLIC64:446,GARLIC32:447,QUIC:460,WS:477,WSS:478,P2P_WEBSOCKET_STAR:479,HTTP:480,RAW:85,DAG_PB:112,DAG_CBOR:113,LIBP2P_KEY:114,GIT_RAW:120,TORRENT_INFO:123,TORRENT_FILE:124,LEOFCOIN_BLOCK:129,LEOFCOIN_TX:130,LEOFCOIN_PR:131,ETH_BLOCK:144,ETH_BLOCK_LIST:145,ETH_TX_TRIE:146,ETH_TX:147,ETH_TX_RECEIPT_TRIE:148,ETH_TX_RECEIPT:149,ETH_STATE_TRIE:150,ETH_ACCOUNT_SNAPSHOT:151,ETH_STORAGE_TRIE:152,BITCOIN_BLOCK:176,BITCOIN_TX:177,ZCASH_BLOCK:192,ZCASH_TX:193,STELLAR_BLOCK:208,STELLAR_TX:209,DECRED_BLOCK:224,DECRED_TX:225,DASH_BLOCK:240,DASH_TX:241,SWARM_MANIFEST:250,SWARM_FEED:251,DAG_JSON:297,PATH:47,IPLD_NS:226,IPFS_NS:227,SWARM_NS:228,IPNS_NS:229,ZERONET:230,ED25519_PUB:237,HOLOCHAIN_ADR_V0:8417572,HOLOCHAIN_ADR_V1:8483108,HOLOCHAIN_KEY_V0:9728292,HOLOCHAIN_KEY_V1:9793828,HOLOCHAIN_SIG_V0:10645796,HOLOCHAIN_SIG_V1:10711332})}}},{package:"multicodec",file:"/home/gudahtt/projects/metamask-extension/node_modules/multicodec/src/constants.js"}],[5219,{"./constants":5218,"./name-table":5220,"./print":5221,"./util":5222,"./varint-table":5223,buffer:2081,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){const i=e("varint"),s=e("./varint-table"),o=e("./name-table"),a=e("./util");(n=t.exports).addPrefix=(e,t)=>{let n;if(r.isBuffer(e))n=a.varintBufferEncode(e);else{if(!s[e])throw new Error("multicodec not recognized");n=s[e]}return r.concat([n,t])},n.rmPrefix=e=>(i.decode(e),e.slice(i.decode.bytes)),n.getCodec=e=>{const t=a.varintBufferDecode(e),n=o[t.toString("hex")];if(n===undefined)throw new Error("Code `0x"+t.toString("hex")+"` not found");return n},n.getName=e=>o[e.toString(16)],n.getNumber=e=>{const t=s[e];if(t===undefined)throw new Error("Codec `"+e+"` not found");return a.varintBufferDecode(t)[0]},n.getCode=e=>i.decode(e),n.getCodeVarint=e=>{const t=s[e];if(t===undefined)throw new Error("Codec `"+e+"` not found");return t},n.getVarint=e=>i.encode(e);const u=e("./constants");Object.assign(n,u),n.print=e("./print")}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multicodec",file:"/home/gudahtt/projects/metamask-extension/node_modules/multicodec/src/index.js"}],[5220,{"./base-table":5217},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./base-table"),i={};t.exports=i;for(let e in r){i[r[e].toString("hex")]=e}}}},{package:"multicodec",file:"/home/gudahtt/projects/metamask-extension/node_modules/multicodec/src/name-table.js"}],[5221,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=Object.freeze({80:"protobuf",81:"cbor",96:"rlp",99:"bencode",512:"json",513:"messagepack",48:"multicodec",49:"multihash",50:"multiaddr",51:"multibase",0:"identity",17:"sha1",18:"sha2-256",19:"sha2-512",20:"sha3-512",21:"sha3-384",22:"sha3-256",23:"sha3-224",24:"shake-128",25:"shake-256",26:"keccak-224",27:"keccak-256",28:"keccak-384",29:"keccak-512",34:"murmur3-128",35:"murmur3-32",86:"dbl-sha2-256",212:"md4",213:"md5",214:"bmt",4352:"x11",45569:"blake2b-8",45570:"blake2b-16",45571:"blake2b-24",45572:"blake2b-32",45573:"blake2b-40",45574:"blake2b-48",45575:"blake2b-56",45576:"blake2b-64",45577:"blake2b-72",45578:"blake2b-80",45579:"blake2b-88",45580:"blake2b-96",45581:"blake2b-104",45582:"blake2b-112",45583:"blake2b-120",45584:"blake2b-128",45585:"blake2b-136",45586:"blake2b-144",45587:"blake2b-152",45588:"blake2b-160",45589:"blake2b-168",45590:"blake2b-176",45591:"blake2b-184",45592:"blake2b-192",45593:"blake2b-200",45594:"blake2b-208",45595:"blake2b-216",45596:"blake2b-224",45597:"blake2b-232",45598:"blake2b-240",45599:"blake2b-248",45600:"blake2b-256",45601:"blake2b-264",45602:"blake2b-272",45603:"blake2b-280",45604:"blake2b-288",45605:"blake2b-296",45606:"blake2b-304",45607:"blake2b-312",45608:"blake2b-320",45609:"blake2b-328",45610:"blake2b-336",45611:"blake2b-344",45612:"blake2b-352",45613:"blake2b-360",45614:"blake2b-368",45615:"blake2b-376",45616:"blake2b-384",45617:"blake2b-392",45618:"blake2b-400",45619:"blake2b-408",45620:"blake2b-416",45621:"blake2b-424",45622:"blake2b-432",45623:"blake2b-440",45624:"blake2b-448",45625:"blake2b-456",45626:"blake2b-464",45627:"blake2b-472",45628:"blake2b-480",45629:"blake2b-488",45630:"blake2b-496",45631:"blake2b-504",45632:"blake2b-512",45633:"blake2s-8",45634:"blake2s-16",45635:"blake2s-24",45636:"blake2s-32",45637:"blake2s-40",45638:"blake2s-48",45639:"blake2s-56",45640:"blake2s-64",45641:"blake2s-72",45642:"blake2s-80",45643:"blake2s-88",45644:"blake2s-96",45645:"blake2s-104",45646:"blake2s-112",45647:"blake2s-120",45648:"blake2s-128",45649:"blake2s-136",45650:"blake2s-144",45651:"blake2s-152",45652:"blake2s-160",45653:"blake2s-168",45654:"blake2s-176",45655:"blake2s-184",45656:"blake2s-192",45657:"blake2s-200",45658:"blake2s-208",45659:"blake2s-216",45660:"blake2s-224",45661:"blake2s-232",45662:"blake2s-240",45663:"blake2s-248",45664:"blake2s-256",45825:"skein256-8",45826:"skein256-16",45827:"skein256-24",45828:"skein256-32",45829:"skein256-40",45830:"skein256-48",45831:"skein256-56",45832:"skein256-64",45833:"skein256-72",45834:"skein256-80",45835:"skein256-88",45836:"skein256-96",45837:"skein256-104",45838:"skein256-112",45839:"skein256-120",45840:"skein256-128",45841:"skein256-136",45842:"skein256-144",45843:"skein256-152",45844:"skein256-160",45845:"skein256-168",45846:"skein256-176",45847:"skein256-184",45848:"skein256-192",45849:"skein256-200",45850:"skein256-208",45851:"skein256-216",45852:"skein256-224",45853:"skein256-232",45854:"skein256-240",45855:"skein256-248",45856:"skein256-256",45857:"skein512-8",45858:"skein512-16",45859:"skein512-24",45860:"skein512-32",45861:"skein512-40",45862:"skein512-48",45863:"skein512-56",45864:"skein512-64",45865:"skein512-72",45866:"skein512-80",45867:"skein512-88",45868:"skein512-96",45869:"skein512-104",45870:"skein512-112",45871:"skein512-120",45872:"skein512-128",45873:"skein512-136",45874:"skein512-144",45875:"skein512-152",45876:"skein512-160",45877:"skein512-168",45878:"skein512-176",45879:"skein512-184",45880:"skein512-192",45881:"skein512-200",45882:"skein512-208",45883:"skein512-216",45884:"skein512-224",45885:"skein512-232",45886:"skein512-240",45887:"skein512-248",45888:"skein512-256",45889:"skein512-264",45890:"skein512-272",45891:"skein512-280",45892:"skein512-288",45893:"skein512-296",45894:"skein512-304",45895:"skein512-312",45896:"skein512-320",45897:"skein512-328",45898:"skein512-336",45899:"skein512-344",45900:"skein512-352",45901:"skein512-360",45902:"skein512-368",45903:"skein512-376",45904:"skein512-384",45905:"skein512-392",45906:"skein512-400",45907:"skein512-408",45908:"skein512-416",45909:"skein512-424",45910:"skein512-432",45911:"skein512-440",45912:"skein512-448",45913:"skein512-456",45914:"skein512-464",45915:"skein512-472",45916:"skein512-480",45917:"skein512-488",45918:"skein512-496",45919:"skein512-504",45920:"skein512-512",45921:"skein1024-8",45922:"skein1024-16",45923:"skein1024-24",45924:"skein1024-32",45925:"skein1024-40",45926:"skein1024-48",45927:"skein1024-56",45928:"skein1024-64",45929:"skein1024-72",45930:"skein1024-80",45931:"skein1024-88",45932:"skein1024-96",45933:"skein1024-104",45934:"skein1024-112",45935:"skein1024-120",45936:"skein1024-128",45937:"skein1024-136",45938:"skein1024-144",45939:"skein1024-152",45940:"skein1024-160",45941:"skein1024-168",45942:"skein1024-176",45943:"skein1024-184",45944:"skein1024-192",45945:"skein1024-200",45946:"skein1024-208",45947:"skein1024-216",45948:"skein1024-224",45949:"skein1024-232",45950:"skein1024-240",45951:"skein1024-248",45952:"skein1024-256",45953:"skein1024-264",45954:"skein1024-272",45955:"skein1024-280",45956:"skein1024-288",45957:"skein1024-296",45958:"skein1024-304",45959:"skein1024-312",45960:"skein1024-320",45961:"skein1024-328",45962:"skein1024-336",45963:"skein1024-344",45964:"skein1024-352",45965:"skein1024-360",45966:"skein1024-368",45967:"skein1024-376",45968:"skein1024-384",45969:"skein1024-392",45970:"skein1024-400",45971:"skein1024-408",45972:"skein1024-416",45973:"skein1024-424",45974:"skein1024-432",45975:"skein1024-440",45976:"skein1024-448",45977:"skein1024-456",45978:"skein1024-464",45979:"skein1024-472",45980:"skein1024-480",45981:"skein1024-488",45982:"skein1024-496",45983:"skein1024-504",45984:"skein1024-512",45985:"skein1024-520",45986:"skein1024-528",45987:"skein1024-536",45988:"skein1024-544",45989:"skein1024-552",45990:"skein1024-560",45991:"skein1024-568",45992:"skein1024-576",45993:"skein1024-584",45994:"skein1024-592",45995:"skein1024-600",45996:"skein1024-608",45997:"skein1024-616",45998:"skein1024-624",45999:"skein1024-632",46e3:"skein1024-640",46001:"skein1024-648",46002:"skein1024-656",46003:"skein1024-664",46004:"skein1024-672",46005:"skein1024-680",46006:"skein1024-688",46007:"skein1024-696",46008:"skein1024-704",46009:"skein1024-712",46010:"skein1024-720",46011:"skein1024-728",46012:"skein1024-736",46013:"skein1024-744",46014:"skein1024-752",46015:"skein1024-760",46016:"skein1024-768",46017:"skein1024-776",46018:"skein1024-784",46019:"skein1024-792",46020:"skein1024-800",46021:"skein1024-808",46022:"skein1024-816",46023:"skein1024-824",46024:"skein1024-832",46025:"skein1024-840",46026:"skein1024-848",46027:"skein1024-856",46028:"skein1024-864",46029:"skein1024-872",46030:"skein1024-880",46031:"skein1024-888",46032:"skein1024-896",46033:"skein1024-904",46034:"skein1024-912",46035:"skein1024-920",46036:"skein1024-928",46037:"skein1024-936",46038:"skein1024-944",46039:"skein1024-952",46040:"skein1024-960",46041:"skein1024-968",46042:"skein1024-976",46043:"skein1024-984",46044:"skein1024-992",46045:"skein1024-1000",46046:"skein1024-1008",46047:"skein1024-1016",46048:"skein1024-1024",4:"ip4",6:"tcp",33:"dccp",41:"ip6",42:"ip6zone",53:"dns",54:"dns4",55:"dns6",56:"dnsaddr",132:"sctp",273:"udp",275:"p2p-webrtc-star",276:"p2p-webrtc-direct",277:"p2p-stardust",290:"p2p-circuit",301:"udt",302:"utp",400:"unix",421:"p2p",443:"https",444:"onion",445:"onion3",446:"garlic64",447:"garlic32",460:"quic",477:"ws",478:"wss",479:"p2p-websocket-star",480:"http",85:"raw",112:"dag-pb",113:"dag-cbor",114:"libp2p-key",120:"git-raw",123:"torrent-info",124:"torrent-file",129:"leofcoin-block",130:"leofcoin-tx",131:"leofcoin-pr",144:"eth-block",145:"eth-block-list",146:"eth-tx-trie",147:"eth-tx",148:"eth-tx-receipt-trie",149:"eth-tx-receipt",150:"eth-state-trie",151:"eth-account-snapshot",152:"eth-storage-trie",176:"bitcoin-block",177:"bitcoin-tx",192:"zcash-block",193:"zcash-tx",208:"stellar-block",209:"stellar-tx",224:"decred-block",225:"decred-tx",240:"dash-block",241:"dash-tx",250:"swarm-manifest",251:"swarm-feed",297:"dag-json",47:"path",226:"ipld-ns",227:"ipfs-ns",228:"swarm-ns",229:"ipns-ns",230:"zeronet",237:"ed25519-pub",8417572:"holochain-adr-v0",8483108:"holochain-adr-v1",9728292:"holochain-key-v0",9793828:"holochain-key-v1",10645796:"holochain-sig-v0",10711332:"holochain-sig-v1"})}}},{package:"multicodec",file:"/home/gudahtt/projects/metamask-extension/node_modules/multicodec/src/print.js"}],[5222,{buffer:2081,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("varint");function i(e){return parseInt(e.toString("hex"),16)}function s(e){let t=e.toString(16);return t.length%2==1&&(t="0"+t),n.from(t,"hex")}t.exports={numberToBuffer:s,bufferToNumber:i,varintBufferEncode:function(e){return n.from(r.encode(i(e)))},varintBufferDecode:function(e){return s(r.decode(e))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multicodec",file:"/home/gudahtt/projects/metamask-extension/node_modules/multicodec/src/util.js"}],[5223,{"./base-table":5217,"./util":5222},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./base-table"),i=e("./util").varintBufferEncode,s={};t.exports=s;for(let e in r){let t=r[e];s[e]=i(t)}}}},{package:"multicodec",file:"/home/gudahtt/projects/metamask-extension/node_modules/multicodec/src/varint-table.js"}],[5233,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.names=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"dbl-sha2-256":86,"sha3-224":23,"sha3-256":22,"sha3-384":21,"sha3-512":20,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"murmur3-128":34,"murmur3-32":35,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"Skein256-8":45825,"Skein256-16":45826,"Skein256-24":45827,"Skein256-32":45828,"Skein256-40":45829,"Skein256-48":45830,"Skein256-56":45831,"Skein256-64":45832,"Skein256-72":45833,"Skein256-80":45834,"Skein256-88":45835,"Skein256-96":45836,"Skein256-104":45837,"Skein256-112":45838,"Skein256-120":45839,"Skein256-128":45840,"Skein256-136":45841,"Skein256-144":45842,"Skein256-152":45843,"Skein256-160":45844,"Skein256-168":45845,"Skein256-176":45846,"Skein256-184":45847,"Skein256-192":45848,"Skein256-200":45849,"Skein256-208":45850,"Skein256-216":45851,"Skein256-224":45852,"Skein256-232":45853,"Skein256-240":45854,"Skein256-248":45855,"Skein256-256":45856,"Skein512-8":45857,"Skein512-16":45858,"Skein512-24":45859,"Skein512-32":45860,"Skein512-40":45861,"Skein512-48":45862,"Skein512-56":45863,"Skein512-64":45864,"Skein512-72":45865,"Skein512-80":45866,"Skein512-88":45867,"Skein512-96":45868,"Skein512-104":45869,"Skein512-112":45870,"Skein512-120":45871,"Skein512-128":45872,"Skein512-136":45873,"Skein512-144":45874,"Skein512-152":45875,"Skein512-160":45876,"Skein512-168":45877,"Skein512-176":45878,"Skein512-184":45879,"Skein512-192":45880,"Skein512-200":45881,"Skein512-208":45882,"Skein512-216":45883,"Skein512-224":45884,"Skein512-232":45885,"Skein512-240":45886,"Skein512-248":45887,"Skein512-256":45888,"Skein512-264":45889,"Skein512-272":45890,"Skein512-280":45891,"Skein512-288":45892,"Skein512-296":45893,"Skein512-304":45894,"Skein512-312":45895,"Skein512-320":45896,"Skein512-328":45897,"Skein512-336":45898,"Skein512-344":45899,"Skein512-352":45900,"Skein512-360":45901,"Skein512-368":45902,"Skein512-376":45903,"Skein512-384":45904,"Skein512-392":45905,"Skein512-400":45906,"Skein512-408":45907,"Skein512-416":45908,"Skein512-424":45909,"Skein512-432":45910,"Skein512-440":45911,"Skein512-448":45912,"Skein512-456":45913,"Skein512-464":45914,"Skein512-472":45915,"Skein512-480":45916,"Skein512-488":45917,"Skein512-496":45918,"Skein512-504":45919,"Skein512-512":45920,"Skein1024-8":45921,"Skein1024-16":45922,"Skein1024-24":45923,"Skein1024-32":45924,"Skein1024-40":45925,"Skein1024-48":45926,"Skein1024-56":45927,"Skein1024-64":45928,"Skein1024-72":45929,"Skein1024-80":45930,"Skein1024-88":45931,"Skein1024-96":45932,"Skein1024-104":45933,"Skein1024-112":45934,"Skein1024-120":45935,"Skein1024-128":45936,"Skein1024-136":45937,"Skein1024-144":45938,"Skein1024-152":45939,"Skein1024-160":45940,"Skein1024-168":45941,"Skein1024-176":45942,"Skein1024-184":45943,"Skein1024-192":45944,"Skein1024-200":45945,"Skein1024-208":45946,"Skein1024-216":45947,"Skein1024-224":45948,"Skein1024-232":45949,"Skein1024-240":45950,"Skein1024-248":45951,"Skein1024-256":45952,"Skein1024-264":45953,"Skein1024-272":45954,"Skein1024-280":45955,"Skein1024-288":45956,"Skein1024-296":45957,"Skein1024-304":45958,"Skein1024-312":45959,"Skein1024-320":45960,"Skein1024-328":45961,"Skein1024-336":45962,"Skein1024-344":45963,"Skein1024-352":45964,"Skein1024-360":45965,"Skein1024-368":45966,"Skein1024-376":45967,"Skein1024-384":45968,"Skein1024-392":45969,"Skein1024-400":45970,"Skein1024-408":45971,"Skein1024-416":45972,"Skein1024-424":45973,"Skein1024-432":45974,"Skein1024-440":45975,"Skein1024-448":45976,"Skein1024-456":45977,"Skein1024-464":45978,"Skein1024-472":45979,"Skein1024-480":45980,"Skein1024-488":45981,"Skein1024-496":45982,"Skein1024-504":45983,"Skein1024-512":45984,"Skein1024-520":45985,"Skein1024-528":45986,"Skein1024-536":45987,"Skein1024-544":45988,"Skein1024-552":45989,"Skein1024-560":45990,"Skein1024-568":45991,"Skein1024-576":45992,"Skein1024-584":45993,"Skein1024-592":45994,"Skein1024-600":45995,"Skein1024-608":45996,"Skein1024-616":45997,"Skein1024-624":45998,"Skein1024-632":45999,"Skein1024-640":46e3,"Skein1024-648":46001,"Skein1024-656":46002,"Skein1024-664":46003,"Skein1024-672":46004,"Skein1024-680":46005,"Skein1024-688":46006,"Skein1024-696":46007,"Skein1024-704":46008,"Skein1024-712":46009,"Skein1024-720":46010,"Skein1024-728":46011,"Skein1024-736":46012,"Skein1024-744":46013,"Skein1024-752":46014,"Skein1024-760":46015,"Skein1024-768":46016,"Skein1024-776":46017,"Skein1024-784":46018,"Skein1024-792":46019,"Skein1024-800":46020,"Skein1024-808":46021,"Skein1024-816":46022,"Skein1024-824":46023,"Skein1024-832":46024,"Skein1024-840":46025,"Skein1024-848":46026,"Skein1024-856":46027,"Skein1024-864":46028,"Skein1024-872":46029,"Skein1024-880":46030,"Skein1024-888":46031,"Skein1024-896":46032,"Skein1024-904":46033,"Skein1024-912":46034,"Skein1024-920":46035,"Skein1024-928":46036,"Skein1024-936":46037,"Skein1024-944":46038,"Skein1024-952":46039,"Skein1024-960":46040,"Skein1024-968":46041,"Skein1024-976":46042,"Skein1024-984":46043,"Skein1024-992":46044,"Skein1024-1000":46045,"Skein1024-1008":46046,"Skein1024-1016":46047,"Skein1024-1024":46048}),n.codes=Object.freeze({0:"identity",17:"sha1",18:"sha2-256",19:"sha2-512",86:"dbl-sha2-256",23:"sha3-224",22:"sha3-256",21:"sha3-384",20:"sha3-512",24:"shake-128",25:"shake-256",26:"keccak-224",27:"keccak-256",28:"keccak-384",29:"keccak-512",34:"murmur3-128",35:"murmur3-32",45569:"blake2b-8",45570:"blake2b-16",45571:"blake2b-24",45572:"blake2b-32",45573:"blake2b-40",45574:"blake2b-48",45575:"blake2b-56",45576:"blake2b-64",45577:"blake2b-72",45578:"blake2b-80",45579:"blake2b-88",45580:"blake2b-96",45581:"blake2b-104",45582:"blake2b-112",45583:"blake2b-120",45584:"blake2b-128",45585:"blake2b-136",45586:"blake2b-144",45587:"blake2b-152",45588:"blake2b-160",45589:"blake2b-168",45590:"blake2b-176",45591:"blake2b-184",45592:"blake2b-192",45593:"blake2b-200",45594:"blake2b-208",45595:"blake2b-216",45596:"blake2b-224",45597:"blake2b-232",45598:"blake2b-240",45599:"blake2b-248",45600:"blake2b-256",45601:"blake2b-264",45602:"blake2b-272",45603:"blake2b-280",45604:"blake2b-288",45605:"blake2b-296",45606:"blake2b-304",45607:"blake2b-312",45608:"blake2b-320",45609:"blake2b-328",45610:"blake2b-336",45611:"blake2b-344",45612:"blake2b-352",45613:"blake2b-360",45614:"blake2b-368",45615:"blake2b-376",45616:"blake2b-384",45617:"blake2b-392",45618:"blake2b-400",45619:"blake2b-408",45620:"blake2b-416",45621:"blake2b-424",45622:"blake2b-432",45623:"blake2b-440",45624:"blake2b-448",45625:"blake2b-456",45626:"blake2b-464",45627:"blake2b-472",45628:"blake2b-480",45629:"blake2b-488",45630:"blake2b-496",45631:"blake2b-504",45632:"blake2b-512",45633:"blake2s-8",45634:"blake2s-16",45635:"blake2s-24",45636:"blake2s-32",45637:"blake2s-40",45638:"blake2s-48",45639:"blake2s-56",45640:"blake2s-64",45641:"blake2s-72",45642:"blake2s-80",45643:"blake2s-88",45644:"blake2s-96",45645:"blake2s-104",45646:"blake2s-112",45647:"blake2s-120",45648:"blake2s-128",45649:"blake2s-136",45650:"blake2s-144",45651:"blake2s-152",45652:"blake2s-160",45653:"blake2s-168",45654:"blake2s-176",45655:"blake2s-184",45656:"blake2s-192",45657:"blake2s-200",45658:"blake2s-208",45659:"blake2s-216",45660:"blake2s-224",45661:"blake2s-232",45662:"blake2s-240",45663:"blake2s-248",45664:"blake2s-256",45825:"Skein256-8",45826:"Skein256-16",45827:"Skein256-24",45828:"Skein256-32",45829:"Skein256-40",45830:"Skein256-48",45831:"Skein256-56",45832:"Skein256-64",45833:"Skein256-72",45834:"Skein256-80",45835:"Skein256-88",45836:"Skein256-96",45837:"Skein256-104",45838:"Skein256-112",45839:"Skein256-120",45840:"Skein256-128",45841:"Skein256-136",45842:"Skein256-144",45843:"Skein256-152",45844:"Skein256-160",45845:"Skein256-168",45846:"Skein256-176",45847:"Skein256-184",45848:"Skein256-192",45849:"Skein256-200",45850:"Skein256-208",45851:"Skein256-216",45852:"Skein256-224",45853:"Skein256-232",45854:"Skein256-240",45855:"Skein256-248",45856:"Skein256-256",45857:"Skein512-8",45858:"Skein512-16",45859:"Skein512-24",45860:"Skein512-32",45861:"Skein512-40",45862:"Skein512-48",45863:"Skein512-56",45864:"Skein512-64",45865:"Skein512-72",45866:"Skein512-80",45867:"Skein512-88",45868:"Skein512-96",45869:"Skein512-104",45870:"Skein512-112",45871:"Skein512-120",45872:"Skein512-128",45873:"Skein512-136",45874:"Skein512-144",45875:"Skein512-152",45876:"Skein512-160",45877:"Skein512-168",45878:"Skein512-176",45879:"Skein512-184",45880:"Skein512-192",45881:"Skein512-200",45882:"Skein512-208",45883:"Skein512-216",45884:"Skein512-224",45885:"Skein512-232",45886:"Skein512-240",45887:"Skein512-248",45888:"Skein512-256",45889:"Skein512-264",45890:"Skein512-272",45891:"Skein512-280",45892:"Skein512-288",45893:"Skein512-296",45894:"Skein512-304",45895:"Skein512-312",45896:"Skein512-320",45897:"Skein512-328",45898:"Skein512-336",45899:"Skein512-344",45900:"Skein512-352",45901:"Skein512-360",45902:"Skein512-368",45903:"Skein512-376",45904:"Skein512-384",45905:"Skein512-392",45906:"Skein512-400",45907:"Skein512-408",45908:"Skein512-416",45909:"Skein512-424",45910:"Skein512-432",45911:"Skein512-440",45912:"Skein512-448",45913:"Skein512-456",45914:"Skein512-464",45915:"Skein512-472",45916:"Skein512-480",45917:"Skein512-488",45918:"Skein512-496",45919:"Skein512-504",45920:"Skein512-512",45921:"Skein1024-8",45922:"Skein1024-16",45923:"Skein1024-24",45924:"Skein1024-32",45925:"Skein1024-40",45926:"Skein1024-48",45927:"Skein1024-56",45928:"Skein1024-64",45929:"Skein1024-72",45930:"Skein1024-80",45931:"Skein1024-88",45932:"Skein1024-96",45933:"Skein1024-104",45934:"Skein1024-112",45935:"Skein1024-120",45936:"Skein1024-128",45937:"Skein1024-136",45938:"Skein1024-144",45939:"Skein1024-152",45940:"Skein1024-160",45941:"Skein1024-168",45942:"Skein1024-176",45943:"Skein1024-184",45944:"Skein1024-192",45945:"Skein1024-200",45946:"Skein1024-208",45947:"Skein1024-216",45948:"Skein1024-224",45949:"Skein1024-232",45950:"Skein1024-240",45951:"Skein1024-248",45952:"Skein1024-256",45953:"Skein1024-264",45954:"Skein1024-272",45955:"Skein1024-280",45956:"Skein1024-288",45957:"Skein1024-296",45958:"Skein1024-304",45959:"Skein1024-312",45960:"Skein1024-320",45961:"Skein1024-328",45962:"Skein1024-336",45963:"Skein1024-344",45964:"Skein1024-352",45965:"Skein1024-360",45966:"Skein1024-368",45967:"Skein1024-376",45968:"Skein1024-384",45969:"Skein1024-392",45970:"Skein1024-400",45971:"Skein1024-408",45972:"Skein1024-416",45973:"Skein1024-424",45974:"Skein1024-432",45975:"Skein1024-440",45976:"Skein1024-448",45977:"Skein1024-456",45978:"Skein1024-464",45979:"Skein1024-472",45980:"Skein1024-480",45981:"Skein1024-488",45982:"Skein1024-496",45983:"Skein1024-504",45984:"Skein1024-512",45985:"Skein1024-520",45986:"Skein1024-528",45987:"Skein1024-536",45988:"Skein1024-544",45989:"Skein1024-552",45990:"Skein1024-560",45991:"Skein1024-568",45992:"Skein1024-576",45993:"Skein1024-584",45994:"Skein1024-592",45995:"Skein1024-600",45996:"Skein1024-608",45997:"Skein1024-616",45998:"Skein1024-624",45999:"Skein1024-632",46e3:"Skein1024-640",46001:"Skein1024-648",46002:"Skein1024-656",46003:"Skein1024-664",46004:"Skein1024-672",46005:"Skein1024-680",46006:"Skein1024-688",46007:"Skein1024-696",46008:"Skein1024-704",46009:"Skein1024-712",46010:"Skein1024-720",46011:"Skein1024-728",46012:"Skein1024-736",46013:"Skein1024-744",46014:"Skein1024-752",46015:"Skein1024-760",46016:"Skein1024-768",46017:"Skein1024-776",46018:"Skein1024-784",46019:"Skein1024-792",46020:"Skein1024-800",46021:"Skein1024-808",46022:"Skein1024-816",46023:"Skein1024-824",46024:"Skein1024-832",46025:"Skein1024-840",46026:"Skein1024-848",46027:"Skein1024-856",46028:"Skein1024-864",46029:"Skein1024-872",46030:"Skein1024-880",46031:"Skein1024-888",46032:"Skein1024-896",46033:"Skein1024-904",46034:"Skein1024-912",46035:"Skein1024-920",46036:"Skein1024-928",46037:"Skein1024-936",46038:"Skein1024-944",46039:"Skein1024-952",46040:"Skein1024-960",46041:"Skein1024-968",46042:"Skein1024-976",46043:"Skein1024-984",46044:"Skein1024-992",46045:"Skein1024-1000",46046:"Skein1024-1008",46047:"Skein1024-1016",46048:"Skein1024-1024"}),n.defaultLengths=Object.freeze({17:20,18:32,19:64,86:32,23:28,22:32,21:48,20:64,24:32,25:64,26:28,27:32,28:48,29:64,34:32,45569:1,45570:2,45571:3,45572:4,45573:5,45574:6,45575:7,45576:8,45577:9,45578:10,45579:11,45580:12,45581:13,45582:14,45583:15,45584:16,45585:17,45586:18,45587:19,45588:20,45589:21,45590:22,45591:23,45592:24,45593:25,45594:26,45595:27,45596:28,45597:29,45598:30,45599:31,45600:32,45601:33,45602:34,45603:35,45604:36,45605:37,45606:38,45607:39,45608:40,45609:41,45610:42,45611:43,45612:44,45613:45,45614:46,45615:47,45616:48,45617:49,45618:50,45619:51,45620:52,45621:53,45622:54,45623:55,45624:56,45625:57,45626:58,45627:59,45628:60,45629:61,45630:62,45631:63,45632:64,45633:1,45634:2,45635:3,45636:4,45637:5,45638:6,45639:7,45640:8,45641:9,45642:10,45643:11,45644:12,45645:13,45646:14,45647:15,45648:16,45649:17,45650:18,45651:19,45652:20,45653:21,45654:22,45655:23,45656:24,45657:25,45658:26,45659:27,45660:28,45661:29,45662:30,45663:31,45664:32,45825:1,45826:2,45827:3,45828:4,45829:5,45830:6,45831:7,45832:8,45833:9,45834:10,45835:11,45836:12,45837:13,45838:14,45839:15,45840:16,45841:17,45842:18,45843:19,45844:20,45845:21,45846:22,45847:23,45848:24,45849:25,45850:26,45851:27,45852:28,45853:29,45854:30,45855:31,45856:32,45857:1,45858:2,45859:3,45860:4,45861:5,45862:6,45863:7,45864:8,45865:9,45866:10,45867:11,45868:12,45869:13,45870:14,45871:15,45872:16,45873:17,45874:18,45875:19,45876:20,45877:21,45878:22,45879:23,45880:24,45881:25,45882:26,45883:27,45884:28,45885:29,45886:30,45887:31,45888:32,45889:33,45890:34,45891:35,45892:36,45893:37,45894:38,45895:39,45896:40,45897:41,45898:42,45899:43,45900:44,45901:45,45902:46,45903:47,45904:48,45905:49,45906:50,45907:51,45908:52,45909:53,45910:54,45911:55,45912:56,45913:57,45914:58,45915:59,45916:60,45917:61,45918:62,45919:63,45920:64,45921:1,45922:2,45923:3,45924:4,45925:5,45926:6,45927:7,45928:8,45929:9,45930:10,45931:11,45932:12,45933:13,45934:14,45935:15,45936:16,45937:17,45938:18,45939:19,45940:20,45941:21,45942:22,45943:23,45944:24,45945:25,45946:26,45947:27,45948:28,45949:29,45950:30,45951:31,45952:32,45953:33,45954:34,45955:35,45956:36,45957:37,45958:38,45959:39,45960:40,45961:41,45962:42,45963:43,45964:44,45965:45,45966:46,45967:47,45968:48,45969:49,45970:50,45971:51,45972:52,45973:53,45974:54,45975:55,45976:56,45977:57,45978:58,45979:59,45980:60,45981:61,45982:62,45983:63,45984:64,45985:65,45986:66,45987:67,45988:68,45989:69,45990:70,45991:71,45992:72,45993:73,45994:74,45995:75,45996:76,45997:77,45998:78,45999:79,46e3:80,46001:81,46002:82,46003:83,46004:84,46005:85,46006:86,46007:87,46008:88,46009:89,46010:90,46011:91,46012:92,46013:93,46014:94,46015:95,46016:96,46017:97,46018:98,46019:99,46020:100,46021:101,46022:102,46023:103,46024:104,46025:105,46026:106,46027:107,46028:108,46029:109,46030:110,46031:111,46032:112,46033:113,46034:114,46035:115,46036:116,46037:117,46038:118,46039:119,46040:120,46041:121,46042:122,46043:123,46044:124,46045:125,46046:126,46047:127,46048:128})}}},{package:"multihashes",file:"/home/gudahtt/projects/metamask-extension/node_modules/multihashes/src/constants.js"}],[5234,{"./constants":5233,bs58:2088,buffer:2081,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("bs58"),i=e("./constants");n.names=i.names,n.codes=i.codes,n.defaultLengths=i.defaultLengths;const s=e("varint");function o(e){n.decode(e)}n.toHexString=function(e){if(!t.isBuffer(e))throw new Error("must be passed a buffer");return e.toString("hex")},n.fromHexString=function(e){return t.from(e,"hex")},n.toB58String=function(e){if(!t.isBuffer(e))throw new Error("must be passed a buffer");return r.encode(e)},n.fromB58String=function(e){let n=e;return t.isBuffer(e)&&(n=e.toString()),t.from(r.decode(n))},n.decode=function(e){if(!t.isBuffer(e))throw new Error("multihash must be a Buffer");if(e.length<3)throw new Error("multihash too short. must be > 3 bytes.");const r=s.decode(e);if(!n.isValidCode(r))throw new Error(`multihash unknown function code: 0x${r.toString(16)}`);e=e.slice(s.decode.bytes);const o=s.decode(e);if(o<1)throw new Error(`multihash invalid length: 0x${o.toString(16)}`);if((e=e.slice(s.decode.bytes)).length!==o)throw new Error(`multihash length inconsistent: 0x${e.toString("hex")}`);return{code:r,name:i.codes[r],length:o,digest:e}},n.encode=function(e,r,i){if(!e||r===undefined)throw new Error("multihash encode requires at least two args: digest, code");const o=n.coerceCode(r);if(!t.isBuffer(e))throw new Error("digest should be a Buffer");if(null==i&&(i=e.length),i&&e.length!==i)throw new Error("digest length should be equal to specified length.");return t.concat([t.from(s.encode(o)),t.from(s.encode(i)),e])},n.coerceCode=function(e){let t=e;if("string"==typeof e){if(i.names[e]===undefined)throw new Error(`Unrecognized hash function named: ${e}`);t=i.names[e]}if("number"!=typeof t)throw new Error(`Hash function code should be a number. Got: ${t}`);if(i.codes[t]===undefined&&!n.isAppCode(t))throw new Error(`Unrecognized function code: ${t}`);return t},n.isAppCode=function(e){return e>0&&e<16},n.isValidCode=function(e){return!!n.isAppCode(e)||!!i.codes[e]},n.validate=o,n.prefix=function(e){return o(e),e.slice(0,2)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashes",file:"/home/gudahtt/projects/metamask-extension/node_modules/multihashes/src/index.js"}],[5235,{blakejs:2034,buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){const{Buffer:r}=e("buffer"),i=e("blakejs"),s={init:i.blake2bInit,update:i.blake2bUpdate,digest:i.blake2bFinal},o={init:i.blake2sInit,update:i.blake2sUpdate,digest:i.blake2sFinal},a=(e,t)=>async n=>{const i=t.init(e,null);return t.update(i,n),r.from(t.digest(i))};t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/multihashing-async/src/blake.js"}],[5236,{"./blake":5235,"./sha":5238,"./utils":5239,buffer:2081,"js-sha3":4719,"murmurhash3js-revisited":5252},function(){with(this)return function(){"use strict";return function(e,t,n){const{Buffer:r}=e("buffer"),i=e("js-sha3"),s=e("murmurhash3js-revisited"),o=e("./sha"),{fromNumberTo32BitBuf:a}=e("./utils"),u=e=>async t=>{switch(e){case"sha3-224":return r.from(i.sha3_224.arrayBuffer(t));case"sha3-256":return r.from(i.sha3_256.arrayBuffer(t));case"sha3-384":return r.from(i.sha3_384.arrayBuffer(t));case"sha3-512":return r.from(i.sha3_512.arrayBuffer(t));case"shake-128":return r.from(i.shake128.create(128).update(t).arrayBuffer());case"shake-256":return r.from(i.shake256.create(256).update(t).arrayBuffer());case"keccak-224":return r.from(i.keccak224.arrayBuffer(t));case"keccak-256":return r.from(i.keccak256.arrayBuffer(t));case"keccak-384":return r.from(i.keccak384.arrayBuffer(t));case"keccak-512":return r.from(i.keccak512.arrayBuffer(t));case"murmur3-128":return r.from(s.x64.hash128(t),"hex");case"murmur3-32":return a(s.x86.hash32(t));default:throw new TypeError(`${e} is not a supported algorithm`)}};t.exports={sha1:o("sha1"),sha2256:o("sha2-256"),sha2512:o("sha2-512"),dblSha2256:o("dbl-sha2-256"),sha3224:u("sha3-224"),sha3256:u("sha3-256"),sha3384:u("sha3-384"),sha3512:u("sha3-512"),shake128:u("shake-128"),shake256:u("shake-256"),keccak224:u("keccak-224"),keccak256:u("keccak-256"),keccak384:u("keccak-384"),keccak512:u("keccak-512"),murmur3128:u("murmur3-128"),murmur332:u("murmur3-32"),addBlake:e("./blake")}}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/multihashing-async/src/crypto.js"}],[5237,{"./crypto":5236,buffer:2081,"err-code":2355,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,n){const{Buffer:r}=e("buffer"),i=e("err-code"),s=e("multihashes"),o=e("./crypto");async function a(e,t,n){const r=await a.digest(e,t,n);return s.encode(r,t,n)}a.Buffer=r,a.multihash=s,a.digest=async(e,t,n)=>{const r=a.createHash(t),i=await r(e);return n?i.slice(0,n):i},a.createHash=function(e){if(!e)throw i("hash algorithm must be specified","ERR_HASH_ALGORITHM_NOT_SPECIFIED");if(e=s.coerceCode(e),!a.functions[e])throw i(`multihash function '${e}' not yet supported`,"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return a.functions[e]},a.functions={17:o.sha1,18:o.sha2256,19:o.sha2512,20:o.sha3512,21:o.sha3384,22:o.sha3256,23:o.sha3224,24:o.shake128,25:o.shake256,26:o.keccak224,27:o.keccak256,28:o.keccak384,29:o.keccak512,34:o.murmur3128,35:o.murmur332,86:o.dblSha2256},o.addBlake(a.functions),a.validate=async(e,t)=>{const n=await a(e,s.decode(t).name);return 0===r.compare(t,n)},t.exports=a}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/multihashing-async/src/index.js"}],[5238,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){const{Buffer:r}=e("buffer"),i=self.crypto||self.msCrypto;t.exports=e=>{if("undefined"==typeof self||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return async t=>{switch(e){case"sha1":return r.from(await i.subtle.digest({name:"SHA-1"},t));case"sha2-256":return r.from(await i.subtle.digest({name:"SHA-256"},t));case"sha2-512":return r.from(await i.subtle.digest({name:"SHA-512"},t));case"dbl-sha2-256":{const e=await i.subtle.digest({name:"SHA-256"},t);return r.from(await i.subtle.digest({name:"SHA-256"},e))}default:throw new Error(`${e} is not a supported algorithm`)}}}}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/multihashing-async/src/sha.browser.js"}],[5239,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,n){const{Buffer:r}=e("buffer");t.exports={fromNumberTo32BitBuf:e=>{const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&e,e>>=8;return r.from(t)}}}}},{package:"multihashing-async",file:"/home/gudahtt/projects/metamask-extension/node_modules/multihashing-async/src/utils.js"}],[5240,{_process:5420},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){var r;n=t.exports=f,r="object"==typeof e&&e.env&&e.env.NODE_DEBUG&&/\bsemver\b/i.test(e.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},n.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,s=n.re=[],o=n.src=[],a=n.tokens={},u=0;function c(e){a[e]=u++}c("NUMERICIDENTIFIER"),o[a.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),o[a.NUMERICIDENTIFIERLOOSE]="[0-9]+",c("NONNUMERICIDENTIFIER"),o[a.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),o[a.MAINVERSION]="("+o[a.NUMERICIDENTIFIER]+")\\."+"("+o[a.NUMERICIDENTIFIER]+")\\."+"("+o[a.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),o[a.MAINVERSIONLOOSE]="("+o[a.NUMERICIDENTIFIERLOOSE]+")\\."+"("+o[a.NUMERICIDENTIFIERLOOSE]+")\\."+"("+o[a.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),o[a.PRERELEASEIDENTIFIER]="(?:"+o[a.NUMERICIDENTIFIER]+"|"+o[a.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),o[a.PRERELEASEIDENTIFIERLOOSE]="(?:"+o[a.NUMERICIDENTIFIERLOOSE]+"|"+o[a.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),o[a.PRERELEASE]="(?:-("+o[a.PRERELEASEIDENTIFIER]+"(?:\\."+o[a.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),o[a.PRERELEASELOOSE]="(?:-?("+o[a.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+o[a.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),o[a.BUILDIDENTIFIER]="[0-9A-Za-z-]+",c("BUILD"),o[a.BUILD]="(?:\\+("+o[a.BUILDIDENTIFIER]+"(?:\\."+o[a.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),o[a.FULLPLAIN]="v?"+o[a.MAINVERSION]+o[a.PRERELEASE]+"?"+o[a.BUILD]+"?",o[a.FULL]="^"+o[a.FULLPLAIN]+"$",c("LOOSEPLAIN"),o[a.LOOSEPLAIN]="[v=\\s]*"+o[a.MAINVERSIONLOOSE]+o[a.PRERELEASELOOSE]+"?"+o[a.BUILD]+"?",c("LOOSE"),o[a.LOOSE]="^"+o[a.LOOSEPLAIN]+"$",c("GTLT"),o[a.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),o[a.XRANGEIDENTIFIERLOOSE]=o[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),o[a.XRANGEIDENTIFIER]=o[a.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),o[a.XRANGEPLAIN]="[v=\\s]*("+o[a.XRANGEIDENTIFIER]+")"+"(?:\\.("+o[a.XRANGEIDENTIFIER]+")"+"(?:\\.("+o[a.XRANGEIDENTIFIER]+")"+"(?:"+o[a.PRERELEASE]+")?"+o[a.BUILD]+"?"+")?)?",c("XRANGEPLAINLOOSE"),o[a.XRANGEPLAINLOOSE]="[v=\\s]*("+o[a.XRANGEIDENTIFIERLOOSE]+")"+"(?:\\.("+o[a.XRANGEIDENTIFIERLOOSE]+")"+"(?:\\.("+o[a.XRANGEIDENTIFIERLOOSE]+")"+"(?:"+o[a.PRERELEASELOOSE]+")?"+o[a.BUILD]+"?"+")?)?",c("XRANGE"),o[a.XRANGE]="^"+o[a.GTLT]+"\\s*"+o[a.XRANGEPLAIN]+"$",c("XRANGELOOSE"),o[a.XRANGELOOSE]="^"+o[a.GTLT]+"\\s*"+o[a.XRANGEPLAINLOOSE]+"$",c("COERCE"),o[a.COERCE]="(^|[^\\d])"+"(\\d{1,"+16+"})"+"(?:\\.(\\d{1,"+16+"}))?"+"(?:\\.(\\d{1,"+16+"}))?"+"(?:$|[^\\d])",c("COERCERTL"),s[a.COERCERTL]=new RegExp(o[a.COERCE],"g"),c("LONETILDE"),o[a.LONETILDE]="(?:~>?)",c("TILDETRIM"),o[a.TILDETRIM]="(\\s*)"+o[a.LONETILDE]+"\\s+",s[a.TILDETRIM]=new RegExp(o[a.TILDETRIM],"g");c("TILDE"),o[a.TILDE]="^"+o[a.LONETILDE]+o[a.XRANGEPLAIN]+"$",c("TILDELOOSE"),o[a.TILDELOOSE]="^"+o[a.LONETILDE]+o[a.XRANGEPLAINLOOSE]+"$",c("LONECARET"),o[a.LONECARET]="(?:\\^)",c("CARETTRIM"),o[a.CARETTRIM]="(\\s*)"+o[a.LONECARET]+"\\s+",s[a.CARETTRIM]=new RegExp(o[a.CARETTRIM],"g");c("CARET"),o[a.CARET]="^"+o[a.LONECARET]+o[a.XRANGEPLAIN]+"$",c("CARETLOOSE"),o[a.CARETLOOSE]="^"+o[a.LONECARET]+o[a.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),o[a.COMPARATORLOOSE]="^"+o[a.GTLT]+"\\s*("+o[a.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),o[a.COMPARATOR]="^"+o[a.GTLT]+"\\s*("+o[a.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),o[a.COMPARATORTRIM]="(\\s*)"+o[a.GTLT]+"\\s*("+o[a.LOOSEPLAIN]+"|"+o[a.XRANGEPLAIN]+")",s[a.COMPARATORTRIM]=new RegExp(o[a.COMPARATORTRIM],"g");c("HYPHENRANGE"),o[a.HYPHENRANGE]="^\\s*("+o[a.XRANGEPLAIN]+")"+"\\s+-\\s+"+"("+o[a.XRANGEPLAIN]+")"+"\\s*$",c("HYPHENRANGELOOSE"),o[a.HYPHENRANGELOOSE]="^\\s*("+o[a.XRANGEPLAINLOOSE]+")"+"\\s+-\\s+"+"("+o[a.XRANGEPLAINLOOSE]+")"+"\\s*$",c("STAR"),o[a.STAR]="(<|>)?=?\\s*\\*";for(var l=0;l<u;l++)r(l,o[l]),s[l]||(s[l]=new RegExp(o[l]));function h(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof f)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?s[a.LOOSE]:s[a.FULL]).test(e))return null;try{return new f(e,t)}catch(e){return null}}function f(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof f){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than "+256+" characters");if(!(this instanceof f))return new f(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}n.parse=h,n.valid=function(e,t){var n=h(e,t);return n?n.version:null},n.clean=function(e,t){var n=h(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},n.SemVer=f,f.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},f.prototype.toString=function(){return this.version},f.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof f||(e=new f(e,this.options)),this.compareMain(e)||this.comparePre(e)},f.prototype.compareMain=function(e){return e instanceof f||(e=new f(e,this.options)),p(this.major,e.major)||p(this.minor,e.minor)||p(this.patch,e.patch)},f.prototype.comparePre=function(e){if(e instanceof f||(e=new f(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),n===undefined&&i===undefined)return 0;if(i===undefined)return 1;if(n===undefined)return-1;if(n!==i)return p(n,i)}while(++t)},f.prototype.compareBuild=function(e){e instanceof f||(e=new f(e,this.options));var t=0;do{var n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),n===undefined&&i===undefined)return 0;if(i===undefined)return 1;if(n===undefined)return-1;if(n!==i)return p(n,i)}while(++t)},f.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},n.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=undefined);try{return new f(e,n).inc(t,r).version}catch(e){return null}},n.diff=function(e,t){if(y(e,t))return null;var n=h(e),r=h(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var s="prerelease"}for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==r[o])return i+o;return s},n.compareIdentifiers=p;var d=/^[0-9]+$/;function p(e,t){var n=d.test(e),r=d.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function m(e,t,n){return new f(e,n).compare(new f(t,n))}function b(e,t,n){return m(e,t,n)>0}function g(e,t,n){return m(e,t,n)<0}function y(e,t,n){return 0===m(e,t,n)}function _(e,t,n){return 0!==m(e,t,n)}function k(e,t,n){return m(e,t,n)>=0}function E(e,t,n){return m(e,t,n)<=0}function w(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return y(e,n,r);case"!=":return _(e,n,r);case">":return b(e,n,r);case">=":return k(e,n,r);case"<":return g(e,n,r);case"<=":return E(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function S(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof S){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof S))return new S(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===v?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}n.rcompareIdentifiers=function(e,t){return p(t,e)},n.major=function(e,t){return new f(e,t).major},n.minor=function(e,t){return new f(e,t).minor},n.patch=function(e,t){return new f(e,t).patch},n.compare=m,n.compareLoose=function(e,t){return m(e,t,!0)},n.compareBuild=function(e,t,n){var r=new f(e,n),i=new f(t,n);return r.compare(i)||r.compareBuild(i)},n.rcompare=function(e,t,n){return m(t,e,n)},n.sort=function(e,t){return e.sort((function(e,r){return n.compareBuild(e,r,t)}))},n.rsort=function(e,t){return e.sort((function(e,r){return n.compareBuild(r,e,t)}))},n.gt=b,n.lt=g,n.eq=y,n.neq=_,n.gte=k,n.lte=E,n.cmp=w,n.Comparator=S;var v={};function I(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof I)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new I(e.raw,t);if(e instanceof S)return new I(e.value,t);if(!(this instanceof I))return new I(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function x(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every((function(e){return i.intersects(e,t)})),i=r.pop();return n}function A(e){return!e||"x"===e.toLowerCase()||"*"===e}function R(e,t,n,r,i,s,o,a,u,c,l,h,f){return((t=A(n)?"":A(r)?">="+n+".0.0":A(i)?">="+n+"."+r+".0":">="+t)+" "+(a=A(u)?"":A(c)?"<"+(+u+1)+".0.0":A(l)?"<"+u+"."+(+c+1)+".0":h?"<="+u+"."+c+"."+l+"-"+h:"<="+a)).trim()}function T(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==v&&e[i].semver.prerelease.length>0){var s=e[i].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function N(e,t,n){try{t=new I(t,n)}catch(e){return!1}return t.test(e)}function j(e,t,n,r){var i,s,o,a,u;switch(e=new f(e,r),t=new I(t,r),n){case">":i=b,s=E,o=g,a=">",u=">=";break;case"<":i=g,s=k,o=b,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(N(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],h=null,d=null;if(l.forEach((function(e){e.semver===v&&(e=new S(">=0.0.0")),h=h||e,d=d||e,i(e.semver,h.semver,r)?h=e:o(e.semver,d.semver,r)&&(d=e)})),h.operator===a||h.operator===u)return!1;if((!d.operator||d.operator===a)&&s(e,d.semver))return!1;if(d.operator===u&&o(e,d.semver))return!1}return!0}S.prototype.parse=function(e){var t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1]!==undefined?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new f(n[2],this.options.loose):this.semver=v},S.prototype.toString=function(){return this.value},S.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===v||e===v)return!0;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}return w(e,this.operator,this.semver,this.options)},S.prototype.intersects=function(e,t){if(!(e instanceof S))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new I(e.value,t),N(this.value,n,t));if(""===e.operator)return""===e.value||(n=new I(this.value,t),N(e.semver,n,t));var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=w(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=w(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||s&&o||a||u},n.Range=I,I.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},I.prototype.toString=function(){return this.range},I.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?s[a.HYPHENRANGELOOSE]:s[a.HYPHENRANGE];e=e.replace(n,R),r("hyphen replace",e),e=e.replace(s[a.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,s[a.COMPARATORTRIM]),e=(e=(e=e.replace(s[a.TILDETRIM],"$1~")).replace(s[a.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=t?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],o=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?s[a.CARETLOOSE]:s[a.CARET];return e.replace(n,(function(t,n,i,s,o){var a;return r("caret",e,t,n,i,s,o),A(n)?a="":A(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":A(s)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":o?(r("replaceCaret pr",o),a="0"===n?"0"===i?">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+i+"."+(+s+1):">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+s+"-"+o+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+s+" <"+n+"."+i+"."+(+s+1):">="+n+"."+i+"."+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+s+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?s[a.TILDELOOSE]:s[a.TILDE];return e.replace(n,(function(t,n,i,s,o){var a;return r("tilde",e,t,n,i,s,o),A(n)?a="":A(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":A(s)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":o?(r("replaceTilde pr",o),a=">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+s+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?s[a.XRANGELOOSE]:s[a.XRANGE];return e.replace(n,(function(n,i,s,o,a,u){r("xRange",e,n,i,s,o,a,u);var c=A(s),l=c||A(o),h=l||A(a),f=h;return"="===i&&f&&(i=""),u=t.includePrerelease?"-0":"",c?n=">"===i||"<"===i?"<0.0.0-0":"*":i&&f?(l&&(o=0),a=0,">"===i?(i=">=",l?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):"<="===i&&(i="<",l?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a+u):l?n=">="+s+".0.0"+u+" <"+(+s+1)+".0.0"+u:h&&(n=">="+s+"."+o+".0"+u+" <"+s+"."+(+o+1)+".0"+u),r("xRange return",n),n}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(s[a.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter((function(e){return!!e.match(i)}))),o=o.map((function(e){return new S(e,this.options)}),this)},I.prototype.intersects=function(e,t){if(!(e instanceof I))throw new TypeError("a Range is required");return this.set.some((function(n){return x(n,t)&&e.set.some((function(e){return x(e,t)&&n.every((function(n){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},n.toComparators=function(e,t){return new I(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},I.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1},n.satisfies=N,n.maxSatisfying=function(e,t,n){var r=null,i=null;try{var s=new I(t,n)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(r&&-1!==i.compare(e)||(i=new f(r=e,n)))})),r},n.minSatisfying=function(e,t,n){var r=null,i=null;try{var s=new I(t,n)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(r&&1!==i.compare(e)||(i=new f(r=e,n)))})),r},n.minVersion=function(e,t){e=new I(e,t);var n=new f("0.0.0");if(e.test(n))return n;if(n=new f("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new f(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!b(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(n&&e.test(n))return n;return null},n.validRange=function(e,t){try{return new I(e,t).range||"*"}catch(e){return null}},n.ltr=function(e,t,n){return j(e,t,"<",n)},n.gtr=function(e,t,n){return j(e,t,">",n)},n.outside=j,n.prerelease=function(e,t){var n=h(e,t);return n&&n.prerelease.length?n.prerelease:null},n.intersects=function(e,t,n){return e=new I(e,n),t=new I(t,n),e.intersects(t)},n.coerce=function(e,t){if(e instanceof f)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var n=null;if((t=t||{}).rtl){for(var r;(r=s[a.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),s[a.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;s[a.COERCERTL].lastIndex=-1}else n=e.match(s[a.COERCE]);if(null===n)return null;return h(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),t)}}).call(this)}).call(this,e("_process"))}}},{package:"semver",file:"/home/gudahtt/projects/metamask-extension/node_modules/multistream-select/node_modules/semver/semver.js"}],[5241,{},function(){with(this)return function(){"use strict";return function(e,t,n){(n=t.exports).PROTOCOL_ID="/multistream/1.0.0",n.errors={MULTICODEC_NOT_SUPPORTED:"ERR_MULTICODEC_NOT_SUPPORTED"}}}},{package:"multistream-select",file:"/home/gudahtt/projects/metamask-extension/node_modules/multistream-select/src/constants.js"}],[5242,{"../select":5249,"../util":5250,"./../constants":5241,"interface-connection":4406,once:5307,"pull-length-prefixed":5459,"pull-stream/pull":5478,"pull-stream/sinks/collect":5479,"pull-stream/throughs/map":5500,"pull-stream/throughs/take":5502,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("varint"),i=e("pull-stream/pull"),s=e("pull-stream/throughs/map"),o=e("pull-stream/sinks/collect"),a=e("pull-stream/throughs/take"),u=e("pull-length-prefixed"),c=e("interface-connection").Connection,l=e("../util"),h=e("../select"),f=e("once"),d=e("./../constants").PROTOCOL_ID;function p(e){return e.toString().slice(0,-1)}t.exports=class{constructor(){this.conn=null,this.log=l.log.dialer()}handle(e,t){this.log("dialer handle conn"),t=f(t);const n=h(d,((n,r)=>{if(n)return t(n);this.log("handshake success"),this.conn=new c(r,e),t()}),this.log);try{i(e,n,e)}catch(e){this.log.error(e),t(e)}}select(e,t){if(this.log("dialer select "+e),t=f(t),!this.conn)return t(new Error("multistream handshake has not finalized yet"));const n=h(e,((e,n)=>{if(e)return this.conn=new c(n,this.conn),t(e);t(null,new c(n,this.conn))}),this.log);i(this.conn,n,this.conn)}ls(e){e=f(e);const t=h("ls",((t,n)=>{if(t)return e(t);i(n,u.decode(),function(e){let t=!0,n=0;return a((e=>t?(r.decode(e),n=r.decode(e,r.decode.bytes),!0):n-- >0))}(),s(p),o(((t,n)=>{if(t)return e(t);e(null,n.slice(1))})))}),this.log);i(this.conn,t,this.conn)}}}}},{package:"multistream-select",file:"/home/gudahtt/projects/metamask-extension/node_modules/multistream-select/src/dialer/index.js"}],[5243,{"./constants":5241,"./dialer":5242,"./listener":5244,"./listener/match-exact":5246,"./listener/match-semver":5247},function(){with(this)return function(){"use strict";return function(e,t,n){n.Listener=n.listener=e("./listener"),n.Dialer=n.dialer=e("./dialer"),n.matchSemver=e("./listener/match-semver"),n.matchExact=e("./listener/match-exact"),n.constants=e("./constants")}}},{package:"multistream-select",file:"/home/gudahtt/projects/metamask-extension/node_modules/multistream-select/src/index.js"}],[5244,{"../select":5249,"./../constants":5241,"./../util":5250,"./ls-handler":5245,"./match-exact":5246,"./select-handler":5248,assert:1700,"interface-connection":4406,"pull-stream/pull":5478},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream/pull"),i=e("assert"),s=e("../select"),o=e("./select-handler"),a=e("./ls-handler"),u=e("./match-exact"),c=e("./../util"),l=e("interface-connection").Connection,h=e("./../constants").PROTOCOL_ID;t.exports=class{constructor(){this.handlers={ls:{handlerFunc:(e,t)=>a(this,t),matchFunc:u}},this.log=c.log.listener()}handle(e,t){this.log("listener handle conn");const n=s(h,((n,i)=>{if(n)return t(n);const s=new l(i,e),a=o(s,this.handlers,this.log);r(s,a,s),t()}),this.log);r(e,n,e)}addHandler(e,t,n){this.log("adding handler: "+e),i("function"==typeof t,"handler must be a function"),this.handlers[e]&&this.log("overwriting handler for "+e),n||(n=u),this.handlers[e]={handlerFunc:t,matchFunc:n}}}}}},{package:"multistream-select",file:"/home/gudahtt/projects/metamask-extension/node_modules/multistream-select/src/listener/index.js"}],[5245,{buffer:2081,"pull-length-prefixed":5459,"pull-stream/pull":5478,"pull-stream/sources/values":5494,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("pull-stream/pull"),i=e("pull-stream/sources/values"),s=e("pull-length-prefixed"),o=e("varint");t.exports=function(e,t){const a=Object.keys(e.handlers).filter((e=>"ls"!==e)),u=a.length,c=a.reduce(((e,t)=>{const r=n.from(t+"\n");return e+o.encodingLength(r.length)}),0),l=n.concat([n.from(o.encode(u)),n.from(o.encode(c)),n.from("\n")]),h=a.map((e=>n.from(e+"\n")));r(i([l].concat(h)),s.encode(),t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multistream-select",file:"/home/gudahtt/projects/metamask-extension/node_modules/multistream-select/src/listener/ls-handler.js"}],[5246,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){n(null,e===t)}}}},{package:"multistream-select",file:"/home/gudahtt/projects/metamask-extension/node_modules/multistream-select/src/listener/match-exact.js"}],[5247,{semver:5240},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("semver");t.exports=function(e,t,n){const i=e.split("/"),s=t.split("/"),o=i[1],a=i[2],u=s[1],c=s[2];if(o!==u)return n(null,!1);n(null,r.satisfies(a,"~"+c))}}}},{package:"multistream-select",file:"/home/gudahtt/projects/metamask-extension/node_modules/multistream-select/src/listener/match-semver.js"}],[5248,{"../util.js":5250,"async/some":1774,buffer:2081,"interface-connection":4406,"pull-handshake":5456,"pull-length-prefixed":5459},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("pull-handshake"),i=e("pull-length-prefixed"),s=e("interface-connection").Connection,o=e("../util.js").writeEncoded,a=e("async/some");t.exports=function(e,t,u){const c=e=>{u.error(e)},l=r({timeout:6e4},c),h=l.handshake;return function r(){i.decodeFromReader(h,((i,l)=>{if(i)return c(i);u("received:",l.toString());const f=l.toString().slice(0,-1);!function(e,t,n){const r=Object.keys(t);let i=!1;a(r,((n,r)=>{t[n].matchFunc(n,e,((e,t)=>{if(e)return r(e);t&&(i=n),r()}))}),(e=>{if(e)return n(e);n(null,i)}))}(f,t,((i,a)=>{if(i)return c(i);const d=a;if(d){u("send ack back of: "+f),o(h,l,c);const n=new s(h.rest(),e);t[d].handlerFunc(f,n)}else u("not supported protocol: "+f),o(h,n.from("na\n")),r()}))}))}(),l}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multistream-select",file:"/home/gudahtt/projects/metamask-extension/node_modules/multistream-select/src/listener/select-handler.js"}]],[],{});