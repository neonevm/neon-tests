LavaPack.loadBundle([[5249,{"./constants":5241,"./util":5250,buffer:2081,"err-code":2355,"pull-handshake":5456,"pull-length-prefixed":5459},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("pull-handshake"),i=e("pull-length-prefixed"),s=e("./util").writeEncoded,a=e("err-code"),{errors:o}=e("./constants");t.exports=function(e,t,u){const c=n({timeout:6e4},t),l=c.handshake;return u("writing multicodec: "+e),s(l,r.from(e+"\n"),t),i.decodeFromReader(l,((r,n)=>{if(r)return t(r);const i=n.toString().slice(0,-1);if(i!==e){const r=a(new Error(`"${e}" not supported`),o.MULTICODEC_NOT_SUPPORTED);return t(r,l.rest())}u("received ack: "+i),t(null,l.rest())})),c}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multistream-select",file:"/home/gudahtt/projects/metamask-extension/node_modules/multistream-select/src/select.js"}],[5250,{buffer:2081,debug:2253,"pull-length-prefixed":5459,"pull-stream/pull":5478,"pull-stream/sinks/collect":5479,"pull-stream/sources/values":5494},function(){with(this)return function(){"use strict";return function(e,t,r){(function(n){(function(){const i=e("pull-stream/pull"),s=e("pull-stream/sources/values"),a=e("pull-stream/sinks/collect"),o=e("pull-length-prefixed"),u=e("debug");function c(e){const t=(~~(1e9*Math.random())).toString(36);function r(e){return r=>{Array.isArray(r)&&(r=r.join(" ")),e("(%s) %s",t,r)}}const n=r(u("mss:"+e));return n.error=r(u("mss:"+e+":error")),n}(r=t.exports).writeEncoded=(e,t,r)=>{!function(e,t){i(s(n.isBuffer(e)?[e]:[n.from(e)]),o.encode(),a(((e,r)=>{if(e)return t(e);t(null,r[0])})))}(t,((t,n)=>{if(t)return r(t);e.write(n)}))},r.log={},r.log.dialer=()=>c("dialer\t"),r.log.listener=()=>c("listener\t")}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multistream-select",file:"/home/gudahtt/projects/metamask-extension/node_modules/multistream-select/src/util.js"}],[5251,{"@babel/runtime/helpers/asyncToGenerator":185,"@babel/runtime/helpers/interopRequireDefault":195,"@babel/runtime/regenerator":215,"did-resolver":2274,"node-fetch":5262},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/regenerator")),s=n(e("@babel/runtime/helpers/asyncToGenerator")),a=e("did-resolver"),o=n(e("node-fetch")),u="https://ipfs.infura.io/ipfs/";function c(e,t){return l.apply(this,arguments)}function l(){return(l=(0,s.default)(i.default.mark((function e(t,r){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return e.t1=JSON,e.next=5,t.cat(r);case 5:e.t2=e.sent,e.t0=e.t1.parse.call(e.t1,e.t2),e.next=12;break;case 9:return e.next=11,d(r);case 11:e.t0=e.sent;case 12:n=e.t0,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(0);case 17:if(n&&1===n.version&&n.signingKey&&n.managementKey&&n.asymEncryptionKey){e.next=20;break}try{t&&t.pin.rm(r)}catch(e){}throw new Error("Invalid muport did");case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=(0,s.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.default)(u+t);case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){var r={"@context":"https://w3id.org/did/v1",id:e,publicKey:[{id:e+"#signingKey",type:"Secp256k1VerificationKey2018",owner:e,publicKeyHex:t.signingKey},{id:e+"#managementKey",type:"Secp256k1VerificationKey2018",owner:e},{id:e+"#encryptionKey",type:"Curve25519EncryptionPublicKey",owner:e,publicKeyBase64:t.asymEncryptionKey}],authentication:[{type:"Secp256k1SignatureAuthentication2018",publicKey:e+"#signingKey"}],muportData:{}};return 42===t.managementKey.length?r.publicKey[1].ethereumAddress=t.managementKey:r.publicKey[1].publicKeyHex=t.managementKey,t.publicProfile&&(r.uportProfile=t.publicProfile),t.symEncryptedData&&(r.muportData.symEncryptedData=t.symEncryptedData),t.recoveryNetwork&&(r.muportData.recoveryNetwork=t.recoveryNetwork),r}t.exports=function(e){function t(e,t){return r.apply(this,arguments)}function r(){return(r=(0,s.default)(i.default.mark((function t(r,n){var s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(e,n.id);case 2:return s=t.sent,t.abrupt("return",f(r,s));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}arguments.length>1&&undefined,(0,a.registerMethod)("muport",t)}}}},{package:"muport-did-resolver",file:"/home/gudahtt/projects/metamask-extension/node_modules/muport-did-resolver/lib/register.js"}],[5252,{"./lib/murmurHash3js":5253},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./lib/murmurHash3js")}}},{package:"murmurhash3js-revisited",file:"/home/gudahtt/projects/metamask-extension/node_modules/murmurhash3js-revisited/index.js"}],[5253,{},function(){with(this)return function(){"use strict";return function(e,t,r){!function(e,n){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function s(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function a(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function o(e,t){return e<<t|e>>>32-t}function u(e){return e=a(e^=e>>>16,2246822507),e=a(e^=e>>>13,3266489909),e^=e>>>16}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function d(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function h(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function f(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=f(e,[0,e[0]>>>1]),e=f(e=l(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=f(e=l(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(i.inputValidation&&!s(e))return n;t=t||0;for(var r=e.length%4,c=e.length-r,l=t,d=0,h=3432918353,f=461845907,p=0;p<c;p+=4)d=a(d=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,h),d=a(d=o(d,15),f),l=a(l=o(l^=d,13),5)+3864292196;switch(d=0,r){case 3:d^=e[p+2]<<16;case 2:d^=e[p+1]<<8;case 1:d=a(d^=e[p],h),l^=d=a(d=o(d,15),f)}return(l=u(l^=e.length))>>>0},i.x86.hash128=function(e,t){if(i.inputValidation&&!s(e))return n;t=t||0;for(var r=e.length%16,c=e.length-r,l=t,d=t,h=t,f=t,p=0,g=0,m=0,y=0,b=597399067,v=2869860233,_=951274213,E=2716044179,w=0;w<c;w+=16)p=e[w]|e[w+1]<<8|e[w+2]<<16|e[w+3]<<24,g=e[w+4]|e[w+5]<<8|e[w+6]<<16|e[w+7]<<24,m=e[w+8]|e[w+9]<<8|e[w+10]<<16|e[w+11]<<24,y=e[w+12]|e[w+13]<<8|e[w+14]<<16|e[w+15]<<24,p=o(p=a(p,b),15),l=o(l^=p=a(p,v),19),l=a(l+=d,5)+1444728091,g=o(g=a(g,v),16),d=o(d^=g=a(g,_),17),d=a(d+=h,5)+197830471,m=o(m=a(m,_),17),h=o(h^=m=a(m,E),15),h=a(h+=f,5)+2530024501,y=o(y=a(y,E),18),f=o(f^=y=a(y,b),13),f=a(f+=l,5)+850148119;switch(p=0,g=0,m=0,y=0,r){case 15:y^=e[w+14]<<16;case 14:y^=e[w+13]<<8;case 13:y=a(y^=e[w+12],E),f^=y=a(y=o(y,18),b);case 12:m^=e[w+11]<<24;case 11:m^=e[w+10]<<16;case 10:m^=e[w+9]<<8;case 9:m=a(m^=e[w+8],_),h^=m=a(m=o(m,17),E);case 8:g^=e[w+7]<<24;case 7:g^=e[w+6]<<16;case 6:g^=e[w+5]<<8;case 5:g=a(g^=e[w+4],v),d^=g=a(g=o(g,16),_);case 4:p^=e[w+3]<<24;case 3:p^=e[w+2]<<16;case 2:p^=e[w+1]<<8;case 1:p=a(p^=e[w],b),l^=p=a(p=o(p,15),v)}return l^=e.length,l+=d^=e.length,l+=h^=e.length,d+=l+=f^=e.length,h+=l,f+=l,l=u(l),l+=d=u(d),l+=h=u(h),d+=l+=f=u(f),h+=l,f+=l,("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){if(i.inputValidation&&!s(e))return n;t=t||0;for(var r=e.length%16,a=e.length-r,o=[0,t],u=[0,t],g=[0,0],m=[0,0],y=[2277735313,289559509],b=[1291169091,658871167],v=0;v<a;v+=16)g=[e[v+4]|e[v+5]<<8|e[v+6]<<16|e[v+7]<<24,e[v]|e[v+1]<<8|e[v+2]<<16|e[v+3]<<24],m=[e[v+12]|e[v+13]<<8|e[v+14]<<16|e[v+15]<<24,e[v+8]|e[v+9]<<8|e[v+10]<<16|e[v+11]<<24],g=d(g=l(g,y),31),o=c(o=d(o=f(o,g=l(g,b)),27),u),o=c(l(o,[0,5]),[0,1390208809]),m=d(m=l(m,b),33),u=c(u=d(u=f(u,m=l(m,y)),31),o),u=c(l(u,[0,5]),[0,944331445]);switch(g=[0,0],m=[0,0],r){case 15:m=f(m,h([0,e[v+14]],48));case 14:m=f(m,h([0,e[v+13]],40));case 13:m=f(m,h([0,e[v+12]],32));case 12:m=f(m,h([0,e[v+11]],24));case 11:m=f(m,h([0,e[v+10]],16));case 10:m=f(m,h([0,e[v+9]],8));case 9:m=l(m=f(m,[0,e[v+8]]),b),u=f(u,m=l(m=d(m,33),y));case 8:g=f(g,h([0,e[v+7]],56));case 7:g=f(g,h([0,e[v+6]],48));case 6:g=f(g,h([0,e[v+5]],40));case 5:g=f(g,h([0,e[v+4]],32));case 4:g=f(g,h([0,e[v+3]],24));case 3:g=f(g,h([0,e[v+2]],16));case 2:g=f(g,h([0,e[v+1]],8));case 1:g=l(g=f(g,[0,e[v]]),y),o=f(o,g=l(g=d(g,31),b))}return o=c(o=f(o,[0,e.length]),u=f(u,[0,e.length])),u=c(u,o),o=c(o=p(o),u=p(u)),u=c(u,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)},void 0!==r?(void 0!==t&&t.exports&&(r=t.exports=i),r.murmurHash3=i):"function"==typeof define&&define.amd?define([],(function(){return i})):(i._murmurHash3=e.murmurHash3,i.noConflict=function(){return e.murmurHash3=i._murmurHash3,i._murmurHash3=n,i.noConflict=n,i},e.murmurHash3=i)}(this)}}},{package:"murmurhash3js-revisited",file:"/home/gudahtt/projects/metamask-extension/node_modules/murmurhash3js-revisited/lib/murmurHash3js.js"}],[5254,{"./lib/murmurHash3js":5255},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./lib/murmurHash3js")}}},{package:"murmurhash3js",file:"/home/gudahtt/projects/metamask-extension/node_modules/murmurhash3js/index.js"}],[5255,{},function(){with(this)return function(){"use strict";return function(e,t,r){!function(e,n){var i={version:"3.0.1",x86:{},x64:{}};function s(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function o(e){return e=s(e^=e>>>16,2246822507),e=s(e^=e>>>13,3266489909),e^=e>>>16}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function l(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function d(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function h(e,t){return[e[0]^t[0],e[1]^t[1]]}function f(e){return e=h(e,[0,e[0]>>>1]),e=h(e=c(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=h(e=c(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){t=t||0;for(var r=(e=e||"").length%4,n=e.length-r,i=t,u=0,c=3432918353,l=461845907,d=0;d<n;d+=4)u=s(u=255&e.charCodeAt(d)|(255&e.charCodeAt(d+1))<<8|(255&e.charCodeAt(d+2))<<16|(255&e.charCodeAt(d+3))<<24,c),u=s(u=a(u,15),l),i=s(i=a(i^=u,13),5)+3864292196;switch(u=0,r){case 3:u^=(255&e.charCodeAt(d+2))<<16;case 2:u^=(255&e.charCodeAt(d+1))<<8;case 1:u=s(u^=255&e.charCodeAt(d),c),i^=u=s(u=a(u,15),l)}return(i=o(i^=e.length))>>>0},i.x86.hash128=function(e,t){t=t||0;for(var r=(e=e||"").length%16,n=e.length-r,i=t,u=t,c=t,l=t,d=0,h=0,f=0,p=0,g=597399067,m=2869860233,y=951274213,b=2716044179,v=0;v<n;v+=16)d=255&e.charCodeAt(v)|(255&e.charCodeAt(v+1))<<8|(255&e.charCodeAt(v+2))<<16|(255&e.charCodeAt(v+3))<<24,h=255&e.charCodeAt(v+4)|(255&e.charCodeAt(v+5))<<8|(255&e.charCodeAt(v+6))<<16|(255&e.charCodeAt(v+7))<<24,f=255&e.charCodeAt(v+8)|(255&e.charCodeAt(v+9))<<8|(255&e.charCodeAt(v+10))<<16|(255&e.charCodeAt(v+11))<<24,p=255&e.charCodeAt(v+12)|(255&e.charCodeAt(v+13))<<8|(255&e.charCodeAt(v+14))<<16|(255&e.charCodeAt(v+15))<<24,d=a(d=s(d,g),15),i=a(i^=d=s(d,m),19),i=s(i+=u,5)+1444728091,h=a(h=s(h,m),16),u=a(u^=h=s(h,y),17),u=s(u+=c,5)+197830471,f=a(f=s(f,y),17),c=a(c^=f=s(f,b),15),c=s(c+=l,5)+2530024501,p=a(p=s(p,b),18),l=a(l^=p=s(p,g),13),l=s(l+=i,5)+850148119;switch(d=0,h=0,f=0,p=0,r){case 15:p^=e.charCodeAt(v+14)<<16;case 14:p^=e.charCodeAt(v+13)<<8;case 13:p=s(p^=e.charCodeAt(v+12),b),l^=p=s(p=a(p,18),g);case 12:f^=e.charCodeAt(v+11)<<24;case 11:f^=e.charCodeAt(v+10)<<16;case 10:f^=e.charCodeAt(v+9)<<8;case 9:f=s(f^=e.charCodeAt(v+8),y),c^=f=s(f=a(f,17),b);case 8:h^=e.charCodeAt(v+7)<<24;case 7:h^=e.charCodeAt(v+6)<<16;case 6:h^=e.charCodeAt(v+5)<<8;case 5:h=s(h^=e.charCodeAt(v+4),m),u^=h=s(h=a(h,16),y);case 4:d^=e.charCodeAt(v+3)<<24;case 3:d^=e.charCodeAt(v+2)<<16;case 2:d^=e.charCodeAt(v+1)<<8;case 1:d=s(d^=e.charCodeAt(v),g),i^=d=s(d=a(d,15),m)}return i^=e.length,i+=u^=e.length,i+=c^=e.length,u+=i+=l^=e.length,c+=i,l+=i,i=o(i),i+=u=o(u),i+=c=o(c),u+=i+=l=o(l),c+=i,l+=i,("00000000"+(i>>>0).toString(16)).slice(-8)+("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){t=t||0;for(var r=(e=e||"").length%16,n=e.length-r,i=[0,t],s=[0,t],a=[0,0],o=[0,0],p=[2277735313,289559509],g=[1291169091,658871167],m=0;m<n;m+=16)a=[255&e.charCodeAt(m+4)|(255&e.charCodeAt(m+5))<<8|(255&e.charCodeAt(m+6))<<16|(255&e.charCodeAt(m+7))<<24,255&e.charCodeAt(m)|(255&e.charCodeAt(m+1))<<8|(255&e.charCodeAt(m+2))<<16|(255&e.charCodeAt(m+3))<<24],o=[255&e.charCodeAt(m+12)|(255&e.charCodeAt(m+13))<<8|(255&e.charCodeAt(m+14))<<16|(255&e.charCodeAt(m+15))<<24,255&e.charCodeAt(m+8)|(255&e.charCodeAt(m+9))<<8|(255&e.charCodeAt(m+10))<<16|(255&e.charCodeAt(m+11))<<24],a=l(a=c(a,p),31),i=u(i=l(i=h(i,a=c(a,g)),27),s),i=u(c(i,[0,5]),[0,1390208809]),o=l(o=c(o,g),33),s=u(s=l(s=h(s,o=c(o,p)),31),i),s=u(c(s,[0,5]),[0,944331445]);switch(a=[0,0],o=[0,0],r){case 15:o=h(o,d([0,e.charCodeAt(m+14)],48));case 14:o=h(o,d([0,e.charCodeAt(m+13)],40));case 13:o=h(o,d([0,e.charCodeAt(m+12)],32));case 12:o=h(o,d([0,e.charCodeAt(m+11)],24));case 11:o=h(o,d([0,e.charCodeAt(m+10)],16));case 10:o=h(o,d([0,e.charCodeAt(m+9)],8));case 9:o=c(o=h(o,[0,e.charCodeAt(m+8)]),g),s=h(s,o=c(o=l(o,33),p));case 8:a=h(a,d([0,e.charCodeAt(m+7)],56));case 7:a=h(a,d([0,e.charCodeAt(m+6)],48));case 6:a=h(a,d([0,e.charCodeAt(m+5)],40));case 5:a=h(a,d([0,e.charCodeAt(m+4)],32));case 4:a=h(a,d([0,e.charCodeAt(m+3)],24));case 3:a=h(a,d([0,e.charCodeAt(m+2)],16));case 2:a=h(a,d([0,e.charCodeAt(m+1)],8));case 1:a=c(a=h(a,[0,e.charCodeAt(m)]),p),i=h(i,a=c(a=l(a,31),g))}return i=u(i=h(i,[0,e.length]),s=h(s,[0,e.length])),s=u(s,i),i=u(i=f(i),s=f(s)),s=u(s,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)},void 0!==r?(void 0!==t&&t.exports&&(r=t.exports=i),r.murmurHash3=i):"function"==typeof define&&define.amd?define([],(function(){return i})):(i._murmurHash3=e.murmurHash3,i.noConflict=function(){return e.murmurHash3=i._murmurHash3,i._murmurHash3=n,i.noConflict=n,i},e.murmurHash3=i)}(this)}}},{package:"murmurhash3js",file:"/home/gudahtt/projects/metamask-extension/node_modules/murmurhash3js/lib/murmurHash3js.js"}],[5256,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*n*r/t.length),s="";;)for(var a=e(i),o=i;o--;)if((s+=t[a[o]&n]||"").length===+r)return s}}}},{package:"nanoid",file:"/home/gudahtt/projects/metamask-extension/node_modules/nanoid/format.browser.js"}],[5257,{},function(){with(this)return function(){"use strict";return function(e,t,r){for(var n=self.crypto||self.msCrypto,i="-_",s=36;s--;)i+=s.toString(36);for(s=36;s---10;)i+=s.toString(36).toUpperCase();t.exports=function(e){var t="",r=n.getRandomValues(new Uint8Array(e||21));for(s=e||21;s--;)t+=i[63&r[s]];return t}}}},{package:"nanoid",file:"/home/gudahtt/projects/metamask-extension/node_modules/nanoid/index.browser.js"}],[5263,{"./cipher":5266,"./cipherModes":5267,"./forge":5269,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.aes.Algorithm(e,t)}))}e("./cipher"),e("./cipherModes"),e("./util"),t.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i},n.aes.createEncryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!1,mode:t})},n.aes.startDecrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i},n.aes.createDecryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!0,mode:t})},n.aes.Algorithm=function(e,t){l||d();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return f(r._w,e,t,!1)},decrypt:function(e,t){return f(r._w,e,t,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=n.util.createBuffer();for(var i=0;i<t.length;++i)r.putByte(t[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){t=r,r=[];var s=t.length();if(16===s||24===s||32===s){s>>>=2;for(i=0;i<s;++i)r.push(t.getInt32())}}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var a=this.mode.name,o=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=h(r,e.decrypt&&!o),this._init=!0}},n.aes._expandKey=function(e,t){return l||d(),h(e,t)},n.aes._updateBlock=f,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var s,a,o,u,c,l=!1;function d(){l=!0,o=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;s=new Array(256),a=new Array(256),u=new Array(4),c=new Array(4);for(t=0;t<4;++t)u[t]=new Array(256),c[t]=new Array(256);var r,n,i,d,h,f,p,g=0,m=0;for(t=0;t<256;++t){d=(d=m^m<<1^m<<2^m<<3^m<<4)>>8^255&d^99,s[g]=d,a[d]=g,f=(h=e[d])<<24^d<<16^d<<8^d^h,p=((r=e[g])^(n=e[r])^(i=e[n]))<<24^(g^i)<<16^(g^n^i)<<8^g^r^i;for(var y=0;y<4;++y)u[y][g]=f,c[y][d]=p,f=f<<24|f>>>8,p=p<<24|p>>>8;0===g?g=m=1:(g=r^e[e[e[r^i]]],m^=e[e[m]])}}function h(e,t){for(var r,n=e.slice(0),i=1,a=n.length,u=4*(a+6+1),l=a;l<u;++l)r=n[l-1],l%a==0?(r=s[r>>>16&255]<<24^s[r>>>8&255]<<16^s[255&r]<<8^s[r>>>24]^o[i]<<24,i++):a>6&&l%a==4&&(r=s[r>>>24]<<24^s[r>>>16&255]<<16^s[r>>>8&255]<<8^s[255&r]),n[l]=n[l-a]^r;if(t){for(var d,h=c[0],f=c[1],p=c[2],g=c[3],m=n.slice(0),y=(l=0,(u=n.length)-4);l<u;l+=4,y-=4)if(0===l||l===u-4)m[l]=n[y],m[l+1]=n[y+3],m[l+2]=n[y+2],m[l+3]=n[y+1];else for(var b=0;b<4;++b)d=n[y+b],m[l+(3&-b)]=h[s[d>>>24]]^f[s[d>>>16&255]]^p[s[d>>>8&255]]^g[s[255&d]];n=m}return n}function f(e,t,r,n){var i,o,l,d,h,f,p,g,m,y,b,v,_=e.length/4-1;n?(i=c[0],o=c[1],l=c[2],d=c[3],h=a):(i=u[0],o=u[1],l=u[2],d=u[3],h=s),f=t[0]^e[0],p=t[n?3:1]^e[1],g=t[2]^e[2],m=t[n?1:3]^e[3];for(var E=3,w=1;w<_;++w)y=i[f>>>24]^o[p>>>16&255]^l[g>>>8&255]^d[255&m]^e[++E],b=i[p>>>24]^o[g>>>16&255]^l[m>>>8&255]^d[255&f]^e[++E],v=i[g>>>24]^o[m>>>16&255]^l[f>>>8&255]^d[255&p]^e[++E],m=i[m>>>24]^o[f>>>16&255]^l[p>>>8&255]^d[255&g]^e[++E],f=y,p=b,g=v;r[0]=h[f>>>24]<<24^h[p>>>16&255]<<16^h[g>>>8&255]<<8^h[255&m]^e[++E],r[n?3:1]=h[p>>>24]<<24^h[g>>>16&255]<<16^h[m>>>8&255]<<8^h[255&f]^e[++E],r[2]=h[g>>>24]<<24^h[m>>>16&255]<<16^h[f>>>8&255]<<8^h[255&p]^e[++E],r[n?1:3]=h[m>>>24]<<24^h[f>>>16&255]<<16^h[p>>>8&255]<<8^h[255&g]^e[++E]}function p(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=e,i.call(t,r)},t}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/aes.js"}],[5264,{"./forge":5269,"./oids":5275,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util"),e("./oids");var i=t.exports=n.asn1=n.asn1||{};function s(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(e,t,r,s,a){if(n.util.isArray(s)){for(var o=[],u=0;u<s.length;++u)s[u]!==undefined&&o.push(s[u]);s=o}var c={tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(s),value:s};return a&&"bitStringContents"in a&&(c.bitStringContents=a.bitStringContents,c.original=i.copy(c)),c},i.copy=function(e,t){var r;if(n.util.isArray(e)){r=[];for(var s=0;s<e.length;++s)r.push(i.copy(e[s],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:i.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},i.equals=function(e,t,r){if(n.util.isArray(e)){if(!n.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var s=0;s<e.length;++s)if(!i.equals(e[s],t[s]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&i.equals(e.value,t.value);return r&&r.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a},i.getBerValueLength=function(e){var t=e.getByte();return 128===t?undefined:128&t?e.getInt((127&t)<<3):t};function a(e,t,r,n){var o;s(e,t,2);var u=e.getByte();t--;var c=192&u,l=31&u;o=e.length();var d,h,f=function(e,t){var r,n=e.getByte();if(t--,128===n)return undefined;if(128&n){var i=127&n;s(e,t,i),r=e.getInt(i<<3)}else r=n;if(r<0)throw new Error("Negative length: "+r);return r}(e,t);if(t-=o-e.length(),f!==undefined&&f>t){if(n.strict){var p=new Error("Too few bytes to read ASN.1 value.");throw p.available=e.length(),p.remaining=t,p.requested=f,p}f=t}var g=32==(32&u);if(g)if(d=[],f===undefined)for(;;){if(s(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}o=e.length(),d.push(a(e,t,r+1,n)),t-=o-e.length()}else for(;f>0;)o=e.length(),d.push(a(e,f,r+1,n)),t-=o-e.length(),f-=o-e.length();if(d===undefined&&c===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&(h=e.bytes(f)),d===undefined&&n.decodeBitStrings&&c===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&f>1){var m=e.read,y=t,b=0;if(l===i.Type.BITSTRING&&(s(e,t,1),b=e.getByte(),t--),0===b)try{o=e.length();var v=a(e,t,r+1,{strict:!0,decodeBitStrings:!0}),_=o-e.length();t-=_,l==i.Type.BITSTRING&&_++;var E=v.tagClass;_!==f||E!==i.Class.UNIVERSAL&&E!==i.Class.CONTEXT_SPECIFIC||(d=[v])}catch(e){}d===undefined&&(e.read=m,t=y)}if(d===undefined){if(f===undefined){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=t}if(l===i.Type.BMPSTRING)for(d="";f>0;f-=2)s(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(f),t-=f}var w=h===undefined?null:{bitStringContents:h};return i.create(c,l,g,d,w)}i.fromDer=function(e,t){t===undefined&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.length(),i=a(e,e.length(),0,t);if(t.parseAllBytes&&0!==e.length()){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw s.byteCount=r,s.remaining=e.length(),s}return i},i.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,s=n.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=i.equals(e,e.original))),a)s.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:s.putByte(0);for(var o=0;o<e.value.length;++o)e.value[o]!==undefined&&s.putBuffer(i.toDer(e.value[o]))}else if(e.type===i.Type.BMPSTRING)for(o=0;o<e.value.length;++o)s.putInt16(e.value.charCodeAt(o));else e.type===i.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?s.putBytes(e.value.substr(1)):s.putBytes(e.value);if(t.putByte(r),s.length()<=127)t.putByte(127&s.length());else{var u=s.length(),c="";do{c+=String.fromCharCode(255&u),u>>>=8}while(u>0);t.putByte(128|c.length);for(o=c.length-1;o>=0;--o)t.putByte(c.charCodeAt(o))}return t.putBuffer(s),t},i.oidToDer=function(e){var t,r,i,s,a=e.split("."),o=n.util.createBuffer();o.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var u=2;u<a.length;++u){t=!0,r=[],i=parseInt(a[u],10);do{s=127&i,i>>>=7,t||(s|=128),r.push(s),t=!1}while(i>0);for(var c=r.length-1;c>=0;--c)o.putByte(r[c])}return o},i.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var i=0;e.length()>0;)i<<=7,128&(r=e.getByte())?i+=127&r:(t+="."+(i+r),i=0);return t},i.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var u=e.charAt(10),c=10;"+"!==u&&"-"!==u&&(o=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,o,0),c&&("+"===(u=e.charAt(c))||"-"===u)){var l=60*parseInt(e.substr(c+1,2),10)+parseInt(e.substr(c+4,2),10);l*=6e4,"+"===u?t.setTime(+t-l):t.setTime(+t+l)}return t},i.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),u=0,c=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var d=e.length-5,h=e.charAt(d);"+"!==h&&"-"!==h||(c=60*parseInt(e.substr(d+1,2),10)+parseInt(e.substr(d+4,2),10),c*=6e4,"+"===h&&(c*=-1),l=!0);return"."===e.charAt(14)&&(u=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,o,u),t.setTime(+t+c)):(t.setFullYear(r,n,i),t.setHours(s,a,o,u)),t},i.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r},i.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},i.validate=function(e,t,r,s){var a=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)s&&(e.tagClass!==t.tagClass&&s.push("["+t.name+"] "+'Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&s.push("["+t.name+"] "+'Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(a=!0,t.value&&n.util.isArray(t.value))for(var o=0,u=0;a&&u<t.value.length;++u)a=t.value[u].optional||!1,e.value[o]&&((a=i.validate(e.value[o],t.value[u],r,s))?++o:t.value[u].optional&&(a=!0)),!a&&s&&s.push("["+t.name+"] "+'Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&r)if(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else s&&s.push("["+t.name+"] "+'Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return a};var o=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(e,t,r){var s="";r=r||2,(t=t||0)>0&&(s+="\n");for(var a="",u=0;u<t*r;++u)a+=" ";switch(s+=a+"Tag: ",e.tagClass){case i.Class.UNIVERSAL:s+="Universal:";break;case i.Class.APPLICATION:s+="Application:";break;case i.Class.CONTEXT_SPECIFIC:s+="Context-Specific:";break;case i.Class.PRIVATE:s+="Private:"}if(e.tagClass===i.Class.UNIVERSAL)switch(s+=e.type,e.type){case i.Type.NONE:s+=" (None)";break;case i.Type.BOOLEAN:s+=" (Boolean)";break;case i.Type.INTEGER:s+=" (Integer)";break;case i.Type.BITSTRING:s+=" (Bit string)";break;case i.Type.OCTETSTRING:s+=" (Octet string)";break;case i.Type.NULL:s+=" (Null)";break;case i.Type.OID:s+=" (Object Identifier)";break;case i.Type.ODESC:s+=" (Object Descriptor)";break;case i.Type.EXTERNAL:s+=" (External or Instance of)";break;case i.Type.REAL:s+=" (Real)";break;case i.Type.ENUMERATED:s+=" (Enumerated)";break;case i.Type.EMBEDDED:s+=" (Embedded PDV)";break;case i.Type.UTF8:s+=" (UTF8)";break;case i.Type.ROID:s+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:s+=" (Sequence)";break;case i.Type.SET:s+=" (Set)";break;case i.Type.PRINTABLESTRING:s+=" (Printable String)";break;case i.Type.IA5String:s+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:s+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:s+=" (Generalized time)";break;case i.Type.BMPSTRING:s+=" (BMP String)"}else s+=e.type;if(s+="\n",s+=a+"Constructed: "+e.constructed+"\n",e.composed){var c=0,l="";for(u=0;u<e.value.length;++u)e.value[u]!==undefined&&(c+=1,l+=i.prettyPrint(e.value[u],t+1,r),u+1<e.value.length&&(l+=","));s+=a+"Sub values: "+c+l}else{if(s+=a+"Value: ",e.type===i.Type.OID){var d=i.derToOid(e.value);s+=d,n.pki&&n.pki.oids&&d in n.pki.oids&&(s+=" ("+n.pki.oids[d]+") ")}if(e.type===i.Type.INTEGER)try{s+=i.derToInteger(e.value)}catch(t){s+="0x"+n.util.bytesToHex(e.value)}else if(e.type===i.Type.BITSTRING){if(e.value.length>1?s+="0x"+n.util.bytesToHex(e.value.slice(1)):s+="(none)",e.value.length>0){var h=e.value.charCodeAt(0);1==h?s+=" (1 unused bit shown)":h>1&&(s+=" ("+h+" unused bits shown)")}}else if(e.type===i.Type.OCTETSTRING)o.test(e.value)||(s+="("+e.value+") "),s+="0x"+n.util.bytesToHex(e.value);else if(e.type===i.Type.UTF8)try{s+=n.util.decodeUtf8(e.value)}catch(t){if("URI malformed"!==t.message)throw t;s+="0x"+n.util.bytesToHex(e.value)+" (malformed UTF8)"}else e.type===i.Type.PRINTABLESTRING||e.type===i.Type.IA5String?s+=e.value:o.test(e.value)?s+="0x"+n.util.bytesToHex(e.value):0===e.value.length?s+="[null]":s+=e.value}return s}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/asn1.js"}],[5265,{buffer:2080},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){var r={};t.exports=r;var n={};r.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(r!==undefined&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,s=t.length,a=t.charAt(0),o=[0];for(i=0;i<e.length;++i){for(var u=0,c=e[i];u<o.length;++u)c+=o[u]<<8,o[u]=c%s,c=c/s|0;for(;c>0;)o.push(c%s),c=c/s|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=a;for(i=o.length-1;i>=0;--i)n+=t[o[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,o=e.at(r);a<s.length;++a)o+=s[a]<<8,s[a]=o%n,o=o/n|0;for(;o>0;)s.push(o%n),o=o/n|0}var u="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)u+=i;for(r=s.length-1;r>=0;--r)u+=t[s[r]];return u}(e,t);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},r.decode=function(t,r){if("string"!=typeof t)throw new TypeError('"input" must be a string.');if("string"!=typeof r)throw new TypeError('"alphabet" must be a string.');var i=n[r];if(!i){i=n[r]=[];for(var s=0;s<r.length;++s)i[r.charCodeAt(s)]=s}t=t.replace(/\s/g,"");var a=r.length,o=r.charAt(0),u=[0];for(s=0;s<t.length;s++){var c=i[t.charCodeAt(s)];if(c===undefined)return;for(var l=0,d=c;l<u.length;++l)d+=u[l]*a,u[l]=255&d,d>>=8;for(;d>0;)u.push(255&d),d>>=8}for(var h=0;t[h]===o&&h<t.length-1;++h)u.push(0);return void 0!==e?e.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/baseN.js"}],[5266,{"./forge":5269,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util"),t.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var i=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/cipher.js"}],[5267,{"./forge":5269,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util"),n.cipher=n.cipher||{};var i=t.exports=n.cipher.modes=n.cipher.modes||{};function s(e,t){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var r=e;e=n.util.createBuffer();for(var i=0;i<r.length;++i)e.putByte(r[i])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!n.util.isArray(e)){var s=[],a=t/4;for(i=0;i<a;++i)s.push(e.getInt32());e=s}return e}function a(e){e[e.length-1]=e[e.length-1]+1&4294967295}function o(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(o(8*i)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=o(8*t.length());var s=t.length()%this.blockSize;for(s&&t.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(o(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var s=[];this.cipher.encrypt(this._j0,s);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^s[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){e[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var o=[0,0,0,0],u=(n-1-a%n)*t;o[a/n|0]=1<<t-1<<u,s[a]=this.generateSubHashTable(this.multiply(o,e),t)}return s},i.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var o=i[s],u=i[a];i[s+a]=[o[0]^u[0],o[1]^u[1],o[2]^u[2],o[3]^u[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var c=i[s^n];i[s]=[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]}return i}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/cipherModes.js"}],[5268,{"./cipher":5266,"./cipherModes":5267,"./forge":5269,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.des.Algorithm(e,t)}))}e("./cipher"),e("./cipherModes"),e("./util"),t.exports=n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createEncryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!1,mode:t})},n.des.startDecrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createDecryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!0,mode:t})},n.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return f(r._keys,e,t,!1)},decrypt:function(e,t){return f(r._keys,e,t,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=n.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=e.length()>8?3:1,y=[],b=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,_=0;_<m;_++){var E=e.getInt32(),w=e.getInt32();E^=(t=252645135&(E>>>4^w))<<4,E^=t=65535&((w^=t)>>>-16^E),E^=(t=858993459&(E>>>2^(w^=t<<-16)))<<2,E^=t=65535&((w^=t)>>>-16^E),E^=(t=1431655765&(E>>>1^(w^=t<<-16)))<<1,E^=t=16711935&((w^=t)>>>8^E),t=(E^=(t=1431655765&(E>>>1^(w^=t<<8)))<<1)<<8|(w^=t)>>>20&240,E=w<<24|w<<8&16711680|w>>>8&65280|w>>>24&240,w=t;for(var C=0;C<b.length;++C){b[C]?(E=E<<2|E>>>26,w=w<<2|w>>>26):(E=E<<1|E>>>27,w=w<<1|w>>>27),w&=-15;var S=r[(E&=-15)>>>28]|n[E>>>24&15]|i[E>>>20&15]|s[E>>>16&15]|a[E>>>12&15]|o[E>>>8&15]|u[E>>>4&15],I=c[w>>>28]|l[w>>>24&15]|d[w>>>20&15]|h[w>>>16&15]|f[w>>>12&15]|p[w>>>8&15]|g[w>>>4&15];t=65535&(I>>>16^S),y[v++]=S^t,y[v++]=I^t<<16}}return y}(t),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],o=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],h=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function f(e,t,r,n){var i,f,p=32===e.length?3:9;i=3===p?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=t[0],m=t[1];g^=(f=252645135&(g>>>4^m))<<4,g^=(f=65535&(g>>>16^(m^=f)))<<16,g^=f=858993459&((m^=f)>>>2^g),g^=f=16711935&((m^=f<<2)>>>8^g),g=(g^=(f=1431655765&(g>>>1^(m^=f<<8)))<<1)<<1|g>>>31,m=(m^=f)<<1|m>>>31;for(var y=0;y<p;y+=3){for(var b=i[y+1],v=i[y+2],_=i[y];_!=b;_+=v){var E=m^e[_],w=(m>>>4|m<<28)^e[_+1];f=g,g=m,m=f^(a[E>>>24&63]|u[E>>>16&63]|l[E>>>8&63]|h[63&E]|s[w>>>24&63]|o[w>>>16&63]|c[w>>>8&63]|d[63&w])}f=g,g=m,m=f}m=m>>>1|m<<31,m^=f=1431655765&((g=g>>>1|g<<31)>>>1^m),m^=(f=16711935&(m>>>8^(g^=f<<1)))<<8,m^=(f=858993459&(m>>>2^(g^=f)))<<2,m^=f=65535&((g^=f)>>>16^m),m^=f=252645135&((g^=f<<16)>>>4^m),g^=f<<4,r[0]=g,r[1]=m}function p(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=e,i.call(t,r)},t}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/des.js"}],[5269,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={options:{usePureJavaScript:!1}}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/forge.js"}],[5270,{"./forge":5269,"./md":5272,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./md"),e("./util"),(t.exports=n.hmac=n.hmac||{}).create=function(){var e=null,t=null,r=null,i=null,s={start:function(s,a){if(null!==s)if("string"==typeof s){if(!((s=s.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+s+'"');t=n.md.algorithms[s].create()}else t=s;if(null===a)a=e;else{if("string"==typeof a)a=n.util.createBuffer(a);else if(n.util.isArray(a)){var o=a;a=n.util.createBuffer();for(var u=0;u<o.length;++u)a.putByte(o[u])}var c=a.length();c>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),c=a.length();for(u=0;u<c;++u){o=a.at(u);r.putByte(54^o),i.putByte(92^o)}if(c<t.blockLength)for(o=t.blockLength-c,u=0;u<o;++u)r.putByte(54),i.putByte(92);e=a,r=r.bytes(),i=i.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(i),t.update(e),t.digest()}};return s.digest=s.getMac,s}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/hmac.js"}],[5271,{"./forge":5269},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i=e("./forge");t.exports=i.jsbn=i.jsbn||{};function s(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function a(){return new s(null)}function o(e,t,r,n,i,s){for(var a=16383&t,o=t>>14;--s>=0;){var u=16383&this.data[e],c=this.data[e++]>>14,l=o*u+c*a;i=((u=a*u+((16383&l)<<14)+r.data[n]+i)>>28)+(l>>14)+o*c,r.data[n++]=268435455&u}return i}i.jsbn.BigInteger=s,"undefined"==typeof navigator?(s.prototype.am=o,n=28):"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=function(e,t,r,n,i,s){for(var a=32767&t,o=t>>15;--s>=0;){var u=32767&this.data[e],c=this.data[e++]>>15,l=o*u+c*a;i=((u=a*u+((32767&l)<<15)+r.data[n]+(1073741823&i))>>>30)+(l>>>15)+o*c+(i>>>30),r.data[n++]=1073741823&u}return i},n=30):"Netscape"!=navigator.appName?(s.prototype.am=function(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=67108863&a}return i},n=26):(s.prototype.am=o,n=28),s.prototype.DB=n,s.prototype.DM=(1<<n)-1,s.prototype.DV=1<<n;s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-n,s.prototype.F2=2*n-52;var u,c,l=new Array;for(u="0".charCodeAt(0),c=0;c<=9;++c)l[u++]=c;for(u="a".charCodeAt(0),c=10;c<36;++c)l[u++]=c;for(u="A".charCodeAt(0),c=10;c<36;++c)l[u++]=c;function d(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function h(e,t){var r=l[e.charCodeAt(t)];return null==r?-1:r}function f(e){var t=a();return t.fromInt(e),t}function p(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function g(e){this.m=e}function m(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function y(e,t){return e&t}function b(e,t){return e|t}function v(e,t){return e^t}function _(e,t){return e&~t}function E(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function w(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function C(){}function S(e){return e}function I(e){this.r2=a(),this.q3=a(),s.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}g.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},g.prototype.revert=function(e){return e},g.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},g.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},g.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},m.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(s.ZERO)>0&&this.m.subTo(t,t),t},m.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},m.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},m.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},s.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},s.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},s.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var o=8==r?255&e[n]:h(e,n);o<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==a?this.data[this.t++]=o:a+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this.data[this.t++]=o>>this.DB-a):this.data[this.t-1]|=o<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},s.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},s.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},s.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,s=(1<<i)-1,a=Math.floor(e/this.DB),o=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+a+1]=this.data[r]>>i|o,o=(this.data[r]&s)<<n;for(r=a-1;r>=0;--r)t.data[r]=0;t.data[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},s.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}},s.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},s.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&s.ZERO.subTo(t,t)},s.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},s.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=a());var o=a(),u=this.s,c=e.s,l=this.DB-p(n.data[n.t-1]);l>0?(n.lShiftTo(l,o),i.lShiftTo(l,r)):(n.copyTo(o),i.copyTo(r));var d=o.t,h=o.data[d-1];if(0!=h){var f=h*(1<<this.F1)+(d>1?o.data[d-2]>>this.F2:0),g=this.FV/f,m=(1<<this.F1)/f,y=1<<this.F2,b=r.t,v=b-d,_=null==t?a():t;for(o.dlShiftTo(v,_),r.compareTo(_)>=0&&(r.data[r.t++]=1,r.subTo(_,r)),s.ONE.dlShiftTo(d,_),_.subTo(o,o);o.t<d;)o.data[o.t++]=0;for(;--v>=0;){var E=r.data[--b]==h?this.DM:Math.floor(r.data[b]*g+(r.data[b-1]+y)*m);if((r.data[b]+=o.am(0,E,r,v,0,d))<E)for(o.dlShiftTo(v,_),r.subTo(_,r);r.data[b]<--E;)r.subTo(_,r)}null!=t&&(r.drShiftTo(d,t),u!=c&&s.ZERO.subTo(t,t)),r.t=d,r.clamp(),l>0&&r.rShiftTo(l,r),u<0&&s.ZERO.subTo(r,r)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},s.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},s.prototype.exp=function(e,t){if(e>4294967295||e<1)return s.ONE;var r=a(),n=a(),i=t.convert(this),o=p(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var u=r;r=n,n=u}return t.revert(r)},s.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,s="",a=this.t,o=this.DB-a*this.DB%t;if(a-- >0)for(o<this.DB&&(r=this.data[a]>>o)>0&&(i=!0,s=d(r));a>=0;)o<t?(r=(this.data[a]&(1<<o)-1)<<t-o,r|=this.data[--a]>>(o+=this.DB-t)):(r=this.data[a]>>(o-=t)&n,o<=0&&(o+=this.DB,--a)),r>0&&(i=!0),i&&(s+=d(r));return i?s:"0"},s.prototype.negate=function(){var e=a();return s.ZERO.subTo(this,e),e},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this.data[this.t-1]^this.s&this.DM)},s.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(s.ZERO)>0&&e.subTo(t,t),t},s.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new g(t):new m(t),this.exp(e,r)},s.ZERO=f(0),s.ONE=f(1),C.prototype.convert=S,C.prototype.revert=S,C.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},C.prototype.sqrTo=function(e,t){e.squareTo(t)},I.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},I.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var k=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],T=(1<<26)/k[k.length-1];s.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},s.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=f(r),i=a(),s=a(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o},s.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,o=0,u=0;u<e.length;++u){var c=h(e,u);c<0?"-"==e.charAt(u)&&0==this.signum()&&(i=!0):(o=t*o+c,++a>=r&&(this.dMultiply(n),this.dAddOffset(o,0),a=0,o=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(o,0)),i&&s.ZERO.subTo(this,this)},s.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(s.ONE.shiftLeft(e-1),b,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(s.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},s.prototype.bitwiseTo=function(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},s.prototype.changeBit=function(e,t){var r=s.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},s.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},s.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},s.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,e.data[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e.data[i],r,i,0,t-i);r.clamp()},s.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},s.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},s.prototype.millerRabin=function(e){var t=this.subtract(s.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,i=t.shiftRight(r),a={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},o=0;o<e;++o){do{n=new s(this.bitLength(),a)}while(n.compareTo(s.ONE)<=0||n.compareTo(t)>=0);var u=n.modPow(i,this);if(0!=u.compareTo(s.ONE)&&0!=u.compareTo(t)){for(var c=1;c++<r&&0!=u.compareTo(t);)if(0==(u=u.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=u.compareTo(t))return!1}}return!0},s.prototype.clone=function(){var e=a();return this.copyTo(e),e},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},s.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},s.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},s.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},s.prototype.equals=function(e){return 0==this.compareTo(e)},s.prototype.min=function(e){return this.compareTo(e)<0?this:e},s.prototype.max=function(e){return this.compareTo(e)>0?this:e},s.prototype.and=function(e){var t=a();return this.bitwiseTo(e,y,t),t},s.prototype.or=function(e){var t=a();return this.bitwiseTo(e,b,t),t},s.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,v,t),t},s.prototype.andNot=function(e){var t=a();return this.bitwiseTo(e,_,t),t},s.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},s.prototype.shiftLeft=function(e){var t=a();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},s.prototype.shiftRight=function(e){var t=a();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},s.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+E(this.data[e]);return this.s<0?this.t*this.DB:-1},s.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=w(this.data[r]^t);return e},s.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},s.prototype.setBit=function(e){return this.changeBit(e,b)},s.prototype.clearBit=function(e){return this.changeBit(e,_)},s.prototype.flipBit=function(e){return this.changeBit(e,v)},s.prototype.add=function(e){var t=a();return this.addTo(e,t),t},s.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},s.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},s.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},s.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},s.prototype.divideAndRemainder=function(e){var t=a(),r=a();return this.divRemTo(e,t,r),new Array(t,r)},s.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),s=f(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new g(t):t.isEven()?new I(t):new m(t);var o=new Array,u=3,c=r-1,l=(1<<r)-1;if(o[1]=n.convert(this),r>1){var d=a();for(n.sqrTo(o[1],d);u<=l;)o[u]=a(),n.mulTo(d,o[u-2],o[u]),u+=2}var h,y,b=e.t-1,v=!0,_=a();for(i=p(e.data[b])-1;b>=0;){for(i>=c?h=e.data[b]>>i-c&l:(h=(e.data[b]&(1<<i+1)-1)<<c-i,b>0&&(h|=e.data[b-1]>>this.DB+i-c)),u=r;0==(1&h);)h>>=1,--u;if((i-=u)<0&&(i+=this.DB,--b),v)o[h].copyTo(s),v=!1;else{for(;u>1;)n.sqrTo(s,_),n.sqrTo(_,s),u-=2;u>0?n.sqrTo(s,_):(y=s,s=_,_=y),n.mulTo(_,o[h],s)}for(;b>=0&&0==(e.data[b]&1<<i);)n.sqrTo(s,_),y=s,s=_,_=y,--i<0&&(i=this.DB-1,--b)}return n.revert(s)},s.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return s.ZERO;for(var r=e.clone(),n=this.clone(),i=f(1),a=f(0),o=f(0),u=f(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&u.isEven()||(o.addTo(this,o),u.subTo(e,u)),o.rShiftTo(1,o)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(o,i),a.subTo(u,a)):(n.subTo(r,n),t&&o.subTo(i,o),u.subTo(a,u))}return 0!=n.compareTo(s.ONE)?s.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},s.prototype.pow=function(e){return this.exp(e,new C)},s.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},s.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=k[k.length-1]){for(t=0;t<k.length;++t)if(r.data[0]==k[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<k.length;){for(var n=k[t],i=t+1;i<k.length&&n<T;)n*=k[i++];for(n=r.modInt(n);t<i;)if(n%k[t++]==0)return!1}return r.millerRabin(e)}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/jsbn.js"}],[5272,{"./forge":5269},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");t.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/md.js"}],[5273,{"./forge":5269,"./mgf1":5274},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./mgf1"),t.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/mgf.js"}],[5274,{"./forge":5269,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util"),n.mgf=n.mgf||{},(t.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var i=new n.util.ByteBuffer,s=Math.ceil(r/e.digestLength),a=0;a<s;a++){var o=new n.util.ByteBuffer;o.putInt32(a),e.start(),e.update(t+o.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-r),i.getBytes()}}}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/mgf1.js"}],[5275,{"./forge":5269},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");n.pki=n.pki||{};var i=t.exports=n.pki.oids=n.oids=n.oids||{};function s(e,t){i[e]=t,i[t]=e}function a(e,t){i[e]=t}s("1.2.840.113549.1.1.1","rsaEncryption"),s("1.2.840.113549.1.1.4","md5WithRSAEncryption"),s("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),s("1.2.840.113549.1.1.7","RSAES-OAEP"),s("1.2.840.113549.1.1.8","mgf1"),s("1.2.840.113549.1.1.9","pSpecified"),s("1.2.840.113549.1.1.10","RSASSA-PSS"),s("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),s("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),s("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),s("1.3.101.112","EdDSA25519"),s("1.2.840.10040.4.3","dsa-with-sha1"),s("1.3.14.3.2.7","desCBC"),s("1.3.14.3.2.26","sha1"),s("1.3.14.3.2.29","sha1WithRSASignature"),s("2.16.840.1.101.3.4.2.1","sha256"),s("2.16.840.1.101.3.4.2.2","sha384"),s("2.16.840.1.101.3.4.2.3","sha512"),s("2.16.840.1.101.3.4.2.4","sha224"),s("2.16.840.1.101.3.4.2.5","sha512-224"),s("2.16.840.1.101.3.4.2.6","sha512-256"),s("1.2.840.113549.2.2","md2"),s("1.2.840.113549.2.5","md5"),s("1.2.840.113549.1.7.1","data"),s("1.2.840.113549.1.7.2","signedData"),s("1.2.840.113549.1.7.3","envelopedData"),s("1.2.840.113549.1.7.4","signedAndEnvelopedData"),s("1.2.840.113549.1.7.5","digestedData"),s("1.2.840.113549.1.7.6","encryptedData"),s("1.2.840.113549.1.9.1","emailAddress"),s("1.2.840.113549.1.9.2","unstructuredName"),s("1.2.840.113549.1.9.3","contentType"),s("1.2.840.113549.1.9.4","messageDigest"),s("1.2.840.113549.1.9.5","signingTime"),s("1.2.840.113549.1.9.6","counterSignature"),s("1.2.840.113549.1.9.7","challengePassword"),s("1.2.840.113549.1.9.8","unstructuredAddress"),s("1.2.840.113549.1.9.14","extensionRequest"),s("1.2.840.113549.1.9.20","friendlyName"),s("1.2.840.113549.1.9.21","localKeyId"),s("1.2.840.113549.1.9.22.1","x509Certificate"),s("1.2.840.113549.1.12.10.1.1","keyBag"),s("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),s("1.2.840.113549.1.12.10.1.3","certBag"),s("1.2.840.113549.1.12.10.1.4","crlBag"),s("1.2.840.113549.1.12.10.1.5","secretBag"),s("1.2.840.113549.1.12.10.1.6","safeContentsBag"),s("1.2.840.113549.1.5.13","pkcs5PBES2"),s("1.2.840.113549.1.5.12","pkcs5PBKDF2"),s("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),s("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),s("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),s("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),s("1.2.840.113549.2.7","hmacWithSHA1"),s("1.2.840.113549.2.8","hmacWithSHA224"),s("1.2.840.113549.2.9","hmacWithSHA256"),s("1.2.840.113549.2.10","hmacWithSHA384"),s("1.2.840.113549.2.11","hmacWithSHA512"),s("1.2.840.113549.3.7","des-EDE3-CBC"),s("2.16.840.1.101.3.4.1.2","aes128-CBC"),s("2.16.840.1.101.3.4.1.22","aes192-CBC"),s("2.16.840.1.101.3.4.1.42","aes256-CBC"),s("2.5.4.3","commonName"),s("2.5.4.4","surname"),s("2.5.4.5","serialNumber"),s("2.5.4.6","countryName"),s("2.5.4.7","localityName"),s("2.5.4.8","stateOrProvinceName"),s("2.5.4.9","streetAddress"),s("2.5.4.10","organizationName"),s("2.5.4.11","organizationalUnitName"),s("2.5.4.12","title"),s("2.5.4.13","description"),s("2.5.4.15","businessCategory"),s("2.5.4.17","postalCode"),s("2.5.4.42","givenName"),s("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),s("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),s("2.16.840.1.113730.1.1","nsCertType"),s("2.16.840.1.113730.1.13","nsComment"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),s("2.5.29.14","subjectKeyIdentifier"),s("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),s("2.5.29.17","subjectAltName"),s("2.5.29.18","issuerAltName"),s("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),s("2.5.29.31","cRLDistributionPoints"),s("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),s("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),s("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),s("1.3.6.1.4.1.11129.2.4.2","timestampList"),s("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),s("1.3.6.1.5.5.7.3.1","serverAuth"),s("1.3.6.1.5.5.7.3.2","clientAuth"),s("1.3.6.1.5.5.7.3.3","codeSigning"),s("1.3.6.1.5.5.7.3.4","emailProtection"),s("1.3.6.1.5.5.7.3.8","timeStamping")}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/oids.js"}],[5276,{"./aes":5263,"./asn1":5264,"./des":5268,"./forge":5269,"./md":5272,"./oids":5275,"./pbkdf2":5277,"./pem":5278,"./random":5285,"./rc2":5286,"./rsa":5287,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");if(e("./aes"),e("./asn1"),e("./des"),e("./md"),e("./oids"),e("./pbkdf2"),e("./pem"),e("./random"),e("./rc2"),e("./rsa"),e("./util"),void 0===i)var i=n.jsbn.BigInteger;var s=n.asn1,a=n.pki=n.pki||{};t.exports=a.pbe=n.pbe=n.pbe||{};var o=a.oids,u={name:"EncryptedPrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},l={name:"pkcs-12PbeParams",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"iterations"}]};function d(e,t){return e.start().update(t).digest().getBytes()}function h(e){var t;if(e){if(!(t=a.oids[s.derToOid(e)])){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return f(t)}function f(e){var t=n.md;switch(e){case"hmacWithSHA224":t=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}a.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i,u,c,l=n.random.getBytesSync(r.saltSize),d=r.count,h=s.integerToDer(d);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var p,g,m;switch(r.algorithm){case"aes128":i=16,p=16,g=o["aes128-CBC"],m=n.aes.createEncryptionCipher;break;case"aes192":i=24,p=16,g=o["aes192-CBC"],m=n.aes.createEncryptionCipher;break;case"aes256":i=32,p=16,g=o["aes256-CBC"],m=n.aes.createEncryptionCipher;break;case"des":i=8,p=8,g=o.desCBC,m=n.des.createEncryptionCipher;break;default:throw(w=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,w}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),b=f(y),v=n.pkcs5.pbkdf2(t,l,d,i,b),_=n.random.getBytesSync(p);(C=m(v)).start(_),C.update(s.toDer(e)),C.finish(),c=C.output.getBytes();var E=function(e,t,r,i){var o=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,e),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==i&&o.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.oids[i]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]));return o}(l,h,i,y);u=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.pkcs5PBES2).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.pkcs5PBKDF2).getBytes()),E]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(g).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,_)])])])}else{var w;if("3des"!==r.algorithm)throw(w=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,w;i=24;var C,S=new n.util.ByteBuffer(l);v=a.pbe.generatePkcs12Key(t,S,1,d,i),_=a.pbe.generatePkcs12Key(t,S,2,d,i);(C=n.des.createEncryptionCipher(v)).start(_),C.update(s.toDer(e)),C.finish(),c=C.output.getBytes(),u=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,l),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,h.getBytes())])])}return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[u,s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,c)])},a.decryptPrivateKeyInfo=function(e,t){var r=null,i={},o=[];if(!s.validate(e,u,i,o)){var c=new Error("Cannot read encrypted private key. "+"ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=o,c}var l=s.derToOid(i.encryptionOid),d=a.pbe.getCipher(l,i.encryptionParams,t),h=n.util.createBuffer(i.encryptedData);return d.update(h),d.finish()&&(r=s.fromDer(d.output)),r},a.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:s.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})},a.encryptedPrivateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=new Error("Could not convert encrypted private key from PEM; "+'PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; "+"PEM is encrypted.");return s.fromDer(t.body)},a.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));return i=a.encryptPrivateKeyInfo(i,t,r),a.encryptedPrivateKeyToPem(i)}var o,u,c,l;switch(r.algorithm){case"aes128":o="AES-128-CBC",c=16,u=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",c=24,u=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",c=32,u=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",c=24,u=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;case"des":o="DES-CBC",c=8,u=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;default:var d=new Error("Could not encrypt RSA private key; unsupported "+'encryption algorithm "'+r.algorithm+'".');throw d.algorithm=r.algorithm,d}var h=l(n.pbe.opensslDeriveBytes(t,u.substr(0,8),c));h.start(u),h.update(s.toDer(a.privateKeyToAsn1(e))),h.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:n.util.bytesToHex(u).toUpperCase()},body:h.output.getBytes()};return n.pem.encode(f)},a.decryptRsaPrivateKey=function(e,t){var r=null,i=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(c=new Error("Could not convert private key from PEM; PEM header type "+'is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=c,c;if(i.procType&&"ENCRYPTED"===i.procType.type){var o,u;switch(i.dekInfo.algorithm){case"DES-CBC":o=8,u=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,u=n.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,u=n.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,u=n.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,u=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,u=function(e){return n.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":o=8,u=function(e){return n.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":o=16,u=function(e){return n.rc2.createDecryptionCipher(e,128)};break;default:var c;throw(c=new Error("Could not decrypt private key; unsupported "+'encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,c}var l=n.util.hexToBytes(i.dekInfo.parameters),d=u(n.pbe.opensslDeriveBytes(t,l.substr(0,8),o));if(d.start(l),d.update(n.util.createBuffer(i.body)),!d.finish())return r;r=d.output.getBytes()}else r=i.body;return null!==(r="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(s.fromDer(r),t):s.fromDer(r))&&(r=a.privateKeyFromAsn1(r)),r},a.pbe.generatePkcs12Key=function(e,t,r,i,s,a){var o,u;if(null==a){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');a=n.md.sha1.create()}var c=a.digestLength,l=a.blockLength,d=new n.util.ByteBuffer,h=new n.util.ByteBuffer;if(null!==e&&e!==undefined){for(u=0;u<e.length;u++)h.putInt16(e.charCodeAt(u));h.putInt16(0)}var f=h.length(),p=t.length(),g=new n.util.ByteBuffer;g.fillWithByte(r,l);var m=l*Math.ceil(p/l),y=new n.util.ByteBuffer;for(u=0;u<m;u++)y.putByte(t.at(u%p));var b=l*Math.ceil(f/l),v=new n.util.ByteBuffer;for(u=0;u<b;u++)v.putByte(h.at(u%f));var _=y;_.putBuffer(v);for(var E=Math.ceil(s/c),w=1;w<=E;w++){var C=new n.util.ByteBuffer;C.putBytes(g.bytes()),C.putBytes(_.bytes());for(var S=0;S<i;S++)a.start(),a.update(C.getBytes()),C=a.digest();var I=new n.util.ByteBuffer;for(u=0;u<l;u++)I.putByte(C.at(u%c));var k=Math.ceil(p/l)+Math.ceil(f/l),T=new n.util.ByteBuffer;for(o=0;o<k;o++){var A=new n.util.ByteBuffer(_.getBytes(l)),x=511;for(u=I.length()-1;u>=0;u--)x>>=8,x+=I.at(u)+A.at(u),A.setAt(u,255&x);T.putBuffer(A)}_=T,d.putBuffer(C)}return d.truncate(d.length()-s),d},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},a.pbe.getCipherForPBES2=function(e,t,r){var i,o={},u=[];if(!s.validate(t,c,o,u))throw(i=new Error("Cannot read password-based-encryption algorithm "+"parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=u,i;if((e=s.derToOid(o.kdfOid))!==a.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. "+"Unsupported key derivation function OID.")).oid=e,i.supportedOids=["pkcs5PBKDF2"],i;if((e=s.derToOid(o.encOid))!==a.oids["aes128-CBC"]&&e!==a.oids["aes192-CBC"]&&e!==a.oids["aes256-CBC"]&&e!==a.oids["des-EDE3-CBC"]&&e!==a.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. "+"Unsupported encryption scheme OID.")).oid=e,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var l,d,f=o.kdfSalt,p=n.util.createBuffer(o.kdfIterationCount);switch(p=p.getInt(p.length()<<3),a.oids[e]){case"aes128-CBC":l=16,d=n.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,d=n.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,d=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,d=n.des.createDecryptionCipher;break;case"desCBC":l=8,d=n.des.createDecryptionCipher}var g=h(o.prfOid),m=n.pkcs5.pbkdf2(r,f,p,l,g),y=o.encIv,b=d(m);return b.start(y),b},a.pbe.getCipherForPKCS12PBE=function(e,t,r){var i={},o=[];if(!s.validate(t,l,i,o))throw(g=new Error("Cannot read password-based-encryption algorithm "+"parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=o,g;var u,c,d,f=n.util.createBuffer(i.salt),p=n.util.createBuffer(i.iterations);switch(p=p.getInt(p.length()<<3),e){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,d=n.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,d=function(e,t){var r=n.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var g;throw(g=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,g}var m=h(i.prfOid),y=a.pbe.generatePkcs12Key(r,f,1,p,u,m);return m.start(),d(y,a.pbe.generatePkcs12Key(r,f,2,p,c,m))},a.pbe.opensslDeriveBytes=function(e,t,r,i){if(null==i){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');i=n.md.md5.create()}null===t&&(t="");for(var s=[d(i,e+t)],a=16,o=1;a<r;++o,a+=16)s.push(d(i,s[o-1]+e+t));return s.join("").substr(0,r)}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/pbe.js"}],[5277,{"./forge":5269,"./hmac":5270,"./md":5272,"./util":5291,buffer:2080,crypto:2080},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("./forge");e("./hmac"),e("./md"),e("./util");var i,s=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(i=e("crypto")),t.exports=n.pbkdf2=s.pbkdf2=function(e,t,s,a,o,u){if("function"==typeof o&&(u=o,o=null),n.util.isNodejs&&!n.options.usePureJavaScript&&i.pbkdf2&&(null===o||"object"!=typeof o)&&(i.pbkdf2Sync.length>4||!o||"sha1"===o))return"string"!=typeof o&&(o="sha1"),e=r.from(e,"binary"),t=r.from(t,"binary"),u?4===i.pbkdf2Sync.length?i.pbkdf2(e,t,s,a,(function(e,t){if(e)return u(e);u(null,t.toString("binary"))})):i.pbkdf2(e,t,s,a,o,(function(e,t){if(e)return u(e);u(null,t.toString("binary"))})):4===i.pbkdf2Sync.length?i.pbkdf2Sync(e,t,s,a).toString("binary"):i.pbkdf2Sync(e,t,s,a,o).toString("binary");if(null==o&&(o="sha1"),"string"==typeof o){if(!(o in n.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=n.md[o].create()}var c=o.digestLength;if(a>4294967295*c){var l=new Error("Derived key is too long.");if(u)return u(l);throw l}var d=Math.ceil(a/c),h=a-(d-1)*c,f=n.hmac.create();f.start(o,e);var p,g,m,y="";if(!u){for(var b=1;b<=d;++b){f.start(null,null),f.update(t),f.update(n.util.int32ToBytes(b)),p=m=f.digest().getBytes();for(var v=2;v<=s;++v)f.start(null,null),f.update(m),g=f.digest().getBytes(),p=n.util.xorBytes(p,g,c),m=g;y+=b<d?p:p.substr(0,h)}return y}b=1;function _(){if(b>d)return u(null,y);f.start(null,null),f.update(t),f.update(n.util.int32ToBytes(b)),p=m=f.digest().getBytes(),v=2,E()}function E(){if(v<=s)return f.start(null,null),f.update(m),g=f.digest().getBytes(),p=n.util.xorBytes(p,g,c),m=g,++v,n.util.setImmediate(E);y+=b<d?p:p.substr(0,h),++b,_()}_()}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/pbkdf2.js"}],[5278,{"./forge":5269,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util");var i=t.exports=n.pem=n.pem||{};function s(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";var s=0,a=-1;for(i=0;i<t.length;++i,++s)if(s>65&&-1!==a){var o=t[a];","===o?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+o+t.substr(a+1),s=i-a-1,a=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(a=i);return t}function a(e){return e.replace(/^\s+/,"")}i.encode=function(e,t){t=t||{};var r,i="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i+=s(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(i+=s(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),i+=s(r)),e.headers)for(var a=0;a<e.headers.length;++a)i+=s(e.headers[a]);return e.procType&&(i+="\r\n"),i+=n.util.encode64(e.body,t.maxline||64)+"\r\n",i+="-----END "+e.type+"-----\r\n"},i.decode=function(e){for(var t,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/;t=i.exec(e);){var u=t[1];"NEW CERTIFICATE REQUEST"===u&&(u="CERTIFICATE REQUEST");var c={type:u,procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(t[3])};if(r.push(c),t[2]){for(var l=t[2].split(o),d=0;t&&d<l.length;){for(var h=l[d].replace(/\s+$/,""),f=d+1;f<l.length;++f){var p=l[f];if(!/\s/.test(p[0]))break;h+=p,d=f}if(t=h.match(s)){for(var g={name:t[1],values:[]},m=t[2].split(","),y=0;y<m.length;++y)g.values.push(a(m[y]));if(c.procType)if(c.contentDomain||"Content-Domain"!==g.name)if(c.dekInfo||"DEK-Info"!==g.name)c.headers.push(g);else{if(0===g.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" '+"header must have at least one subfield.");c.dekInfo={algorithm:m[0],parameters:m[1]||null}}else c.contentDomain=m[0]||"";else{if("Proc-Type"!==g.name)throw new Error("Invalid PEM formatted message. The first "+'encapsulated header must be "Proc-Type".');if(2!==g.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" '+"header must have two subfields.");c.procType={version:m[0],type:m[1]}}}++d}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" '+'header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/pem.js"}],[5279,{"./forge":5269,"./random":5285,"./sha1":5288,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util"),e("./random"),e("./sha1");var i=t.exports=n.pkcs1=n.pkcs1||{};function s(e,t,r){r||(r=n.md.sha1.create());for(var i="",s=Math.ceil(t/r.digestLength),a=0;a<s;++a){var o=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);r.start(),r.update(e+o),i+=r.digest().getBytes()}return i.substring(0,t)}i.encode_rsa_oaep=function(e,t,r){var i,a,o,u;"string"==typeof r?(i=r,a=arguments[3]||undefined,o=arguments[4]||undefined):r&&(i=r.label||undefined,a=r.seed||undefined,o=r.md||undefined,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),o?o.start():o=n.md.sha1.create(),u||(u=o);var c=Math.ceil(e.n.bitLength()/8),l=c-2*o.digestLength-2;if(t.length>l)throw(m=new Error("RSAES-OAEP input message length is too long.")).length=t.length,m.maxLength=l,m;i||(i=""),o.update(i,"raw");for(var d=o.digest(),h="",f=l-t.length,p=0;p<f;p++)h+="\0";var g=d.getBytes()+h+""+t;if(a){if(a.length!==o.digestLength){var m;throw(m=new Error("Invalid RSAES-OAEP seed. The seed length must "+"match the digest length.")).seedLength=a.length,m.digestLength=o.digestLength,m}}else a=n.random.getBytes(o.digestLength);var y=s(a,c-o.digestLength-1,u),b=n.util.xorBytes(g,y,g.length),v=s(b,o.digestLength,u),_=n.util.xorBytes(a,v,a.length);return"\0"+_+b},i.decode_rsa_oaep=function(e,t,r){var i,a,o;"string"==typeof r?(i=r,a=arguments[3]||undefined):r&&(i=r.label||undefined,a=r.md||undefined,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var u=Math.ceil(e.n.bitLength()/8);if(t.length!==u)throw(b=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,b.expectedLength=u,b;if(a===undefined?a=n.md.sha1.create():a.start(),o||(o=a),u<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),a.update(i,"raw");for(var c=a.digest().getBytes(),l=t.charAt(0),d=t.substring(1,a.digestLength+1),h=t.substring(1+a.digestLength),f=s(h,a.digestLength,o),p=n.util.xorBytes(d,f,d.length),g=s(p,u-a.digestLength-1,o),m=n.util.xorBytes(h,g,h.length),y=m.substring(0,a.digestLength),b="\0"!==l,v=0;v<a.digestLength;++v)b|=c.charAt(v)!==y.charAt(v);for(var _=1,E=a.digestLength,w=a.digestLength;w<m.length;w++){var C=m.charCodeAt(w),S=1&C^1,I=_?65534:0;b|=C&I,E+=_&=S}if(b||1!==m.charCodeAt(E))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(E+1)}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/pkcs1.js"}],[5280,{"./aes":5263,"./asn1":5264,"./des":5268,"./forge":5269,"./oids":5275,"./pem":5278,"./pkcs7asn1":5281,"./random":5285,"./util":5291,"./x509":5292},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./aes"),e("./asn1"),e("./des"),e("./oids"),e("./pem"),e("./pkcs7asn1"),e("./random"),e("./util"),e("./x509");var i=n.asn1,s=t.exports=n.pkcs7=n.pkcs7||{};function a(e){var t={},r=[];if(!i.validate(e,s.asn1.recipientInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 RecipientInfo. "+"ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=r,a}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:i.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:undefined,content:t.encKey}}}function o(e){for(var t,r=[],s=0;s<e.length;++s)r.push((t=e[s],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return r}function u(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),s=0;s<e.unauthenticatedAttributes.length;++s){var a=e.unauthenticatedAttributes[s];r.values.push(c(a))}t.value.push(r)}return t}function c(e){var t;if(e.type===n.pki.oids.contentType)t=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.value).getBytes());else if(e.type===n.pki.oids.messageDigest)t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),s=new Date("2050-01-01T00:00:00Z"),a=e.value;if("string"==typeof a){var o=Date.parse(a);a=isNaN(o)?13===a.length?i.utcTimeToDate(a):i.generalizedTimeToDate(a):new Date(o)}t=a>=r&&a<s?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(a)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(a))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[t])])}function l(e,t,r){var s={};if(!i.validate(t,r,s,[])){var a=new Error("Cannot read PKCS#7 message. "+"ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}if(i.derToOid(s.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. "+"Only wrapped ContentType Data supported.");if(s.encryptedContent){var o="";if(n.util.isArray(s.encryptedContent))for(var u=0;u<s.encryptedContent.length;++u){if(s.encryptedContent[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted "+"content constructed of only OCTET STRING objects.");o+=s.encryptedContent[u].value}else o=s.encryptedContent;e.encryptedContent={algorithm:i.derToOid(s.encAlgorithm),parameter:n.util.createBuffer(s.encParameter.value),content:n.util.createBuffer(o)}}if(s.content){o="";if(n.util.isArray(s.content))for(u=0;u<s.content.length;++u){if(s.content[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting "+"content constructed of only OCTET STRING objects.");o+=s.content[u].value}else o=s.content;e.content=n.util.createBuffer(o)}return e.version=s.version.charCodeAt(0),e.rawCapture=s,s}function d(e){if(e.encryptedContent.key===undefined)throw new Error("Symmetric key not available.");if(e.content===undefined){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=n.aes.createDecryptionCipher(e.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=n.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s.messageFromPem=function(e){var t=n.pem.decode(e)[0];if("PKCS7"!==t.type){var r=new Error("Could not convert PKCS#7 message from PEM; PEM "+'header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return s.messageFromAsn1(a)},s.messageToPem=function(e,t){var r={type:"PKCS7",body:i.toDer(e.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:t})},s.messageFromAsn1=function(e){var t={},r=[];if(!i.validate(e,s.asn1.contentInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 message. "+"ASN.1 object is not an PKCS#7 ContentInfo.");throw a.errors=r,a}var o,u=i.derToOid(t.contentType);switch(u){case n.pki.oids.envelopedData:o=s.createEnvelopedData();break;case n.pki.oids.encryptedData:o=s.createEncryptedData();break;case n.pki.oids.signedData:o=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+u+" is not (yet) supported.")}return o.fromAsn1(t.content.value[0]),o},s.createSignedData=function(){var e=null;return e={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(l(e,t,s.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,i=0;i<r.length;++i)e.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(n.pki.certificateToAsn1(e.certificates[r]));var s=[],a=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,t)),s.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),a])},addSigner:function(t){var r=t.issuer,i=t.serialNumber;if(t.certificate){var s=t.certificate;"string"==typeof s&&(s=n.pki.certificateFromPem(s)),r=s.issuer.attributes,i=s.serialNumber}var a=t.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof a&&(a=n.pki.privateKeyFromPem(a));var o=t.digestAlgorithm||n.pki.oids.sha1;switch(o){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+o)}var u=t.authenticatedAttributes||[];if(u.length>0){for(var c=!1,l=!1,d=0;d<u.length;++d){var h=u[d];if(c||h.type!==n.pki.oids.contentType){if(l||h.type!==n.pki.oids.messageDigest);else if(l=!0,c)break}else if(c=!0,l)break}if(!c||!l)throw new Error("Invalid signer.authenticatedAttributes. If "+"signer.authenticatedAttributes is specified, then it must "+"contain at least two attributes, PKCS #9 content-type and "+"PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:r,serialNumber:i,digestAlgorithm:o,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(t){var r;(t=t||{},"object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof n.util.ByteBuffer?r=e.content.bytes():"string"==typeof e.content&&(r=n.util.encodeUtf8(e.content)),t.detached?e.detachedContent=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r):e.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)]))));0!==e.signers.length&&function(t){var r;r=e.detachedContent?e.detachedContent:(r=e.contentInfo.value[1]).value[0];if(!r)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=i.derToOid(e.contentInfo.value[0].value),a=i.toDer(r);for(var o in a.getByte(),i.getBerValueLength(a),a=a.getBytes(),t)t[o].start().update(a);for(var l=new Date,d=0;d<e.signers.length;++d){var h=e.signers[d];if(0===h.authenticatedAttributes.length){if(s!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present "+"when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),p=0;p<h.authenticatedAttributes.length;++p){var g=h.authenticatedAttributes[p];g.type===n.pki.oids.messageDigest?g.value=t[h.digestAlgorithm].digest():g.type===n.pki.oids.signingTime&&(g.value||(g.value=l)),f.value.push(c(g)),h.authenticatedAttributesAsn1.value.push(c(g))}a=i.toDer(f).getBytes(),h.md.start().update(a)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(u(e[r]));return t}(e.signers)}(function(){for(var t={},r=0;r<e.signers.length;++r){var s=e.signers[r];(a=s.digestAlgorithm)in t||(t[a]=n.md[n.pki.oids[a]].create()),0===s.authenticatedAttributes.length?s.md=t[a]:s.md=n.md[n.pki.oids[a]].create()}for(var a in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},s.createEncryptedData=function(){var e=null;return e={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){l(e,t,s.asn1.encryptedDataValidator)},decrypt:function(t){t!==undefined&&(e.encryptedContent.key=t),d(e)}}},s.createEnvelopedData=function(){var e=null;return e={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=l(e,t,s.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(a(e[r]));return t}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,o(e.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(t=e.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),t.parameter?i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes()):undefined]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var a=!0,o=0;o<r.length;++o)if(s[o].type!==r[o].type||s[o].value!==r[o].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,r){if(e.encryptedContent.key===undefined&&t!==undefined&&r!==undefined)switch(t.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, "+"OID "+t.encryptedContent.algorithm)}d(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===undefined){var i,s,a;switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:i=16,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:i=24,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:i=32,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:i=24,s=8,a=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===undefined)t=n.util.createBuffer(n.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; "+"got "+t.length()+" bytes, expected "+i+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(s));var o=a(t);if(o.start(e.encryptedContent.parameter.copy()),o.update(e.content),!o.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=o.output}for(var u=0;u<e.recipients.length;++u){var c=e.recipients[u];if(c.encryptedContent.content===undefined){if(c.encryptedContent.algorithm!==n.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm);c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data)}}}}}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/pkcs7.js"}],[5281,{"./asn1":5264,"./forge":5269,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./asn1"),e("./util");var i=n.asn1,s=t.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=s;var a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=a;var o={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},s.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var u={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};s.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[u]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/pkcs7asn1.js"}],[5282,{"./forge":5269,"./jsbn":5271,"./random":5285,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util"),e("./jsbn"),e("./random"),function(){if(n.prime)t.exports=n.prime;else{var e=t.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],s=new r(null);s.fromInt(30);var a=function(e,t){return e|t};e.generateProbablePrime=function(e,t,i){"function"==typeof t&&(i=t,t={});var s=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof s&&(s={name:s}),s.options=s.options||{};var a=t.prng||n.random,u={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===s.name)return function(e,t,i,s){if("workers"in i)return function(e,t,i,s){if("undefined"==typeof Worker)return o(e,t,i,s);var a=c(e,t),u=i.workers,l=i.workLoad||100,d=30*l/8,h=i.workerScript||"forge/prime.worker.js";if(-1===u)return n.util.estimateCores((function(e,t){e&&(t=2),u=t-1,f()}));function f(){u=Math.max(1,u);for(var n=[],i=0;i<u;++i)n[i]=new Worker(h);for(i=0;i<u;++i)n[i].addEventListener("message",f);var o=!1;function f(i){if(!o){0;var u=i.data;if(u.found){for(var h=0;h<n.length;++h)n[h].terminate();return o=!0,s(null,new r(u.prime,16))}a.bitLength()>e&&(a=c(e,t));var f=a.toString(16);i.target.postMessage({hex:f,workLoad:l}),a.dAddOffset(d,0)}}}f()}(e,t,i,s);return o(e,t,i,s)}(e,u,s.options,i);throw new Error("Invalid prime generation algorithm: "+s.name)}}function o(e,t,r,n){var i=c(e,t),s=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(i.bitLength());"millerRabinTests"in r&&(s=r.millerRabinTests);var a=10;"maxBlockTime"in r&&(a=r.maxBlockTime),u(i,e,t,0,s,a,n)}function u(e,t,r,s,a,o,l){var d=+new Date;do{if(e.bitLength()>t&&(e=c(t,r)),e.isProbablePrime(a))return l(null,e);e.dAddOffset(i[s++%8],0)}while(o<0||+new Date-d<o);n.util.setImmediate((function(){u(e,t,r,s,a,o,l)}))}function c(e,t){var n=new r(e,t),i=e-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),a,n),n.dAddOffset(31-n.mod(s).byteValue(),0),n}}()}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/prime.js"}],[5283,{"./forge":5269,"./util":5291,_process:5420,crypto:2080},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("./forge");e("./util");var i=null;!n.util.isNodejs||n.options.usePureJavaScript||r.versions["node-webkit"]||(i=e("crypto")),(t.exports=n.prng=n.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,s=new Array(32),a=0;a<32;++a)s[a]=r.create();function o(){if(t.pools[0].messageLength>=32)return u();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),u()}function u(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function c(e){var t=null,r=n.util.globalScope,i=r.crypto||r.msCrypto;i&&i.getRandomValues&&(t=function(e){return i.getRandomValues(e)});var s=n.util.createBuffer();if(t)for(;s.length()<e;){var a=Math.max(1,Math.min(e-s.length(),65536)/4),o=new Uint32Array(Math.floor(a));try{t(o);for(var u=0;u<o.length;++u)s.putInt32(o[u])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(s.length()<e)for(var c,l,d,h=Math.floor(65536*Math.random());s.length()<e;){l=16807*(65535&h),l+=(32767&(c=16807*(h>>16)))<<16,h=4294967295&(l=(2147483647&(l+=c>>15))+(l>>31));for(u=0;u<3;++u)d=h>>>(u<<3),d^=Math.floor(256*Math.random()),s.putByte(255&d)}return s.getBytes(e)}return t.pools=s,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var i=t.plugin.cipher,s=t.plugin.increment,a=t.plugin.formatKey,o=t.plugin.formatSeed,c=n.util.createBuffer();t.key=null,function l(d){if(d)return r(d);if(c.length()>=e)return r(null,c.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return n.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return u(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,n){if(r)return e(r);t.collect(n),u(),e()}))}(l)}));var h=i(t.key,t.seed);t.generated+=h.length,c.putBytes(h),t.key=a(i(t.key,s(t.seed))),t.seed=o(i(t.key,t.seed)),n.util.setImmediate(l)}()},t.generateSync=function(e){var r=t.plugin.cipher,i=t.plugin.increment,s=t.plugin.formatKey,a=t.plugin.formatSeed;t.key=null;for(var u=n.util.createBuffer();u.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&o();var c=r(t.key,t.seed);t.generated+=c.length,u.putBytes(c),t.key=s(r(t.key,i(t.seed))),t.seed=a(r(t.key,t.seed))}return u.getBytes(e)},i?(t.seedFile=function(e,t){i.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))},t.seedFileSync=function(e){return i.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,c(e))}catch(e){t(e)}},t.seedFileSync=c),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(e>>i&255);t.collect(n)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",(function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))}))}},t}}).call(this)}).call(this,e("_process"))}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/prng.js"}],[5284,{"./forge":5269,"./random":5285,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./random"),e("./util"),(t.exports=n.pss=n.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,i=e.mgf,s=r.digestLength,a=e.salt||null;if("string"==typeof a&&(a=n.util.createBuffer(a)),"saltLength"in e)t=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");t=a.length()}if(null!==a&&a.length()!==t)throw new Error("Given salt length does not match length of given salt.");var o=e.prng||n.random,u={encode:function(e,u){var c,l,d=u-1,h=Math.ceil(d/8),f=e.digest().getBytes();if(h<s+t+2)throw new Error("Message is too long to encrypt.");l=null===a?o.getBytesSync(t):a.bytes();var p=new n.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(f),p.putBytes(l),r.start(),r.update(p.getBytes());var g=r.digest().getBytes(),m=new n.util.ByteBuffer;m.fillWithByte(0,h-t-s-2),m.putByte(1),m.putBytes(l);var y=m.getBytes(),b=h-s-1,v=i.generate(g,b),_="";for(c=0;c<b;c++)_+=String.fromCharCode(y.charCodeAt(c)^v.charCodeAt(c));var E=65280>>8*h-d&255;return(_=String.fromCharCode(_.charCodeAt(0)&~E)+_.substr(1))+g+String.fromCharCode(188)},verify:function(e,a,o){var u,c=o-1,l=Math.ceil(c/8);if(a=a.substr(-l),l<s+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(l-1))throw new Error("Encoded message does not end in 0xBC.");var d=l-s-1,h=a.substr(0,d),f=a.substr(d,s),p=65280>>8*l-c&255;if(0!=(h.charCodeAt(0)&p))throw new Error("Bits beyond keysize not zero as expected.");var g=i.generate(f,d),m="";for(u=0;u<d;u++)m+=String.fromCharCode(h.charCodeAt(u)^g.charCodeAt(u));m=String.fromCharCode(m.charCodeAt(0)&~p)+m.substr(1);var y=l-s-t-2;for(u=0;u<y;u++)if(0!==m.charCodeAt(u))throw new Error("Leftmost octets not zero as expected");if(1!==m.charCodeAt(y))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var b=m.substr(-t),v=new n.util.ByteBuffer;return v.fillWithByte(0,8),v.putBytes(e),v.putBytes(b),r.start(),r.update(v.getBytes()),f===r.digest().getBytes()}};return u}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/pss.js"}],[5285,{"./aes":5263,"./forge":5269,"./prng":5283,"./sha256":5289,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./aes"),e("./sha256"),e("./prng"),e("./util"),n.random&&n.random.getBytes?t.exports=n.random:function(e){var r={},i=new Array(4),s=n.util.createBuffer();function a(){var e=n.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return n.aes._updateBlock(e,t,i,!1),s.putInt32(i[0]),s.putInt32(i[1]),s.putInt32(i[2]),s.putInt32(i[3]),s.getBytes()},r.increment=function(e){return++e[3],e},r.md=n.md.sha256;var o=a(),u=null,c=n.util.globalScope,l=c.crypto||c.msCrypto;if(l&&l.getRandomValues&&(u=function(e){return l.getRandomValues(e)}),n.options.usePureJavaScript||!n.util.isNodejs&&!u){if("undefined"==typeof window||(window.document,undefined),o.collectInt(+new Date,32),"undefined"!=typeof navigator){var d="";for(var h in navigator)try{"string"==typeof navigator[h]&&(d+=navigator[h])}catch(e){}o.collect(d),d=null}e&&(e().mousemove((function(e){o.collectInt(e.clientX,16),o.collectInt(e.clientY,16)})),e().keypress((function(e){o.collectInt(e.charCode,8)})))}if(n.random)for(var h in o)n.random[h]=o[h];else n.random=o;n.random.createInstance=a,t.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/random.js"}],[5286,{"./forge":5269,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util");var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],a=function(e,t){return e<<t&65535|(65535&e)>>16-t},o=function(e,t){return(65535&e)>>t|e<<16-t&65535};t.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,s=e,a=e.length(),o=t,u=Math.ceil(o/8),c=255>>(7&o);for(r=a;r<128;r++)s.putByte(i[s.at(r-1)+s.at(r-a)&255]);for(s.setAt(128-u,i[s.at(128-u)&c]),r=127-u;r>=0;r--)s.setAt(r,i[s.at(r+1)^s.at(r+u)]);return s};var u=function(e,t,r){var i,u,c,l,d=!1,h=null,f=null,p=null,g=[];for(e=n.rc2.expandKey(e,t),c=0;c<64;c++)g.push(e.getInt16Le());r?(i=function(e){for(c=0;c<4;c++)e[c]+=g[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),e[c]=a(e[c],s[c]),l++},u=function(e){for(c=0;c<4;c++)e[c]+=g[63&e[(c+3)%4]]}):(i=function(e){for(c=3;c>=0;c--)e[c]=o(e[c],s[c]),e[c]-=g[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),l--},u=function(e){for(c=3;c>=0;c--)e[c]-=g[63&e[(c+3)%4]]});var m=function(e){var t=[];for(c=0;c<4;c++){var n=h.getInt16Le();null!==p&&(r?n^=p.getInt16Le():p.putInt16Le(n)),t.push(65535&n)}l=r?0:63;for(var i=0;i<e.length;i++)for(var s=0;s<e[i][0];s++)e[i][1](t);for(c=0;c<4;c++)null!==p&&(r?p.putInt16Le(t[c]):t[c]^=p.getInt16Le()),f.putInt16Le(t[c])},y=null;return y={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),d=!1,h=n.util.createBuffer(),f=t||new n.util.createBuffer,p=e,y.output=f},update:function(e){for(d||h.putBuffer(e);h.length()>=8;)m([[5,i],[1,u],[6,i],[1,u],[5,i]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,h,!r);else{var n=8===h.length()?8:8-h.length();h.fillWithByte(n,n)}if(t&&(d=!0,y.update()),!r&&(t=0===h.length()))if(e)t=e(8,f,!r);else{var i=f.length(),s=f.at(i-1);s>i?t=!1:f.truncate(s)}return t}}};n.rc2.startEncrypting=function(e,t,r){var i=n.rc2.createEncryptionCipher(e,128);return i.start(t,r),i},n.rc2.createEncryptionCipher=function(e,t){return u(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var i=n.rc2.createDecryptionCipher(e,128);return i.start(t,r),i},n.rc2.createDecryptionCipher=function(e,t){return u(e,t,!1)}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/rc2.js"}],[5287,{"./asn1":5264,"./forge":5269,"./jsbn":5271,"./oids":5275,"./pkcs1":5279,"./prime":5282,"./random":5285,"./util":5291,crypto:2080},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");if(e("./asn1"),e("./jsbn"),e("./oids"),e("./pkcs1"),e("./prime"),e("./random"),e("./util"),void 0===i)var i=n.jsbn.BigInteger;var s=n.util.isNodejs?e("crypto"):null,a=n.asn1,o=n.util;n.pki=n.pki||{},t.exports=n.pki.rsa=n.rsa=n.rsa||{};var u=n.pki,c=[6,4,2,4,2,4,6,2],l={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d={name:"RSAPrivateKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},h={name:"RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},p={name:"DigestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.NULL,constructed:!1}]},{name:"DigestInfo.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},g=function(e){var t;if(!(e.algorithm in u.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=u.oids[e.algorithm];var n=a.oidToDer(t).getBytes(),i=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),s=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);s.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,n)),s.value.push(a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,""));var o=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(o),a.toDer(i).getBytes()},m=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var s;t.dP||(t.dP=t.d.mod(t.p.subtract(i.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(i.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{s=new i(n.util.bytesToHex(n.random.getBytes(t.n.bitLength()/8)),16)}while(s.compareTo(t.n)>=0||!s.gcd(t.n).equals(i.ONE));for(var a=(e=e.multiply(s.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(o)<0;)a=a.add(t.p);var u=a.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return u=u.multiply(s.modInverse(t.n)).mod(t.n)};function y(e,t,r){var i=n.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=s-11,a}i.putByte(0),i.putByte(r);var o,u=s-3-e.length;if(0===r||1===r){o=0===r?0:255;for(var c=0;c<u;++c)i.putByte(o)}else for(;u>0;){var l=0,d=n.random.getBytes(u);for(c=0;c<u;++c)0===(o=d.charCodeAt(c))?++l:i.putByte(o);u=l}return i.putByte(0),i.putBytes(e),i}function b(e,t,r,i){var s=Math.ceil(t.n.bitLength()/8),a=n.util.createBuffer(e),o=a.getByte(),u=a.getByte();if(0!==o||r&&0!==u&&1!==u||!r&&2!=u||r&&0===u&&void 0===i)throw new Error("Encryption block is invalid.");var c=0;if(0===u){c=s-3-i;for(var l=0;l<c;++l)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(c=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++c}else if(2===u)for(c=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++c}if(0!==a.getByte()||c!==s-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function v(e,t,r){"function"==typeof t&&(r=t,t={});var s={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function a(){o(e.pBits,(function(t,n){return t?r(t):(e.p=n,null!==e.q?c(t,e.q):void o(e.qBits,c))}))}function o(e,t){n.prime.generateProbablePrime(e,s,t)}function c(t,n){if(t)return r(t);if(e.q=n,e.p.compareTo(e.q)<0){var s=e.p;e.p=e.q,e.q=s}if(0!==e.p.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.p=null,void a();if(0!==e.q.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.q=null,void o(e.qBits,c);if(e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(i.ONE))return e.p=e.q=null,void a();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void o(e.qBits,c);var l=e.e.modInverse(e.phi);e.keys={privateKey:u.rsa.setPrivateKey(e.n,e.e,l,e.p,e.q,l.mod(e.p1),l.mod(e.q1),e.q.modInverse(e.p)),publicKey:u.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(s.prng=t.prng),a()}function _(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=n.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function E(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function w(e){return n.util.isNodejs&&"function"==typeof s[e]}function C(e){return void 0!==o.globalScope&&"object"==typeof o.globalScope.crypto&&"object"==typeof o.globalScope.crypto.subtle&&"function"==typeof o.globalScope.crypto.subtle[e]}function S(e){return void 0!==o.globalScope&&"object"==typeof o.globalScope.msCrypto&&"object"==typeof o.globalScope.msCrypto.subtle&&"function"==typeof o.globalScope.msCrypto.subtle[e]}function I(e){for(var t=n.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),i=0;i<t.length;++i)r[i]=t.charCodeAt(i);return r}u.rsa.encrypt=function(e,t,r){var s,a=r,o=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(a=2===r,s=y(e,t,r)):(s=n.util.createBuffer()).putBytes(e);for(var u=new i(s.toHex(),16),c=m(u,t,a).toString(16),l=n.util.createBuffer(),d=o-Math.ceil(c.length/2);d>0;)l.putByte(0),--d;return l.putBytes(n.util.hexToBytes(c)),l.getBytes()},u.rsa.decrypt=function(e,t,r,s){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=a,o}var u=new i(n.util.createBuffer(e).toHex(),16);if(u.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=m(u,t,r).toString(16),l=n.util.createBuffer(),d=a-Math.ceil(c.length/2);d>0;)l.putByte(0),--d;return l.putBytes(n.util.hexToBytes(c)),!1!==s?b(l.getBytes(),t,r):l.getBytes()},u.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var s,a=(r=r||{}).prng||n.random,o={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},u=r.algorithm||"PRIMEINC";if("PRIMEINC"!==u)throw new Error("Invalid key generation algorithm: "+u);return(s={algorithm:u,state:0,bits:e,rng:o,eInt:t||65537,e:new i(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(s.eInt),s},u.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new i(null);r.fromInt(30);for(var n,s=0,a=function(e,t){return e|t},o=+new Date,l=0;null===e.keys&&(t<=0||l<t);){if(0===e.state){var d=null===e.p?e.pBits:e.qBits,h=d-1;0===e.pqState?(e.num=new i(d,e.rng),e.num.testBit(h)||e.num.bitwiseTo(i.ONE.shiftLeft(h),a,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),s=0,++e.pqState):1===e.pqState?e.num.bitLength()>d?e.pqState=0:e.num.isProbablePrime(E(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(c[s++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(i.ONE).gcd(e.e).compareTo(i.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(i.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var f=e.e.modInverse(e.phi);e.keys={privateKey:u.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:u.rsa.setPublicKey(e.n,e.e)}}l+=(n=+new Date)-o,o=n}return null!==e.keys},u.rsa.generateKeyPair=function(e,t,r,i){if(1===arguments.length?"object"==typeof e?(r=e,e=undefined):"function"==typeof e&&(i=e,e=undefined):2===arguments.length?"number"==typeof e?"function"==typeof t?(i=t,t=undefined):"number"!=typeof t&&(r=t,t=undefined):(r=e,i=t,e=undefined,t=undefined):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(i=r,r=undefined):(i=r,r=t,t=undefined)),r=r||{},e===undefined&&(e=r.bits||2048),t===undefined&&(t=r.e||65537),!n.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(i){if(w("generateKeyPair"))return s.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,r){if(e)return i(e);i(null,{privateKey:u.privateKeyFromPem(r),publicKey:u.publicKeyFromPem(t)})}));if(C("generateKey")&&C("exportKey"))return o.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:I(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return o.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(undefined,(function(e){i(e)})).then((function(e){if(e){var t=u.privateKeyFromAsn1(a.fromDer(n.util.createBuffer(e)));i(null,{privateKey:t,publicKey:u.setRsaPublicKey(t.n,t.e)})}}));if(S("generateKey")&&S("exportKey")){var c=o.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:I(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return c.oncomplete=function(e){var t=e.target.result,r=o.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=u.privateKeyFromAsn1(a.fromDer(n.util.createBuffer(t)));i(null,{privateKey:r,publicKey:u.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){i(e)}},void(c.onerror=function(e){i(e)})}}else if(w("generateKeyPairSync")){var l=s.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:u.privateKeyFromPem(l.privateKey),publicKey:u.publicKeyFromPem(l.publicKey)}}var d=u.rsa.createKeyPairGenerationState(e,t,r);if(!i)return u.rsa.stepKeyPairGenerationState(d,0),d.keys;v(d,r,i)},u.setRsaPublicKey=u.rsa.setPublicKey=function(e,t){var r={n:e,e:t,encrypt:function(e,t,i){if("string"==typeof t?t=t.toUpperCase():t===undefined&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return y(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return n.pkcs1.encode_rsa_oaep(t,e,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var s=t.encode(e,r,!0);return u.rsa.encrypt(s,r,!0)},verify:function(e,t,i,s){"string"==typeof i?i=i.toUpperCase():i===undefined&&(i="RSASSA-PKCS1-V1_5"),s===undefined&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===i?i={verify:function(e,t){t=b(t,r,!0);var i=a.fromDer(t,{parseAllBytes:s._parseAllDigestBytes}),o={},u=[];if(!a.validate(i,p,o,u))throw(c=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 "+"DigestInfo value.")).errors=u,c;var c,l=a.derToOid(o.algorithmIdentifier);if(l!==n.oids.md2&&l!==n.oids.md5&&l!==n.oids.sha1&&l!==n.oids.sha224&&l!==n.oids.sha256&&l!==n.oids.sha384&&l!==n.oids.sha512&&l!==n.oids["sha512-224"]&&l!==n.oids["sha512-256"])throw(c=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=l,c;return e===o.digest}}:"NONE"!==i&&"NULL"!==i&&null!==i||(i={verify:function(e,t){return e===(t=b(t,r,!0))}});var o=u.rsa.decrypt(t,r,!0,!1);return i.verify(e,o,r.n.bitLength())}};return r},u.setRsaPrivateKey=u.rsa.setPrivateKey=function(e,t,r,i,s,a,o,c){var l={n:e,e:t,d:r,p:i,q:s,dP:a,dQ:o,qInv:c,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():t===undefined&&(t="RSAES-PKCS1-V1_5");var i=u.rsa.decrypt(e,l,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:b};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return n.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(i,l,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),t===undefined||"RSASSA-PKCS1-V1_5"===t?(t={encode:g},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,l.n.bitLength());return u.rsa.encrypt(n,l,r)}};return l},u.wrapRsaPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(u.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(e).getBytes())])},u.privateKeyFromAsn1=function(e){var t,r,s,o,c,h,f,p,g={},m=[];if(a.validate(e,l,g,m)&&(e=a.fromDer(n.util.createBuffer(g.privateKey))),g={},m=[],!a.validate(e,d,g,m)){var y=new Error("Cannot read private key. "+"ASN.1 object does not contain an RSAPrivateKey.");throw y.errors=m,y}return t=n.util.createBuffer(g.privateKeyModulus).toHex(),r=n.util.createBuffer(g.privateKeyPublicExponent).toHex(),s=n.util.createBuffer(g.privateKeyPrivateExponent).toHex(),o=n.util.createBuffer(g.privateKeyPrime1).toHex(),c=n.util.createBuffer(g.privateKeyPrime2).toHex(),h=n.util.createBuffer(g.privateKeyExponent1).toHex(),f=n.util.createBuffer(g.privateKeyExponent2).toHex(),p=n.util.createBuffer(g.privateKeyCoefficient).toHex(),u.setRsaPrivateKey(new i(t,16),new i(r,16),new i(s,16),new i(o,16),new i(c,16),new i(h,16),new i(f,16),new i(p,16))},u.privateKeyToAsn1=u.privateKeyToRSAPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_(e.e)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_(e.d)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_(e.p)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_(e.q)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_(e.dP)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_(e.dQ)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_(e.qInv))])},u.publicKeyFromAsn1=function(e){var t={},r=[];if(a.validate(e,f,t,r)){var s,o=a.derToOid(t.publicKeyOid);if(o!==u.oids.rsaEncryption)throw(s=new Error("Cannot read public key. Unknown OID.")).oid=o,s;e=t.rsaPublicKey}if(r=[],!a.validate(e,h,t,r))throw(s=new Error("Cannot read public key. "+"ASN.1 object does not contain an RSAPublicKey.")).errors=r,s;var c=n.util.createBuffer(t.publicKeyModulus).toHex(),l=n.util.createBuffer(t.publicKeyExponent).toHex();return u.setRsaPublicKey(new i(c,16),new i(l,16))},u.publicKeyToAsn1=u.publicKeyToSubjectPublicKeyInfo=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(u.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,[u.publicKeyToRSAPublicKey(e)])])},u.publicKeyToRSAPublicKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_(e.e))])}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/rsa.js"}],[5288,{"./forge":5269,"./md":5272,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./md"),e("./util");var i=t.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){a||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(s,a){"utf8"===a&&(s=n.util.encodeUtf8(s));var u=s.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(s),o(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(s.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],d=0;d<i.fullMessageLength.length-1;++d)l+=(u=8*i.fullMessageLength[d+1])/4294967296>>>0,a.putInt32(l>>>0),l=u>>>0;a.putInt32(l);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};o(h,r,a);var f=n.util.createBuffer();return f.putInt32(h.h0),f.putInt32(h.h1),f.putInt32(h.h2),f.putInt32(h.h3),f.putInt32(h.h4),f},i};var s=null,a=!1;function o(e,t,r){for(var n,i,s,a,o,u,c,l=r.length();l>=64;){for(i=e.h0,s=e.h1,a=e.h2,o=e.h3,u=e.h4,c=0;c<16;++c)n=r.getInt32(),t[c]=n,n=(i<<5|i>>>27)+(o^s&(a^o))+u+1518500249+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<20;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(o^s&(a^o))+u+1518500249+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<32;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(s^a^o)+u+1859775393+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<40;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(s^a^o)+u+1859775393+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<60;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(s&a|o&(s^a))+u+2400959708+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<80;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(s^a^o)+u+3395469782+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+o|0,e.h4=e.h4+u|0,l-=64}}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/sha1.js"}],[5289,{"./forge":5269,"./md":5272,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./md"),e("./util");var i=t.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){a||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(s,a){"utf8"===a&&(s=n.util.encodeUtf8(s));var o=s.length;i.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=o[1],o[1]=o[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var o,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(s.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],d=0;d<i.fullMessageLength.length-1;++d)l+=(o=8*i.fullMessageLength[d+1])/4294967296>>>0,a.putInt32(l>>>0),l=o>>>0;a.putInt32(l);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(h,r,a);var f=n.util.createBuffer();return f.putInt32(h.h0),f.putInt32(h.h1),f.putInt32(h.h2),f.putInt32(h.h3),f.putInt32(h.h4),f.putInt32(h.h5),f.putInt32(h.h6),f.putInt32(h.h7),f},i};var s=null,a=!1,o=null;function u(e,t,r){for(var n,i,s,a,u,c,l,d,h,f,p,g,m,y=r.length();y>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(c=e.h0,l=e.h1,d=e.h2,h=e.h3,f=e.h4,p=e.h5,g=e.h6,m=e.h7,u=0;u<64;++u)s=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),a=c&l|d&(c^l),n=m+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(g^f&(p^g))+o[u]+t[u],m=g,g=p,p=f,f=h+n>>>0,h=d,d=l,l=c,c=n+(i=s+a)>>>0;e.h0=e.h0+c|0,e.h1=e.h1+l|0,e.h2=e.h2+d|0,e.h3=e.h3+h|0,e.h4=e.h4+f|0,e.h5=e.h5+p|0,e.h6=e.h6+g|0,e.h7=e.h7+m|0,y-=64}}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/sha256.js"}],[5290,{"./forge":5269,"./md":5272,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./md"),e("./util");var i=t.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var s=n.sha384=n.sha512.sha384=n.sha512.sha384||{};s.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=s,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(e){if(o||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),128),u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(c={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],o=!0),void 0===e&&(e="SHA-512"),!(e in c))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=c[e],r=null,i=n.util.createBuffer(),s=new Array(80),d=0;d<80;++d)s[d]=new Array(2);var h=64;switch(e){case"SHA-384":h=48;break;case"SHA-512/256":h=32;break;case"SHA-512/224":h=28}var f={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:h,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var e=f.messageLengthSize/4,s=0;s<e;++s)f.fullMessageLength.push(0);i=n.util.createBuffer(),r=new Array(t.length);for(s=0;s<t.length;++s)r[s]=t[s].slice(0);return f}};return f.start(),f.update=function(e,t){"utf8"===t&&(e=n.util.encodeUtf8(e));var a=e.length;f.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=f.fullMessageLength.length-1;o>=0;--o)f.fullMessageLength[o]+=a[1],a[1]=a[0]+(f.fullMessageLength[o]/4294967296>>>0),f.fullMessageLength[o]=f.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return i.putBytes(e),l(r,s,i),(i.read>2048||0===i.length())&&i.compact(),f},f.digest=function(){var t=n.util.createBuffer();t.putBytes(i.bytes());var o,u=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize&f.blockLength-1;t.putBytes(a.substr(0,f.blockLength-u));for(var c=8*f.fullMessageLength[0],d=0;d<f.fullMessageLength.length-1;++d)c+=(o=8*f.fullMessageLength[d+1])/4294967296>>>0,t.putInt32(c>>>0),c=o>>>0;t.putInt32(c);var h=new Array(r.length);for(d=0;d<r.length;++d)h[d]=r[d].slice(0);l(h,s,t);var p,g=n.util.createBuffer();p="SHA-512"===e?h.length:"SHA-384"===e?h.length-2:h.length-4;for(d=0;d<p;++d)g.putInt32(h[d][0]),d===p-1&&"SHA-512/224"===e||g.putInt32(h[d][1]);return g},f};var a=null,o=!1,u=null,c=null;function l(e,t,r){for(var n,i,s,a,o,c,l,d,h,f,p,g,m,y,b,v,_,E,w,C,S,I,k,T,A,x,R,B,N,L,j,D,P,O=r.length();O>=128;){for(R=0;R<16;++R)t[R][0]=r.getInt32()>>>0,t[R][1]=r.getInt32()>>>0;for(;R<80;++R)n=(((B=(L=t[R-2])[0])>>>19|(N=L[1])<<13)^(N>>>29|B<<3)^B>>>6)>>>0,i=((B<<13|N>>>19)^(N<<3|B>>>29)^(B<<26|N>>>6))>>>0,s=(((B=(D=t[R-15])[0])>>>1|(N=D[1])<<31)^(B>>>8|N<<24)^B>>>7)>>>0,a=((B<<31|N>>>1)^(B<<24|N>>>8)^(B<<25|N>>>7))>>>0,j=t[R-7],P=t[R-16],N=i+j[1]+a+P[1],t[R][0]=n+j[0]+s+P[0]+(N/4294967296>>>0)>>>0,t[R][1]=N>>>0;for(p=e[0][0],g=e[0][1],m=e[1][0],y=e[1][1],b=e[2][0],v=e[2][1],_=e[3][0],E=e[3][1],w=e[4][0],C=e[4][1],S=e[5][0],I=e[5][1],k=e[6][0],T=e[6][1],A=e[7][0],x=e[7][1],R=0;R<80;++R)l=((w>>>14|C<<18)^(w>>>18|C<<14)^(C>>>9|w<<23))>>>0,d=(k^w&(S^k))>>>0,o=((p>>>28|g<<4)^(g>>>2|p<<30)^(g>>>7|p<<25))>>>0,c=((p<<4|g>>>28)^(g<<30|p>>>2)^(g<<25|p>>>7))>>>0,h=(p&m|b&(p^m))>>>0,f=(g&y|v&(g^y))>>>0,N=x+(((w<<18|C>>>14)^(w<<14|C>>>18)^(C<<23|w>>>9))>>>0)+((T^C&(I^T))>>>0)+u[R][1]+t[R][1],n=A+l+d+u[R][0]+t[R][0]+(N/4294967296>>>0)>>>0,i=N>>>0,s=o+h+((N=c+f)/4294967296>>>0)>>>0,a=N>>>0,A=k,x=T,k=S,T=I,S=w,I=C,w=_+n+((N=E+i)/4294967296>>>0)>>>0,C=N>>>0,_=b,E=v,b=m,v=y,m=p,y=g,p=n+s+((N=i+a)/4294967296>>>0)>>>0,g=N>>>0;N=e[0][1]+g,e[0][0]=e[0][0]+p+(N/4294967296>>>0)>>>0,e[0][1]=N>>>0,N=e[1][1]+y,e[1][0]=e[1][0]+m+(N/4294967296>>>0)>>>0,e[1][1]=N>>>0,N=e[2][1]+v,e[2][0]=e[2][0]+b+(N/4294967296>>>0)>>>0,e[2][1]=N>>>0,N=e[3][1]+E,e[3][0]=e[3][0]+_+(N/4294967296>>>0)>>>0,e[3][1]=N>>>0,N=e[4][1]+C,e[4][0]=e[4][0]+w+(N/4294967296>>>0)>>>0,e[4][1]=N>>>0,N=e[5][1]+I,e[5][0]=e[5][0]+S+(N/4294967296>>>0)>>>0,e[5][1]=N>>>0,N=e[6][1]+T,e[6][0]=e[6][0]+k+(N/4294967296>>>0)>>>0,e[6][1]=N>>>0,N=e[7][1]+x,e[7][0]=e[7][0]+A+(N/4294967296>>>0)>>>0,e[7][1]=N>>>0,O-=128}}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/sha512.js"}],[5291,{"./baseN":5265,"./forge":5269,_process:5420,buffer:2080,timers:5935},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r,n,i){(function(){var s=e("./forge"),a=e("./baseN"),o=t.exports=s.util=s.util||{};function u(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function c(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(o.isArrayBuffer(e)||o.isArrayBufferView(e))if(void 0!==n&&e instanceof n)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof c||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==r&&r.nextTick&&!r.browser)return o.nextTick=r.nextTick,void(o.setImmediate="function"==typeof i?i:o.nextTick);if("function"==typeof i)return o.setImmediate=function(){return i.apply(undefined,arguments)},void(o.nextTick=function(e){return i(e)});if(o.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",t=[];function r(r){if(r.source===window&&r.data===e){r.stopPropagation();var n=t.slice();t.length=0,n.forEach((function(e){e()}))}}o.setImmediate=function(r){t.push(r),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",r,!0)}if("undefined"!=typeof MutationObserver){var n=Date.now(),s=!0,a=document.createElement("div");t=[];new MutationObserver((function(){var e=t.slice();t.length=0,e.forEach((function(e){e()}))})).observe(a,{attributes:!0});var u=o.setImmediate;o.setImmediate=function(e){Date.now()-n>15?(n=Date.now(),u(e)):(t.push(e),1===t.length&&a.setAttribute("a",s=!s))}}o.nextTick=o.setImmediate}(),o.isNodejs=void 0!==r&&r.versions&&r.versions.node,o.globalScope=o.isNodejs?global:"undefined"==typeof self?window:self,o.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},o.isArrayBufferView=function(e){return e&&o.isArrayBuffer(e.buffer)&&e.byteLength!==undefined},o.ByteBuffer=c,o.ByteStringBuffer=c;o.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},o.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},o.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},o.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},o.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},o.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},o.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(o.encodeUtf8(e))},o.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},o.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},o.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},o.ByteStringBuffer.prototype.putInt=function(e,t){u(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},o.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},o.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},o.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},o.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},o.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},o.ByteStringBuffer.prototype.getInt=function(e){u(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},o.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},o.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},o.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},o.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},o.ByteStringBuffer.prototype.copy=function(){var e=o.createBuffer(this.data);return e.read=this.read,e},o.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},o.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},o.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},o.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},o.ByteStringBuffer.prototype.toString=function(){return o.decodeUtf8(this.bytes())},o.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=o.isArrayBuffer(e),n=o.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&e!==undefined&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},o.DataBuffer.prototype.length=function(){return this.write-this.read},o.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},o.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},o.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},o.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},o.DataBuffer.prototype.putBytes=function(e,t){if(o.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(o.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof o.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&o.isArrayBufferView(e.data)){n=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(e instanceof o.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=o.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=o.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},o.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},o.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},o.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},o.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},o.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},o.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},o.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},o.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},o.DataBuffer.prototype.putInt=function(e,t){u(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},o.DataBuffer.prototype.putSignedInt=function(e,t){return u(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},o.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},o.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},o.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},o.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},o.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},o.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},o.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},o.DataBuffer.prototype.getInt=function(e){u(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},o.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},o.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},o.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},o.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},o.DataBuffer.prototype.copy=function(){return new o.DataBuffer(this)},o.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},o.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},o.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},o.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},o.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return o.binary.raw.encode(t);if("hex"===e)return o.binary.hex.encode(t);if("base64"===e)return o.binary.base64.encode(t);if("utf8"===e)return o.text.utf8.decode(t);if("utf16"===e)return o.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},o.createBuffer=function(e,t){return t=t||"raw",e!==undefined&&"utf8"===t&&(e=o.encodeUtf8(e)),new o.ByteBuffer(e)},o.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},o.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,o=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),o>=10&&(n+=s,s="",o=0),s+=String.fromCharCode(i),++o;return n+=s},o.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},o.bytesToHex=function(e){return o.createBuffer(e).toHex()},o.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";o.encode64=function(e,t){for(var r,n,i,s="",a="",o=0;o<e.length;)r=e.charCodeAt(o++),n=e.charCodeAt(o++),i=e.charCodeAt(o++),s+=l.charAt(r>>2),s+=l.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=l.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":l.charAt(63&i)),t&&s.length>t&&(a+=s.substr(0,t)+"\r\n",s=s.substr(t));return a+=s},o.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,s="",a=0;a<e.length;)t=d[e.charCodeAt(a++)-43],r=d[e.charCodeAt(a++)-43],n=d[e.charCodeAt(a++)-43],i=d[e.charCodeAt(a++)-43],s+=String.fromCharCode(t<<2|r>>4),64!==n&&(s+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(s+=String.fromCharCode((3&n)<<6|i)));return s},o.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},o.decodeUtf8=function(e){return decodeURIComponent(escape(e))},o.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:a.encode,decode:a.decode}},o.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},o.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n},o.binary.hex.encode=o.bytesToHex,o.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,s=r=r||0;for(1&e.length&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n},o.binary.base64.encode=function(e,t){for(var r,n,i,s="",a="",o=0;o<e.byteLength;)r=e[o++],n=e[o++],i=e[o++],s+=l.charAt(r>>2),s+=l.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=l.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":l.charAt(63&i)),t&&s.length>t&&(a+=s.substr(0,t)+"\r\n",s=s.substr(t));return a+=s},o.binary.base64.decode=function(e,t,r){var n,i,s,a,o=t;o||(o=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,c=r=r||0;u<e.length;)n=d[e.charCodeAt(u++)-43],i=d[e.charCodeAt(u++)-43],s=d[e.charCodeAt(u++)-43],a=d[e.charCodeAt(u++)-43],o[c++]=n<<2|i>>4,64!==s&&(o[c++]=(15&i)<<4|s>>2,64!==a&&(o[c++]=(3&s)<<6|a));return t?c-r:o.subarray(0,c)},o.binary.base58.encode=function(e,t){return o.binary.baseN.encode(e,h,t)},o.binary.base58.decode=function(e,t){return o.binary.baseN.decode(e,h,t)},o.text={utf8:{},utf16:{}},o.text.utf8.encode=function(e,t,r){e=o.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n},o.text.utf8.decode=function(e){return o.decodeUtf8(String.fromCharCode.apply(null,e))},o.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),s=r=r||0,a=r,o=0;o<e.length;++o)i[a++]=e.charCodeAt(o),s+=2;return t?s-r:n},o.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},o.deflate=function(e,t,r){if(t=o.decode64(e.deflate(o.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},o.inflate=function(e,t,r){var n=e.inflate(o.encode64(t)).rval;return null===n?null:o.decode64(n)};var f=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=o.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},p=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(o.decode64(r))),r},g=function(e,t,r,n){var i=p(e,t);null===i&&(i={}),i[r]=n,f(e,t,i)},m=function(e,t,r){var n=p(e,t);return null!==n&&(n=r in n?n[r]:null),n},y=function(e,t,r){var n=p(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),f(e,t,n)}},b=function(e,t){f(e,t,null)},v=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var s=!1,a=null;for(var o in r){n=r[o];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),s="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),s=!0)}catch(e){a=e}if(s)break}if(!s)throw a;return i};o.setItem=function(e,t,r,n,i){v(g,arguments,i)},o.getItem=function(e,t,r,n){return v(m,arguments,n)},o.removeItem=function(e,t,r,n){v(y,arguments,n)},o.clearItems=function(e,t,r){v(b,arguments,r)},o.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},o.format=function(e){for(var t,r,n=/%./g,i=0,s=[],a=0;t=n.exec(e);){(r=e.substring(a,n.lastIndex-2)).length>0&&s.push(r),a=n.lastIndex;var o=t[0][1];switch(o){case"s":case"o":i<arguments.length?s.push(arguments[1+i++]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+o+"?>")}}return s.push(e.substring(a)),s.join("")},o.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=r===undefined?",":r,o=n===undefined?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+o:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?a+Math.abs(i-c).toFixed(s).slice(2):"")},o.formatSize=function(e){return e=e>=1073741824?o.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?o.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?o.formatNumber(e/1024,0)+" KiB":o.formatNumber(e,0)+" bytes"},o.bytesFromIP=function(e){return-1!==e.indexOf(".")?o.bytesFromIPv4(e):-1!==e.indexOf(":")?o.bytesFromIPv6(e):null},o.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=o.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},o.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),n=o.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var s=o.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}else n.fillWithByte(0,r),r=0;return n.getBytes()},o.bytesToIP=function(e){return 4===e.length?o.bytesToIPv4(e):16===e.length?o.bytesToIPv6(e):null},o.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},o.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=o.bytesToHex(e[i]+e[i+1]);"0"===s[0]&&"0"!==s;)s=s.substr(1);if("0"===s){var a=r[r.length-1],u=t.length;a&&u===a.end+1?(a.end=u,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},o.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in o&&!e.update)return t(null,o.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return o.cores=navigator.hardwareConcurrency,t(null,o.cores);if("undefined"==typeof Worker)return o.cores=1,t(null,o.cores);if("undefined"==typeof Blob)return o.cores=2,t(null,o.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,s){if(0===i){var a=Math.floor(n.reduce((function(e,t){return e+t}),0)/n.length);return o.cores=Math.max(1,a),URL.revokeObjectURL(r),t(null,o.cores)}!function(e,t){for(var n=[],i=[],s=0;s<e;++s){var a=new Worker(r);a.addEventListener("message",(function(r){if(i.push(r.data),i.length===e){for(var s=0;s<e;++s)n[s].terminate();t(null,i)}})),n.push(a)}for(s=0;s<e;++s)n[s].postMessage(s)}(s,(function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],s=r[n]=[],a=0;a<e;++a)if(n!==a){var o=t[a];(i.st>o.st&&i.st<o.et||o.st>i.st&&o.st<i.et)&&s.push(a)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(s,r)),e(n,i-1,s)}))}([],5,16)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer,e("timers").setImmediate)}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/util.js"}],[5292,{"./aes":5263,"./asn1":5264,"./des":5268,"./forge":5269,"./md":5272,"./mgf":5273,"./oids":5275,"./pem":5278,"./pss":5284,"./rsa":5287,"./util":5291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./aes"),e("./asn1"),e("./des"),e("./md"),e("./mgf"),e("./oids"),e("./pem"),e("./pss"),e("./rsa"),e("./util");var i=n.asn1,s=t.exports=n.pki=n.pki||{},a=s.oids,o={};o.CN=a.commonName,o.commonName="CN",o.C=a.countryName,o.countryName="C",o.L=a.localityName,o.localityName="L",o.ST=a.stateOrProvinceName,o.stateOrProvinceName="ST",o.O=a.organizationName,o.organizationName="O",o.OU=a.organizationalUnitName,o.organizationalUnitName="OU",o.E=a.emailAddress,o.emailAddress="E";var u=n.pki.rsa.publicKeyValidator,c={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},u,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},l={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},d={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},u,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},h={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[d,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function f(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,i=0;null===n&&i<e.attributes.length;++i)r=e.attributes[i],(t.type&&t.type===r.type||t.name&&t.name===r.name||t.shortName&&t.shortName===r.shortName)&&(n=r);return n}s.RDNAttributesAsArray=function(e,t){for(var r,n,s,u=[],c=0;c<e.value.length;++c){r=e.value[c];for(var l=0;l<r.value.length;++l)s={},n=r.value[l],s.type=i.derToOid(n.value[0].value),s.value=n.value[1].value,s.valueTagClass=n.value[1].type,s.type in a&&(s.name=a[s.type],s.name in o&&(s.shortName=o[s.name])),t&&(t.update(s.type),t.update(s.value)),u.push(s)}return u},s.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],u=i.derToOid(n.value[0].value),c=n.value[1].value,l=0;l<c.length;++l){var d={};if(d.type=u,d.value=c[l].value,d.valueTagClass=c[l].type,d.type in a&&(d.name=a[d.type],d.name in o&&(d.shortName=o[d.name])),d.type===a.extensionRequest){d.extensions=[];for(var h=0;h<d.value.length;++h)d.extensions.push(s.certificateExtensionFromAsn1(d.value[h]))}t.push(d)}return t};var p=function(e,t,r){var n={};if(e!==a["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var s={},o=[];if(!i.validate(t,l,s,o)){var u=new Error("Cannot read RSASSA-PSS parameter block.");throw u.errors=o,u}return s.hashOid!==undefined&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(s.hashOid)),s.maskGenOid!==undefined&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(s.maskGenHashOid)),s.saltLength!==undefined&&(n.saltLength=s.saltLength.charCodeAt(0)),n},g=function(e){switch(a[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return n.md.sha1.create();case"md5WithRSAEncryption":return n.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return n.md.sha256.create();case"sha384WithRSAEncryption":return n.md.sha384.create();case"sha512WithRSAEncryption":return n.md.sha512.create();default:var t=new Error("Could not compute "+e.type+" digest. "+"Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},m=function(e){var t,r=e.certificate;switch(r.signatureOid){case a.sha1WithRSAEncryption:case a.sha1WithRSASignature:break;case a["RSASSA-PSS"]:var i,s,o;if((i=a[r.signatureParameters.mgf.hash.algorithmOid])===undefined||n.md[i]===undefined)throw(o=new Error("Unsupported MGF hash function.")).oid=r.signatureParameters.mgf.hash.algorithmOid,o.name=i,o;if((s=a[r.signatureParameters.mgf.algorithmOid])===undefined||n.mgf[s]===undefined)throw(o=new Error("Unsupported MGF function.")).oid=r.signatureParameters.mgf.algorithmOid,o.name=s,o;if(s=n.mgf[s].create(n.md[i].create()),(i=a[r.signatureParameters.hash.algorithmOid])===undefined||n.md[i]===undefined)throw(o=new Error("Unsupported RSASSA-PSS hash function.")).oid=r.signatureParameters.hash.algorithmOid,o.name=i,o;t=n.pss.create(n.md[i].create(),s,r.signatureParameters.saltLength)}return r.publicKey.verify(e.md.digest().getBytes(),e.signature,t)};function y(e){for(var t,r,s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),a=e.attributes,o=0;o<a.length;++o){var u=(t=a[o]).value,c=i.Type.PRINTABLESTRING;"valueTagClass"in t&&(c=t.valueTagClass)===i.Type.UTF8&&(u=n.util.encodeUtf8(u)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,c,!1,u)])]),s.value.push(r)}return s}function b(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in s.oids?t.name=s.oids[t.type]:t.shortName&&t.shortName in o&&(t.name=s.oids[o[t.shortName]])),void 0===t.type){if(!t.name||!(t.name in s.oids))throw(u=new Error("Attribute type not specified.")).attribute=t,u;t.type=s.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in o&&(t.shortName=o[t.name]),t.type===a.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=i.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(s.certificateExtensionToAsn1(v(t.extensions[n])))}var u;if(void 0===t.value)throw(u=new Error("Attribute value not specified.")).attribute=t,u}}function v(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in s.oids&&(e.name=s.oids[e.id]),void 0===e.id){if(!e.name||!(e.name in s.oids))throw(E=new Error("Extension ID not specified.")).extension=e,E;e.id=s.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var r=0,o=0,u=0;e.digitalSignature&&(o|=128,r=7),e.nonRepudiation&&(o|=64,r=6),e.keyEncipherment&&(o|=32,r=5),e.dataEncipherment&&(o|=16,r=4),e.keyAgreement&&(o|=8,r=3),e.keyCertSign&&(o|=4,r=2),e.cRLSign&&(o|=2,r=1),e.encipherOnly&&(o|=1,r=0),e.decipherOnly&&(u|=128,r=7);var c=String.fromCharCode(r);0!==u?c+=String.fromCharCode(o)+String.fromCharCode(u):0!==o&&(c+=String.fromCharCode(o)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if("basicConstraints"===e.name)e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var d in e)!0===e[d]&&(d in a?l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a[d]).getBytes())):-1!==d.indexOf(".")&&l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(d).getBytes())))}else if("nsCertType"===e.name){r=0,o=0;e.client&&(o|=128,r=7),e.server&&(o|=64,r=6),e.email&&(o|=32,r=5),e.objsign&&(o|=16,r=4),e.reserved&&(o|=8,r=3),e.sslCA&&(o|=4,r=2),e.emailCA&&(o|=2,r=1),e.objCA&&(o|=1,r=0);c=String.fromCharCode(r);0!==o&&(c+=String.fromCharCode(o)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var h=0;h<e.altNames.length;++h){c=(b=e.altNames[h]).value;if(7===b.type&&b.ip){if(null===(c=n.util.bytesFromIP(b.ip)))throw(E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,E}else 8===b.type&&(c=b.oid?i.oidToDer(i.oidToDer(b.oid)):i.oidToDer(c));e.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,b.type,!1,c))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=i.create(i.Class.UNIVERSAL,i.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var f=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=f.toHex(),e.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,f.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;if(e.keyIdentifier){var p=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,p))}if(e.authorityCertIssuer){var g=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[y(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];l.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,g))}if(e.serialNumber){var m=n.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);l.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,m))}}else if("cRLDistributionPoints"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;var b,v=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),_=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(h=0;h<e.altNames.length;++h){c=(b=e.altNames[h]).value;if(7===b.type&&b.ip){if(null===(c=n.util.bytesFromIP(b.ip)))throw(E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,E}else 8===b.type&&(c=b.oid?i.oidToDer(i.oidToDer(b.oid)):i.oidToDer(c));_.value.push(i.create(i.Class.CONTEXT_SPECIFIC,b.type,!1,c))}v.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[_])),l.push(v)}var E;if(void 0===e.value)throw(E=new Error("Extension value not specified.")).extension=e,E;return e}function _(e,t){if(e===a["RSASSA-PSS"]){var r=[];return t.hash.algorithmOid!==undefined&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==undefined&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),t.saltLength!==undefined&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r)}return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}function E(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,s=0;s<r.length;++s){var a=r[s],o=a.value,u=i.Type.UTF8;"valueTagClass"in a&&(u=a.valueTagClass),u===i.Type.UTF8&&(o=n.util.encodeUtf8(o));var c=!1;"valueConstructed"in a&&(c=a.valueConstructed);var l=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,u,c,o)])]);t.value.push(l)}return t}s.certificateFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var o=new Error("Could not convert certificate from PEM; PEM header type "+'is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=a.type,o}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=i.fromDer(a.body,r);return s.certificateFromAsn1(u,t)},s.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:i.toDer(s.certificateToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.publicKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=new Error("Could not convert public key from PEM; PEM header "+'type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return s.publicKeyFromAsn1(a)},s.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:i.toDer(s.publicKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.getPublicKeyFingerprint=function(e,t){var r,a=(t=t||{}).md||n.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=i.toDer(s.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(r);var o=a.digest();if("hex"===t.encoding){var u=o.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if("binary"===t.encoding)return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return o},s.certificationRequestFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var o=new Error("Could not convert certification request from PEM; "+'PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=a.type,o}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certification request from PEM; "+"PEM is encrypted.");var u=i.fromDer(a.body,r);return s.certificationRequestFromAsn1(u,t)},s.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:i.toDer(s.certificationRequestToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return f(e.issuer,t)},e.issuer.addField=function(t){b([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){b([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){b(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){b(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)v(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,i=0;null===n&&i<e.extensions.length;++i)r=e.extensions[i],(t.id&&r.id===t.id||t.name&&r.name===t.name)&&(n=r);return n},e.sign=function(t,r){e.md=r||n.md.sha1.create();var o=a[e.md.algorithm+"WithRSAEncryption"];if(!o){var u=new Error("Could not compute certificate digest. "+"Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=o,e.tbsCertificate=s.getTBSCertificate(e);var c=i.toDer(e.tbsCertificate);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,a=e.subject,o=new Error("The parent certificate did not issue the given child "+"certificate; the child certificate's issuer does not match the "+"parent's subject.");throw o.expectedIssuer=a.attributes,o.actualIssuer=n.attributes,o}var u=t.md;if(null===u){u=g({signatureOid:t.signatureOid,type:"certificate"});var c=t.tbsCertificate||s.getTBSCertificate(t),l=i.toDer(c);u.update(l.getBytes())}return null!==u&&(r=m({certificate:e,md:u,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var s,a;r=!0;for(var o=0;r&&o<n.attributes.length;++o)s=n.attributes[o],a=i.attributes[o],s.type===a.type&&s.value===a.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var i=e.extensions[r];if(i.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===s}}return!1},e},s.certificateFromAsn1=function(e,t){var r={},a=[];if(!i.validate(e,c,r,a)){var o=new Error("Cannot read X.509 certificate. "+"ASN.1 object is not an X509v3 Certificate.");throw o.errors=a,o}if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=s.createCertificate();u.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=n.util.createBuffer(r.certSerialNumber);u.serialNumber=l.toHex(),u.signatureOid=n.asn1.derToOid(r.certSignatureOid),u.signatureParameters=p(u.signatureOid,r.certSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),u.siginfo.parameters=p(u.siginfo.algorithmOid,r.certinfoSignatureParams,!1),u.signature=r.certSignature;var d=[];if(r.certValidity1UTCTime!==undefined&&d.push(i.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==undefined&&d.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==undefined&&d.push(i.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==undefined&&d.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),d.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more "+"than two times were provided in the certificate.");if(d.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they "+"were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=d[0],u.validity.notAfter=d[1],u.tbsCertificate=r.tbsCertificate,t){u.md=g({signatureOid:u.signatureOid,type:"certificate"});var h=i.toDer(u.tbsCertificate);u.md.update(h.getBytes())}var m=n.md.sha1.create(),y=i.toDer(r.certIssuer);m.update(y.getBytes()),u.issuer.getField=function(e){return f(u.issuer,e)},u.issuer.addField=function(e){b([e]),u.issuer.attributes.push(e)},u.issuer.attributes=s.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(u.issuer.uniqueId=r.certIssuerUniqueId),u.issuer.hash=m.digest().toHex();var v=n.md.sha1.create(),_=i.toDer(r.certSubject);return v.update(_.getBytes()),u.subject.getField=function(e){return f(u.subject,e)},u.subject.addField=function(e){b([e]),u.subject.attributes.push(e)},u.subject.attributes=s.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(u.subject.uniqueId=r.certSubjectUniqueId),u.subject.hash=v.digest().toHex(),r.certExtensions?u.extensions=s.certificateExtensionsFromAsn1(r.certExtensions):u.extensions=[],u.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),u},s.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(s.certificateExtensionFromAsn1(n.value[i]));return t},s.certificateExtensionFromAsn1=function(e){var t={};if(t.id=i.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===i.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in a)if(t.name=a[t.id],"keyUsage"===t.name){var r=0,s=0;(u=i.fromDer(t.value)).value.length>1&&(r=u.value.charCodeAt(1),s=u.value.length>2?u.value.charCodeAt(2):0),t.digitalSignature=128==(128&r),t.nonRepudiation=64==(64&r),t.keyEncipherment=32==(32&r),t.dataEncipherment=16==(16&r),t.keyAgreement=8==(8&r),t.keyCertSign=4==(4&r),t.cRLSign=2==(2&r),t.encipherOnly=1==(1&r),t.decipherOnly=128==(128&s)}else if("basicConstraints"===t.name){(u=i.fromDer(t.value)).value.length>0&&u.value[0].type===i.Type.BOOLEAN?t.cA=0!==u.value[0].value.charCodeAt(0):t.cA=!1;var o=null;u.value.length>0&&u.value[0].type===i.Type.INTEGER?o=u.value[0].value:u.value.length>1&&(o=u.value[1].value),null!==o&&(t.pathLenConstraint=i.derToInteger(o))}else if("extKeyUsage"===t.name)for(var u=i.fromDer(t.value),c=0;c<u.value.length;++c){var l=i.derToOid(u.value[c].value);l in a?t[a[l]]=!0:t[l]=!0}else if("nsCertType"===t.name){r=0;(u=i.fromDer(t.value)).value.length>1&&(r=u.value.charCodeAt(1)),t.client=128==(128&r),t.server=64==(64&r),t.email=32==(32&r),t.objsign=16==(16&r),t.reserved=8==(8&r),t.sslCA=4==(4&r),t.emailCA=2==(2&r),t.objCA=1==(1&r)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var d;t.altNames=[];u=i.fromDer(t.value);for(var h=0;h<u.value.length;++h){var f={type:(d=u.value[h]).type,value:d.value};switch(t.altNames.push(f),d.type){case 1:case 2:case 6:break;case 7:f.ip=n.util.bytesToIP(d.value);break;case 8:f.oid=i.derToOid(d.value)}}}else if("subjectKeyIdentifier"===t.name){u=i.fromDer(t.value);t.subjectKeyIdentifier=n.util.bytesToHex(u.value)}return t},s.certificationRequestFromAsn1=function(e,t){var r={},a=[];if(!i.validate(e,h,r,a)){var o=new Error("Cannot read PKCS#10 certificate request. "+"ASN.1 object is not a PKCS#10 CertificationRequest.");throw o.errors=a,o}if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=s.createCertificationRequest();if(u.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,u.signatureOid=n.asn1.derToOid(r.csrSignatureOid),u.signatureParameters=p(u.signatureOid,r.csrSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),u.siginfo.parameters=p(u.siginfo.algorithmOid,r.csrSignatureParams,!1),u.signature=r.csrSignature,u.certificationRequestInfo=r.certificationRequestInfo,t){u.md=g({signatureOid:u.signatureOid,type:"certification request"});var c=i.toDer(u.certificationRequestInfo);u.md.update(c.getBytes())}var l=n.md.sha1.create();return u.subject.getField=function(e){return f(u.subject,e)},u.subject.addField=function(e){b([e]),u.subject.attributes.push(e)},u.subject.attributes=s.RDNAttributesAsArray(r.certificationRequestInfoSubject,l),u.subject.hash=l.digest().toHex(),u.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),u.getAttribute=function(e){return f(u,e)},u.addAttribute=function(e){b([e]),u.attributes.push(e)},u.attributes=s.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),u},s.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){b([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return f(e,t)},e.addAttribute=function(t){b([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){b(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){b(t),e.attributes=t},e.sign=function(t,r){e.md=r||n.md.sha1.create();var o=a[e.md.algorithm+"WithRSAEncryption"];if(!o){var u=new Error("Could not compute certification request digest. "+"Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=o,e.certificationRequestInfo=s.getCertificationRequestInfo(e);var c=i.toDer(e.certificationRequestInfo);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){r=g({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||s.getCertificationRequestInfo(e),a=i.toDer(n);r.update(a.getBytes())}return null!==r&&(t=m({certificate:e,md:r,signature:e.signature})),t},e};var w=new Date("1950-01-01T00:00:00Z"),C=new Date("2050-01-01T00:00:00Z");function S(e){return e>=w&&e<C?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(e))}s.getTBSCertificate=function(e){var t=S(e.validity.notBefore),r=S(e.validity.notAfter),a=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.siginfo.algorithmOid).getBytes()),_(e.siginfo.algorithmOid,e.siginfo.parameters)]),y(e.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,r]),y(e.subject),s.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&a.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&a.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&a.value.push(s.certificateExtensionsToAsn1(e.extensions)),a},s.getCertificationRequestInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),y(e.subject),s.publicKeyToAsn1(e.publicKey),E(e)])},s.distinguishedNameToAsn1=function(e){return y(e)},s.certificateToAsn1=function(e){var t=e.tbsCertificate||s.getTBSCertificate(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),_(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.certificateExtensionsToAsn1=function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(s.certificateExtensionToAsn1(e[n]));return t},s.certificateExtensionToAsn1=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.id).getBytes())),e.critical&&t.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=i.toDer(r).getBytes()),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),t},s.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||s.getCertificationRequestInfo(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),_(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.createCaStore=function(e){var t={certs:{}};function r(e){return a(e),t.certs[e.hash]||null}function a(e){if(!e.hash){var t=n.md.sha1.create();e.attributes=s.RDNAttributesAsArray(y(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];n.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;n.util.isArray(t)||(t=[t]);for(var a=i.toDer(s.certificateToAsn1(e)).getBytes(),o=0;o<t.length;++o){if(a===i.toDer(s.certificateToAsn1(t[o])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var i=t.certs[r];if(n.util.isArray(i))for(var s=0;s<i.length;++s)e.push(i[s]);else e.push(i)}return e},t.removeCertificate=function(e){var o;if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))return null;var u=r(e.subject);if(!n.util.isArray(u))return o=t.certs[e.subject.hash],delete t.certs[e.subject.hash],o;for(var c=i.toDer(s.certificateToAsn1(e)).getBytes(),l=0;l<u.length;++l){c===i.toDer(s.certificateToAsn1(u[l])).getBytes()&&(o=u[l],u.splice(l,1))}return 0===u.length&&delete t.certs[e.subject.hash],o},e)for(var o=0;o<e.length;++o){var u=e[o];t.addCertificate(u)}return t},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(e,t,r){"function"==typeof r&&(r={verify:r}),r=r||{};var i=(t=t.slice(0)).slice(0),a=r.validityCheckDate;void 0===a&&(a=new Date);var o=!0,u=null,c=0;do{var l=t.shift(),d=null,h=!1;if(a&&(a<l.validity.notBefore||a>l.validity.notAfter)&&(u={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:a}),null===u){if(null===(d=t[0]||e.getIssuer(l))&&l.isIssuer(l)&&(h=!0,d=l),d){var f=d;n.util.isArray(f)||(f=[f]);for(var p=!1;!p&&f.length>0;){d=f.shift();try{p=d.verify(l)}catch(e){}}p||(u={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}null!==u||d&&!h||e.hasCertificate(l)||(u={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(null===u&&d&&!l.isIssuer(d)&&(u={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),null===u)for(var g={keyUsage:!0,basicConstraints:!0},m=0;null===u&&m<l.extensions.length;++m){var y=l.extensions[m];y.critical&&!(y.name in g)&&(u={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(null===u&&(!o||0===t.length&&(!d||h))){var b=l.getExtension("basicConstraints"),v=l.getExtension("keyUsage");if(null!==v&&(v.keyCertSign&&null!==b||(u={message:"Certificate keyUsage or basicConstraints conflict "+"or indicate that the certificate is not a CA. "+"If the certificate is the only one in the chain or "+"isn't the first then the certificate must be a "+"valid CA.",error:s.certificateError.bad_certificate})),null!==u||null===b||b.cA||(u={message:"Certificate basicConstraints indicates the certificate "+"is not a CA.",error:s.certificateError.bad_certificate}),null===u&&null!==v&&"pathLenConstraint"in b)c-1>b.pathLenConstraint&&(u={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})}var _=null===u||u.error,E=r.verify?r.verify(_,c,i):_;if(!0!==E)throw!0===_&&(u={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(E||0===E)&&("object"!=typeof E||n.util.isArray(E)?"string"==typeof E&&(u.error=E):(E.message&&(u.message=E.message),E.error&&(u.error=E.error))),u;u=null,o=!1,++c}while(t.length>0);return!0}}}},{package:"node-forge",file:"/home/gudahtt/projects/metamask-extension/node_modules/node-forge/lib/x509.js"}],[5294,{_process:5420,"is-promise":4701,promise:5423,timers:5935},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r,n){(function(){var i,s=e("promise"),a=e("is-promise");function o(e,t){return"function"!=typeof t?e:e.then((function(e){i((function(){t(null,e)}))}),(function(e){i((function(){t(e)}))}))}function u(e){return o(this,e)}function c(e){if(e&&a(e)){e.nodeify=u;var t=e.then;return e.then=function(){return c(t.apply(this,arguments))},e}"function"==typeof e?e.prototype.nodeify=u:s.prototype.nodeify=u}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),c(this)}i="function"==typeof n?n:"object"==typeof r&&r&&r.nextTick?r.nextTick:function(e){setTimeout(e,0)},t.exports=o,o.extend=c,o.Promise=l,l.prototype=Object.create(s.prototype),l.prototype.constructor=l}).call(this)}).call(this,e("_process"),e("timers").setImmediate)}}},{package:"nodeify",file:"/home/gudahtt/projects/metamask-extension/node_modules/nodeify/index.js"}],[5296,{assert:1700,"await-semaphore":1781,"ethjs-query":2570},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("ethjs-query"),i=e("assert"),s=e("await-semaphore").Mutex;t.exports=class{constructor({provider:e,blockTracker:t,getPendingTransactions:r,getConfirmedTransactions:i}){this.provider=e,this.blockTracker=t,this.ethQuery=new n(e),this.getPendingTransactions=r,this.getConfirmedTransactions=i,this.lockMap={}}async getGlobalLock(){const e=this._lookupMutex("global");return{releaseLock:await e.acquire()}}async getNonceLock(e){await this._globalMutexFree();const t=await this._takeMutex(e);try{const r={},n=await this._getNetworkNextNonce(e),s=this._getHighestLocallyConfirmed(e),a=n.nonce,o=Math.max(a,s),u=this.getPendingTransactions(e),c=this._getHighestContinuousFrom(u,o)||0;r.params={highestLocallyConfirmed:s,highestSuggested:o,nextNetworkNonce:a},r.local=c,r.network=n;const l=Math.max(n.nonce,c.nonce);return i(Number.isInteger(l),`nonce-tracker - nextNonce is not an integer - got: (${typeof l}) "${l}"`),{nextNonce:l,nonceDetails:r,releaseLock:t}}catch(e){throw t(),e}}async _globalMutexFree(){const e=this._lookupMutex("global");(await e.acquire())()}async _takeMutex(e){const t=this._lookupMutex(e);return await t.acquire()}_lookupMutex(e){let t=this.lockMap[e];return t||(t=new s,this.lockMap[e]=t),t}async _getNetworkNextNonce(e){const t=await this.blockTracker.getLatestBlock(),r=(await this.ethQuery.getTransactionCount(e,t)).toNumber();i(Number.isInteger(r),`nonce-tracker - baseCount is not an integer - got: (${typeof r}) "${r}"`);return{name:"network",nonce:r,details:{blockNumber:t,baseCount:r}}}_getHighestLocallyConfirmed(e){const t=this.getConfirmedTransactions(e),r=this._getHighestNonce(t);return Number.isInteger(r)?r+1:0}_getHighestNonce(e){const t=e.map((e=>{const t=e.txParams.nonce;return i(typeof t,"string","nonces should be hex strings"),parseInt(t,16)}));return Math.max.apply(null,t)}_getHighestContinuousFrom(e,t){const r=e.map((e=>{const t=e.txParams.nonce;return i(typeof t,"string","nonces should be hex strings"),parseInt(t,16)}));let n=t;for(;r.includes(n);)n++;return{name:"local",nonce:n,details:{startPoint:t,highest:n}}}}}}},{package:"nonce-tracker",file:"/home/gudahtt/projects/metamask-extension/node_modules/nonce-tracker/index.js"}],[53,{"./contracts/registry":51,"./contracts/resolver":52,"@babel/runtime/helpers/interopRequireDefault":195,"@ensdomains/content-hash":264,"eth-ens-namehash":2368,"ethjs-contract":2553,"ethjs-query":2570},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=async function({provider:e,name:t}){const r=new s.default(e),n=i.default.hash(t),d=new a.default(r),h=Number.parseInt(await r.net_version(),10),f=function(e){switch(e){case 1:case 3:case 4:case 5:return"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";default:return null}}(h);if(!f)throw new Error(`EnsIpfsResolver - no known ens-ipfs registry for chainId "${h}"`);const p=d(u.default).at(f),g=(await p.resolver(n))[0];if(l(g))throw new Error(`EnsIpfsResolver - no resolver found for name "${t}"`);const m=d(c.default).at(g),y=await m.supportsInterface("0xbc1c58d1"),b=await m.supportsInterface("0xd8389dc5");if(y[0]){const e=(await m.contenthash(n))[0];let t=o.default.decode(e);const r=o.default.getCodec(e);return"ipfs-ns"!==r&&"ipns-ns"!==r||(t=o.default.helpers.cidV0ToV1Base32(t)),{type:r,hash:t}}if(b[0]){const e=(await m.content(n))[0];if(l(e))throw new Error(`EnsIpfsResolver - no content ID found for name "${t}"`);return{type:"swarm-ns",hash:e.slice(2)}}throw new Error(`EnsIpfsResolver - the resolver for name "${t}" is not standard, it should either supports contenthash() or content()`)};var i=n(e("eth-ens-namehash")),s=n(e("ethjs-query")),a=n(e("ethjs-contract")),o=n(e("@ensdomains/content-hash")),u=n(e("./contracts/registry")),c=n(e("./contracts/resolver"));function l(e){return[undefined,null,"0x","0x0","0x0000000000000000000000000000000000000000000000000000000000000000"].includes(e)}}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/ens-ipfs/resolver.js"}],[5306,{},function(){with(this)return function(){"use strict";return function(e,t,r){const n={},i=e=>{e.addEventListener("message",(t=>{i.dispatchEvent("message",e,t)})),e.port&&e.port.addEventListener("message",(t=>{i.dispatchEvent("message",e,t)}))};i.addEventListener=(e,t)=>{n[e]||(n[e]=[]),n[e].push(t)},i.removeEventListener=(e,t)=>{n[e]&&(n[e]=n[e].filter((e=>e===t)))},i.dispatchEvent=function(){const e=Array.prototype.slice.call(arguments),t=e.shift();n[t]&&n[t].forEach((t=>t.apply(null,e)))},t.exports=i}}},{package:"observable-webworkers",file:"/home/gudahtt/projects/metamask-extension/node_modules/observable-webworkers/lib/index.js"}],[5308,{"./src/access-controllers":5311},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./src/access-controllers");t.exports=n}}},{package:"orbit-db-access-controllers",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-access-controllers/index.js"}],[5309,{events:2082},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("events").EventEmitter;t.exports=class extends n{static async create(e,t){}static get type(){throw new Error("'static get type ()' needs to be defined in the inheriting class")}get type(){return this.constructor.type}get address(){}async canAppend(e,t){}async grant(e,t){}async revoke(e,t){}async load(e){}async save(){}async close(){}}}}},{package:"orbit-db-access-controllers",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-access-controllers/src/access-controller-interface.js"}],[5310,{"orbit-db-io":5336},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("orbit-db-io");class i{constructor(e,t={}){this.type=e,this.params=t}static async resolve(e,t,r={}){if(r.skipManifest){if(!r.type)throw new Error("No manifest, access-controller type required");return new i(r.type,{address:t})}{0===t.indexOf("/ipfs")&&(t=t.split("/")[2]);const{type:r,params:s}=await n.read(e,t);return new i(r,s)}}static async create(e,t,r){if(r.skipManifest)return r.address;const i={type:t,params:r};return n.write(e,"dag-cbor",i)}}t.exports=i}}},{package:"orbit-db-access-controllers",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-access-controllers/src/access-controller-manifest.js"}],[5311,{"./access-controller-manifest":5310,"./ipfs-access-controller":5312,"./legacy-ipfs-access-controller":5313,"./orbitdb-access-controller":5314},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./access-controller-manifest");let i={"legacy-ipfs":e("./legacy-ipfs-access-controller"),ipfs:e("./ipfs-access-controller"),orbitdb:e("./orbitdb-access-controller")};const s=e=>{if(!a.isSupported(e))throw new Error(`AccessController type '${e}' is not supported`);return i[e]};class a{static isSupported(e){return Object.keys(i).includes(e)}static addAccessController(e){if(!e.AccessController)throw new Error("AccessController class needs to be given as an option");if(!e.AccessController.type||"string"!=typeof e.AccessController.type)throw new Error("Given AccessController class needs to implement: static get type() { /* return a string */}.");i[e.AccessController.type]=e.AccessController}static addAccessControllers(e){const t=e.AccessControllers;if(!t)throw new Error("AccessController classes need to be given as an option");t.forEach((e=>{a.addAccessController({AccessController:e})}))}static removeAccessController(e){delete i[e]}static async resolve(e,t,r={}){const{type:i,params:a}=await n.resolve(e._ipfs,t,r),o=s(i),u=await o.create(e,Object.assign({},r,a));return await u.load(a.address),u}static async create(e,t,r={}){const i=s(t),a=await i.create(e,r),o=await a.save();return await n.create(e._ipfs,t,o)}}t.exports=a}}},{package:"orbit-db-access-controllers",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-access-controllers/src/access-controllers.js"}],[5312,{"./access-controller-interface":5309,"./utils":5316},function(){with(this)return function(){"use strict";return function(e,t,r){const{io:n}=e("./utils"),i=e("./access-controller-interface");class s extends i{constructor(e,t){super(),this._ipfs=e,this._write=Array.from(t.write||[])}static get type(){return"ipfs"}get write(){return this._write}async canAppend(e,t){const r=e.identity.id;return!(!this.write.includes(r)&&!this.write.includes("*"))&&t.verifyIdentity(e.identity)}async load(e){0===e.indexOf("/ipfs")&&(e=e.split("/")[2]);try{this._write=await n.read(this._ipfs,e)}catch(e){console.log("IPFSAccessController.load ERROR:",e)}}async save(){let e;try{e=await n.write(this._ipfs,"dag-cbor",{write:JSON.stringify(this.write,null,2)})}catch(e){console.log("IPFSAccessController.save ERROR:",e)}return{address:e}}static async create(e,t={}){return t={...t,write:t.write||[e.identity.id]},new s(e._ipfs,t)}}t.exports=s}}},{package:"orbit-db-access-controllers",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-access-controllers/src/ipfs-access-controller.js"}],[5313,{"./access-controller-interface":5309,"orbit-db-io":5336,"safe-buffer/":5739},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("orbit-db-io"),i=e("safe-buffer/").Buffer,s=e("./access-controller-interface");class a extends s{constructor(e,t){super(),this._ipfs=e,this._write=Array.from(t.write||[])}static get type(){return"legacy-ipfs"}get write(){return this._write}async canAppend(e,t){const r=e.key;return!(!this.write.includes(r)&&!this.write.includes("*"))}async load(e){0===e.indexOf("/ipfs")&&(e=e.split("/")[2]);try{const t=await n.read(this._ipfs,e);this._write=t.write}catch(e){console.log("LegacyIPFSAccessController.load ERROR:",e)}}async save(e){let t;const r={admin:[],write:this.write,read:[]};try{t=await n.write(this._ipfs,"raw",i.from(JSON.stringify(r,null,2)),{format:"dag-pb"})}catch(e){console.log("LegacyIPFSAccessController.save ERROR:",e)}return{address:t,skipManifest:!0}}static async create(e,t={}){return t={...t,write:t.write||[e.identity.publicKey]},new a(e._ipfs,t)}}t.exports=a}}},{package:"orbit-db-access-controllers",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-access-controllers/src/legacy-ipfs-access-controller.js"}],[5314,{"./access-controller-interface":5309,"./utils/ensure-ac-address":5315,"p-map-series":5365},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("p-map-series"),i=e("./access-controller-interface"),s=e("./utils/ensure-ac-address");class a extends i{constructor(e,t){super(),this._orbitdb=e,this._db=null,this._options=t||{}}static get type(){return"orbitdb"}get address(){return this._db.address}async canAppend(e,t){const r=new Set([...this.get("write"),...this.get("admin")]);if(r.has(e.identity.id)||r.has("*")){return await t.verifyIdentity(e.identity)}return!1}get capabilities(){if(this._db){let e=this._db.index;const t=t=>{const r=t[0];e[r]=new Set([...e[r]||[],...t[1]])};return Object.entries({...e,admin:new Set([...e.admin||[],...this._db.access.write])}).forEach(t),e}return{}}get(e){return this.capabilities[e]||new Set([])}async close(){await this._db.close()}async load(e){this._db&&await this._db.close(),this._db=await this._orbitdb.keyvalue(s(e),{accessController:{type:"ipfs",write:this._options.admin||[this._orbitdb.identity.id]},sync:!0}),this._db.events.on("ready",this._onUpdate.bind(this)),this._db.events.on("write",this._onUpdate.bind(this)),this._db.events.on("replicated",this._onUpdate.bind(this)),await this._db.load()}async save(){return{address:this._db.address.toString()}}async grant(e,t){const r=new Set([...this._db.get(e)||[],t]);await this._db.put(e,Array.from(r.values()))}async revoke(e,t){let r=new Set(this._db.get(e)||[]);r.delete(t),r.size>0?await this._db.put(e,Array.from(r.values())):await this._db.del(e)}_onUpdate(){this.emit("updated")}static async create(e,t={}){const r=new a(e,t);return await r.load(t.address||t.name||"default-access-controller"),t.write&&!t.address&&await n(t.write,(async e=>r.grant("write",e))),r}}t.exports=a}}},{package:"orbit-db-access-controllers",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-access-controllers/src/orbitdb-access-controller.js"}],[5315,{path:5396},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("path");t.exports=e=>"_access"===e.toString().split("/").pop()?e:n.join(e,"/_access")}}},{package:"orbit-db-access-controllers",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-access-controllers/src/utils/ensure-ac-address.js"}],[5316,{"./io.js":5317,"./is-valid-eth-address":5318},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./is-valid-eth-address"),i=e("./io.js");t.exports={io:i,isValidEthAddress:n}}}},{package:"orbit-db-access-controllers",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-access-controllers/src/utils/index.js"}],[5317,{"orbit-db-io":5336},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("orbit-db-io");t.exports={read:async(e,t,r={})=>{const i=await n.read(e,t,r);return"string"==typeof i.write?JSON.parse(i.write):i.write},write:n.write}}}},{package:"orbit-db-access-controllers",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-access-controllers/src/utils/io.js"}],[5318,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=(e,t)=>e.utils.isAddress(t)}}},{package:"orbit-db-access-controllers",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-access-controllers/src/utils/is-valid-eth-address.js"}],[5319,{logplease:5183,path:5396},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("path"),i=e("logplease"),s=i.create("cache",{color:i.Colors.Magenta});i.setLogLevel("ERROR");let a={};class o{constructor(e,t){this.path=t||"./orbitdb",this._storage=e,this._store=null}async open(){return s.debug("open",this.path),this.store?Promise.resolve():new Promise(((e,t)=>{const r=this._storage(this.path);r.open((n=>{if(n)return t(n);this._store=r,e()}))}))}async close(){return s.debug("close",this.path),this._store?new Promise(((e,t)=>{this._store.close((r=>{if(r)return t(r);this._store=null,delete a[this.path],e()}))})):Promise.resolve()}async destroy(){return s.debug("destroy",this.path),new Promise(((e,t)=>{this._storage.destroy(this.path,(r=>{if(r)return t(r);e()}))}))}async get(e){return this._store||await this.open(),this._store.status&&"open"!==this._store.status?Promise.resolve(null):new Promise(((t,r)=>{this._store.get(e,((e,n)=>{if(e&&-1===e.toString().indexOf("NotFoundError: Key not found in database")&&-1===e.toString().indexOf("NotFound"))return r(e);t(n?JSON.parse(n):null)}))}))}async set(e,t){return this._store||await this.open(),this._store.status&&"open"!==this._store.status?Promise.resolve():new Promise(((r,n)=>{this._store.put(e,JSON.stringify(t),(e=>{if(e&&-1===e.toString().indexOf("NotFoundError: Key not found in database")&&-1===e.toString().indexOf("NotFound"))return n(e);r()}))}))}async del(e){return this._store||await this.open(),new Promise(((t,r)=>{this._store.del(e,(e=>{if(e&&-1===e.toString().indexOf("NotFoundError: Key not found in database")&&-1===e.toString().indexOf("NotFound"))return r(e);t()}))}))}}t.exports=(e,t)=>({load:async(r,i)=>{s.debug("load, database:",i.toString());const u=n.join(i.root,i.path),c=n.join(r,u);let l=a[c];return l||(t&&t.sync&&t.sync(c),l=new o(e,c),await l.open(),a[c]=l),l},close:async()=>{s.debug("close all"),await Promise.all(Object.values(a),(e=>e.close())),a={}}})}}},{package:"orbit-db-cache",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-cache/Cache.js"}],[5320,{"./Cache":5319,"level-js":4802},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("level-js"),i=e("./Cache");t.exports=i(n)}}},{package:"orbit-db-cache",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-cache/index-browser.js"}],[5321,{"crdts/src/G-Counter":2182},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("crdts/src/G-Counter");t.exports=class{constructor(e){this._index=new n(e)}get(){return this._index}updateIndex(e){if(this._index){const t=e=>n.from(e.payload.value),r=e=>this._index.merge(e);e.values.filter((e=>e&&"COUNTER"===e.payload.op)).map(t).forEach(r)}}}}}},{package:"orbit-db-counterstore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-counterstore/src/CounterIndex.js"}],[5322,{"./CounterIndex":5321,"crdts/src/G-Counter":2182,"orbit-db-store":5355},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("orbit-db-store"),i=e("./CounterIndex"),s=e("crdts/src/G-Counter");t.exports=class extends n{constructor(e,t,r,n={}){n.Index||Object.assign(n,{Index:i}),super(e,t,r,n),this._type="counter"}get value(){return this._index.get().value}inc(e){const t=new s(this.identity.publicKey,Object.assign({},this._index.get()._counters));return t.increment(e),this._addOperation({op:"COUNTER",key:null,value:t.toJSON()})}}}}},{package:"orbit-db-counterstore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-counterstore/src/CounterStore.js"}],[5323,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=(e,t,r)=>new Promise(((n,i)=>{const s=(r=Object.assign({concurrency:Infinity},r)).concurrency;if(s<1)throw new TypeError("Expected `concurrency` to be a number from 1 and up");const a=[],o=e[Symbol.iterator]();let u=!1,c=!1,l=0,d=0;const h=()=>{if(u)return;const e=o.next(),r=d;if(d++,e.done)return c=!0,void(0===l&&n(a));l++,Promise.resolve(e.value).then((e=>t(e,r))).then((e=>{a[r]=e,l--,h()}),(e=>{u=!0,i(e)}))};for(let e=0;e<s&&(h(),!c);e++);}))}}},{package:"p-map",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-docstore/node_modules/p-map/index.js"}],[5324,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=class{constructor(){this._index={}}get(e,t=!1){return t?this._index[e]:this._index[e]?this._index[e].payload.value:null}updateIndex(e,t){e.values.slice().reverse().reduce(((e,r,n)=>(!0!==e[r.payload.key]&&(e[r.payload.key]=!0,"PUT"===r.payload.op?this._index[r.payload.key]=r:"DEL"===r.payload.op&&delete this._index[r.payload.key]),t&&t(r,n),e)),{})}}}}},{package:"orbit-db-docstore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-docstore/src/DocumentIndex.js"}],[5325,{"./DocumentIndex":5324,"orbit-db-store":5355,"p-map":5323,"readable-stream":5700},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("orbit-db-store"),i=e("./DocumentIndex"),s=e("p-map"),a=(e("readable-stream"),(e,t,r)=>e.toString().split(t).join(r));t.exports=class extends n{constructor(e,t,r,n){n||(n={}),n.indexBy||Object.assign(n,{indexBy:"_id"}),n.Index||Object.assign(n,{Index:i}),super(e,t,r,n),this._type="docstore"}get(e,t=!1){const r=(e=e.toString()).split(" ");e=r.length>1?a(e,"."," ").toLowerCase():e.toLowerCase();return Object.keys(this._index._index).filter((n=>t?-1!==n.indexOf(e):(t=>r.length>1?-1!==a(t,"."," ").toLowerCase().indexOf(e):-1!==t.toLowerCase().indexOf(e))(n))).map((e=>this._index.get(e)))}query(e,t={}){const r=t.fullOp||!1;return Object.keys(this._index._index).map((e=>this._index.get(e,r))).filter(e)}batchPut(e,t){return s(e,((r,n)=>this._addOperationBatch({op:"PUT",key:r[this.options.indexBy],value:r},!0,n===e.length-1,t)),{concurrency:1}).then((()=>this.saveSnapshot()))}put(e){if(!e[this.options.indexBy])throw new Error(`The provided document doesn't contain field '${this.options.indexBy}'`);return this._addOperation({op:"PUT",key:e[this.options.indexBy],value:e})}del(e){if(!this._index.get(e))throw new Error(`No entry with key '${e}' in the database`);return this._addOperation({op:"DEL",key:e,value:null})}}}}},{package:"orbit-db-docstore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-docstore/src/DocumentStore.js"}],[5326,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=class{constructor(){this._index=null}get(){return this._index?this._index.values:[]}updateIndex(e){this._index=e}}}}},{package:"orbit-db-eventstore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-eventstore/src/EventIndex.js"}],[5327,{"./EventIndex":5326,"orbit-db-store":5355},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("orbit-db-store"),i=e("./EventIndex");t.exports=class extends n{constructor(e,t,r,n={}){n.Index===undefined&&Object.assign(n,{Index:i}),super(e,t,r,n),this._type="eventlog"}add(e){return this._addOperation({op:"ADD",key:null,value:e})}get(e){return this.iterator({gte:e,limit:1}).collect()[0]}iterator(e){const t=this._query(e);let r=0;return{[Symbol.iterator](){return this},next(){let e={value:null,done:!0};return r<t.length&&(e={value:t[r],done:!1},r++),e},collect:()=>t}}_query(e){e||(e={});const t=e.limit?e.limit>-1?e.limit:this._index.get().length:1,r=this._index.get().slice();let n=[];return n=e.gt||e.gte?this._read(r,e.gt?e.gt:e.gte,t,!!e.gte):this._read(r.reverse(),e.lt?e.lt:e.lte,t,e.lte||!e.lt).reverse(),n}_read(e,t,r,n){const i=e.map((e=>e.hash)).indexOf(t);let s=Math.max(i,0);s+=n?0:1;return e.slice(s).slice(0,r)}}}}},{package:"orbit-db-eventstore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-eventstore/src/EventStore.js"}],[5328,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=class{constructor(){this._index={}}get(){return Object.keys(this._index).map((e=>this._index[e]))}updateIndex(e){this._index={},e.values.reduce(((e,t)=>(e.includes(t.hash)||(e.push(t.hash),"ADD"===t.payload.op?this._index[t.hash]=t:"DEL"===t.payload.op&&delete this._index[t.payload.value]),e)),[])}}}}},{package:"orbit-db-feedstore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-feedstore/src/FeedIndex.js"}],[5329,{"./FeedIndex":5328,"orbit-db-eventstore":5327},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("orbit-db-eventstore"),i=e("./FeedIndex");t.exports=class extends n{constructor(e,t,r,n){n||(n={}),n.Index||Object.assign(n,{Index:i}),super(e,t,r,n),this._type="feed"}remove(e){return this.del(e)}del(e){const t={op:"DEL",key:null,value:e};return this._addOperation(t)}}}}},{package:"orbit-db-feedstore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-feedstore/src/FeedStore.js"}],[5330,{"./src/identities":5331},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./src/identities");t.exports=n}}},{package:"orbit-db-identity-provider",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-identity-provider/index.js"}],[5331,{"./identity":5333,"./orbit-db-identity-provider":5335,"orbit-db-keystore":5337},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./identity"),i=e("./orbit-db-identity-provider"),s=e("orbit-db-keystore"),a={orbitdb:i},o=e=>{if(!u.isSupported(e))throw new Error(`IdentityProvider type '${e}' is not supported`);return a[e]};class u{constructor(e){this._keystore=e}async sign(e,t){const r=await this._keystore.getKey(e.id);if(!r)throw new Error("Private signing key not found from Keystore");return await this._keystore.sign(r,t)}async verify(e,t,r,n="v1"){return this._keystore.verify(e,t,r,n)}async createIdentity(e={}){const t=o(e.type),r=new t(e),i=await r.getId(e);e.migrate&&await e.migrate({targetPath:this._keystore.path,targetId:i});const{publicKey:s,idSignature:a}=await this.signId(i),u=await r.signIdentity(s+a,e);return new n(i,s,a,u,t.type,this)}async signId(e){const t=this._keystore,r=await t.getKey(e)||await t.createKey(e);return{publicKey:t.getPublic(r),idSignature:await t.sign(r,e)}}async verifyIdentity(e){return await this._keystore.verify(e.signatures.id,e.publicKey,e.id)&&u.verifyIdentity(e)}static async verifyIdentity(e){return o(e.type).verifyIdentity(e)}static async createIdentity(e={}){const t=e.keystore||s.create(e.identityKeysPath||"./orbitdb/identity/identitykeys");e=Object.assign({},{type:"orbitdb"},e);return new u(t).createIdentity(e)}static isSupported(e){return Object.keys(a).includes(e)}static addIdentityProvider(e){if(!e)throw new Error("IdentityProvider class needs to be given as an option");if(!e.type||"string"!=typeof e.type)throw new Error("Given IdentityProvider class needs to implement: static get type() { /* return a string */}.");a[e.type]=e}static removeIdentityProvider(e){delete a[e]}}t.exports=u}}},{package:"orbit-db-identity-provider",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-identity-provider/src/identities.js"}],[5332,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=class{async getId(e){}async signIdentity(e,t){}static async verifyIdentity(e){}static get type(){throw new Error("'static get type ()' needs to be defined in the inheriting class")}get type(){return this.constructor.type}}}}},{package:"orbit-db-identity-provider",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-identity-provider/src/identity-provider-interface.js"}],[5333,{"./is-defined":5334},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./is-defined");t.exports=class{constructor(e,t,r,i,s,a){if(!n(e))throw new Error("Identity id is required");if(!n(t))throw new Error("Invalid public key");if(!n(r))throw new Error("Signature of the id (idSignature) is required");if(!n(i))throw new Error("Signature of (publicKey + idSignature) is required");if(!n(s))throw new Error("Identity type is required");if(!n(a))throw new Error("Identity provider is required");this._id=e,this._publicKey=t,this._signatures=Object.assign({},{id:r},{publicKey:i}),this._type=s,this._provider=a}get id(){return this._id}get publicKey(){return this._publicKey}get signatures(){return this._signatures}get type(){return this._type}get provider(){return this._provider}toJSON(){return{id:this._id,publicKey:this._publicKey,signatures:this._signatures,type:this._type}}}}}},{package:"orbit-db-identity-provider",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-identity-provider/src/identity.js"}],[5334,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e=>e!==undefined&&null!==e}}},{package:"orbit-db-identity-provider",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-identity-provider/src/is-defined.js"}],[5335,{"./identity-provider-interface":5332,"orbit-db-keystore":5337},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./identity-provider-interface"),i=e("orbit-db-keystore");t.exports=class extends n{constructor(e={}){super(),this._keystore=e.keystore||i.create(e.signingKeysPath||"./orbitdb/identity/signingkeys")}static get type(){return"orbitdb"}async getId(e={}){const t=e.id;if(!t)throw new Error("id is required");const r=this._keystore;return(await r.getKey(t)||await r.createKey(t)).public.marshal().toString("hex")}async signIdentity(e,t={}){const r=t.id;if(!r)throw new Error("id is required");const n=this._keystore,i=await n.getKey(r);if(!i)throw new Error(`Signing key for '${r}' not found`);return n.sign(i,e)}static async verifyIdentity(e){return i.verify(e.signatures.publicKey,e.id,e.publicKey+e.signatures.id)}}}}},{package:"orbit-db-identity-provider",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-identity-provider/src/orbit-db-identity-provider.js"}],[5336,{buffer:2081,cids:2119,"ipld-dag-pb":4674},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("cids"),i=e("ipld-dag-pb"),s="base58btc",a=e=>e?Array.isArray(e)?e.map(a):new n(e):e,o=(e,t)=>{if(!e)return e;if(Array.isArray(e))return e.map(o);if(e["/"])return e["/"];const r=t.base||s;return e.toBaseEncodedString(r)},u={"dag-pb":{read:async(e,t)=>{const r=(await e.dag.get(t)).value;return JSON.parse(r.toJSON().data)},write:async(e,t)=>{const n=r.from(JSON.stringify(t)),s=i.DAGNode.create(n);return(await e.dag.put(s,{format:"dag-pb",hashAlg:"sha2-256"})).toV0().toBaseEncodedString()}},"dag-cbor":{write:async(e,t,r)=>{const n=Object.assign({},t);(r.links||[]).forEach((e=>{n[e]=a(n[e])}));const i=r.base||s,o=r.onlyHash||!1;return(await e.dag.put(n,{onlyHash:o})).toBaseEncodedString(i)},read:async(e,t,r)=>{const n=(await e.dag.get(t)).value;return(r.links||[]).forEach((e=>{n[e]=o(n[e],r)})),n}},raw:{write:async(e,t,r)=>{const n=r.onlyHash||!1,a=r.base||s,o=Object.assign({},{onlyHash:n},r.format?{format:r.format,hashAlg:"sha2-256"}:{});"dag-pb"===o.format&&(t=i.DAGNode.create(t));return(await e.dag.put(t,o)).toBaseEncodedString(a)}}};t.exports={read:(e,t,r={})=>{t=new n(t);const i=u[t.codec];if(!i)throw new Error("Unsupported codec");return i.read(e,t,r)},write:(e,t,r,n={})=>{const i=u[t];if(!i)throw new Error("Unsupported codec");return i.write(e,r,n)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"orbit-db-io",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-io/index.js"}],[5337,{"./src/keystore":5344,"level-js":4802},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("level-js"),i=e("./src/keystore");t.exports=i(n)}}},{package:"orbit-db-keystore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-keystore/index-browser.js"}],[5338,{"./lib":5342,"./lib/elliptic":5341},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./lib")(e("./lib/elliptic"))}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-keystore/node_modules/secp256k1/elliptic.js"}],[5339,{"../../../../is-buffer/index.js":4686},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){var t=Object.prototype.toString;r.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},r.isBoolean=function(e,r){if("[object Boolean]"!==t.call(e))throw TypeError(r)},r.isBuffer=function(t,r){if(!e.isBuffer(t))throw TypeError(r)},r.isFunction=function(e,r){if("[object Function]"!==t.call(e))throw TypeError(r)},r.isNumber=function(e,r){if("[object Number]"!==t.call(e))throw TypeError(r)},r.isObject=function(e,r){if("[object Object]"!==t.call(e))throw TypeError(r)},r.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)},r.isBufferLength2=function(e,t,r,n){if(e.length!==t&&e.length!==r)throw RangeError(n)},r.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},r.isNumberInInterval=function(e,t,r,n){if(e<=t||e>=r)throw RangeError(n)}}).call(this)}).call(this,{isBuffer:e("../../../../is-buffer/index.js")})}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/assert.js"}],[5340,{bip66:1970,"safe-buffer":5739},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("bip66"),s=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),a=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(e,t,r){var i=n.from(r?s:a);return e.copy(i,r?8:9),t.copy(i,r?181:214),i},r.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||48!==e[r])&&!(t<(r+=1)+1)&&128&e[r]){var n=127&e[r];if(r+=1,!(n<1||n>2||t<r+n)){var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);if(!(t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]))return e.slice(r+2,r+2+e[r+1])}}},r.signatureExport=function(e){for(var t=n.concat([n.from([0]),e.r]),r=33,s=0;r>1&&0===t[s]&&!(128&t[s+1]);--r,++s);for(var a=n.concat([n.from([0]),e.s]),o=33,u=0;o>1&&0===a[u]&&!(128&a[u+1]);--o,++u);return i.encode(t.slice(s),a.slice(u))},r.signatureImport=function(e){var t=n.alloc(32,0),r=n.alloc(32,0);try{var s=i.decode(e);if(33===s.r.length&&0===s.r[0]&&(s.r=s.r.slice(1)),s.r.length>32)throw new Error("R length is too long");if(33===s.s.length&&0===s.s[0]&&(s.s=s.s.slice(1)),s.s.length>32)throw new Error("S length is too long")}catch(e){return}return s.r.copy(t,32-s.r.length),s.s.copy(r,32-s.s.length),{r:t,s:r}},r.signatureImportLax=function(e){var t=n.alloc(32,0),r=n.alloc(32,0),i=e.length,s=0;if(48===e[s++]){var a=e[s++];if(!(128&a&&(s+=a-128)>i)&&2===e[s++]){var o=e[s++];if(128&o){if(s+(a=o-128)>i)return;for(;a>0&&0===e[s];s+=1,a-=1);for(o=0;a>0;s+=1,a-=1)o=(o<<8)+e[s]}if(!(o>i-s)){var u=s;if(s+=o,2===e[s++]){var c=e[s++];if(128&c){if(s+(a=c-128)>i)return;for(;a>0&&0===e[s];s+=1,a-=1);for(c=0;a>0;s+=1,a-=1)c=(c<<8)+e[s]}if(!(c>i-s)){var l=s;for(s+=c;o>0&&0===e[u];o-=1,u+=1);if(!(o>32)){var d=e.slice(u,u+o);for(d.copy(t,32-d.length);c>0&&0===e[l];c-=1,l+=1);if(!(c>32)){var h=e.slice(l,l+c);return h.copy(r,32-h.length),{r:t,s:r}}}}}}}}}}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/der.js"}],[5341,{"../messages.json":5343,"bn.js":2037,"create-hash":2185,elliptic:2315,"safe-buffer":5739},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("create-hash"),s=e("bn.js"),a=e("elliptic").ec,o=e("../messages.json"),u=new a("secp256k1"),c=u.curve;function l(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new s(t);if(r.cmp(c.p)>=0)return null;var n=(r=r.toRed(c.red)).redSqr().redIMul(r).redIAdd(c.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),u.keyPair({pub:{x:r,y:n}})}(t,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var n=new s(t),i=new s(r);if(n.cmp(c.p)>=0||i.cmp(c.p)>=0)return null;if(n=n.toRed(c.red),i=i.toRed(c.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;var a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(c.b)).isZero()?u.keyPair({pub:{x:n,y:i}}):null}(t,e.slice(1,33),e.slice(33,65));default:return null}}r.privateKeyVerify=function(e){var t=new s(e);return t.cmp(c.n)<0&&!t.isZero()},r.privateKeyExport=function(e,t){var r=new s(e);if(r.cmp(c.n)>=0||r.isZero())throw new Error(o.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(u.keyFromPrivate(e).getPublic(t,!0))},r.privateKeyNegate=function(e){var t=new s(e);return t.isZero()?n.alloc(32):c.n.sub(t).umod(c.n).toArrayLike(n,"be",32)},r.privateKeyModInverse=function(e){var t=new s(e);if(t.cmp(c.n)>=0||t.isZero())throw new Error(o.EC_PRIVATE_KEY_RANGE_INVALID);return t.invm(c.n).toArrayLike(n,"be",32)},r.privateKeyTweakAdd=function(e,t){var r=new s(t);if(r.cmp(c.n)>=0)throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(new s(e)),r.cmp(c.n)>=0&&r.isub(c.n),r.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toArrayLike(n,"be",32)},r.privateKeyTweakMul=function(e,t){var r=new s(t);if(r.cmp(c.n)>=0||r.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return r.imul(new s(e)),r.cmp(c.n)&&(r=r.umod(c.n)),r.toArrayLike(n,"be",32)},r.publicKeyCreate=function(e,t){var r=new s(e);if(r.cmp(c.n)>=0||r.isZero())throw new Error(o.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(u.keyFromPrivate(e).getPublic(t,!0))},r.publicKeyConvert=function(e,t){var r=l(e);if(null===r)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(r.getPublic(t,!0))},r.publicKeyVerify=function(e){return null!==l(e)},r.publicKeyTweakAdd=function(e,t,r){var i=l(e);if(null===i)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new s(t)).cmp(c.n)>=0)throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var a=c.g.mul(t).add(i.pub);if(a.isInfinity())throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(a.encode(!0,r))},r.publicKeyTweakMul=function(e,t,r){var i=l(e);if(null===i)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new s(t)).cmp(c.n)>=0||t.isZero())throw new Error(o.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(i.pub.mul(t).encode(!0,r))},r.publicKeyCombine=function(e,t){for(var r=new Array(e.length),i=0;i<e.length;++i)if(r[i]=l(e[i]),null===r[i])throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);for(var s=r[0].pub,a=1;a<r.length;++a)s=s.add(r[a].pub);if(s.isInfinity())throw new Error(o.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(s.encode(!0,t))},r.signatureNormalize=function(e){var t=new s(e.slice(0,32)),r=new s(e.slice(32,64));if(t.cmp(c.n)>=0||r.cmp(c.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(e);return 1===r.cmp(u.nh)&&c.n.sub(r).toArrayLike(n,"be",32).copy(i,32),i},r.signatureExport=function(e){var t=e.slice(0,32),r=e.slice(32,64);if(new s(t).cmp(c.n)>=0||new s(r).cmp(c.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:r}},r.signatureImport=function(e){var t=new s(e.r);t.cmp(c.n)>=0&&(t=new s(0));var r=new s(e.s);return r.cmp(c.n)>=0&&(r=new s(0)),n.concat([t.toArrayLike(n,"be",32),r.toArrayLike(n,"be",32)])},r.sign=function(e,t,r,i){if("function"==typeof r){var a=r;r=function(r){var u=a(e,t,null,i,r);if(!n.isBuffer(u)||32!==u.length)throw new Error(o.ECDSA_SIGN_FAIL);return new s(u)}}var l=new s(t);if(l.cmp(c.n)>=0||l.isZero())throw new Error(o.ECDSA_SIGN_FAIL);var d=u.sign(e,t,{canonical:!0,k:r,pers:i});return{signature:n.concat([d.r.toArrayLike(n,"be",32),d.s.toArrayLike(n,"be",32)]),recovery:d.recoveryParam}},r.verify=function(e,t,r){var n={r:t.slice(0,32),s:t.slice(32,64)},i=new s(n.r),a=new s(n.s);if(i.cmp(c.n)>=0||a.cmp(c.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);if(1===a.cmp(u.nh)||i.isZero()||a.isZero())return!1;var d=l(r);if(null===d)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);return u.verify(e,n,{x:d.pub.x,y:d.pub.y})},r.recover=function(e,t,r,i){var a={r:t.slice(0,32),s:t.slice(32,64)},l=new s(a.r),d=new s(a.s);if(l.cmp(c.n)>=0||d.cmp(c.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);try{if(l.isZero()||d.isZero())throw new Error;var h=u.recoverPubKey(e,a,r);return n.from(h.encode(!0,i))}catch(e){throw new Error(o.ECDSA_RECOVER_FAIL)}},r.ecdh=function(e,t){var n=r.ecdhUnsafe(e,t,!0);return i("sha256").update(n).digest()},r.ecdhUnsafe=function(e,t,r){var i=l(e);if(null===i)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);var a=new s(t);if(a.cmp(c.n)>=0||a.isZero())throw new Error(o.ECDH_FAIL);return n.from(i.pub.mul(a).encode(!0,r))}}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/elliptic/index.js"}],[5342,{"./assert":5339,"./der":5340,"./messages.json":5343},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./assert"),i=e("./der"),s=e("./messages.json");function a(e,t){return e===undefined?t:(n.isBoolean(e,s.COMPRESSED_TYPE_INVALID),e)}t.exports=function(e){return{privateKeyVerify:function(t){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,r){n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r=a(r,!0);var o=e.privateKeyExport(t,r);return i.privateKeyExport(t,o,r)},privateKeyImport:function(t){if(n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),(t=i.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(s.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(t)},privateKeyModInverse:function(t){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,r){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,r)},privateKeyTweakMul:function(t,r){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,r)},publicKeyCreate:function(t,r){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r=a(r,!0),e.publicKeyCreate(t,r)},publicKeyConvert:function(t,r){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r=a(r,!0),e.publicKeyConvert(t,r)},publicKeyVerify:function(t){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,r,i){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),i=a(i,!0),e.publicKeyTweakAdd(t,r,i)},publicKeyTweakMul:function(t,r,i){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),i=a(i,!0),e.publicKeyTweakMul(t,r,i)},publicKeyCombine:function(t,r){n.isArray(t,s.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(t,s.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<t.length;++i)n.isBuffer(t[i],s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t[i],33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID);return r=a(r,!0),e.publicKeyCombine(t,r)},signatureNormalize:function(t){return n.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){n.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=e.signatureExport(t);return i.signatureExport(r)},signatureImport:function(t){n.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImport(t);if(r)return e.signatureImport(r);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){n.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImportLax(t);if(r)return e.signatureImport(r);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,r,i){n.isBuffer(t,s.MSG32_TYPE_INVALID),n.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),n.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID);var a=null,o=null;return i!==undefined&&(n.isObject(i,s.OPTIONS_TYPE_INVALID),i.data!==undefined&&(n.isBuffer(i.data,s.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(i.data,32,s.OPTIONS_DATA_LENGTH_INVALID),a=i.data),i.noncefn!==undefined&&(n.isFunction(i.noncefn,s.OPTIONS_NONCEFN_TYPE_INVALID),o=i.noncefn)),e.sign(t,r,o,a)},verify:function(t,r,i){return n.isBuffer(t,s.MSG32_TYPE_INVALID),n.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),n.isBuffer(r,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(i,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(i,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,r,i)},recover:function(t,r,i,o){return n.isBuffer(t,s.MSG32_TYPE_INVALID),n.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),n.isBuffer(r,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(i,s.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(i,-1,4,s.RECOVERY_ID_VALUE_INVALID),o=a(o,!0),e.recover(t,r,i,o)},ecdh:function(t,r){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,r)},ecdhUnsafe:function(t,r,i){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),i=a(i,!0),e.ecdhUnsafe(t,r,i)}}}}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/index.js"}],[5343,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_RANGE_INVALID:"private key range is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}}}},{package:"secp256k1",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/messages.json"}],[5344,{"./verifiers":5345,levelup:4809,"libp2p-crypto":4850,lru:5187,"safe-buffer/":5739,secp256k1:5338},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("levelup"),i=e("libp2p-crypto"),s=e("secp256k1"),a=e("lru"),o=e("safe-buffer/").Buffer,{verifier:u}=e("./verifiers");class c{constructor(e,t){this.path=t||"./orbitdb",this._storage=e,this._store=null,this._cache=new a(100)}async open(){return this.store?Promise.resolve():new Promise(((e,t)=>{const r=n(this._storage(this.path));r.open((n=>{if(n)return t(n);this._store=r,e()}))}))}async close(){return this._store?new Promise(((e,t)=>{this._store.close((r=>{if(r)return t(r);this._store=null,e()}))})):Promise.resolve()}async destroy(){return new Promise(((e,t)=>{this._storage.destroy(this.path,(r=>{if(r)return t(r);e()}))}))}async hasKey(e){if(!e)throw new Error("id needed to check a key");if(this._store||await this.open(),this._store.status&&"open"!==this._store.status)return Promise.resolve(null);let t=!1;try{let r=this._cache.get(e)||await this._store.get(e);t=r!==undefined&&null!==r}catch(e){console.error("Error: ENOENT: no such file or directory")}return await this.close(),t}async createKey(e){if(!e)throw new Error("id needed to create a key");if(this._store||await this.open(),this._store.status&&"open"!==this._store.status)return Promise.resolve(null);const t=await new Promise(((e,t)=>{i.keys.generateKeyPair("secp256k1",256,((r,n)=>{r||e(n),t(r)}))})),r={publicKey:s.publicKeyConvert(t.public.marshal(),!1).toString("hex"),privateKey:t.marshal().toString("hex")};try{await this._store.put(e,JSON.stringify(r))}catch(e){console.log(e)}return await this.close(),this._cache.set(e,r),t}async getKey(e){if(!e)throw new Error("id needed to get a key");if(this._store||await this.open(),this._store.status&&"open"!==this._store.status)return Promise.resolve(null);const t=this._cache.get(e);let r;try{r=t||await this._store.get(e)}catch(e){}if(await this.close(),!r)return;const n=t||JSON.parse(r);if(!n)return;t||this._cache.set(e,n);return s=o.from(n.privateKey,"hex"),new Promise(((e,t)=>{i.keys.supportedKeys.secp256k1.unmarshalSecp256k1PrivateKey(s,((r,n)=>{r||e(n),t(r)}))}));var s}async sign(e,t){if(!e)throw new Error("No signing key given");if(!t)throw new Error("Given input data was undefined");return o.isBuffer(t)||(t=o.from(t)),new Promise(((r,n)=>{e.sign(t,((e,t)=>{e||r(t.toString("hex")),n(e)}))}))}getPublic(e,t={}){const r=t.decompress||!0,n=["hex","buffer"][t.format||"hex"];let i=e.public.marshal();return r&&(i=s.publicKeyConvert(i,!1)),"buffer"===n?i:i.toString("hex")}async verify(e,t,r,n="v1"){return c.verify(e,t,r,n)}static async verify(e,t,r,n="v1"){return u(n).verify(e,t,r)}}t.exports=(e,t)=>({create:(r="./keystore")=>(t&&t.sync&&t.sync(r),new c(e,r)),verify:c.verify})}}},{package:"orbit-db-keystore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-keystore/src/keystore.js"}],[5345,{"./verifierv0":5346,"./verifierv1":5347},function(){with(this)return function(){"use strict";return function(e,t,r){const n={v0:e("./verifierv0"),v1:e("./verifierv1")};t.exports={verifier:e=>n[e]}}}},{package:"orbit-db-keystore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-keystore/src/verifiers/index.js"}],[5346,{elliptic:2315},function(){with(this)return function(){"use strict";return function(e,t,r){const n=new(0,e("elliptic").ec)("secp256k1");t.exports={verify:async(e,t,r)=>{if(!e)throw new Error("No signature given");if(!t)throw new Error("Given publicKey was undefined");if(!r)throw new Error("Given input data was undefined");let i=!1;const s=n.keyPair({pub:t,pubEnc:"hex"});try{i=n.verify(r,e,s)}catch(e){}return Promise.resolve(i)}}}}},{package:"orbit-db-keystore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-keystore/src/verifiers/verifierv0.js"}],[5347,{"libp2p-crypto":4850,"safe-buffer/":5739},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("libp2p-crypto"),i=e("safe-buffer/").Buffer;t.exports={verify:async(e,t,r)=>{if(!e)throw new Error("No signature given");if(!t)throw new Error("Given publicKey was undefined");if(!r)throw new Error("Given input data was undefined");i.isBuffer(r)||(r=i.from(r));let s=!1;try{const c=n.keys.supportedKeys.secp256k1.unmarshalSecp256k1PublicKey(i.from(t,"hex"));s=await(a=c,o=r,u=i.from(e,"hex"),new Promise(((e,t)=>{a.verify(o,u,((r,n)=>{r||e(n),t(n)}))})))}catch(e){}var a,o,u;return Promise.resolve(s)}}}}},{package:"orbit-db-keystore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-keystore/src/verifiers/verifierv1.js"}],[5348,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=class{constructor(){this._index={}}get(e){return this._index[e]}updateIndex(e){e.values.slice().reverse().reduce(((e,t)=>(e.includes(t.payload.key)||(e.push(t.payload.key),"PUT"===t.payload.op?this._index[t.payload.key]=t.payload.value:"DEL"===t.payload.op&&delete this._index[t.payload.key]),e)),[])}}}}},{package:"orbit-db-kvstore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-kvstore/src/KeyValueIndex.js"}],[5349,{"./KeyValueIndex":5348,"orbit-db-store":5355},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("orbit-db-store"),i=e("./KeyValueIndex");t.exports=class extends n{constructor(e,t,r,n){let s=Object.assign({},{Index:i});Object.assign(s,n),super(e,t,r,s),this._type="keyvalue"}get all(){return this._index._index}get(e){return this._index.get(e)}set(e,t){return this.put(e,t)}put(e,t){return this._addOperation({op:"PUT",key:e,value:t})}del(e){return this._addOperation({op:"DEL",key:e,value:null})}}}}},{package:"orbit-db-kvstore",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-kvstore/src/KeyValueStore.js"}],[5350,{"./src/ipfs-pubsub":5351},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./src/ipfs-pubsub")}}},{package:"orbit-db-pubsub",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-pubsub/index.js"}],[5351,{buffer:2081,"ipfs-pubsub-peer-monitor":4493,logplease:5183,"p-series":5369},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("p-series"),i=e("ipfs-pubsub-peer-monitor"),s=e("logplease"),a=s.create("pubsub",{color:s.Colors.Yellow});s.setLogLevel("ERROR");let o=0;t.exports=class{constructor(e,t){this._ipfs=e,this._id=t,this._subscriptions={},null===this._ipfs.pubsub&&a.error("The provided version of ipfs doesn't have pubsub support. Messages will not be exchanged."),this._handleMessage=this._handleMessage.bind(this),this._ipfs.setMaxListeners&&this._ipfs.setMaxListeners(256)}async subscribe(e,t,r){if(!this._subscriptions[e]&&this._ipfs.pubsub){await this._ipfs.pubsub.subscribe(e,this._handleMessage);const n=new i(this._ipfs.pubsub,e);n.on("join",(t=>{a.debug(`Peer joined ${e}:`),a.debug(t),this._subscriptions[e]?r(e,t):(a.warn("Peer joined a room we don't have a subscription for"),a.warn(e,t))})),n.on("leave",(t=>a.debug(`Peer ${t} left ${e}`))),n.on("error",(e=>a.error(e))),this._subscriptions[e]={topicMonitor:n,onMessage:t,onNewPeer:r},o++,a.debug("Topics open:",o)}}async unsubscribe(e){this._subscriptions[e]&&(await this._ipfs.pubsub.unsubscribe(e,this._handleMessage),this._subscriptions[e].topicMonitor.stop(),delete this._subscriptions[e],a.debug(`Unsubscribed from '${e}'`),o--,a.debug("Topics open:",o))}publish(e,t){this._subscriptions[e]&&this._ipfs.pubsub&&this._ipfs.pubsub.publish(e,r.from(JSON.stringify(t)))}async disconnect(){const e=Object.keys(this._subscriptions);await n(e.map((e=>this.unsubscribe.bind(this,e)))),this._subscriptions={}}async _handleMessage(e){if(e.from===this._id)return;let t,r,n;try{n=e.topicIDs[0],t=JSON.parse(e.data),r=this._subscriptions[n]}catch(t){a.error(t),a.error("Couldn't parse pubsub message:",e)}r&&r.onMessage&&t&&await r.onMessage(n,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"orbit-db-pubsub",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-pubsub/src/ipfs-pubsub.js"}],[5352,{"p-reduce":5368},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("p-reduce");t.exports=(e,t)=>n(e,((e,r,n)=>t(r,n))).then((()=>e))}}},{package:"p-each-series",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-store/node_modules/p-each-series/index.js"}],[5353,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=class{constructor(e){this.id=e,this._index=[]}get(){return this._index}async updateIndex(e,t){this._index=e.values}}}}},{package:"orbit-db-store",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-store/src/Index.js"}],[5354,{events:2082,"ipfs-log":4453,logplease:5183,"p-map":5366},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("events").EventEmitter,i=e("p-map"),s=e("ipfs-log"),a=e("logplease"),o=a.create("replicator",{color:a.Colors.Cyan});a.setLogLevel("ERROR");const u=e=>e.next,c=(e,t)=>e.concat(t),l=e=>null!==e&&e!==undefined,d=(e,t)=>(e[t]=t,e);t.exports=class extends n{constructor(e,t){super(),this._store=e,this._fetching={},this._stats={tasksRequested:0,tasksStarted:0,tasksProcessed:0},this._buffer=[],this._concurrency=t||128,this._queue={},this._q=new Set,this._flushTimer=setInterval((()=>{0===this.tasksRunning&&Object.keys(this._queue).length>0&&(o.warn("Had to flush the queue!",Object.keys(this._queue).length,"items in the queue, ",this.tasksRequested,this.tasksFinished," tasks requested/finished"),setTimeout((()=>this._processQueue()),0))}),3e3)}get tasksRequested(){return this._stats.tasksRequested}get tasksStarted(){return this._stats.tasksStarted}get tasksRunning(){return this._stats.tasksStarted-this._stats.tasksProcessed}get tasksQueued(){return Math.max(Object.keys(this._queue).length-this.tasksRunning,0)}get tasksFinished(){return this._stats.tasksProcessed}getQueue(){return Object.values(this._queue)}load(e){const t=e=>{const t=e.hash||e;return!this._store._oplog.has(t)&&!this._fetching[t]&&!this._queue[t]};try{e.filter(l).filter(t).forEach(this._addToQueue.bind(this)),setTimeout((()=>this._processQueue()),0)}catch(e){console.error(e)}}stop(){clearInterval(this._flushTimer)}_addToQueue(e){const t=e.hash||e;this._stats.tasksRequested+=1,this._queue[t]=e}async _processQueue(){if(this.tasksRunning<this._concurrency){const e=this._concurrency-this.tasksRunning,t=Object.values(this._queue).slice(0,e).filter(l);t.forEach((e=>delete this._queue[e.hash||e]));const r=e=>e.reduce(c,[]).reduce(d,{}),n=e=>{const r=Object.values(e).filter(l);if(t.length>0&&this._buffer.length>0||0===this.tasksRunning&&this._buffer.length>0){const e=this._buffer.slice();this._buffer=[],this.emit("load.end",e)}r.length>0&&this.load(r)};return i(t,(e=>this._processOne(e))).then(r).then(n)}}async _processOne(e){const t=e.hash||e;if(this._store._oplog.has(t)||this._fetching[t])return;this._fetching[t]=t,this.emit("load.added",e),this._stats.tasksStarted+=1;const r=await s.fromEntryHash(this._store._ipfs,this._store.identity,t,{logId:this._store._oplog.id,access:this._store.access,length:1,exclude:[]});this._buffer.push(r);const n=r.values[0];return delete this._queue[t],this._stats.tasksProcessed+=1,this.emit("load.progress",this._id,t,n,null,this._buffer.length),r.values.map(u).reduce(c,[])}}}}},{package:"orbit-db-store",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-store/src/Replicator.js"}],[5355,{"./Index":5353,"./Replicator":5354,"./replication-info":5356,buffer:2081,events:2082,"ipfs-log":4453,logplease:5183,"orbit-db-io":5336,"p-each-series":5352,"readable-stream":5700},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("events").EventEmitter,i=e("readable-stream"),s=e("p-each-series"),a=e("ipfs-log"),o=e("./Index"),u=e("./Replicator"),c=e("./replication-info"),l=e("logplease"),d=l.create("orbit-db.store",{color:l.Colors.Blue});l.setLogLevel("ERROR");const h=e("orbit-db-io"),f={Index:o,maxHistory:-1,directory:"./orbitdb",fetchEntryTimeout:null,replicate:!0,referenceCount:64,replicationConcurrency:128,syncLocal:!1,sortFn:undefined};t.exports=class{constructor(e,t,r,i){if(!t)throw new Error("Identity required");let s=Object.assign({},f);Object.assign(s,i),this.options=s,this._type="store",this.id=r.toString(),this.identity=t,this.address=r,this.dbname=r.path||"",this.events=new n,this._ipfs=e,this._cache=i.cache;const o={canAppend:e=>e.identity.publicKey===t.publicKey};this.access=i.accessController||o,this._oplog=new a(this._ipfs,this.identity,{logId:this.id,access:this.access,sortFn:this.options.sortFn}),this._index=new this.options.Index(this.address.root),this._replicationStatus=new c,this._stats={snapshot:{bytesLoaded:-1},syncRequestsReceieved:0};try{this._replicator=new u(this,this.options.replicationConcurrency),this._loader=this._replicator,this._replicator.on("load.added",(e=>{this._replicationStatus.queued++,this._recalculateReplicationMax(e.clock?e.clock.time:0),this.events.emit("replicate",this.address.toString(),e)})),this._replicator.on("load.progress",((e,t,r,n,i)=>{this._replicationStatus.buffered>i?this._recalculateReplicationProgress(this.replicationStatus.progress+i):this._recalculateReplicationProgress(this._oplog.length+i),this._replicationStatus.buffered=i,this._recalculateReplicationMax(this.replicationStatus.progress),this.events.emit("replicate.progress",this.address.toString(),t,r,this.replicationStatus.progress,this.replicationStatus.max)}));const e=async(e,t)=>{try{for(let t of e)await this._oplog.join(t);this._replicationStatus.queued-=e.length,this._replicationStatus.buffered=this._replicator._buffer.length,await this._updateIndex();const t=this._oplog.heads;await this._cache.set("_remoteHeads",t),d.debug(`Saved heads ${t.length} [${t.map((e=>e.hash)).join(", ")}]`),this.events.emit("replicated",this.address.toString(),e.length)}catch(e){console.error(e)}};this._replicator.on("load.end",e)}catch(e){console.error("Store Error:",e)}}get all(){return Array.isArray(this._index._index)?this._index._index:Object.keys(this._index._index).map((e=>this._index._index[e]))}get index(){return this._index._index}get type(){return this._type}get key(){return this._key}get replicationStatus(){return this._replicationStatus}setIdentity(e){this.identity=e,this._oplog.setIdentity(e)}async close(){return this.options.onClose&&await this.options.onClose(this.address.toString()),this._replicator.stop(),this._replicationStatus.reset(),this._stats={snapshot:{bytesLoaded:-1},syncRequestsReceieved:0},this.events.removeAllListeners("load"),this.events.removeAllListeners("load.progress"),this.events.removeAllListeners("replicate"),this.events.removeAllListeners("replicate.progress"),this.events.removeAllListeners("replicated"),this.events.removeAllListeners("ready"),this.events.removeAllListeners("write"),await this._cache.close(),this.events.emit("closed",this.address.toString()),Promise.resolve()}async drop(){await this.close(),await this._cache.destroy(),this._index=new this.options.Index(this.address.root),this._oplog=new a(this._ipfs,this.identity,{logId:this.id,access:this.access,sortFn:this.options.sortFn}),this._cache=this.options.cache}async load(e,{fetchEntryTimeout:t}={}){e=e||this.options.maxHistory,t=t||this.options.fetchEntryTimeout;const r=await this._cache.get("_localHeads")||[],n=await this._cache.get("_remoteHeads")||[],i=r.concat(n);i.length>0&&this.events.emit("load",this.address.toString(),i),await s(i,(async r=>{this._recalculateReplicationMax(r.clock.time);const n=await a.fromEntryHash(this._ipfs,this.identity,r.hash,{logId:this._oplog.id,access:this.access,sortFn:this.options.sortFn,length:e,exclude:this._oplog.values,onProgressCallback:this._onLoadProgress.bind(this),timeout:t});await this._oplog.join(n,e)})),i.length>0&&await this._updateIndex(),this.events.emit("ready",this.address.toString(),this._oplog.heads)}sync(e){if(this._stats.syncRequestsReceieved+=1,d.debug(`Sync request #${this._stats.syncRequestsReceieved} ${e.length}`),0===e.length)return;return s(e,(async e=>{if(!e)return console.warn("Warning: Given input entry was 'null'."),Promise.resolve(null);const t=this.identity.provider;if(!t)throw new Error("Identity-provider is required, cannot verify entry");if(!await this.access.canAppend(e,t))return console.warn("Warning: Given input entry is not allowed in this log and was discarded (no write access)."),Promise.resolve(null);const r=Object.assign({},e);r.hash=null;const n=0===r.v?"dag-pb":"dag-cbor";return await h.write(this._ipfs,n,r,{links:["next"],onlyHash:!0})!==e.hash&&console.warn("\"WARNING! Head hash didn't match the contents"),e})).then((async e=>this._replicator.load(e.filter((e=>null!==e)))))}loadMoreFrom(e,t){this._replicator.load(t)}async saveSnapshot(){const e=this._replicator.getQueue();let t=this._oplog.toSnapshot(),n=r.from(JSON.stringify({id:t.id,heads:t.heads,size:t.values.length,type:this.type}));const s=new i;let a=new Uint16Array([n.length]),o=r.from(a.buffer);s.push(o),s.push(n);t.values.forEach((e=>{let t=r.from(JSON.stringify(e)),n=new Uint16Array([t.length]);s.push(r.from(n.buffer)),s.push(t)})),s.push(null);const u=this._ipfs.files.add?await this._ipfs.files.add(s):await this._ipfs.add(s);return await this._cache.set("snapshot",u[u.length-1]),await this._cache.set("queue",e),d.debug(`Saved snapshot: ${u[u.length-1].hash}, queue length: ${e.length}`),u}async loadFromSnapshot(e){this.events.emit("load",this.address.toString());const t=(e,t)=>Math.max(e,t.clock.time),n=await this._cache.get("queue");this.sync(n||[]);const i=await this._cache.get("snapshot");if(!i)throw new Error(`Snapshot for ${this.address} not found!`);{const e=this._ipfs.files.catReadableStream?await this._ipfs.files.catReadableStream(i.hash):await this._ipfs.catReadableStream(i.hash),n=()=>new Promise(((t,n)=>{let i=r.alloc(0),s=[];e.on("data",(e=>{if(this._byteSize+=e.length,s.length<2e4)s.push(e);else{const e=r.concat(s);i=r.concat([i,e]),s=[]}})),e.on("end",(()=>{if(s.length>0){const e=r.concat(s);i=r.concat([i,e])}function e(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;++n)r[n]=e[n];return t}const n=parseInt(new Uint16Array(e(i.slice(0,2))));let a;try{a=JSON.parse(i.slice(2,n+2))}catch(e){}let o=[],u=2+n;for(;u<i.length;){const t=parseInt(new Uint16Array(e(i.slice(u,u+2))));u+=2;const r=i.slice(u,u+t);try{const e=JSON.parse(r);o.push(e)}catch(e){}u+=t}a?(this._type=a.type,t({values:o,id:a.id,heads:a.heads,type:a.type})):t({values:o,id:null,heads:null,type:null})}))})),s=(e,t,r,n)=>{this._recalculateReplicationStatus(r,t.clock.time),this._onLoadProgress(e,t)},o=await n();if(this._recalculateReplicationMax(o.values.reduce(t,0)),o){const e=await a.fromJSON(this._ipfs,this.identity,o,{access:this.access,sortFn:this.options.sortFn,length:-1,timeout:1e3,onProgressCallback:s});await this._oplog.join(e),await this._updateIndex(),this.events.emit("replicated",this.address.toString())}this.events.emit("ready",this.address.toString(),this._oplog.heads)}return this}async _updateIndex(){this._recalculateReplicationMax(),await this._index.updateIndex(this._oplog),this._recalculateReplicationProgress()}async syncLocal(){const e=await this._cache.get("_localHeads")||[],t=await this._cache.get("_remoteHeads")||[],r=e.concat(t);for(let e=0;e<r.length;e++){const t=r[e];if(!this._oplog.heads.includes(t)){await this.load();break}}}async _addOperation(e,t,r,n){if(this._oplog){this.options.syncLocal&&await this.syncLocal();const t=await this._oplog.append(e,this.options.referenceCount);return this._recalculateReplicationStatus(this.replicationStatus.progress+1,t.clock.time),await this._cache.set("_localHeads",[t]),await this._updateIndex(),this.events.emit("write",this.address.toString(),t,this._oplog.heads),n&&n(t),t.hash}}_addOperationBatch(e,t,r,n){throw new Error("Not implemented!")}_onLoadProgress(e,t,r,n){this._recalculateReplicationStatus(r,n),this.events.emit("load.progress",this.address.toString(),e,t,this.replicationStatus.progress,this.replicationStatus.max)}_recalculateReplicationProgress(e){this._replicationStatus.progress=Math.max.apply(null,[this._replicationStatus.progress,this._oplog.length,e||0]),this._recalculateReplicationMax(this.replicationStatus.progress)}_recalculateReplicationMax(e){this._replicationStatus.max=Math.max.apply(null,[this._replicationStatus.max,this._oplog.length,e||0])}_recalculateReplicationStatus(e,t){this._recalculateReplicationProgress(e),this._recalculateReplicationMax(t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"orbit-db-store",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-store/src/Store.js"}],[5356,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=class{constructor(){this.reset()}reset(){this.progress=0,this.max=0,this.buffered=0,this.queued=0}}}}},{package:"orbit-db-store",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db-store/src/replication-info.js"}],[5357,{"./db-manifest":5358,"./exchange-heads":5359,"./orbit-db-address":5360,"./utils":5361,logplease:5183,"orbit-db-access-controllers":5308,"orbit-db-cache":5320,"orbit-db-counterstore":5322,"orbit-db-docstore":5325,"orbit-db-eventstore":5327,"orbit-db-feedstore":5329,"orbit-db-identity-provider":5330,"orbit-db-keystore":5337,"orbit-db-kvstore":5349,"orbit-db-pubsub":5350,path:5396},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("path"),i=e("orbit-db-eventstore"),s=e("orbit-db-feedstore"),a=e("orbit-db-kvstore"),o=e("orbit-db-counterstore"),u=e("orbit-db-docstore"),c=e("orbit-db-pubsub"),l=e("orbit-db-cache"),d=e("orbit-db-keystore"),h=e("orbit-db-identity-provider");let f=e("orbit-db-access-controllers");const p=e("./orbit-db-address"),g=e("./db-manifest"),m=e("./exchange-heads"),{isDefined:y,io:b}=e("./utils"),v=e("logplease"),_=v.create("orbit-db");v.setLogLevel("ERROR");let E={counter:o,eventlog:i,feed:s,docstore:u,keyvalue:a};class w{constructor(e,t,r={}){if(!y(e))throw new Error("IPFS is a required argument. See https://github.com/orbitdb/orbit-db/blob/master/API.md#createinstance");if(!y(t))throw new Error("identity is a required argument. See https://github.com/orbitdb/orbit-db/blob/master/API.md#createinstance");this._ipfs=e,this.identity=t,this.id=r.peerId,this._pubsub=r&&r.broker?new r.broker(this._ipfs):new c(this._ipfs,this.id),this.directory=r.directory||"./orbitdb",this.keystore=r.keystore,this.cache=r.cache||l,this.stores={},this._directConnections={},f=r.AccessControllers||f}static async createInstance(e,t={}){if(!y(e))throw new Error("IPFS is a required argument. See https://github.com/orbitdb/orbit-db/blob/master/API.md#createinstance");const{id:r}=await e.id(),i=t.directory||"./orbitdb",s=t.keystore||d.create(n.join(i,r,"/keystore")),a=t.identity||await h.createIdentity({id:t.id||r,keystore:s});t=Object.assign({},t,{peerId:r,directory:i,keystore:s});return new w(e,a,t)}async feed(e,t={}){return t=Object.assign({create:!0,type:"feed"},t),this.open(e,t)}async log(e,t={}){return t=Object.assign({create:!0,type:"eventlog"},t),this.open(e,t)}async eventlog(e,t={}){return this.log(e,t)}async keyvalue(e,t={}){return t=Object.assign({create:!0,type:"keyvalue"},t),this.open(e,t)}async kvstore(e,t={}){return this.keyvalue(e,t)}async counter(e,t={}){return t=Object.assign({create:!0,type:"counter"},t),this.open(e,t)}async docs(e,t={}){return t=Object.assign({create:!0,type:"docstore"},t),this.open(e,t)}async docstore(e,t={}){return this.docs(e,t)}async disconnect(){this.keystore.close&&await this.keystore.close();const e=Object.values(this.stores);for(let t of e)await t.close(),delete this.stores[t.address.toString()];Object.keys(this._directConnections).forEach((e=>{this._directConnections[e].close(),delete this._directConnections[e]})),this._pubsub&&await this._pubsub.disconnect(),this.stores={}}async stop(){await this.disconnect()}async _createStore(e,t,r){const n=E[e];if(!n)throw new Error(`Invalid database type '${e}'`);let i;r.accessControllerAddress&&(i=await f.resolve(this,r.accessControllerAddress,r.accessController));const s=await this._loadCache(this.directory,t),a=Object.assign({replicate:!0},r,{accessController:i,keystore:this.keystore,cache:s,onClose:this._onClose.bind(this)}),o=r.identity||this.identity,u=new n(this._ipfs,o,t,a);u.events.on("write",this._onWrite.bind(this));const c=t.toString();return this.stores[c]=u,a.replicate&&this._pubsub&&this._pubsub.subscribe(c,this._onMessage.bind(this),this._onPeerConnected.bind(this)),u}_onWrite(e,t,r){if(!r)throw new Error("'heads' not defined");this._pubsub&&this._pubsub.publish(e,r)}async _onMessage(e,t){const r=this.stores[e];try{_.debug(`Received ${t.length} heads for '${e}':\n`,JSON.stringify(t.map((e=>e.hash)),null,2)),r&&t&&t.length>0&&await r.sync(t)}catch(e){_.error(e)}}async _onPeerConnected(e,t){_.debug(`New peer '${t}' connected to '${e}'`);const r=e=>this.stores[e];await m(this._ipfs,e,t,r,(e=>this._directConnections[e]),((e,t)=>this._onMessage(e,t)),(e=>this._directConnections[e._receiverID]=e));r(e)&&r(e).events.emit("peer",t)}async _onClose(e){_.debug(`Close ${e}`),this._pubsub&&await this._pubsub.unsubscribe(e),delete this.stores[e]}async _determineAddress(e,t,r={}){if(!w.isValidType(t))throw new Error(`Invalid database type '${t}'`);if(p.isValid(e))throw new Error("Given database name is an address. Please give only the name of the database!");r.accessController=Object.assign({},{name:e,type:"ipfs"},r.accessController);const i=await f.create(this,r.accessController.type,r.accessController||{}),s=await g(this._ipfs,e,t,i,r);return p.parse(n.join("/orbitdb",s,e))}async create(e,t,r={}){_.debug("create()");const n=r.directory||this.directory;_.debug(`Creating database '${e}' as ${t} in '${n}'`);const i=await this._determineAddress(e,t,r),s=await this._loadCache(n,i);if(await this._haveLocalData(s,i)&&!r.overwrite)throw new Error(`Database '${i}' already exists!`);return await this._addManifestToCache(n,i),_.debug(`Created database '${i}'`),this.open(i,r)}async determineAddress(e,t,r={}){const n=Object.assign({},{onlyHash:!0},r);return this._determineAddress(e,t,n)}async open(e,t={}){_.debug("open()"),t=Object.assign({localOnly:!1,create:!1},t),_.debug(`Open database '${e}'`);const r=t.directory||this.directory;if(_.debug(`Look from '${r}'`),!p.isValid(e)){if(t.create){if(t.create&&!t.type)throw new Error(`Database type not provided! Provide a type with 'options.type' (${w.databaseTypes.join("|")})`);return _.warn(`Not a valid OrbitDB address '${e}', creating the database`),t.overwrite=!t.overwrite||t.overwrite,this.create(e,t.type,t)}throw new Error("'options.create' set to 'false'. If you want to create a database, set 'options.create' to 'true'.")}const n=p.parse(e),i=await this._loadCache(r,n),s=await this._haveLocalData(i,n);if(_.debug((s?"Found":"Didn't find")+` database '${n}'`),t.localOnly&&!s)throw _.warn(`Database '${n}' doesn't exist!`),new Error(`Database '${n}' doesn't exist!`);_.debug(`Loading Manifest for '${n}'`);const a=await b.read(this._ipfs,n.root);if(_.debug(`Manifest for '${n}':\n${JSON.stringify(a,null,2)}`),t.type&&a.type!==t.type)throw new Error(`Database '${n}' is type '${a.type}' but was opened as '${t.type}'`);return await this._addManifestToCache(r,n),t=Object.assign({},t,{accessControllerAddress:a.accessController}),this._createStore(a.type,n,t)}async _addManifestToCache(e,t){const r=await this._loadCache(e,t);await r.set(n.join(t.toString(),"_manifest"),t.root),_.debug(`Saved manifest to IPFS as '${t.root}'`)}async _loadCache(e,t){let r;try{r=await this.cache.load(e,t)}catch(e){console.log(e),_.error("Couldn't load Cache:",e)}return r}async _haveLocalData(e,t){if(!e)return!1;const r=await e.get(n.join(t.toString(),"_manifest"));return r!==undefined&&null!==r}static get databaseTypes(){return Object.keys(E)}static isValidType(e){return Object.keys(E).includes(e)}static addDatabaseType(e,t){if(E[e])throw new Error(`Type already exists: ${e}`);E[e]=t}static getDatabaseTypes(){return E}static isValidAddress(e){return p.isValid(e)}static parseAddress(e){return p.parse(e)}}t.exports=w}}},{package:"orbit-db",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db/src/OrbitDB.js"}],[5358,{"orbit-db-io":5336,path:5396},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("path"),i=e("orbit-db-io");t.exports=async(e,t,r,s,a)=>{const o={name:t,type:r,accessController:n.join("/ipfs",s)};return i.write(e,a.format||"dag-cbor",o,a)}}}},{package:"orbit-db",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db/src/db-manifest.js"}],[5359,{"ipfs-pubsub-1on1":4488,logplease:5183},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("ipfs-pubsub-1on1"),i=e("logplease"),s=i.create("exchange-heads",{color:i.Colors.Yellow});i.setLogLevel("ERROR");t.exports=async(e,t,r,i,a,o,u)=>{const c=e=>{const t=JSON.parse(e.data),{address:r,heads:n}=t;o(r,n)};let l=a(r);if(!l)try{s.debug(`Create a channel to ${r}`),l=await n.open(e,r),l.on("message",c),s.debug(`Channel created to ${r}`),u(l)}catch(e){s.error(e)}await l.connect(),s.debug(`Connected to ${r}`);const d=(h=i(t))&&h._oplog?h._oplog.heads:[];var h;return s.debug(`Send latest heads of '${t}':\n`,JSON.stringify(d.map((e=>e.hash)),null,2)),d&&await l.send(JSON.stringify({address:t,heads:d})),l}}}},{package:"orbit-db",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db/src/exchange-heads.js"}],[5360,{cids:2119,multihashes:5234,path:5396},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("path"),i=(e("multihashes"),e("cids")),s=e=>""!==e&&" "!==e;class a{constructor(e,t){this.root=e,this.path=t}toString(){return n.join("/orbitdb",this.root,this.path)}static isValid(e){const t=e.toString().split("/").filter(((t,r)=>!((0===r||1===r)&&0===e.toString().indexOf("/orbit")&&"orbitdb"===t))).filter(s);let r;try{r=t[0].indexOf("zd")>-1||t[0].indexOf("Qm")>-1?new i(t[0]).toBaseEncodedString():null}catch(e){return!1}return null!==r}static parse(e){if(!e)throw new Error(`Not a valid OrbitDB address: ${e}`);if(!a.isValid(e))throw new Error(`Not a valid OrbitDB address: ${e}`);const t=e.toString().split("/").filter(((t,r)=>!((0===r||1===r)&&0===e.toString().indexOf("/orbit")&&"orbitdb"===t))).filter((e=>""!==e&&" "!==e));return new a(t[0],t.slice(1,t.length).join("/"))}}t.exports=a}}},{package:"orbit-db",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db/src/orbit-db-address.js"}],[5361,{"./is-defined":5362,"orbit-db-io":5336},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./is-defined"),i=e("orbit-db-io");t.exports={isDefined:n,io:i}}}},{package:"orbit-db",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db/src/utils/index.js"}],[5362,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e=>e!==undefined&&null!==e}}},{package:"orbit-db",file:"/home/gudahtt/projects/metamask-extension/node_modules/orbit-db/src/utils/is-defined.js"}],[5364,{},function(){with(this)return function(){"use strict";return function(e,t,r){const n=async(e,t)=>{let r=0;for(const n of e)await t(await n,r++);return e};t.exports=n,t.exports.default=n}}},{package:"p-each-series",file:"/home/gudahtt/projects/metamask-extension/node_modules/p-each-series/index.js"}],[5365,{"p-reduce":5368},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("p-reduce");t.exports=(e,t)=>{const r=[];return n(e,((e,n,i)=>Promise.resolve(t(n,i)).then((e=>{r.push(e)})))).then((()=>r))}}}},{package:"p-map-series",file:"/home/gudahtt/projects/metamask-extension/node_modules/p-map-series/index.js"}],[5366,{},function(){with(this)return function(){"use strict";return function(e,t,r){const n=(e,t,r)=>new Promise(((n,i)=>{if(r=Object.assign({concurrency:Infinity},r),"function"!=typeof t)throw new TypeError("Mapper function is required");const{concurrency:s}=r;if(!("number"==typeof s&&s>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${s}\` (${typeof s})`);const a=[],o=e[Symbol.iterator]();let u=!1,c=!1,l=0,d=0;const h=()=>{if(u)return;const e=o.next(),r=d;if(d++,e.done)return c=!0,void(0===l&&n(a));l++,Promise.resolve(e.value).then((e=>t(e,r))).then((e=>{a[r]=e,l--,h()}),(e=>{u=!0,i(e)}))};for(let e=0;e<s&&(h(),!c);e++);}));t.exports=n,t.exports.default=n}}},{package:"p-map",file:"/home/gudahtt/projects/metamask-extension/node_modules/p-map/index.js"}],[5367,{eventemitter3:2582},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("eventemitter3");class i{constructor(){this._queue=[]}enqueue(e,t){const r={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);const n=function(e,t,r){let n=0,i=e.length;for(;i>0;){const s=i/2|0;let a=n+s;r(e[a],t)<=0?(n=++a,i-=s+1):i=s}return n}(this._queue,r,((e,t)=>t.priority-e.priority));this._queue.splice(n,0,r)}dequeue(){return this._queue.shift().run}get size(){return this._queue.length}}t.exports=class extends n{constructor(e){if(super(),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:i,...e}).concurrency&&e.concurrency>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e.concurrency}\` (${typeof e.concurrency})`);if(!("number"==typeof e.intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${e.intervalCap}\` (${typeof e.intervalCap})`);if(!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${e.interval}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===Infinity||0===e.interval,this._intervalCount=0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._intervalId=null,this._intervalEnd=0,this._timeoutId=null,this.queue=new e.queueClass,this._queueClass=e.queueClass,this._pendingCount=0,this._concurrency=e.concurrency,this._isPaused=!1===e.autoStart,this._resolveEmpty=()=>{},this._resolveIdle=()=>{}}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother()}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=()=>{},0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=()=>{})}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=null}_intervalPaused(){const e=Date.now();if(null===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return null===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this.queue.size)return clearInterval(this._intervalId),this._intervalId=null,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._intervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this.queue.dequeue()(),e&&this._initializeIntervalIfNeeded(),!0}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||null!==this._intervalId||(this._intervalId=setInterval((()=>this._onInterval()),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){for(0===this._intervalCount&&0===this._pendingCount&&(clearInterval(this._intervalId),this._intervalId=null),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;this._tryToStartAnother(););}async add(e,t){return new Promise(((r,n)=>{this.queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{r(await e())}catch(e){n(e)}this._next()}),t),this._tryToStartAnother()}))}async addAll(e,t){return Promise.all(e.map((e=>this.add(e,t))))}start(){if(this._isPaused)for(this._isPaused=!1;this._tryToStartAnother(););}pause(){this._isPaused=!0}clear(){this.queue=new this._queueClass}async onEmpty(){if(0!==this.queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this.queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this.queue.size}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}}}}},{package:"p-queue",file:"/home/gudahtt/projects/metamask-extension/node_modules/p-queue/index.js"}],[5368,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=(e,t,r)=>new Promise(((n,i)=>{const s=e[Symbol.iterator]();let a=0;const o=e=>{const r=s.next();r.done?n(e):Promise.all([e,r.value]).then((e=>{o(t(e[0],e[1],a++))})).catch(i)};o(r)}))}}},{package:"p-reduce",file:"/home/gudahtt/projects/metamask-extension/node_modules/p-reduce/index.js"}],[5369,{"@sindresorhus/is":5370,"p-reduce":5368},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("p-reduce"),i=e("@sindresorhus/is");t.exports=e=>{const t=[];for(const t of e){const e=i(t);if("Function"!==e)return Promise.reject(new TypeError(`Expected task to be a \`Function\`, received \`${e}\``))}return n(e,((e,r)=>Promise.resolve().then(r).then((e=>{t.push(e)})))).then((()=>t))}}}},{package:"p-series",file:"/home/gudahtt/projects/metamask-extension/node_modules/p-series/index.js"}],[5370,{"../../../../../is-buffer/index.js":4686,util:2087},function(){with(this)return function(){"use strict";return function(e,t,r){(function(n){(function(){Object.defineProperty(r,"__esModule",{value:!0});const i=e("util"),s=Object.prototype.toString,a=e=>t=>typeof t===e,o=e=>{const t=s.call(e).slice(8,-1);return t||null},u=e=>t=>o(t)===e;function c(e){if(null===e)return"null";if(!0===e||!1===e)return"boolean";const t=typeof e;if("undefined"===t)return"undefined";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if(c.function_(e))return"Function";if(Array.isArray(e))return"Array";if(n.isBuffer(e))return"Buffer";const r=o(e);if(r)return r;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}!function(e){const t=e=>"object"==typeof e;e.undefined=a("undefined"),e.string=a("string"),e.number=a("number"),e.function_=a("function"),e.null_=e=>null===e,e.class_=t=>e.function_(t)&&t.toString().startsWith("class "),e.boolean=e=>!0===e||!1===e,e.symbol=a("symbol"),e.array=Array.isArray,e.buffer=n.isBuffer,e.nullOrUndefined=t=>e.null_(t)||e.undefined(t),e.object=r=>!e.nullOrUndefined(r)&&(e.function_(r)||t(r)),e.iterable=t=>!e.nullOrUndefined(t)&&e.function_(t[Symbol.iterator]),e.generator=t=>e.iterable(t)&&e.function_(t.next)&&e.function_(t.throw),e.nativePromise=u("Promise");e.promise=r=>e.nativePromise(r)||(r=>!e.null_(r)&&t(r)&&e.function_(r.then)&&e.function_(r.catch))(r);const r=t=>r=>e.function_(r)&&e.function_(r.constructor)&&r.constructor.name===t;e.generatorFunction=r("GeneratorFunction"),e.asyncFunction=r("AsyncFunction"),e.boundFunction=t=>e.function_(t)&&!t.hasOwnProperty("prototype"),e.regExp=u("RegExp"),e.date=u("Date"),e.error=u("Error"),e.map=u("Map"),e.set=u("Set"),e.weakMap=u("WeakMap"),e.weakSet=u("WeakSet"),e.int8Array=u("Int8Array"),e.uint8Array=u("Uint8Array"),e.uint8ClampedArray=u("Uint8ClampedArray"),e.int16Array=u("Int16Array"),e.uint16Array=u("Uint16Array"),e.int32Array=u("Int32Array"),e.uint32Array=u("Uint32Array"),e.float32Array=u("Float32Array"),e.float64Array=u("Float64Array"),e.arrayBuffer=u("ArrayBuffer"),e.sharedArrayBuffer=u("SharedArrayBuffer"),e.dataView=u("DataView"),e.directInstanceOf=(t,r)=>e.object(t)&&e.object(r)&&Object.getPrototypeOf(t)===r.prototype,e.truthy=e=>Boolean(e),e.falsy=e=>!e,e.nan=e=>Number.isNaN(e);const s=new Set(["undefined","string","number","boolean","symbol"]);e.primitive=t=>e.null_(t)||s.has(typeof t),e.integer=e=>Number.isInteger(e),e.safeInteger=e=>Number.isSafeInteger(e),e.plainObject=e=>{let t;return"Object"===o(e)&&(t=Object.getPrototypeOf(e),null===t||t===Object.getPrototypeOf({}))};const c=new Set(["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"]);e.typedArray=e=>{const t=o(e);return null!==t&&c.has(t)};e.arrayLike=t=>!e.nullOrUndefined(t)&&!e.function_(t)&&(t=>e.safeInteger(t)&&t>-1)(t.length),e.inRange=(t,r)=>{if(e.number(r))return t>=Math.min(0,r)&&t<=Math.max(r,0);if(e.array(r)&&2===r.length)return t>=Math.min.apply(null,r)&&t<=Math.max.apply(null,r);throw new TypeError(`Invalid range: ${i.inspect(r)}`)};const l=["innerHTML","ownerDocument","style","attributes","nodeValue"];e.domElement=t=>e.object(t)&&1===t.nodeType&&e.string(t.nodeName)&&!e.plainObject(t)&&l.every((e=>e in t)),e.nodeStream=r=>!e.nullOrUndefined(r)&&t(r)&&e.function_(r.pipe),e.infinite=e=>e===Infinity||e===-Infinity;const d=t=>r=>e.integer(r)&&Math.abs(r%2)===t;e.even=d(0),e.odd=d(1);e.empty=t=>e.falsy(t)||(t=>(e.string(t)||e.array(t))&&0===t.length)(t)||(t=>!e.map(t)&&!e.set(t)&&e.object(t)&&0===Object.keys(t).length)(t)||(t=>(e.map(t)||e.set(t))&&0===t.size)(t),e.emptyOrWhitespace=t=>e.empty(t)||(t=>e.string(t)&&!1===/\S/.test(t))(t);const h=(t,r,n)=>{const s=Array.prototype.slice.call(n,1);if(!1===e.function_(r))throw new TypeError(`Invalid predicate: ${i.inspect(r)}`);if(0===s.length)throw new TypeError("Invalid number of values");return t.call(s,r)};e.any=function(e){return h(Array.prototype.some,e,arguments)},e.all=function(e){return h(Array.prototype.every,e,arguments)}}(c||(c={})),Object.defineProperties(c,{class:{value:c.class_},function:{value:c.function_},null:{value:c.null_}}),r.default=c,t.exports=c,t.exports.default=c}).call(this)}).call(this,{isBuffer:e("../../../../../is-buffer/index.js")})}}},{package:"@sindresorhus/is",file:"/home/gudahtt/projects/metamask-extension/node_modules/p-series/node_modules/@sindresorhus/is/dist/index.js"}],[5371,{"p-map":5366},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("p-map"),i=async(e,t,r)=>n(new Array(e).fill(),((e,r)=>t(r)),r);t.exports=i,t.exports.default=i}}},{package:"p-times",file:"/home/gudahtt/projects/metamask-extension/node_modules/p-times/index.js"}],[5372,{},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e=>new Promise((t=>{t(e())}));t.exports=(e,t)=>n((function r(){if(e())return n(t).then(r)}))}}},{package:"p-whilst",file:"/home/gudahtt/projects/metamask-extension/node_modules/p-whilst/index.js"}],[5393,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},r.decode=function(e){for(var t={},r=e.split("&"),n=0,i=r.length;n<i;n++){var s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}}}},{package:"parseqs",file:"/home/gudahtt/projects/metamask-extension/node_modules/parseqs/index.js"}],[5394,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,r=e.indexOf("["),s=e.indexOf("]");-1!=r&&-1!=s&&(e=e.substring(0,r)+e.substring(r,s).replace(/:/g,";")+e.substring(s,e.length));for(var a,o,u=n.exec(e||""),c={},l=14;l--;)c[i[l]]=u[l]||"";return-1!=r&&-1!=s&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=function(e,t){var r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,c.path),c.queryKey=(a=c.query,o={},a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(o[t]=r)})),o),c}}}},{package:"parseuri",file:"/home/gudahtt/projects/metamask-extension/node_modules/parseuri/index.js"}],[54,{"../../../../shared/constants/time":6192,"../../../../shared/modules/fetch-with-timeout":6197,"./resolver":53,"@babel/runtime/helpers/interopRequireDefault":195,"base32-encode":1951,"base64-js":1954,"webextension-polyfill":6160},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({provider:e,getCurrentChainId:t,getIpfsGateway:r}){const n=d.map((e=>`*://*.${e}/*`));return a.default.webRequest.onErrorOccurred.addListener(o,{urls:n,types:["main_frame"]}),{remove(){a.default.webRequest.onErrorOccurred.removeListener(o)}};async function o(n){const{tabId:o,url:u}=n;if(-1===o||"0x1"!==t())return;const{hostname:h,pathname:f,search:p,hash:g}=new URL(u),m=h.split("."),y=m[m.length-1];d.includes(y)&&async function({tabId:t,name:n,pathname:o,search:u,fragment:d}){const h=r();a.default.tabs.update(t,{url:"loading.html"});let f=`https://app.ens.domains/name/${n}`;try{const{type:r,hash:p}=await(0,c.default)({provider:e,name:n});if("ipfs-ns"===r||"ipns-ns"===r){const e=`https://${p}.${r.slice(0,4)}.${h}${o}${u||""}${d||""}`;try{200===(await l(e,{method:"HEAD"})).status&&(f=e)}catch(e){console.warn(e)}}else if("swarm-ns"===r)f=`https://swarm-gateways.net/bzz:/${p}${o}${u||""}${d||""}`;else if("onion"===r||"onion3"===r)f=`http://${p}.onion${o}${u||""}${d||""}`;else if("zeronet"===r)f=`http://127.0.0.1:43110/${p}${o}${u||""}${d||""}`;else if("skynet-ns"===r){const e=p.padEnd(p.length+4-p.length%4,"="),t=s.default.toByteArray(e),r={padding:!1};f=`https://${(0,i.default)(t,"RFC4648-HEX",r).toLowerCase()}.siasky.net${o}${u||""}${d||""}`}}catch(e){console.warn(e)}finally{a.default.tabs.update(t,{url:f})}}({tabId:o,name:h,pathname:f,search:p,fragment:g})}};var i=n(e("base32-encode")),s=n(e("base64-js")),a=n(e("webextension-polyfill")),o=e("../../../../shared/constants/time"),u=n(e("../../../../shared/modules/fetch-with-timeout")),c=n(e("./resolver"));const l=(0,u.default)(30*o.SECOND),d=["eth"]}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/ens-ipfs/setup.js"}],[540,{"@ethereumjs/tx":543,"@keystonehq/bc-ur-registry-eth":548,buffer:2081,"ethereumjs-util":2521,hdkey:4375,uuid:6009},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,i=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,s=e("ethereumjs-util"),a=e("@ethereumjs/tx"),o=e("@keystonehq/bc-ur-registry-eth"),u=e("uuid");const c="QR Hardware Wallet Device",l="m",d="0/*";var h,f;!function(e){e.hd="hd",e.pubkey="pubkey"}(h||(h={})),function(e){e.standard="account.standard",e.ledger_live="account.ledger_live",e.ledger_legacy="account.ledger_legacy"}(f||(f={}));class p{constructor(e){this.version=1,this.getInteraction=()=>{throw new Error("KeystoneError#invalid_extends: method getInteraction not implemented, please extend BaseKeyring by overwriting this method.")},this.type=c,this.requestSignature=async(e,t,r,n)=>{const i=await this.getInteraction().requestSignature(t,r,n),s=i.getRequestId(),a=i.getSignature();if(s){if(u.stringify(s)!==e)throw new Error("KeystoneError#invalid_data: read signature error: mismatched requestId")}return{r:a.slice(0,32),s:a.slice(32,64),v:a.slice(64)}},this.__readCryptoHDKey=e=>{var t,r;const n=`m/${e.getOrigin().getPath()}`,i=null==(t=e.getOrigin().getSourceFingerprint())?void 0:t.toString("hex"),s=(null==(r=e.getChildren())?void 0:r.getPath())||d,a=e.getName();if(e.getNote()===f.standard?this.keyringAccount=f.standard:e.getNote()===f.ledger_legacy&&(this.keyringAccount=f.ledger_legacy),!i)throw new Error("KeystoneError#invalid_data: invalid crypto-hdkey, cannot get source fingerprint");const o=e.getBip32Key();this.xfp=i,this.xpub=o,this.hdPath=n,this.childrenPath=s,a!==undefined&&""!==a&&(this.name=a),this.initialized=!0},this.__readCryptoAccount=e=>{var t,r;const n=null==(t=e.getMasterFingerprint())?void 0:t.toString("hex");if(!n)throw new Error("KeystoneError#invalid_data: invalid crypto-account, cannot get master fingerprint");this.xfp=n,this.initialized=!0;let i=!1;const a=e.getOutputDescriptors();if(!a||0===a.length)throw new Error("KeystoneError#invalid_data: invalid crypto-account, no crypto output found");if(a.length%5!=0)throw new Error("KeystoneError#invalid_data: only support 5x pubkey accounts for now");return null==(r=e.getOutputDescriptors())||r.forEach((e=>{try{const t=e.getHDKey();if(t){const e=t.getKey(),r=`M/${t.getOrigin().getPath()}`,n="0x"+s.publicToAddress(e,!0).toString("hex");this.name=t.getName(),t.getNote()===f.ledger_live&&(this.keyringAccount=f.ledger_live),this.paths[s.toChecksumAddress(n)]===undefined&&(i=!0),this.paths[s.toChecksumAddress(n)]=r}}catch(e){throw new Error(`KeystoneError#invalid_data: ${e}`)}})),i},this.getName=()=>this.name,this.setAccountToUnlock=e=>{this.unlockedAccount=parseInt(e,10)},this.__getNormalPage=e=>(this.page+=e,this.page<=0&&(this.page=1),new Promise((async(e,t)=>{try{const t=(this.page-1)*this.perPage,r=t+this.perPage,n=[];for(let e=t;e<r;e++){const t=await this.__addressFromIndex(l,e);n.push({address:t,balance:null,index:e}),this.indexes[s.toChecksumAddress(t)]=e}e(n)}catch(e){t(e)}}))),this.__getLedgerLivePage=e=>{const t=this.page+e;return new Promise((async(r,n)=>{try{const n=(t-1)*this.perPage,i=n+this.perPage,s=[];for(let e=n;e<i;e++){const t=await this.__addressFromIndex(l,e);s.push({address:t,balance:null,index:e})}this.page+=e,r(s)}catch(e){n(e)}}))},this.__addressFromIndex=async(e,t)=>{if(this.keyringMode===h.hd){this.checkKeyring(),this.hdk||(this.hdk=i.fromExtendedKey(this.xpub));const r=this.childrenPath.replace("*",String(t)).replaceAll("*","0"),n=this.hdk.derive(`${e}/${r}`),a="0x"+s.publicToAddress(n.publicKey,!0).toString("hex");return s.toChecksumAddress(a)}{const e=Object.keys(this.paths)[t];if(e)return s.toChecksumAddress(e);throw new Error("KeystoneError#pubkey_account.no_expected_account")}},this.page=0,this.perPage=5,this.accounts=[],this.currentAccount=0,this.unlockedAccount=0,this.name="QR Hardware",this.keyringMode=h.hd,this.keyringAccount=f.standard,this.initialized=!1,this.xfp="",this.xpub="",this.hdPath="",this.childrenPath=d,this.indexes={},this.paths={},this.deserialize(e)}async readKeyring(){const e=await this.getInteraction().readCryptoHDKeyOrCryptoAccount();e.getRegistryType()===o.extend.RegistryTypes.CRYPTO_HDKEY?(this.keyringMode=h.hd,this.__readCryptoHDKey(e)):(this.keyringMode=h.pubkey,this.__readCryptoAccount(e))}checkKeyring(){if(!this.xfp||!this.xpub||!this.hdPath)throw new Error("KeystoneError#invalid_keyring: keyring not fulfilled, please call function `readKeyring` firstly")}serialize(){return Promise.resolve({initialized:this.initialized,accounts:this.accounts,currentAccount:this.currentAccount,page:this.page,perPage:this.perPage,keyringAccount:this.keyringAccount,keyringMode:this.keyringMode,name:this.name,version:this.version,xfp:this.xfp,xpub:this.xpub,hdPath:this.hdPath,childrenPath:this.childrenPath,indexes:this.indexes,paths:this.paths})}deserialize(e){e&&(this.accounts=e.accounts,this.currentAccount=e.currentAccount,this.page=e.page,this.perPage=e.perPage,this.name=e.name,this.initialized=e.initialized,this.keyringMode=e.keyringMode||h.hd,this.keyringAccount=e.keyringAccount||f.standard,this.xfp=e.xfp,this.xpub=e.xpub,this.hdPath=e.hdPath,this.indexes=e.indexes,this.paths=e.paths,this.childrenPath=e.childrenPath||d)}setCurrentAccount(e){this.currentAccount=e}getCurrentAccount(){return this.currentAccount}getCurrentAddress(){return this.accounts[this.currentAccount]}addAccounts(e=1){return new Promise((async(t,r)=>{try{const r=this.unlockedAccount,n=r+e,i=[];for(let e=r;e<n;e++){const t=await this.__addressFromIndex(l,e);i.push(t),this.page=0,this.unlockedAccount++}this.accounts=this.accounts.concat(i),t(this.accounts)}catch(e){r(e)}}))}getFirstPage(){return this.page=0,this.__getPage(1)}getNextPage(){return this.__getPage(1)}getPreviousPage(){return this.__getPage(-1)}async __getPage(e){return this.initialized||await this.readKeyring(),this.keyringMode===h.hd?this.__getNormalPage(e):this.__getLedgerLivePage(e)}getAccounts(){return Promise.resolve(this.accounts)}removeAccount(e){if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((t=>t.toLowerCase()!==e.toLowerCase()))}static serializeTx(e){return e.v=new s.BN(e.common.chainId()),e.r=new s.BN(0),e.s=new s.BN(0),e.serialize()}async signTransaction(e,t){const r=await this._pathFromAddress(e),n=t.common.chainId(),i=u.v4(),s=o.EthSignRequest.constructETHRequest(p.serializeTx(t),o.DataType.transaction,r,this.xfp,i,n),{r:c,s:l,v:d}=await this.requestSignature(i,s,"Scan with your Keystone",'After your Keystone has signed the transaction, click on "Scan Keystone" to receive the signature'),h=t.toJSON();return a.Transaction.fromTxData({to:h.to,gasLimit:h.gasLimit,gasPrice:h.gasPrice,data:h.data,nonce:h.nonce,value:h.value,r:c,s:l,v:d},{common:t.common})}signMessage(e,t){return this.signPersonalMessage(e,t)}async signPersonalMessage(e,r){const n=s.stripHexPrefix(r),i=await this._pathFromAddress(e),a=u.v4(),c=o.EthSignRequest.constructETHRequest(t.from(n,"hex"),o.DataType.personalMessage,i,this.xfp,a,undefined,e),{r:l,s:d,v:h}=await this.requestSignature(a,c,"Scan with your Keystone",'After your Keystone has signed this message, click on "Scan Keystone" to receive the signature');return"0x"+t.concat([l,d,h]).toString("hex")}async signTypedData(e,r){const n=await this._pathFromAddress(e),i=u.v4(),s=o.EthSignRequest.constructETHRequest(t.from(JSON.stringify(r),"utf-8"),o.DataType.typedData,n,this.xfp,i,undefined,e),{r:a,s:c,v:l}=await this.requestSignature(i,s,"Scan with your Keystone",'After your Keystone has signed this data, click on "Scan Keystone" to receive the signature');return"0x"+t.concat([a,c,l]).toString("hex")}async _pathFromAddress(e){if(this.keyringMode===h.hd){const t=s.toChecksumAddress(e);let r=this.indexes[t];if(void 0===r)for(let e=0;e<1e3;e++)if(t===await this.__addressFromIndex(l,e)){r=e;break}if(void 0===r)throw new Error("Unknown address");return`${this.hdPath}/${this.childrenPath.replace("*",r.toString()).replaceAll("*","0")}`}{const t=s.toChecksumAddress(e),r=this.paths[t];if(void 0===r)throw new Error("Unknown address");return r}}}p.type=c,r.BaseKeyring=p}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/base-eth-keyring",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/base-eth-keyring/dist/base-eth-keyring.cjs.development.js"}],[5406,{buffer:2081,"buffer-from":2092,duplexify:5407,through2:5408},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("duplexify"),i=e("through2"),s=e("buffer-from"),a=function(e,t){if("number"==typeof e&&(e={maxBuffer:e}),"function"==typeof e)return a(null,e);e||(e={});var o="number"==typeof e.maxBuffer?e.maxBuffer:65535,u=e.strict,c=!1!==e.newline,l=[],d=0,h=n.obj(),f=i.obj({highWaterMark:1},(function(e,t,n){if(function(e){return!r.isBuffer(e)&&"string"!=typeof e}(e))return g(e,null,n);if(r.isBuffer(e)||(e=s(e)),c){var i=Array.prototype.indexOf.call(e,10);if(i>0&&13===e[i-1]&&i--,i>-1)return l.push(e.slice(0,i)),g(r.concat(l),e.slice(i),n)}return l.push(e),(d+=e.length)<o?n():u?n(new Error("No newline found")):void g(r.concat(l),null,n)})),p=function(){if(u)return h.destroy(new Error("No newline found"));h.cork(),g(r.concat(l),null,(function(e){if(e)return h.destroy(e);h.uncork()}))},g=function(e,r,n){h.removeListener("preend",p),t(e,(function(t,i){if(t)return n(t);h.setWritable(i),h.setReadable(i),e&&i.write(e),r&&i.write(r),r=l=f=null,n()}))};return h.on("preend",p),h.setWritable(f),h};t.exports=a}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"peek-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/peek-stream/index.js"}],[5407,{_process:5420,buffer:2081,"end-of-stream":2338,inherits:4404,"readable-stream":5700,"stream-shift":5895},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r,n){(function(){var i=e("readable-stream"),s=e("end-of-stream"),a=e("inherits"),o=e("stream-shift"),u=n.from&&n.from!==Uint8Array.from?n.from([0]):new n([0]),c=function(e,t){e._corked?e.once("uncork",t):t()},l=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},d=function(e,t,r){if(!(this instanceof d))return new d(e,t,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};a(d,i.Duplex),d.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new d(e,t,r)},d.prototype.cork=function(){1==++this._corked&&this.emit("cork")},d.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},d.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,n=s(e,{writable:!0,readable:!1},l(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&r.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=function(){t._writable.removeListener("drain",i),n()},this.uncork()}else this.end()},d.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,n=s(e,{writable:!1,readable:!0},l(this)),a=function(){r._forward()},o=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new i.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",a),this._readable2.on("end",o),this._unread=function(){r._readable2.removeListener("readable",a),r._readable2.removeListener("end",o),n()},this._forward()}},d.prototype._read=function(){this._drained=!0,this._forward()},d.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=o(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},d.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;r.nextTick((function(){t._destroy(e)}))}},d.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},d.prototype._write=function(e,t,r){return this.destroyed?r():this._corked?c(this,this._write.bind(this,e,t,r)):e===u?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:r()):r()},d.prototype._finish=function(e){var t=this;this.emit("preend"),c(this,(function(){var r,n;r=t._forwardEnd&&t._writable,n=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),c(t,e)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()}))},d.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(u),i.Writable.prototype.end.call(this,r))},t.exports=d}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"duplexify",file:"/home/gudahtt/projects/metamask-extension/node_modules/peek-stream/node_modules/duplexify/index.js"}],[5408,{_process:5420,"readable-stream":5700,util:2087,xtend:6171},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("readable-stream").Transform,i=e("util").inherits,s=e("xtend");function a(e){n.call(this,e),this._destroyed=!1}function o(e,t,r){r(null,e)}function u(e){return function(t,r,n){return"function"==typeof t&&(n=r,r=t,t={}),"function"!=typeof r&&(r=o),"function"!=typeof n&&(n=null),e(t,r,n)}}i(a,n),a.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;r.nextTick((function(){e&&t.emit("error",e),t.emit("close")}))}},t.exports=u((function(e,t,r){var n=new a(e);return n._transform=t,r&&(n._flush=r),n})),t.exports.ctor=u((function(e,t,r){function n(t){if(!(this instanceof n))return new n(t);this.options=s(e,t),a.call(this,this.options)}return i(n,a),n.prototype._transform=t,r&&(n.prototype._flush=r),n})),t.exports.obj=u((function(e,t,r){var n=new a(s({objectMode:!0,highWaterMark:16},e));return n._transform=t,r&&(n._flush=r),n}))}).call(this)}).call(this,e("_process"))}}},{package:"through2",file:"/home/gudahtt/projects/metamask-extension/node_modules/peek-stream/node_modules/through2/through2.js"}],[5409,{"../../is-buffer/index.js":4686,bs58:2088,"peer-id":5410,"peer-info":5411},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("bs58"),i=e("peer-id"),s=e("peer-info");function a(e){let t;if("string"==typeof e)t=e;else if(r.isBuffer(e))t=n.encode(e).toString();else if(i.isPeerId(e))t=e.toB58String();else{if(!s.isPeerInfo(e))throw new Error("not valid PeerId or PeerInfo, or B58Str");t=e.id.toB58String()}return t}t.exports=class{constructor(){this._peers={}}has(e){const t=a(e);return Boolean(this._peers[t])}put(e,t){const r=this._peers[e.id.toB58String()];if(!r||t)return this._peers[e.id.toB58String()]=e,e;e.multiaddrs.forEach((e=>r.multiaddrs.add(e)));const n=e.isConnected();return n&&r.connect(n),e.protocols.forEach((e=>r.protocols.add(e))),!r.id.privKey&&e.id.privKey&&(r.id.privKey=e.id.privKey),!r.id.pubKey&&e.id.pubKey&&(r.id.pubKey=e.id.pubKey),r}get(e){const t=a(e),r=this._peers[t];if(r)return r;throw new Error("PeerInfo not found")}getAll(){return this._peers}getAllArray(){return Object.keys(this._peers).map((e=>this._peers[e]))}getMultiaddrs(e){return this.get(e).multiaddrs.toArray()}remove(e){const t=a(e);this._peers[t]&&delete this._peers[t]}}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"peer-book",file:"/home/gudahtt/projects/metamask-extension/node_modules/peer-book/src/index.js"}],[541,{"@ethereumjs/tx":543,"@keystonehq/bc-ur-registry-eth":548,buffer:2081,"ethereumjs-util":2521,hdkey:4375,uuid:6009},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,i,s,a=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,o=e("ethereumjs-util"),u=e("@ethereumjs/tx"),c=e("@keystonehq/bc-ur-registry-eth"),l=e("uuid");!function(e){e.hd="hd",e.pubkey="pubkey"}(i||(i={})),function(e){e.standard="account.standard",e.ledger_live="account.ledger_live",e.ledger_legacy="account.ledger_legacy"}(s||(s={}));class d{constructor(e){this.version=1,this.getInteraction=()=>{throw new Error("KeystoneError#invalid_extends: method getInteraction not implemented, please extend BaseKeyring by overwriting this method.")},this.type="QR Hardware Wallet Device",this.requestSignature=async(e,t,r,n)=>{const i=await this.getInteraction().requestSignature(t,r,n),s=i.getRequestId(),a=i.getSignature();if(s&&l.stringify(s)!==e)throw new Error("KeystoneError#invalid_data: read signature error: mismatched requestId");return{r:a.slice(0,32),s:a.slice(32,64),v:a.slice(64)}},this.__readCryptoHDKey=e=>{var t,r;const n="m/"+e.getOrigin().getPath(),i=null==(t=e.getOrigin().getSourceFingerprint())?void 0:t.toString("hex"),a=(null==(r=e.getChildren())?void 0:r.getPath())||"0/*",o=e.getName();if(e.getNote()===s.standard?this.keyringAccount=s.standard:e.getNote()===s.ledger_legacy&&(this.keyringAccount=s.ledger_legacy),!i)throw new Error("KeystoneError#invalid_data: invalid crypto-hdkey, cannot get source fingerprint");const u=e.getBip32Key();this.xfp=i,this.xpub=u,this.hdPath=n,this.childrenPath=a,void 0!==o&&""!==o&&(this.name=o),this.initialized=!0},this.__readCryptoAccount=e=>{var t,r;const n=null==(t=e.getMasterFingerprint())?void 0:t.toString("hex");if(!n)throw new Error("KeystoneError#invalid_data: invalid crypto-account, cannot get master fingerprint");this.xfp=n,this.initialized=!0;let i=!1;const a=e.getOutputDescriptors();if(!a||0===a.length)throw new Error("KeystoneError#invalid_data: invalid crypto-account, no crypto output found");if(a.length%5!=0)throw new Error("KeystoneError#invalid_data: only support 5x pubkey accounts for now");return null==(r=e.getOutputDescriptors())||r.forEach((e=>{try{const t=e.getHDKey();if(t){const e=t.getKey(),r="M/"+t.getOrigin().getPath(),n="0x"+o.publicToAddress(e,!0).toString("hex");this.name=t.getName(),t.getNote()===s.ledger_live&&(this.keyringAccount=s.ledger_live),void 0===this.paths[o.toChecksumAddress(n)]&&(i=!0),this.paths[o.toChecksumAddress(n)]=r}}catch(e){throw new Error("KeystoneError#invalid_data: "+e)}})),i},this.getName=()=>this.name,this.setAccountToUnlock=e=>{this.unlockedAccount=parseInt(e,10)},this.__getNormalPage=e=>(this.page+=e,this.page<=0&&(this.page=1),new Promise((async(e,t)=>{try{const t=(this.page-1)*this.perPage,r=t+this.perPage,n=[];for(let e=t;e<r;e++){const t=await this.__addressFromIndex("m",e);n.push({address:t,balance:null,index:e}),this.indexes[o.toChecksumAddress(t)]=e}e(n)}catch(e){t(e)}}))),this.__getLedgerLivePage=e=>{const t=this.page+e;return new Promise((async(r,n)=>{try{const n=(t-1)*this.perPage,i=n+this.perPage,s=[];for(let e=n;e<i;e++){const t=await this.__addressFromIndex("m",e);s.push({address:t,balance:null,index:e})}this.page+=e,r(s)}catch(e){n(e)}}))},this.__addressFromIndex=async(e,t)=>{if(this.keyringMode===i.hd){this.checkKeyring(),this.hdk||(this.hdk=a.fromExtendedKey(this.xpub));const r=this.childrenPath.replace("*",String(t)).replaceAll("*","0"),n=this.hdk.derive(`${e}/${r}`),i="0x"+o.publicToAddress(n.publicKey,!0).toString("hex");return o.toChecksumAddress(i)}{const e=Object.keys(this.paths)[t];if(e)return o.toChecksumAddress(e);throw new Error("KeystoneError#pubkey_account.no_expected_account")}},this.page=0,this.perPage=5,this.accounts=[],this.currentAccount=0,this.unlockedAccount=0,this.name="QR Hardware",this.keyringMode=i.hd,this.keyringAccount=s.standard,this.initialized=!1,this.xfp="",this.xpub="",this.hdPath="",this.childrenPath="0/*",this.indexes={},this.paths={},this.deserialize(e)}async readKeyring(){const e=await this.getInteraction().readCryptoHDKeyOrCryptoAccount();e.getRegistryType()===c.extend.RegistryTypes.CRYPTO_HDKEY?(this.keyringMode=i.hd,this.__readCryptoHDKey(e)):(this.keyringMode=i.pubkey,this.__readCryptoAccount(e))}checkKeyring(){if(!this.xfp||!this.xpub||!this.hdPath)throw new Error("KeystoneError#invalid_keyring: keyring not fulfilled, please call function `readKeyring` firstly")}serialize(){return Promise.resolve({initialized:this.initialized,accounts:this.accounts,currentAccount:this.currentAccount,page:this.page,perPage:this.perPage,keyringAccount:this.keyringAccount,keyringMode:this.keyringMode,name:this.name,version:this.version,xfp:this.xfp,xpub:this.xpub,hdPath:this.hdPath,childrenPath:this.childrenPath,indexes:this.indexes,paths:this.paths})}deserialize(e){e&&(this.accounts=e.accounts,this.currentAccount=e.currentAccount,this.page=e.page,this.perPage=e.perPage,this.name=e.name,this.initialized=e.initialized,this.keyringMode=e.keyringMode||i.hd,this.keyringAccount=e.keyringAccount||s.standard,this.xfp=e.xfp,this.xpub=e.xpub,this.hdPath=e.hdPath,this.indexes=e.indexes,this.paths=e.paths,this.childrenPath=e.childrenPath||"0/*")}setCurrentAccount(e){this.currentAccount=e}getCurrentAccount(){return this.currentAccount}getCurrentAddress(){return this.accounts[this.currentAccount]}addAccounts(e=1){return new Promise((async(t,r)=>{try{const r=this.unlockedAccount,n=r+e,i=[];for(let e=r;e<n;e++){const t=await this.__addressFromIndex("m",e);i.push(t),this.page=0,this.unlockedAccount++}this.accounts=this.accounts.concat(i),t(this.accounts)}catch(e){r(e)}}))}getFirstPage(){return this.page=0,this.__getPage(1)}getNextPage(){return this.__getPage(1)}getPreviousPage(){return this.__getPage(-1)}async __getPage(e){return this.initialized||await this.readKeyring(),this.keyringMode===i.hd?this.__getNormalPage(e):this.__getLedgerLivePage(e)}getAccounts(){return Promise.resolve(this.accounts)}removeAccount(e){if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((t=>t.toLowerCase()!==e.toLowerCase()))}static serializeTx(e){return e.v=new o.BN(e.common.chainId()),e.r=new o.BN(0),e.s=new o.BN(0),e.serialize()}async signTransaction(e,t){const r=await this._pathFromAddress(e),n=t.common.chainId(),i=l.v4(),s=c.EthSignRequest.constructETHRequest(d.serializeTx(t),c.DataType.transaction,r,this.xfp,i,n),{r:a,s:o,v:h}=await this.requestSignature(i,s,"Scan with your Keystone",'After your Keystone has signed the transaction, click on "Scan Keystone" to receive the signature'),f=t.toJSON();return u.Transaction.fromTxData({to:f.to,gasLimit:f.gasLimit,gasPrice:f.gasPrice,data:f.data,nonce:f.nonce,value:f.value,r:a,s:o,v:h},{common:t.common})}signMessage(e,t){return this.signPersonalMessage(e,t)}async signPersonalMessage(e,r){const n=o.stripHexPrefix(r),i=await this._pathFromAddress(e),s=l.v4(),a=c.EthSignRequest.constructETHRequest(t.from(n,"hex"),c.DataType.personalMessage,i,this.xfp,s,void 0,e),{r:u,s:d,v:h}=await this.requestSignature(s,a,"Scan with your Keystone",'After your Keystone has signed this message, click on "Scan Keystone" to receive the signature');return"0x"+t.concat([u,d,h]).toString("hex")}async signTypedData(e,r){const n=await this._pathFromAddress(e),i=l.v4(),s=c.EthSignRequest.constructETHRequest(t.from(JSON.stringify(r),"utf-8"),c.DataType.typedData,n,this.xfp,i,void 0,e),{r:a,s:o,v:u}=await this.requestSignature(i,s,"Scan with your Keystone",'After your Keystone has signed this data, click on "Scan Keystone" to receive the signature');return"0x"+t.concat([a,o,u]).toString("hex")}async _pathFromAddress(e){if(this.keyringMode===i.hd){const t=o.toChecksumAddress(e);let r=this.indexes[t];if(void 0===r)for(let e=0;e<1e3;e++)if(t===await this.__addressFromIndex("m",e)){r=e;break}if(void 0===r)throw new Error("Unknown address");return`${this.hdPath}/${this.childrenPath.replace("*",r.toString()).replaceAll("*","0")}`}{const t=o.toChecksumAddress(e),r=this.paths[t];if(void 0===r)throw new Error("Unknown address");return r}}}d.type="QR Hardware Wallet Device",r.BaseKeyring=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/base-eth-keyring",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/base-eth-keyring/dist/base-eth-keyring.cjs.production.min.js"}],[5410,{assert:1700,"async/waterfall":1779,buffer:2081,"class-is":2121,"libp2p-crypto/src/keys":4855,multihashes:5234},function(){with(this)return function(){"use strict";return function(e,t,r){(function(n){(function(){const i=e("multihashes"),s=e("libp2p-crypto/src/keys"),a=e("assert"),o=e("async/waterfall"),u=e("class-is");const c=u(class{constructor(e,t,r){a(n.isBuffer(e),"invalid id provided"),t&&r&&a(t.public.bytes.equals(r.bytes),"inconsistent arguments"),this._id=e,this._idB58String=i.toB58String(this.id),this._privKey=t,this._pubKey=r}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return s.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return s.marshalPrivateKey(this.privKey)}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let t=6;return e.length<t&&(t=e.length),"<peer.ID "+e.substr(0,t)+">"}toJSON(){return{id:this.toB58String(),privKey:h(this.marshalPrivKey()),pubKey:h(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(e){if(n.isBuffer(e))return this.id.equals(e);if(e.id)return this.id.equals(e.id);throw new Error("not valid Id")}isValid(e){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?e():e(new Error("Keys not match"))}},{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});r=t.exports=c;const l=(e,t)=>{if(e.bytes.length<=42){const r=i.encode(e.bytes,"identity");t(null,r)}else e.hash(((e,r)=>{t(e,r)}))},d=(e,t,r)=>{l(t,((n,i)=>{null!=n?r(n):r(null,new c(i,e,t))}))};function h(e){if(e)return e.toString("base64")}r.create=function(e,t){"function"==typeof e&&(t=e,e={}),(e=e||{}).bits=e.bits||2048,e.keyType=e.keyType||"RSA",s.generateKeyPair(e.keyType,e.bits,((e,r)=>{null!=e?t(e):d(r,r.public,t)}))},r.createFromHexString=function(e){return new c(i.fromHexString(e))},r.createFromBytes=function(e){return new c(e)},r.createFromB58String=function(e){return new c(i.fromB58String(e))},r.createFromPubKey=function(e,t){if("function"!=typeof t)throw new Error("callback is required");let r;try{let t=e;if("string"==typeof t&&(t=n.from(e,"base64")),!n.isBuffer(t))throw new Error("Supplied key is neither a base64 string nor a buffer");r=s.unmarshalPublicKey(t)}catch(e){return t(e)}d(null,r,t)},r.createFromPrivKey=function(e,t){if("function"!=typeof t)throw new Error("callback is required");let r=e;try{if("string"==typeof r&&(r=n.from(e,"base64")),!n.isBuffer(r))throw new Error("Supplied key is neither a base64 string nor a buffer")}catch(e){return t(e)}s.unmarshalPrivateKey(r,((e,r)=>{null!=e?t(e):d(r,r.public,t)}))},r.createFromJSON=function(e,t){if("function"!=typeof t)throw new Error("callback is required");let r,a,u,d;try{r=i.fromB58String(e.id),a=e.privKey&&n.from(e.privKey,"base64"),u=e.pubKey&&n.from(e.pubKey,"base64"),d=u&&s.unmarshalPublicKey(u)}catch(e){return t(e)}a?o([e=>s.unmarshalPrivateKey(a,e),(e,t)=>{l(e.public,((r,n)=>{t(r,n,e)}))},(e,t,r)=>{d?l(d,((n,i)=>{r(n,e,t,i)})):r(null,e,t)}],((e,n,i,s)=>e?t(e):d&&!n.equals(s)?t(new Error("Public and private key do not match")):r&&!n.equals(r)?t(new Error("Id and private key do not match")):void t(null,new c(r,i,d)))):t(null,new c(r,null,d))},r.isPeerId=function(e){return Boolean("object"==typeof e&&e._id&&e._idB58String)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"peer-id",file:"/home/gudahtt/projects/metamask-extension/node_modules/peer-id/src/index.js"}],[5411,{"./multiaddr-set":5412,"./utils":5413,assert:1700,"peer-id":5410},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("peer-id"),{ensureMultiaddr:i}=e("./utils"),s=e("./multiaddr-set"),a=e("assert");class o{constructor(e){a(e,"Missing peerId. Use Peer.create(cb) to create one"),this.id=e,this.multiaddrs=new s,this.protocols=new Set,this._connectedMultiaddr=undefined}connect(e){if(e=i(e),!this.multiaddrs.has(e)&&e.toString()!==`/ipfs/${this.id.toB58String()}`)throw new Error("can't be connected to missing multiaddr from set");this._connectedMultiaddr=e}disconnect(){this._connectedMultiaddr=undefined}isConnected(){return this._connectedMultiaddr}}o.create=(e,t)=>{if("function"==typeof e)return t=e,e=null,void n.create(((e,r)=>{if(e)return t(e);t(null,new o(r))}));"function"==typeof e.toJSON?t(null,new o(e)):n.createFromJSON(e,((e,r)=>t(e,new o(r))))},o.isPeerInfo=e=>Boolean("object"==typeof e&&e.id&&e.multiaddrs),t.exports=o}}},{package:"peer-info",file:"/home/gudahtt/projects/metamask-extension/node_modules/peer-info/src/index.js"}],[5412,{"./utils":5413,"unique-by":5997},function(){with(this)return function(){"use strict";return function(e,t,r){const{ensureMultiaddr:n}=e("./utils"),i=e("unique-by");t.exports=class{constructor(e){this._multiaddrs=e||[],this._observedMultiaddrs=[]}add(e){e=n(e),this.has(e)||this._multiaddrs.push(e)}addSafe(e){e=n(e);this._observedMultiaddrs.some(((t,r)=>{if(t.equals(e))return this.add(e),this._observedMultiaddrs.splice(r,1),!0}))||this._observedMultiaddrs.push(e)}toArray(){return this._multiaddrs.slice()}get size(){return this._multiaddrs.length}forEach(e){return this._multiaddrs.forEach(e)}filterBy(e){return"object"!=typeof e||"function"!=typeof e.matches||"function"!=typeof e.partialMatch||"function"!=typeof e.toString?[]:this._multiaddrs.filter((t=>e.matches(t)))}has(e){return e=n(e),this._multiaddrs.some((t=>t.equals(e)))}delete(e){e=n(e),this._multiaddrs.some(((t,r)=>{if(t.equals(e))return this._multiaddrs.splice(r,1),!0}))}replace(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),e.forEach((e=>this.delete(e))),t.forEach((e=>this.add(e)))}clear(){this._multiaddrs=[]}distinct(){return i(this._multiaddrs,(e=>[e.toOptions().port,e.toOptions().transport].join()))}}}}},{package:"peer-info",file:"/home/gudahtt/projects/metamask-extension/node_modules/peer-info/src/multiaddr-set.js"}],[5413,{multiaddr:5208},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("multiaddr");t.exports={ensureMultiaddr:function(e){return n.isMultiaddr(e)?e:n(e)}}}}},{package:"peer-info",file:"/home/gudahtt/projects/metamask-extension/node_modules/peer-info/src/utils.js"}],[5419,{_process:5420},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var s,a,o=arguments.length;switch(o){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,i)}));default:for(s=new Array(o-1),a=0;a<s.length;)s[a++]=arguments[a];return e.nextTick((function(){t.apply(null,s)}))}}:t.exports=e.nextTick}).call(this)}).call(this,e("_process"))}}},{package:"process-nextick-args",file:"/home/gudahtt/projects/metamask-extension/node_modules/process-nextick-args/index.js"}],[542,{"./base-eth-keyring.cjs.development.js":540,"./base-eth-keyring.cjs.production.min.js":541},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./base-eth-keyring.cjs.production.min.js")}}},{package:"@keystonehq/base-eth-keyring",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/base-eth-keyring/dist/index.js"}],[5421,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n;t.exports.timeout=function(e,t){var r,i=new n;return Promise.race([e,new Promise((function(e,n){r=setTimeout((function(){n(i)}),t)}))]).then((function(e){return clearTimeout(r),e}),(function(e){throw clearTimeout(r),e}))};(n=t.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"}).prototype=Object.create(Error.prototype),n.prototype.name="TimeoutError"}}},{package:"promise-timeout",file:"/home/gudahtt/projects/metamask-extension/node_modules/promise-timeout/index.js"}],[5423,{_process:5420,"is-promise":4701},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n,i=e("is-promise");n="function"==typeof setImediate?setImediate:"object"==typeof r&&r&&r.nextTick?r.nextTick:function(e){setTimeout(e,0)};var s=[];function a(e){if(!(this instanceof a))return"function"==typeof e?new a(e):(r=new a((function(e){t=e})),{resolver:t,promise:r});var t,r,o,u=!1,c=!1,l=[],d=!1;function h(e){l.length?(d=!0,l.shift()(e||!1)):d=!1}this.then=function(e,t){return new a((function(r){l.push((function(i){var s=c?e:t;if("function"==typeof s){function e(){var e;try{e=s(o)}catch(e){return r.reject(e),h()}r.fulfill(e),h(!0)}i?e():n(e)}else c?(r.fulfill(o),h(i)):(r.reject(o),h(i))})),u&&!d&&h()}))},function(){function t(e){u||(u=!0,c=!1,o=e,h())}for(var r={fulfill:function e(r){u||(i(r)?r.then(e,t):(u=c=!0,o=r,h()))},reject:t},n=0;n<s.length;n++)s[n](this,r);if("function"==typeof e)try{e(r)}catch(e){r.reject(e)}}()}t.exports=a,a.use=function(e){s.push(e)}}).call(this)}).call(this,e("_process"))}}},{package:"promise",file:"/home/gudahtt/projects/metamask-extension/node_modules/promise/index.js"}],[5424,{},function(){with(this)return function(){"use strict";return function(e,t,r){
/** PROMISIFY CALLBACK-STYLE FUNCTIONS TO ES6 PROMISES
*
* EXAMPLE:
* const fn = promisify( (callback) => callback(null, "Hello world!") );
* fn((err, str) => console.log(str));
* fn().then((str) => console.log(str));
* //Both functions, will log 'Hello world!'
*
* Note: The function you pass, may have any arguments you want, but the latest
* have to be the callback, which you will call with: next(err, value)
*
* @param method: Function/Array/Map = The function(s) to promisify
* @param options: Map =
*  "context" (default is function): The context which to apply the called function
*  "replace" (default is falsy): When passed an array/map, if to replace the original object
*
* @return: A promise if passed a function, otherwise the object with the promises
*
* @license: MIT
* @version: 1.0.3
* @author: Manuel Di Iorio
**/
var n=function(e,t){return function(){var r=Array.prototype.slice.call(arguments),n=r.length-1,i=r&&r.length>0?r[n]:null,s="function"==typeof i?i:null;return s?e.apply(t,r):new Promise((function(n,i){r.push((function(e,t){if(e)return i(e);n(t)})),e.apply(t,r)}))}};void 0===t&&(t={}),t.exports=function(e,t){t=t||{};var r=Object.prototype.toString.call(e);if("[object Object]"===r||"[object Array]"===r){var i=t.replace?e:{};for(var s in e)e.hasOwnProperty(s)&&(i[s]=n(e[s]));return i}return n(e,t.context||e)},void 0===r&&(this.promisify=t.exports)}}},{package:"promisify-es6",file:"/home/gudahtt/projects/metamask-extension/node_modules/promisify-es6/index.js"}],[543,{"./transaction":544,"./types":545},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0});var s=e("./transaction");Object.defineProperty(r,"Transaction",{enumerable:!0,get:function(){return s.default}}),i(e("./types"),r)}}},{package:"@ethereumjs/tx",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/tx/dist.browser/index.js"}],[5430,{"./parse":5431,"./stringify":5432},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./parse"),i=e("./stringify");t.exports=n,t.exports.parse=n,t.exports.stringify=i}}},{package:"protocol-buffers-schema",file:"/home/gudahtt/projects/metamask-extension/node_modules/protocol-buffers-schema/index.js"}],[5431,{"./tokenize":5433},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./tokenize"),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],s=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if("("===r&&(r=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[r]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},a=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();t.required="required"===r,t.repeated="repeated"===r,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=s(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},o=function(e){for(var t={enums:[],messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(a(e));break;case"enum":t.enums.push(p(e));break;case"message":t.messages.push(l(e));break;case"extensions":t.extensions=c(e);break;case"oneof":e.shift();var r=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var n=a(e);n.oneof=r,t.fields.push(n)}e.shift();break;case"extend":t.extends.push(u(e));break;case";":e.shift();break;case"reserved":case"option":for(e.shift();";"!==e[0];)e.shift();break;default:e.unshift("optional"),t.fields.push(a(e))}return t},u=function(e){return{name:e[1],message:l(e)}},c=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:r}},l=function(e){e.shift();var t=1,r=[],n={name:e.shift(),enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),r=o(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n;r.push(e.shift())}if(t)throw new Error("No closing tag for message")},d=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},h=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},f=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var r={value:null,options:{}};return r.value=Number(e.shift()),"["===e[0]&&(r.options=s(e)),e.shift(),{name:t,val:r}},p=function(e){e.shift();var t={},r={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),r;if("option"!==e[0]){var n=f(e);r.values[n.name]=n.val}else t=g(e),r.options[t.name]=t.value}throw new Error("No closing tag for enum")},g=function(e){for(var t=null,r=null,n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:r};switch(e[0]){case"option":e.shift();var i="("===e[0];if(i&&e.shift(),t=e.shift(),i){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(r=n(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=m(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},m=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var n="("===e[0];n&&e.shift();var i=e.shift();if(n){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var s=null;switch(e[0]){case":":if(r[i]!==undefined)throw new Error("Duplicate option map key "+i);e.shift(),"{"===(s=t(e.shift()))&&(s=m(e)),r[i]=s,";"===e[0]&&e.shift();break;case"{":if(e.shift(),s=m(e),r[i]===undefined&&(r[i]=[]),!Array.isArray(r[i]))throw new Error("Duplicate option map key "+i);r[i].push(s);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},y=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},b=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var r=g(e);if(t.options[r.name]!==undefined)throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value;break;case"rpc":t.methods.push(v(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},v=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var r=g(e);if(t.options[r.name]!==undefined)throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value}throw new Error("No closing tag for rpc")};t.exports=function(e){for(var t=n(e.toString()),r=0;r<t.length;r++){var s;if(/^("|')([^'"]*)$/.test(t[r]))for(s=1===t[r].length?r+1:r;s<t.length;s++)if(/^([^'"]*)("|')$/.test(t[s])){t=t.slice(0,r).concat(t.slice(r,s+1).join("")).concat(t.slice(s+1));break}}for(var a={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},o=!0;t.length;){switch(t[0]){case"package":a.package=d(t);break;case"syntax":if(!o)throw new Error("Protobuf syntax version should be first thing in file");a.syntax=h(t);break;case"message":a.messages.push(l(t));break;case"enum":a.enums.push(p(t));break;case"option":var c=g(t);if(a.options[c.name])throw new Error("Duplicate option "+c.name);a.options[c.name]=c.value;break;case"import":a.imports.push(y(t));break;case"extend":a.extends.push(u(t));break;case"service":a.services||(a.services=[]),a.services.push(b(t));break;default:throw new Error("Unexpected token: "+t[0])}o=!1}return a.extends.forEach((function(e){a.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),a.messages.forEach((function(e){e.fields.forEach((function(t){var r,n,s,o;if(t.options&&"true"===t.options.packed&&-1===i.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((r=t.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],s=r[1],a.messages.some((function(e){if(e.name===n)return o=e,e})),o&&o.enums&&o.enums.some((function(e){return e.name===s})))return}throw new Error("Fields of type "+t.type+" cannot be declared [packed=true]. "+"Only repeated fields of primitive numeric types (types which use "+'the varint, 32-bit, or 64-bit wire types) can be declared "packed". '+"See https://developers.google.com/protocol-buffers/docs/encoding#optional")}}))})),a}}}},{package:"protocol-buffers-schema",file:"/home/gudahtt/projects/metamask-extension/node_modules/protocol-buffers-schema/parse.js"}],[5432,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=function(e,t){var r=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),t.push((r?r+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+n+";"),t},i=function(e,t){t.push("message "+e.name+" {"),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(s(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(i(e,[]))}));var r={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(r[e.oneof]||(r[e.oneof]=[]),r[e.oneof].push(n(e,[]))):t.push(n(e,[]))})),Object.keys(r).forEach((function(e){r[e].unshift("oneof "+e+" {"),r[e].push("}"),t.push(r[e])})),t.push("}",""),t},s=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var r=o(e.options,[]);return r.length>1&&t.push(r.slice(0,-1)),Object.keys(e.values).map((function(r){var n=a(e.values[r]);t.push([r+" = "+n+";"])})),t.push("}",""),t},a=function(e,t){var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),e.value+r},o=function(e,t){var r=Object.keys(e);return r.forEach((function(r){var n=e[r];~r.indexOf(".")&&(r="("+r+")");var i=typeof n;"object"===i?(n=u(n,[])).length&&t.push("option "+r+" = {",n,"};"):("string"===i&&"optimize_for"!==r&&(n='"'+n+'"'),t.push("option "+r+" = "+n+";"))})),r.length>0&&t.push(""),t},u=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r],i=typeof n;"object"===i?Array.isArray(n)?n.forEach((function(e){(e=u(e,[])).length&&t.push(r+" {",e,"}")})):(n=u(n,[])).length&&t.push(r+" {",n,"}"):("string"===i&&(n='"'+n+'"'),t.push(r+": "+n))})),t},c=function(e,t){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var n=o(e.options,[]);return n.length>1?t.push(r+" {",n.slice(0,-1),"}"):t.push(r+";"),t},l=function(e){return function(t){return Array.isArray(t)?t.map(l(e+"  ")).join("\n"):e+t}};t.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){s(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){i(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(c(e,[]))})),t.push("}","")}(e,t)})),t.map(l("")).join("\n")}}}},{package:"protocol-buffers-schema",file:"/home/gudahtt/projects/metamask-extension/node_modules/protocol-buffers-schema/stringify.js"}],[5433,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t,r=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(r).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(r).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}}}},{package:"protocol-buffers-schema",file:"/home/gudahtt/projects/metamask-extension/node_modules/protocol-buffers-schema/tokenize.js"}],[5434,{"./utils":5439,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("varint"),i=e("./utils").defined;var s=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(t,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4;default:throw new Error("Unknown wire type: "+e)}},a=function(e,t){if(e.map)return{};if(e.repeated)return[];switch(e.type){case"string":return null!=t?t:"";case"bool":return"true"===t;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(t||0,10);default:return null}};t.exports=function(e,t,r){for(var o=[],u={},c=[],l=[],d=0;d<r.length;d++){var h=e.fields[d];u[h.tag]=d;var f=h.options&&h.options.default,p=t(h.type,e.id,!1);l[d]=[f,p&&p.values],e.fields[d].packed=h.repeated&&h.options&&h.options.packed&&"false"!==h.options.packed,h.required&&o.push(h.name),h.oneof&&c.push(h.name)}function g(e,t,r,i,s,a){var o=t.name;if(t.oneof)for(var u=Object.keys(r),l=0;l<u.length;l++)c.indexOf(u[l])>-1&&delete r[u[l]];if(e.message){var d=n.decode(i,s);s+=n.decode.bytes;var h=e.decode(i,s,s+d);t.map?(r[o]=r[o]||{},r[o][h.key]=h.value):t.repeated?(r[o]=r[o]||[],r[o].push(h)):r[o]=h}else t.repeated?(r[o]=r[o]||[],r[o].push(e.decode(i,s))):r[o]=e.decode(i,s);return s+=e.decode.bytes}return function t(d,h,f){if(null==h&&(h=0),null==f&&(f=d.length),!(f<=d.length&&h<=d.length))throw new Error("Decoded message is not valid");for(var p,m=h,y={};;){if(f<=h){var b,v,_="",E=0;for(E=0;E<o.length;E++)if(_=o[E],!i(y[_]))throw new Error("Decoded message is not valid, missing required field: "+_);for(E=0;E<r.length;E++)if(p=e.fields[E],v=l[E][0],b=l[E][1],_=p.name,!i(y[_])){var w=!1;if(p.oneof)for(var C=Object.keys(y),S=0;S<C.length;S++)if(c.indexOf(C[S])>-1){w=!0;break}w||(b?p.repeated?y[_]=[]:(v=v&&b[v]?b[v].value:b[Object.keys(b)[0]].value,y[_]=parseInt(v||0,10)):y[_]=a(p,v))}return t.bytes=h-m,y}var I=n.decode(d,h);h+=n.decode.bytes;var k=u[I>>3];if(null!=k){var T=r[k];if((p=e.fields[k]).packed){var A=n.decode(d,h);for(A+=h+=n.decode.bytes;h<A;)h=g(T,p,y,d,h)}else h=g(T,p,y,d,h)}else h=s(7&I,d,h)}}}}}},{package:"protons",file:"/home/gudahtt/projects/metamask-extension/node_modules/protons/src/compile/decode.js"}],[5435,{"./utils":5439,buffer:2081,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("./utils").defined,i=e("varint");t.exports=function(e,t,s,a,o){for(var u=Object.keys(a),c=s.length,l={},d=0;d<c;d++){l[d]={p:i.encode(e.fields[d].tag<<3|2),h:i.encode(e.fields[d].tag<<3|s[d].type)};var h=e.fields[d];e.fields[d].packed=h.repeated&&h.options&&h.options.packed&&"false"!==h.options.packed}function f(e,t,r,n,s,a){var o=0;if(!s)for(o=0;o<r.length;o++)e[t++]=r[o];return n.message&&(i.encode(n.encodingLength(a),e,t),t+=i.encode.bytes),n.encode(a,e,t),t+n.encode.bytes}return function t(d,h,p){null==p&&(p=0),null==h&&(h=r.allocUnsafe(o(d)));var g=p,m=Object.keys(d),y=0,b=!1;for(y=0;y<u.length;y++){var v=u[y],_=a[y];if(m.indexOf(_)>-1){if(b)throw new Error("only one of the properties defined in oneof "+v+" can be set");b=!0}}for(y=0;y<c;y++){var E=s[y],w=e.fields[y],C=d[w.name],S=0;if(n(C)){var I,k=l[y].p,T=l[y].h,A=w.packed;if(w.map){var x=Object.keys(C);for(S=0;S<x.length;S++)x[S]={key:x[S],value:C[x[S]]};C=x}if(A){var R=0;for(S=0;S<C.length;S++)n(C[S])&&(R+=E.encodingLength(C[S]));if(R){for(S=0;S<T.length;S++)h[p++]=k[S];i.encode(R,h,p),p+=i.encode.bytes}}if(w.repeated)for(S=0;S<C.length;S++)I=C[S],n(I)&&(p=f(h,p,T,E,A,I));else p=f(h,p,T,E,A,C)}else if(w.required)throw new Error(w.name+" is required")}return t.bytes=p-g,h}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"protons",file:"/home/gudahtt/projects/metamask-extension/node_modules/protons/src/compile/encode.js"}],[5436,{"./utils":5439,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./utils").defined,i=e("varint");t.exports=function(e,t,r){for(var s=Object.keys(r),a=t.length,o=new Array(a),u=0;u<e.fields.length;u++){o[u]=i.encodingLength(e.fields[u].tag<<3|t[u].type);var c=e.fields[u];e.fields[u].packed=c.repeated&&c.options&&c.options.packed&&"false"!==c.options.packed}return function(u){var c=0,l=0,d=0;for(l=0;l<s.length;l++){var h=s[l],f=r[h],p=!1;for(d=0;d<f.length;d++)if(n(u[f[d]])){if(p)throw new Error("only one of the properties defined in oneof "+h+" can be set");p=!0}}for(l=0;l<a;l++){var g,m=t[l],y=e.fields[l],b=u[y.name],v=o[l];if(n(b)){if(y.map){var _=Object.keys(b);for(d=0;d<_.length;d++)_[d]={key:_[d],value:b[_[d]]};b=_}if(y.packed){var E=0;for(d=0;d<b.length;d++)n(b[d])&&(E+=g=m.encodingLength(b[d]),m.message&&(E+=i.encodingLength(g)));E&&(c+=v+E+i.encodingLength(E))}else if(y.repeated)for(d=0;d<b.length;d++)n(b[d])&&(c+=v+(g=m.encodingLength(b[d]))+(m.message?i.encodingLength(g):0));else c+=v+(g=m.encodingLength(b))+(m.message?i.encodingLength(g):0)}else if(y.required)throw new Error(y.name+" is required")}return c}}}}},{package:"protons",file:"/home/gudahtt/projects/metamask-extension/node_modules/protons/src/compile/encoding-length.js"}],[5437,{"safe-buffer":5739,"signed-varint":5819,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i,s,a=e("varint"),o=e("signed-varint"),u=e("safe-buffer").Buffer,c=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};r.make=c,r.bytes=(n=function(e){return u.isBuffer(e)?e.length:u.byteLength(e)},c(2,i=function(e,t,r){var s=r,o=n(e);return a.encode(o,t,r),r+=a.encode.bytes,u.isBuffer(e)?e.copy(t,r):t.write(e,r,o),r+=o,i.bytes=r-s,t},s=function(e,t){var r=t,n=a.decode(e,t);t+=a.decode.bytes;var i=e.slice(t,t+n);return t+=i.length,s.bytes=t-r,i},(function(e){var t=n(e);return a.encodingLength(t)+t}))),r.string=function(){var e=function(t,r,n){var i=n,s=u.byteLength(t);return a.encode(s,r,n,"utf-8"),n+=a.encode.bytes,r.write(t,n,s),n+=s,e.bytes=n-i,r},t=function(e,r){var n=r,i=a.decode(e,r);r+=a.decode.bytes;var s=e.toString("utf-8",r,r+i);return r+=i,t.bytes=r-n,s};return c(2,e,t,(function(e){var t=u.byteLength(e);return a.encodingLength(t)+t}))}(),r.bool=function(){var e=function(t,r,n){return r[n]=t?1:0,e.bytes=1,r},t=function(e,r){var n=e[r]>0;return t.bytes=1,n};return c(0,e,t,(function(e){return 1}))}(),r.int32=function(){var e=function(t,r){var n=a.decode(t,r);return e.bytes=a.decode.bytes,n>2147483647?n-4294967296:n};return c(0,a.encode,e,(function(e){return a.encodingLength(e<0?e+4294967296:e)}))}(),r.int64=function(){var e=function(t,r){var n=a.decode(t,r);if(n>=Math.pow(2,63)){for(var i=9;255===t[r+i-1];)i--;i=i||9;var s=u.allocUnsafe(i);t.copy(s,0,r,r+i),s[i-1]=127&s[i-1],n=-1*a.decode(s,0),e.bytes=10}else e.bytes=a.decode.bytes;return n},t=function(e,r,n){if(e<0){var i=n+9;for(a.encode(-1*e,r,n),r[n+=a.encode.bytes-1]=128|r[n];n<i-1;)r[++n]=255;r[i]=1,t.bytes=10}else a.encode(e,r,n),t.bytes=a.encode.bytes;return r};return c(0,t,e,(function(e){return e<0?10:a.encodingLength(e)}))}(),r.sint32=r.sint64=c(0,o.encode,o.decode,o.encodingLength),r.uint32=r.uint64=r.enum=r.varint=c(0,a.encode,a.decode,a.encodingLength),r.fixed64=r.sfixed64=function(){var e=function(t,r,n){return t.copy(r,n),e.bytes=8,r},t=function(e,r){var n=e.slice(r,r+8);return t.bytes=8,n};return c(1,e,t,(function(e){return 8}))}(),r.double=function(){var e=function(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r},t=function(e,r){var n=e.readDoubleLE(r);return t.bytes=8,n};return c(1,e,t,(function(e){return 8}))}(),r.fixed32=function(){var e=function(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readUInt32LE(r);return t.bytes=4,n};return c(5,e,t,(function(e){return 4}))}(),r.sfixed32=function(){var e=function(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readInt32LE(r);return t.bytes=4,n};return c(5,e,t,(function(e){return 4}))}(),r.float=function(){var e=function(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readFloatLE(r);return t.bytes=4,n};return c(5,e,t,(function(e){return 4}))}()}}},{package:"protons",file:"/home/gudahtt/projects/metamask-extension/node_modules/protons/src/compile/encodings.js"}],[5438,{"./decode":5434,"./encode":5435,"./encoding-length":5436,"./encodings":5437,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./encodings"),i=e("./decode"),s=e("./encode"),a=e("./encoding-length"),o=e("varint");t.exports=function(e,t){var r={},u={},c={},l=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,u[e.id]=e,l(e,e.id)})),e.messages&&e.messages.forEach((function(n){n.id=t+(t?".":"")+n.name,r[n.id]=n,n.fields.forEach((function(n){if(n.map){var i="Map_"+n.map.from+"_"+n.map.to,s={name:i,enums:[],messages:[],fields:[{name:"key",type:n.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:n.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+i};r[s.id]||(r[s.id]=s,e.messages.push(s)),n.type=i,n.repeated=!0}})),l(n,n.id)}))};l(e,"");var d=function(e,t){e.messages.forEach((function(r){t[r.name]=h(r.name,e.id)})),e.enums.forEach((function(e){t[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(e.values)})),t.type=2,t.message=!0,t.name=e.name;var r={};e.fields.forEach((function(e){e.oneof&&(r[e.oneof]||(r[e.oneof]=[]),r[e.oneof].push(e.name))}));var n=e.fields.map((function(t){return h(t.type,e.id)})),o=a(e,n,r),u=s(e,h,n,r,o),c=i(e,h,n);return u.bytes=c.bytes=0,t.buffer=!0,t.encode=u,t.decode=c,t.encodingLength=o,t},h=function(e,i,s){if(t&&t[e])return t[e];if(n[e])return n[e];var a,l,h=(i?i+"."+e:e).split(".").map((function(t,r,n){return n.slice(0,r).concat(e).join(".")})).reverse().reduce((function(e,t){return e||r[t]||u[t]}),null);if(!1===s)return h;if(!h)throw new Error("Could not resolve "+e);return h.values?(a=h,l=Object.keys(a.values||[]).map((function(e){return parseInt(a.values[e].value,10)})),n.make(0,(function e(t,r,n){if(!l.length||-1===l.indexOf(t))throw new Error("Invalid enum value: "+t);return o.encode(t,r,n),e.bytes=o.encode.bytes,r}),(function e(t,r){var n=o.decode(t,r);if(!l.length||-1===l.indexOf(n))throw new Error("Invalid enum value: "+n);return e.bytes=o.decode.bytes,n}),o.encodingLength)):c[h.id]||d(h,c[h.id]={})};return(e.enums||[]).concat((e.messages||[]).map((function(e){return h(e.id)})))}}}},{package:"protons",file:"/home/gudahtt/projects/metamask-extension/node_modules/protons/src/compile/index.js"}],[5439,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.defined=function(e){return null!==e&&e!==undefined&&("number"!=typeof e||!isNaN(e))}}}},{package:"protons",file:"/home/gudahtt/projects/metamask-extension/node_modules/protons/src/compile/utils.js"}],[544,{"@ethereumjs/common":401,buffer:2081,"ethereumjs-util":2521},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var a=e("buffer"),o=e("ethereumjs-util"),u=s(e("@ethereumjs/common")),c=new o.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),l=function(){function e(e,t){var r,s,a,c=e.nonce,l=e.gasPrice,d=e.gasLimit,h=e.to,f=e.value,p=e.data,g=e.v,m=e.r,y=e.s;this.nonce=new o.BN(o.toBuffer(c)),this.gasPrice=new o.BN(o.toBuffer(l)),this.gasLimit=new o.BN(o.toBuffer(d)),this.to=h?new o.Address(o.toBuffer(h)):undefined,this.value=new o.BN(o.toBuffer(f)),this.data=o.toBuffer(p),this.v=new o.BN(o.toBuffer(g)),this.r=new o.BN(o.toBuffer(m)),this.s=new o.BN(o.toBuffer(y));var b={nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,value:this.value,r:this.r,s:this.s};try{for(var v=n(Object.entries(b)),_=v.next();!_.done;_=v.next()){var E=i(_.value,2),w=E[0],C=E[1];if(C&&C.gt(o.MAX_INTEGER))throw new Error(w+" cannot exceed MAX_INTEGER, given "+C)}}catch(e){r={error:e}}finally{try{_&&!_.done&&(s=v.return)&&s.call(v)}finally{if(r)throw r.error}}if(null==t?void 0:t.common)this.common=t.common;else{this.common=new u.default({chain:"mainnet"})}this._validateTxV(this.v),(null===(a=null==t?void 0:t.freeze)||void 0===a||a)&&Object.freeze(this)}return e.fromTxData=function(t,r){return new e(t,r)},e.fromRlpSerializedTx=function(e,t){var r=o.rlp.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,t)},e.fromValuesArray=function(t,r){if(6!==t.length&&9!==t.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");var n=i(t,9),s=n[0],u=n[1],c=n[2],l=n[3],d=n[4],h=n[5],f=n[6],p=n[7],g=n[8];return new e({nonce:new o.BN(s),gasPrice:new o.BN(u),gasLimit:new o.BN(c),to:l&&l.length>0?new o.Address(l):undefined,value:new o.BN(d),data:h||a.Buffer.from([]),v:f?new o.BN(f):undefined,r:p?new o.BN(p):undefined,s:g?new o.BN(g):undefined},r)},e.prototype.toCreationAddress=function(){return this.to===undefined||0===this.to.buf.length},e.prototype.hash=function(){var e=[o.bnToRlp(this.nonce),o.bnToRlp(this.gasPrice),o.bnToRlp(this.gasLimit),this.to!==undefined?this.to.buf:a.Buffer.from([]),o.bnToRlp(this.value),this.data,this.v?o.bnToRlp(this.v):a.Buffer.from([]),this.r?o.bnToRlp(this.r):a.Buffer.from([]),this.s?o.bnToRlp(this.s):a.Buffer.from([])];return o.rlphash(e)},e.prototype.getMessageToSign=function(){return this._getMessageToSign(this._unsignedTxImplementsEIP155())},e.prototype.getMessageToVerifySignature=function(){return this._getMessageToSign(this._signedTxImplementsEIP155())},e.prototype.getChainId=function(){return this.common.chainId()},e.prototype.getSenderAddress=function(){return new o.Address(o.publicToAddress(this.getSenderPublicKey()))},e.prototype.getSenderPublicKey=function(){var e=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&this.s&&this.s.gt(c))throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");var t=this,r=t.v,n=t.r,i=t.s;if(!r||!n||!i)throw new Error("Missing values to derive sender public key from signed tx");try{return o.ecrecover(e,r.toNumber(),o.bnToRlp(n),o.bnToRlp(i),this._signedTxImplementsEIP155()?this.getChainId():undefined)}catch(e){throw new Error("Invalid Signature")}},e.prototype.verifySignature=function(){try{var e=this.getSenderPublicKey();return 0!==o.unpadBuffer(e).length}catch(e){return!1}},e.prototype.sign=function(t){if(32!==t.length)throw new Error("Private key must be 32 bytes in length.");var r=this.getMessageToSign(),n=o.ecsign(r,t),i=n.v,s=n.r,a=n.s;this._unsignedTxImplementsEIP155()&&(i+=2*this.getChainId()+8);var u={common:this.common};return new e({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:new o.BN(i),r:new o.BN(s),s:new o.BN(a)},u)},e.prototype.getDataFee=function(){for(var e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero"),r=0,n=0;n<this.data.length;n++)0===this.data[n]?r+=e:r+=t;return new o.BN(r)},e.prototype.getBaseFee=function(){var e=this.getDataFee().addn(this.common.param("gasPrices","tx"));return this.common.gteHardfork("homestead")&&this.toCreationAddress()&&e.iaddn(this.common.param("gasPrices","txCreation")),e},e.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},e.prototype.validate=function(e){void 0===e&&(e=!1);var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().gt(this.gasLimit)&&t.push("gasLimit is too low. given "+this.gasLimit+", need at least "+this.getBaseFee()),e?t:0===t.length},e.prototype.raw=function(){return[o.bnToRlp(this.nonce),o.bnToRlp(this.gasPrice),o.bnToRlp(this.gasLimit),this.to!==undefined?this.to.buf:a.Buffer.from([]),o.bnToRlp(this.value),this.data,this.v!==undefined?o.bnToRlp(this.v):a.Buffer.from([]),this.r!==undefined?o.bnToRlp(this.r):a.Buffer.from([]),this.s!==undefined?o.bnToRlp(this.s):a.Buffer.from([])]},e.prototype.serialize=function(){return o.rlp.encode(this.raw())},e.prototype.toJSON=function(){return{nonce:o.bnToHex(this.nonce),gasPrice:o.bnToHex(this.gasPrice),gasLimit:o.bnToHex(this.gasLimit),to:this.to!==undefined?this.to.toString():undefined,value:o.bnToHex(this.value),data:"0x"+this.data.toString("hex"),v:this.v!==undefined?o.bnToHex(this.v):undefined,r:this.r!==undefined?o.bnToHex(this.r):undefined,s:this.s!==undefined?o.bnToHex(this.s):undefined}},e.prototype.isSigned=function(){var e=this,t=e.v,r=e.r,n=e.s;return!!t&&!!r&&!!n},e.prototype._unsignedTxImplementsEIP155=function(){return this.common.gteHardfork("spuriousDragon")},e.prototype._signedTxImplementsEIP155=function(){var e;if(!this.isSigned())throw Error("This transaction is not signed");var t=this.common.gteHardfork("spuriousDragon"),r=null===(e=this.v)||void 0===e?void 0:e.toNumber();return(r===2*this.getChainId()+35||r===2*this.getChainId()+36)&&t},e.prototype._getMessageToSign=function(e){var t=[o.bnToRlp(this.nonce),o.bnToRlp(this.gasPrice),o.bnToRlp(this.gasLimit),this.to!==undefined?this.to.buf:a.Buffer.from([]),o.bnToRlp(this.value),this.data];return e&&(t.push(o.toBuffer(this.getChainId())),t.push(o.unpadBuffer(o.toBuffer(0))),t.push(o.unpadBuffer(o.toBuffer(0)))),o.rlphash(t)},e.prototype._validateTxV=function(e){if(e!==undefined&&0!==e.toNumber()&&this.common.gteHardfork("spuriousDragon")){var t=e.toNumber();if(27!==t&&28!==t)if(!(t===2*this.getChainId()+35||t===2*this.getChainId()+36))throw new Error("Incompatible EIP155-based V "+t+" and chain id "+this.getChainId()+". See the Common parameter of the Transaction constructor to set the chain id.")}},e}();r.default=l}}},{package:"@ethereumjs/tx",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/tx/dist.browser/transaction.js"}],[5440,{"../../is-buffer/index.js":4686,"./compile":5438,"protocol-buffers-schema":5430},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("protocol-buffers-schema"),i=e("./compile");t.exports=function(e,t){if(t||(t={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var s="object"!=typeof e||r.isBuffer(e)?n.parse(e):e,a=function(){var e=this;i(s,t.encodings||{}).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(t.values)||t}))};return a.prototype.toString=function(){return n.stringify(s)},a.prototype.toJSON=function(){return s},new a}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"protons",file:"/home/gudahtt/projects/metamask-extension/node_modules/protons/src/index.js"}],[5441,{},function(){with(this)return function(){"use strict";return function(e,t,r){
/*!
  * prr
  * (c) 2013 Rod Vagg <rod@vagg.org>
  * https://github.com/rvagg/prr
  * License: MIT
  */
var n,i;n=this,i=function(){var e="function"==typeof Object.defineProperty?function(e,t,r){return Object.defineProperty(e,t,r),e}:function(e,t,r){return e[t]=r.value,e};return function(t,r,n,i){var s;if(i=function(e,t){var r="object"==typeof t,n=!r&&"string"==typeof t,i=function(e){return r?!!t[e]:!!n&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}}(n,i),"object"==typeof r){for(s in r)Object.hasOwnProperty.call(r,s)&&(i.value=r[s],e(t,s,i));return t}return e(t,r,i)}},void 0!==t&&t.exports?t.exports=i():n.prr=i()}}},{package:"prr",file:"/home/gudahtt/projects/metamask-extension/node_modules/prr/prr.js"}],[5449,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t,r,n=!1,i=!1;function s(){if(e)return e(n&&!0!==n?n:i&&!0!==i?i:null)}function a(){i=i||!0,function(e){s();var r=t;t=null,r&&r(n||i)}(),r&&r(n,(function(e){t&&t(e||n)}))}function o(e){return r=e,function(r,a){if(t=a,r&&(n=r),i)return a(i);n||(!0,e(r,(function(a,o){if(!1,n)return!r&&e(n,(function(){}));if(t){var u=t;t=null,a?(i=n||a,s(),u(n||a)):u(n||a,o)}})))}}return o.abort=function(e){i||(n=e||!0,a())},o}}}},{package:"pull-abortable",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-abortable/index.js"}],[545,{},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@ethereumjs/tx",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/tx/dist.browser/types.js"}],[5450,{},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e,t,r){var n=e.length;if(!n)return r(t);function i(){--n||r(t)}e.forEach((function(e){e?e(t,i):i()})),n||i()}t.exports=function(e){return function(t,r){!function i(){t?n(e,t,r):e.length?e[0]?e[0](null,(function(t,s){t?(e.shift(),!0===t?i():n(e,t,r)):r(null,s)})):(e.shift(),i()):r(!0)}()}}}}},{package:"pull-cat",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-cat/index.js"}],[5451,{"./sink":5453,"./source":5454},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./source"),i=e("./sink");t.exports=function(){var e=n(),t=i();return{source:e,sink:t,resolve:function(r){e.resolve(r.source),t.resolve(r.sink)}}}}}},{package:"pull-defer",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-defer/duplex.js"}],[5452,{"./duplex":5451,"./sink":5453,"./source":5454,"./through":5455},function(){with(this)return function(){"use strict";return function(e,t,r){r.source=e("./source"),r.through=e("./through"),r.sink=e("./sink"),r.duplex=e("./duplex")}}},{package:"pull-defer",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-defer/index.js"}],[5453,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t,r=!1;function n(n){if(!n)throw new Error("must be passed a readable");t=n,r&&e(t)}return n.resolve=n.ready=n.start=function(i){return r=!0,e=i||e,t&&e(t),n},n}}}},{package:"pull-defer",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-defer/sink.js"}],[5454,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){var e,t,r,n,i=function(i,s){e?e(i,s):i?(n=i,r=s):t=s};return i.resolve=function(i){if(e)throw new Error("already resolved");if(!(e=i))throw new Error("no read cannot resolve!"+e);t&&i(null,t),r&&i(n,r)},i.abort=function(e){i.resolve((function(t,r){r(e||!0)}))},i}}}},{package:"pull-defer",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-defer/source.js"}],[5455,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){var e,t,r,n,i;function s(s){return i?i(s):(e=s,function(e,i){t?t(e,i):(n=e,r=i)})}return s.resolve=function(s){if(i)throw new Error("already resolved");if(!(i=s))throw new Error("resolve *must* be passed a transform stream");e&&(t=i(e),r&&t(n,r))},s}}}},{package:"pull-defer",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-defer/through.js"}],[5456,{"pull-cat":5450,"pull-pair":5470,"pull-pushable":5471,"pull-reader":5472},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("pull-reader"),i=e("pull-pushable"),s=e("pull-cat"),a=e("pull-pair");t.exports=function(e,t){"function"==typeof e&&(t=e,e={}),t=function(e){var t=0;return function(r,n,i){t++||e(r,n,i)}}(t||function(){});var r=n(e&&e.timeout||5e3),o=i((function(e){e&&t(e)})),u=a();return{handshake:{read:r.read,abort:function(e){o.end(e),r.abort(e,(function(e){})),t(e)},write:o.push,rest:function(){return o.end(),{source:r.read(),sink:u.sink}}},sink:r,source:s([o,u.source])}}}}},{package:"pull-handshake",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-handshake/index.js"}],[5457,{"pull-pushable":5471,"pull-reader":5472,"safe-buffer":5739,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("varint"),i=e("pull-reader"),s=e("safe-buffer").Buffer,a=e("pull-pushable");r.decode=function(e){let t=new i,r=a((e=>{t.abort(e)}));return n=>(t(n),function n(){let i=!0,s=!1;const a=(e,t)=>{s=!0,e?(r.end(e),i=!1):(r.push(t),i||n())};for(;i;)s=!1,o(t,e,a),s||(i=!1)}(),r)},r.decodeFromReader=function(e,t,r){"function"==typeof t&&(r=t,t={});o(e,t,(function(e,t){if(e)return r(!0===e?new Error("Unexpected end of input from reader."):e);r(null,t)}))};function o(e,t,r){(t=Object.assign({fixed:!1,maxLength:4194304},t||{})).fixed?function(e,t,r){e.read(4,((n,i)=>{if(n)return r(n);const s=i.readInt32BE(0);if(s>t)return r(new Error("size longer than max permitted length of "+t+"!"));u(e,s,r)}))}(e,t.maxLength,r):function(e,t,r){let i=[];0===i.length&&a();function a(){e.read(1,((o,c)=>{if(o)return r(o);if(i.push(c),c&&!(e=>!(128&e))(c[0]))return void a();const l=n.decode(s.concat(i));if(l>t)return r(new Error("size longer than max permitted length of "+t+"!"));u(e,l,((e,t)=>e?r(e):(i=[],t.length<l?r(new Error("Message length does not match prefix specified length.")):void r(null,t))))}))}}(e,t.maxLength,r)}function u(e,t,r){e.read(t,((e,t)=>{if(e)return r(e);r(null,t)}))}}}},{package:"pull-length-prefixed",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-length-prefixed/src/decode.js"}],[5458,{"safe-buffer":5739,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("safe-buffer").Buffer;t.exports=function(t){t=Object.assign({fixed:!1},t||{});const r=e("varint");let s=t.fixed?null:i(),a=0,o=!1;return e=>(u,c)=>{if(u&&(o=u),o)return c(o);e(null,((e,u)=>{if(e&&(o=e),o)return c(o);if(!o&&!n.isBuffer(u))return o=new Error("data must be a buffer"),c(o);const l=o?0:u.length;let d;if(t.fixed?(d=n.alloc(4),d.writeInt32BE(l,0)):(r.encode(l,s,a),a+=r.encode.bytes,d=s.slice(a-r.encode.bytes,a),s.length-a<100&&(s=i(),a=0)),o)return c(null,d);c(null,n.concat([d,u],(t.fixed?4:r.encode.bytes)+l))}))}};function i(){return n.alloc(10240)}}}},{package:"pull-length-prefixed",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-length-prefixed/src/encode.js"}],[5459,{"./decode":5457,"./encode":5458},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./encode"),i=e("./decode");r.encode=n,r.decode=i.decode,r.decodeFromReader=i.decodeFromReader}}},{package:"pull-length-prefixed",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-length-prefixed/src/index.js"}],[546,{"@keystonehq/bc-ur-registry":566,buffer:2081,"ethereumjs-util":2521,hdkey:4375,uuid:6009},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("@keystonehq/bc-ur-registry"),s=e("uuid"),a=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,o=e("ethereumjs-util");const{RegistryType:u}=i.extend,c={ETH_SIGN_REQUEST:new u("eth-sign-request",401),ETH_SIGNATAURE:new u("eth-signature",402)},{decodeToDataItem:l,RegistryTypes:d}=i.extend;var h,f;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(h||(h={})),(f=r.DataType||(r.DataType={}))[f.transaction=1]="transaction",f[f.typedData=2]="typedData",f[f.personalMessage=3]="personalMessage",f[f.typedTransaction=4]="typedTransaction";class p extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.setupData=e=>{this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin},this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[h.requestId]=new i.DataItem(this.requestId,d.UUID.getTag())),this.address&&(e[h.address]=this.address),this.chainId&&(e[h.chainId]=this.chainId),this.origin&&(e[h.origin]=this.origin),e[h.signData]=this.signData,e[h.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[h.derivationPath]=t,new i.DataItem(e)},this.setupData(e)}static constructETHRequest(e,r,n,a,o,u,c,l){const d=n.replace(/[m|M]\//,"").split("/"),h=new i.CryptoKeypath(d.map((e=>{const t=parseInt(e.replace("'",""));let r=!1;return e.endsWith("'")&&(r=!0),new i.PathComponent({index:t,hardened:r})})),t.from(a,"hex"));return new p({requestId:o?t.from(s.parse(o)):undefined,signData:e,dataType:r,derivationPath:h,chainId:u,address:c?t.from(c.replace("0x",""),"hex"):undefined,origin:l||undefined})}}p.fromDataItem=e=>{const t=e.getData(),r=t[h.signData],n=t[h.dataType],s=i.CryptoKeypath.fromDataItem(t[h.derivationPath]),a=t[h.chainId]?t[h.chainId]:undefined,o=t[h.address]?t[h.address]:undefined,u=t[h.requestId]?t[h.requestId].getData():undefined,c=t[h.origin]?t[h.origin]:undefined;return new p({requestId:u,signData:r,dataType:n,chainId:a,derivationPath:s,address:o,origin:c})},p.fromCBOR=e=>{const t=l(e);return p.fromDataItem(t)};const{RegistryTypes:g,decodeToDataItem:m}=i.extend;var y;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature"}(y||(y={}));class b extends i.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>c.ETH_SIGNATAURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const e={};return this.requestId&&(e[y.requestId]=new i.DataItem(this.requestId,g.UUID.getTag())),e[y.signature]=this.signature,new i.DataItem(e)},this.signature=e,this.requestId=t}}b.fromDataItem=e=>{const t=e.getData(),r=t[y.signature],n=t[y.requestId]?t[y.requestId].getData():undefined;return new b(r,n)},b.fromCBOR=e=>{const t=m(e);return b.fromDataItem(t)};const v=(e,t)=>{const r=a.fromExtendedKey(e).derive(t),n="0x"+o.publicToAddress(r.publicKey,!0).toString("hex");return o.toChecksumAddress(n)},{cbor:_}=i.extend;_.patchTags(Object.values(c).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(i).forEach((function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})})),r.ETHSignature=b,r.EthSignRequest=p,r.findHDpatfromAddress=(e,t,r,n)=>{for(let i=0;i<r;i++){const r=v(t,`M/0/${i}`);if(e.toLowerCase()==r.toLowerCase())return`${n}/0/${i}`}return null},r.generateAddressfromXpub=v}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js"}],[5460,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t,r,n=!!e,i=(e||[]).map(a),s=0;function a(e){return{ready:!1,reading:!1,ended:!1,read:e,data:null}}function o(){if(r){!function(){var e=i.length;for(;e--;)i[e].ended&&i.splice(e,1)}();var e=i.length,a=r;if(0===e&&(t||n))return r=null,void a(t||!0);for(var o=0;o<e;o++){var u=i[(s+o)%e];if(u.ready&&!u.ended){var c=u.data;return u.ready=!1,u.data=null,s++,r=null,a(null,c)}}}}function u(){for(var e=i.length;e--;)!function(r){if(e>i.length)throw new Error("this should never happen");if(!(r.reading||r.ended||r.ready)){r.reading=!0;var n=!0;r.read(t,(function e(i,s){r.data=s,r.ready=!0,r.reading=!1,!0===i||t?r.ended=!0:i&&(t=r.ended=i),t&&!i&&r.read(t,e),n||o()})),n=!1}}(i[e]);o()}function c(e,n){t=t||e,r=n,u()}return c.add=function(e){if(!e)return n=!0,u();i.push(a(e)),u()},c.cap=function(e){c.add(null)},c}}}},{package:"pull-many",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-many/index.js"}],[5461,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t=!1,r=0;return function(){if(r=!0,!t){for(t=!0;r;)r=!1,e();t=!1}}}}}},{package:"looper",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-mplex/node_modules/looper/index.js"}],[5462,{"./consts":5465,"./util":5469,"async/nextTick":1767,debug:2253,events:2082,looper:5461,"pull-pushable":5471},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("pull-pushable"),i=e("looper"),s=e("async/nextTick"),a=e("events"),o=e("debug"),{Types:u}=e("./consts"),{emitError:c}=e("./util"),l=o("pull-plex:chan");l.err=o("pull-plex:chan:err");t.exports=class extends a{constructor(e){var t;super(),e={initiator:!1,...e},this._id=e.id,this._name=e.name,this._plex=e.plex,this._open=e.open,this._initiator=e.initiator,this._endedRemote=!1,this._endedLocal=!1,this._destroy=!1,this.MSG=this._initiator?u.OUT_MESSAGE:u.IN_MESSAGE,this.END=this._initiator?u.OUT_CLOSE:u.IN_CLOSE,this.RESET=this._initiator?u.OUT_RESET:u.IN_RESET,this._log("new channel",this._name),this._msgs=n((e=>{this._log("source closed",e),e&&"boolean"!=typeof e&&s(c,this,e)})),this._source=this._msgs,this.sink=(t=this,function(e){const r=i((function(){e(null,(function(e,n){if(!t._endedLocal){if(t._endedLocal=e||!1,!0===e)return t.endChan();if(e||t._destroy)return t.destroyChan(),t.emit("error",e||t._destroy),void t.destroy();t.sendMsg(n),r()}}))}));r()})}get source(){return this._source}get id(){return this._id}get open(){return this._open}set open(e){this._open=e}get name(){return this._name}get destroyed(){return this._endedRemote&&this._endedLocal}_log(e,t){l.enabled&&l({op:e,name:this._name,id:this._id,endedLocal:this._endedLocal,endedRemote:this._endedRemote,initiator:this._initiator,data:t&&t.toString()||""})}push(e){this._log("push"),this._msgs.push(e)}close(e){this._log("close",e),this._endedRemote||(this._endedRemote=e||!0,this._msgs.end(this._endedRemote),this.emit("close",e),this.plex=null)}destroy(e){this._log("destroy",e),this._destroy=e||"channel destroyed!",this.close(this._destroy)}openChan(e){this.open||(this.open=!0,this._plex.push([this._id,u.NEW,e!==this._id.toString()?e:this._id.toString()]))}sendMsg(e){this._log("sendMsg",e),this.open||this.openChan(this.name),this._plex.push([this._id,this.MSG,e])}endChan(){this._log("endChan"),this.open&&this._plex.push([this._id,this.END])}destroyChan(){this._log("destroyChan"),this.open&&this._plex.push([this._id,this.RESET])}}}}},{package:"pull-mplex",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-mplex/src/channel.js"}],[5463,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports="/mplex/6.7.0"}}},{package:"pull-mplex",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-mplex/src/codec.js"}],[5464,{buffer:2081,debug:2253,"pull-through":5508,varint:6031},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){const n=e("varint"),i=e("pull-through"),s=e("debug"),a=s("pull-plex:coder");a.err=s("pull-plex:coder:err");const o=10240,u=t.alloc(0);r.encode=()=>{let e=t.allocUnsafe(o),r=0;return i((function(i){const s=r;n.encode(i[0]<<3|i[1],e,r),r+=n.encode.bytes,n.encode(i[2]?i[2].length:0,e,r),r+=n.encode.bytes,this.queue(e.slice(s,r)),o-r<100&&(e=t.allocUnsafe(o),r=0),this.queue(i[2]?i[2]:u)}))};const c=0,l=1;r.decode=()=>{let e=c;const r=t=>{const[r,i,s]=(e=>{let t=0,r=0;try{let i=n.decode(e);return t+=n.decode.bytes,r=n.decode(e,t),t+=n.decode.bytes,[i,t,r]}catch(e){a.err(e)}return[]})(t);if(void 0!==r){const n={id:r>>3,type:7&r,data:[]};return e=l,[t.slice(i),n,s]}return[t]};let s=0,o=null,u=!1,d=[];return i((function(n){var i=this;!function a(){if(n&&n.length){if(c===e){if(u&&(d.push(n),n=t.concat(d)),[n,o,s]=r(n),!o)return u||d.push(n),void(u=!0);d=[],u=!1}l===e&&([s,n,o.data]=((r,n,i)=>{if(i<=0)return e=c,[0,r,n];let s=i-r.length;s<0&&(s=0);const a=i-s;if(r.length>0){const e=t.isBuffer(r)?r:t.from(r);n.push(e.slice(0,a))}return s<=0&&(e=c),[s,r.slice(a),n]})(n,o.data,s),s<=0&&c===e&&(o.data=t.concat(o.data),i.queue(o),o=null,s=0)),a()}}()}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"pull-mplex",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-mplex/src/coder.js"}],[5465,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.Types={NEW:0,IN_MESSAGE:1,OUT_MESSAGE:2,IN_CLOSE:3,OUT_CLOSE:4,IN_RESET:5,OUT_RESET:6},r.MAX_MSG_SIZE=1<<20}}},{package:"pull-mplex",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-mplex/src/consts.js"}],[5466,{"./codec":5463,"./mplex":5467,"./muxer":5468,debug:2253,"pull-abortable":5449,"pull-stream":5477},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("pull-abortable"),i=e("pull-stream"),s=e("debug"),a=e("./codec"),o=e("./mplex"),u=e("./muxer"),c=s("pull-plex");function l(e,t){const r=new o(!t),s=n();i(e,r,s,e);const a=new u(e,r);return a.once("error",(e=>{c.err("got error",e),s.abort(e)})),a.on("close",(()=>{c("closing muxer"),s.abort()})),a}c.err=s("pull-plex:err"),(r=t.exports=l).pullMplex=o,r.multicodec=a,r.dialer=e=>l(e,!1),r.listener=e=>l(e,!0)}}},{package:"pull-mplex",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-mplex/src/index.js"}],[5467,{"./channel":5462,"./coder":5464,"./consts":5465,"./util":5469,"async/nextTick":1767,buffer:2081,debug:2253,events:2082,looper:5461,"pull-pushable":5471,"pull-stream":5477,"pull-through":5508},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("pull-stream"),i=e("pull-pushable"),s=e("pull-through"),a=e("looper"),o=e("async/nextTick"),u=e("events"),c=e("debug"),{emitError:l,emitStream:d}=e("./util"),{Types:h,MAX_MSG_SIZE:f}=e("./consts"),p=e("./channel"),g=e("./coder"),m=c("pull-plex");m.err=c("pull-plex:err");t.exports=class extends u{constructor(e){super(),"boolean"==typeof e&&(e={initiator:e}),e={initiator:!0,onChan:null,maxChannels:1e4,maxMsgSize:f,lazy:!1,...e},this._maxChannels=e.maxChannels,this._maxMsgSize=e.maxMsgSize,this._lazy=e.lazy,this._initiator=Boolean(e.initiator),this._chanId=0,this._inChannels=new Array(this._maxChannels/2),this._outChannels=new Array(this._maxChannels/2),this._endedRemote=!1,this._endedLocal=!1,this._chandata=i((e=>{this._log("mplex ended"),this._endedRemote=!0,this.close(e)})),e.onChan&&this.on("stream",(t=>e.onChan(t,t.id))),this.source=n(this._chandata,g.encode());const t=this;this.sink=n(s((function(e){if(e&&e.length>=t._maxMsgSize)return o(l,t,new Error("message too large!")),this.queue(null);this.queue(e)})),g.decode(),(e=>{const r=a((()=>{e(null,((e,n)=>{if(!t._endedLocal){if(!0===e)return t.close();if(e)return t.destroy(e);t._handle(n),r()}}))}));r()}))}_log(e,t){m({op:e,initiator:this._initiator,endedLocal:this._endedLocal,endedRemote:this._endedRemote,data:t&&t.toString()||""})}get initiator(){return this._initiator}close(e){if(this._log("close",e),this.destroyed)return;e&&o(l,this,e),e=e||"Underlying stream has been closed",this._endedLocal=!0;const t=Array.prototype.concat(this._outChannels,this._inChannels);for(let r of t)r&&r.close(e);this.emit("close")}get destroyed(){return this._endedRemote&&this._endedLocal}destroy(e){e=e||new Error("Underlying stream has been closed"),this._chandata.end(e),this.close(e)}push(e){e.data&&r.byteLength(e.data)>this._maxMsgSize&&this._chandata.end(new Error("message too large!")),this._chandata.push(e)}createStream(e){"number"==typeof e&&(e=e.toString());const t=this._newStream(null,!0,!1,e,this._outChannels);return this._lazy||t.openChan(e),t}_newStream(e,t,r,n,i){if(this.chanSize>=this._maxChannels)return void this.emit("error",new Error("max channels exceeded"));if("string"==typeof t&&(n=t,t=!1,r=!1),"string"==typeof r&&(n=r,r=!1),i[e="number"==typeof e?e:this._chanId++])return void this.emit("error",new Error(`channel with id ${e} already exist!`));const s=new p({id:e,name:n,plex:this,initiator:t,open:r||!1});return this._addChan(e,s,i)}_addChan(e,t,r){return t.once("close",(()=>{r[e]=null})),t.once("error",(e=>{m.err("channel error",e)})),r[e]=t,t}get chanSize(){return this._inChannels.size+this._outChannels.size}_handle(e){this._log("_handle",e);const{id:t,type:r,data:n}=e;switch(r){case h.NEW:{const e=this._newStream(t,!1,!0,n.toString(),this._inChannels);o(d,this,e,t);break}case h.OUT_MESSAGE:case h.IN_MESSAGE:{const e=(1&r?this._outChannels:this._inChannels)[t];e&&e.push(n);break}case h.OUT_CLOSE:case h.IN_CLOSE:{const e=(1&r?this._outChannels:this._inChannels)[t];e&&e.close();break}case h.OUT_RESET:case h.IN_RESET:{const e=(1&r?this._outChannels:this._inChannels)[t];e&&e.destroy();break}default:o(l,this,new Error("Invalid message type"))}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"pull-mplex",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-mplex/src/mplex.js"}],[5468,{"./codec":5463,"async/nextTick":1767,debug:2253,events:2082,"interface-connection":4406},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("events").EventEmitter,i=e("interface-connection").Connection,s=e("async/nextTick"),a=e("debug"),o=e("./codec"),u=a("libp2p-mplex:muxer");function c(){}u.err=a("libp2p-mplex:muxer:error");t.exports=class extends n{constructor(e,t){super(),this.conn=e,this.multiplex=t,this.multicodec=o,t.on("close",(()=>this.emit("close"))),t.on("error",(e=>this.emit("error",e))),t.on("stream",(e=>{e.on("error",(e=>{u.err("receiver stream errored",e)})),this.emit("stream",new i(e,this.conn))}))}newStream(e){e=e||c;let t=this.multiplex.createStream();t.on("error",(e=>{u.err("initiator stream errored",e)}));const r=new i(t,this.conn);return s(e,null,r),r}end(e){if(e=e||c,this.multiplex.destroyed)return s(e);this.multiplex.once("close",e),this.multiplex.close()}}}}},{package:"pull-mplex",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-mplex/src/muxer.js"}],[5469,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports.emitError=function(e,t){e.emit("error",t)},t.exports.emitStream=function(e,t,r){e.emit("stream",t,r)}}}},{package:"pull-mplex",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-mplex/src/util/index.js"}],[547,{"@keystonehq/bc-ur-registry":566,buffer:2081,"ethereumjs-util":2521,hdkey:4375,uuid:6009},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("@keystonehq/bc-ur-registry"),s=e("uuid"),a=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,o=e("ethereumjs-util");const{RegistryType:u}=i.extend,c={ETH_SIGN_REQUEST:new u("eth-sign-request",401),ETH_SIGNATAURE:new u("eth-signature",402)},{decodeToDataItem:l,RegistryTypes:d}=i.extend;var h,f;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(h||(h={})),(f=r.DataType||(r.DataType={}))[f.transaction=1]="transaction",f[f.typedData=2]="typedData",f[f.personalMessage=3]="personalMessage",f[f.typedTransaction=4]="typedTransaction";class p extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.setupData=e=>{this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin},this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[h.requestId]=new i.DataItem(this.requestId,d.UUID.getTag())),this.address&&(e[h.address]=this.address),this.chainId&&(e[h.chainId]=this.chainId),this.origin&&(e[h.origin]=this.origin),e[h.signData]=this.signData,e[h.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[h.derivationPath]=t,new i.DataItem(e)},this.setupData(e)}static constructETHRequest(e,r,n,a,o,u,c,l){const d=n.replace(/[m|M]\//,"").split("/"),h=new i.CryptoKeypath(d.map((e=>{const t=parseInt(e.replace("'",""));let r=!1;return e.endsWith("'")&&(r=!0),new i.PathComponent({index:t,hardened:r})})),t.from(a,"hex"));return new p({requestId:o?t.from(s.parse(o)):void 0,signData:e,dataType:r,derivationPath:h,chainId:u,address:c?t.from(c.replace("0x",""),"hex"):void 0,origin:l||void 0})}}p.fromDataItem=e=>{const t=e.getData(),r=t[h.signData],n=t[h.dataType],s=i.CryptoKeypath.fromDataItem(t[h.derivationPath]),a=t[h.chainId]?t[h.chainId]:void 0,o=t[h.address]?t[h.address]:void 0,u=t[h.requestId]?t[h.requestId].getData():void 0;return new p({requestId:u,signData:r,dataType:n,chainId:a,derivationPath:s,address:o,origin:t[h.origin]?t[h.origin]:void 0})},p.fromCBOR=e=>{const t=l(e);return p.fromDataItem(t)};const{RegistryTypes:g,decodeToDataItem:m}=i.extend;var y;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature"}(y||(y={}));class b extends i.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>c.ETH_SIGNATAURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const e={};return this.requestId&&(e[y.requestId]=new i.DataItem(this.requestId,g.UUID.getTag())),e[y.signature]=this.signature,new i.DataItem(e)},this.signature=e,this.requestId=t}}b.fromDataItem=e=>{const t=e.getData(),r=t[y.signature],n=t[y.requestId]?t[y.requestId].getData():void 0;return new b(r,n)},b.fromCBOR=e=>{const t=m(e);return b.fromDataItem(t)};const v=(e,t)=>{const r=a.fromExtendedKey(e).derive(t),n="0x"+o.publicToAddress(r.publicKey,!0).toString("hex");return o.toChecksumAddress(n)},{cbor:_}=i.extend;_.patchTags(Object.values(c).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(i).forEach((function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})})),r.ETHSignature=b,r.EthSignRequest=p,r.findHDpatfromAddress=(e,t,r,n)=>{for(let i=0;i<r;i++){const r=v(t,"M/0/"+i);if(e.toLowerCase()==r.toLowerCase())return`${n}/0/${i}`}return null},r.generateAddressfromXpub=v}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.production.min.js"}],[5470,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){var e,t;return{source:function(r,n){e?e(r,n):t=[r,n]},sink:function(r){if("function"!=typeof r)throw new Error("read must be function");if(e)throw new Error("already piped");if(e=r,t){var n=t;t=null,e.apply(null,n)}}}}}}},{package:"pull-pair",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-pair/index.js"}],[5471,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){"function"==typeof e&&(t=e,e=!1);var r,n,i,s=[];function a(e,t){e&&(r=e,n&&l(r)),n=t,c()}function o(e){i=i||e||!0,c()}function u(e){i||(n?l(r,e):s.push(e))}if(e)return{push:u,end:o,source:a,buffer:s};return a.push=u,a.end=o,a.buffer=s,a;function c(){n&&(r?l(r):!s.length&&i?l(i):s.length&&l(null,s.shift()))}function l(e,r){var i=n;if(e&&t){var s=t;t=null,s(!0===e?null:e)}n=null,i(e,r)}}}}},{package:"pull-pushable",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-pushable/index.js"}],[5472,{"./state":5473},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./state");function i(e){return"function"==typeof e}function s(e,t){return t?function(r,n){var i=setTimeout((function(){e(new Error("pull-reader: read exceeded timeout"),n)}),t);e(r,(function(e,t){clearTimeout(i),n(e,t)}))}:e}t.exports=function(e){var t,r,a,o,u,c=[],l=!1,d=n();function h(){for(;c.length;)if(null==c[0].length&&d.has(1))c.shift().cb(null,d.get());else if(d.has(c[0].length)){var e=c.shift();e.cb(null,d.get(e.length))}else if(1==a&&c[0].length&&d.length<c[0].length){var t="stream ended with:"+d.length+" but wanted:"+c[0].length;c.shift().cb(new Error(t))}else{if(!a)return!!c.length;c.shift().cb(a)}return c.length||!d.has(1)||u}function f(){h()&&!l&&(!t||l||o||(l=!0,r(null,(function(e,t){if(l=!1,e)return a=e,h();d.add(t),f()}))))}function p(n){if(u){for(;c.length;)c.shift().cb(u);return cb&&cb(u)}r=s(n,e),t=n,f()}return p.abort=function(e,r){u=e||!0,t?(l=!0,t(u,(function(){for(;c.length;)c.shift().cb(u);r&&r(u)}))):r()},p.read=function(r,n,a){if(i(n)&&(a=n,n=e),!i(a))return o=!0,function(e,r){if(l||d.has(1)){if(e)return t(e,r);c.push({length:null,cb:r}),f()}else s(t,n)(e,(function(e,t){r(e,t)}))};var u;c.push({length:(u=r,Number.isFinite(u)?r:null),cb:a}),f()},p}}}},{package:"pull-reader",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-reader/index.js"}],[5473,{buffer:2081},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){t.exports=function(){var t=[],r=0;return{length:r,data:this,add:function(n){if(!e.isBuffer(n))throw new Error("data must be a buffer, was: "+JSON.stringify(n));return this.length=r+=n.length,t.push(n),this},has:function(e){return null==e?r>0:r>=e},get:function(n){var i;if(null==n||n===r){r=0;var s=t;return t=[],1==s.length?s[0]:e.concat(s)}if(t.length>1&&n<=(i=t[0].length)){var a=t[0].slice(0,n);return n===i?t.shift():t[0]=t[0].slice(n,i),r-=n,a}if(n<r){for(var o=[],u=0;u+t[0].length<n;){var c=t.shift();u+=c.length,o.push(c)}return u<n&&(o.push(t[0].slice(0,n-u)),t[0]=t[0].slice(n-u,t[0].length),this.length=r-=n),e.concat(o)}throw new Error("could not get "+n+" bytes")}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"pull-reader",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-reader/state.js"}],[5474,{"pull-defer/source":5454,"pull-stream/sinks/collect":5479,"pull-stream/sources/error":5489,"pull-stream/sources/values":5494},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("pull-defer/source"),i=e("pull-stream/sources/error"),s=e("pull-stream/sources/values"),a=e("pull-stream/sinks/collect");t.exports=function(e){var t=n(),r=a((function(r,n){if(r)return t.resolve(i(r));t.resolve(s(n.sort(e)))}));return function(e){return r(e),t}}}}},{package:"pull-sort",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-sort/index.js"}],[5475,{"pull-stream/pull":5478},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("pull-stream/pull");t.exports=e=>async function*(){let t;for(n(e,(e=>{t=()=>new Promise(((t,r)=>{e(null,((e,n)=>!0===e?t({end:e}):e?r(e):void t({data:n})))}))}));;){const{end:e,data:r}=await t();if(e)break;yield r}}()}}},{package:"pull-stream-to-async-iterator",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream-to-async-iterator/index.js"}],[5476,{_process:5420,stream:2084,timers:5935},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r,n){(function(){var i=e("stream");t.exports=a,t.exports.source=function(e){return a(null,e)},t.exports.sink=function(e){return a(e,null)};var s=void 0===n?r.nextTick:n;function a(e,t){e&&"object"==typeof e&&(t=e.source,e=e.sink);var r,n,a,o=[],u=[],c=new i;c.writable=c.readable=!0,c.write=function(e){return o.length?o.shift()(null,e):u.push(e),o.length||(n=!0),!!o.length},c.end=function(){t?u.length?p():t(r=!0,o.length?o.shift():function(){}):o.length&&o.shift()(!0)},c.source=function(e,t){u.length?(t(null,u.shift()),u.length||c.emit("drain")):((r=r||e)?t(r):o.push(t),n&&(n=!1,c.emit("drain")))},e&&(a=e(c.source)),a&&!t&&(t=a);var l=[],d=!1,h=!1;if(c.sink=function(e){t=e,s(p)},t){c.sink(t);var f=c.pipe.bind(c);c.pipe=function(e,t){var r=f(e,t);return c.paused&&c.resume(),r}}function p(){if(!1,t&&!h){for(;l.length&&!c.paused;)c.emit("data",l.shift());if(!c.paused){if(d)return c.emit("end");h=!0,t(null,(function e(n,i){h=!1,c.paused?(!0===n?d=n:n?c.emit("error",n):l.push(i),!0):n&&!0!==(r=n)?c.emit("error",n):(r=r||n)?c.emit("end"):(c.emit("data",i),h=!0,t(null,e))}))}}}return c.pause=function(){return c.paused=!0,c},c.resume=function(){return c.paused=!1,p(),c},c.destroy=function(){!r&&t&&t(r=!0,(function(){})),r=!0,o.length&&o.shift()(!0),c.emit("close")},c}}).call(this)}).call(this,e("_process"),e("timers").setImmediate)}}},{package:"pull-stream-to-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream-to-stream/index.js"}],[5477,{"./pull":5478,"./sinks":5483,"./sources":5490,"./throughs":5499},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./sources"),i=e("./sinks"),s=e("./throughs");for(var a in(r=t.exports=e("./pull")).pull=r,n)r[a]=n[a];for(var a in s)r[a]=s[a];for(var a in i)r[a]=i[a]}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/index.js"}],[5478,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function e(t){var r=arguments.length;if("function"==typeof t&&1===t.length){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(t){if(null==n)throw new TypeError("partial sink should only be called once!");var i=n;switch(n=null,r){case 1:return e(t,i[0]);case 2:return e(t,i[0],i[1]);case 3:return e(t,i[0],i[1],i[2]);case 4:return e(t,i[0],i[1],i[2],i[3]);default:return i.unshift(t),e.apply(null,i)}}}var s=t;s&&"function"==typeof s.source&&(s=s.source);for(i=1;i<r;i++){var a=arguments[i];"function"==typeof a?s=a(s):a&&"object"==typeof a&&(a.sink(s),s=a.source)}return s}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/pull.js"}],[5479,{"./reduce":5486},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./reduce");t.exports=function(e){return n((function(e,t){return e.push(t),e}),[],e)}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sinks/collect.js"}],[548,{"./bc-ur-registry-eth.cjs.development.js":546,"./bc-ur-registry-eth.cjs.production.min.js":547},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./bc-ur-registry-eth.cjs.production.min.js")}}},{package:"@keystonehq/bc-ur-registry-eth",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js"}],[5480,{"./reduce":5486},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./reduce");t.exports=function(e){return n((function(e,t){return e+t}),"",e)}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sinks/concat.js"}],[5481,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r,n;function i(s){if(r=s,n)return i.abort();!function i(){for(var s=!0,a=!1;s;)if(a=!1,r(null,(function(o,u){if(a=!0,o=o||n){if(s=!1,t)t(!0===o?null:o);else if(o&&!0!==o)throw o}else e&&!1===e(u)||n?(s=!1,r(n||!0,t||function(){})):s||i()})),!a)return void(s=!1)}()}return i.abort=function(e,t){if("function"==typeof e&&(t=e,e=!0),n=e||!0,r)return r(n,t||function(){})},i}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sinks/drain.js"}],[5482,{"../util/prop":5506,"./drain":5481},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e){return e}var i=e("../util/prop"),s=e("./drain");t.exports=function(e,t){var r=!1;return t?e=i(e)||n:(t=e,e=n),s((function(n){if(e(n))return r=!0,t(null,n),!1}),(function(e){r||t(!0===e?null:e,null)}))}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sinks/find.js"}],[5483,{"./collect":5479,"./concat":5480,"./drain":5481,"./find":5482,"./log":5484,"./on-end":5485,"./reduce":5486},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={drain:e("./drain"),onEnd:e("./on-end"),log:e("./log"),find:e("./find"),reduce:e("./reduce"),collect:e("./collect"),concat:e("./concat")}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sinks/index.js"}],[5484,{"./drain":5481},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./drain");t.exports=function(e){return n((function(e){console.log(e)}),e)}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sinks/log.js"}],[5485,{"./drain":5481},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./drain");t.exports=function(e){return n(null,e)}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sinks/on-end.js"}],[5486,{"./drain":5481},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./drain");t.exports=function(e,t,r){r||(r=t,t=null);var i=n((function(r){t=e(t,r)}),(function(e){r(e,t)}));return 2===arguments.length?function(e){e(null,(function(n,s){if(n)return r(!0===n?null:n);t=s,i(e)}))}:i}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sinks/reduce.js"}],[5487,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t=0;return e=e||Infinity,function(r,n){return r?n&&n(r):t>e?n(!0):void n(null,t++)}}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sources/count.js"}],[5488,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){return function(e,t){t(!0)}}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sources/empty.js"}],[5489,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){return function(t,r){r(e)}}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sources/error.js"}],[5490,{"./count":5487,"./empty":5488,"./error":5489,"./infinite":5491,"./keys":5492,"./once":5493,"./values":5494},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={keys:e("./keys"),once:e("./once"),values:e("./values"),count:e("./count"),infinite:e("./infinite"),empty:e("./empty"),error:e("./error")}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sources/index.js"}],[5491,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){return e=e||Math.random,function(t,r){return t?r&&r(t):r(null,e())}}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sources/infinite.js"}],[5492,{"./values":5494},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./values");t.exports=function(e){return n(Object.keys(e))}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sources/keys.js"}],[5493,{"../util/abort-cb":5505},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../util/abort-cb");t.exports=function(e,t){return function(r,i){if(r)return n(i,r,t);if(null!=e){var s=e;e=null,i(null,s)}else i(!0)}}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sources/once.js"}],[5494,{"../util/abort-cb":5505},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../util/abort-cb");t.exports=function(e,t){if(!e)return function(e,r){return e?n(r,e,t):r(!0)};Array.isArray(e)||(e=Object.keys(e).map((function(t){return e[t]})));var r=0;return function(i,s){if(i)return n(s,i,t);r>=e.length?s(!0):s(null,e[r++])}}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/sources/values.js"}],[5495,{"../util/prop":5506},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e){return e}var i=e("../util/prop");t.exports=function(e){if(!e)return n;e=i(e);var t,r,s=!1;return function(n){return function i(a,o){if(r)return o(r);a?(r=a,n(a,s?function(e){s?t=o:o(a)}:function(e){o(a)})):n(null,(function(n,a){n?o(n):r?o(r):(s=!0,e(a,(function(e,n){s=!1,r?(o(r),t&&t(r)):e?i(e,o):o(null,n)})))}))}}}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/throughs/async-map.js"}],[5496,{"../util/tester":5507,"./filter":5497},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../util/tester"),i=e("./filter");t.exports=function(e){return e=n(e),i((function(t){return!e(t)}))}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/throughs/filter-not.js"}],[5497,{"../util/tester":5507},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../util/tester");t.exports=function(e){return e=n(e),function(t){return function r(n,i){for(var s,a=!0;a;)a=!1,s=!0,t(n,(function(t,n){if(!t&&!e(n))return s?a=!0:r(t,i);i(t,n)})),s=!1}}}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/throughs/filter.js"}],[5498,{"../sources/once":5493,"../sources/values":5494},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../sources/values"),i=e("../sources/once");t.exports=function(){return function(e){var t;return function(r,s){function a(){t(null,(function(t,r){!0===t?o():t?e(!0,(function(e){s(t)})):s(null,r)}))}function o(){t=null,e(null,(function(e,r){if(e)return s(e);Array.isArray(r)||r&&"object"==typeof r?r=n(r):"function"!=typeof r&&(r=i(r)),t=r,a()}))}r?t?t(r,(function(t){e(t||r,s)})):e(r,s):t?a():o()}}}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/throughs/flatten.js"}],[5499,{"./async-map":5495,"./filter":5497,"./filter-not":5496,"./flatten":5498,"./map":5500,"./non-unique":5501,"./take":5502,"./through":5503,"./unique":5504},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={map:e("./map"),asyncMap:e("./async-map"),filter:e("./filter"),filterNot:e("./filter-not"),through:e("./through"),take:e("./take"),unique:e("./unique"),nonUnique:e("./non-unique"),flatten:e("./flatten")}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/throughs/index.js"}],[5500,{"../util/prop":5506},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e){return e}var i=e("../util/prop");t.exports=function(e){return e?(e=i(e),function(t){return function(r,n){t(r,(function(r,i){try{i=r?null:e(i)}catch(e){return t(e,(function(){return n(e)}))}n(r,i)}))}}):n}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/throughs/map.js"}],[5501,{"./unique":5504},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./unique");t.exports=function(e){return n(e,!0)}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/throughs/non-unique.js"}],[5502,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=(t=t||{}).last||!1,n=!1;if("number"==typeof e){r=!0;var i=e;e=function(){return--i}}return function(t){function i(e){t(!0,(function(t){r=!1,e(t||!0)}))}return function(s,a){n&&!s?r?i(a):a(n):(n=s)?t(n,a):t(null,(function(t,s){(n=n||t)?a(n):e(s)?a(null,s):(n=!0,r?a(null,s):i(a))}))}}}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/throughs/take.js"}],[5503,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=!1;function n(e){!r&&t&&(r=!0,t(!0===e?null:e))}return function(t){return function(r,i){return r&&n(r),t(r,(function(t,r){t?n(t):e&&e(r),i(t,r)}))}}}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/throughs/through.js"}],[5504,{"../util/prop":5506,"./filter":5497},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e){return e}var i=e("../util/prop"),s=e("./filter");t.exports=function(e,t){e=i(e)||n;var r={};return s((function(n){var i=e(n);return r[i]?!!t:(r[i]=!0,!t)}))}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/throughs/unique.js"}],[5505,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){e(t),r&&r(!0===t?null:t)}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/util/abort-cb.js"}],[5506,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){return e&&("string"==typeof e?function(t){return t[e]}:"object"==typeof e&&"function"==typeof e.exec?function(t){var r=e.exec(t);return r&&r[0]}:e)}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/util/prop.js"}],[5507,{"./prop":5506},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./prop");function i(e){return e}t.exports=function(e){return"object"==typeof e&&"function"==typeof e.test?function(t){return e.test(t)}:n(e)||i}}}},{package:"pull-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-stream/util/tester.js"}],[5508,{looper:5184},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("looper");t.exports=function(e,t){return function(r){var i,s,a=[];function o(e){a.push(e)}e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var u,c={emit:function(e,t){"data"==e&&o(t),"end"==e&&(i=!0,o(null)),"error"==e&&(s=t)},queue:o};return function(o,l){if(i=i||o,o)return r(o,(function(){if(u){var e=u;u=null,e(o)}l(o)}));u=l,n((function n(o){if(u)if(l=u,s)u=null,l(s);else if(a.length){var d=a.shift();u=null,l(null===d,d)}else r(i,(function(a,d){if(a&&!0!==a)return s=a,o();if(i=i||a)t.call(c);else if(null!==d&&(e.call(c,d),s||i))return r(s||i,(function(){u=null,l(s||i)}));o(n)}))}))}}}}}},{package:"pull-through",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-through/index.js"}],[5509,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=r.once=function(e){return function(t,r){if(t)return r(t);if(null!=e){var n=e;e=null,r(null,n)}else r(!0)}};r.depthFirst=function(e,t){var r,i=[];return i.unshift(n(e)),function e(n,s){return i.length?r?s(r):void i[0](n,(function(n,a){if(n){if(!0!==n){for(r=n,i.shift();i.length;)i.shift()(n,(function(){}));return s(n)}return i.shift(),e(null,s)}i.unshift(t(a)),s(n,a)})):s(!0)}},r.widthFirst=function(e,t){var r=[];return r.push(n(e)),function e(n,i){if(!r.length)return i(!0);r[0](n,(function(n,s){if(n)return r.shift(),e(null,i);r.push(t(s)),i(n,s)}))}},r.leafFirst=function(e,t){var r=[],i=[];return r.push(n(e)),function e(n,s){r[0](n,(function(n,a){if(n)return r.shift(),i.length?s(null,i.shift()):s(!0);r.unshift(t(a)),i.unshift(a),e(null,s)}))}}}}},{package:"pull-traverse",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-traverse/index.js"}],[5510,{"./duplex":5511,"./web-socket":5517,"./ws-url":5518},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./web-socket"),i=e("./duplex"),s=e("./ws-url");function a(e){return"function"==typeof e}t.exports=function(e,t){a(t)&&(t={onConnect:t});var r="undefined"==typeof window?{}:window.location,o=s(e,r),u=new n(o),c=i(u,t);return c.remoteAddress=o,c.close=function(e){a(e)&&u.addEventListener("close",e),u.close()},u.addEventListener("open",(function(e){t&&a(t.onConnect)&&t.onConnect(null,c)})),c},t.exports.connect=t.exports}}},{package:"pull-ws",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-ws/client.js"}],[5511,{"./sink":5515,"./source":5516},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./source"),i=e("./sink");t.exports=function(e,t){var r=e.upgradeReq||{};t&&t.binaryType?e.binaryType=t.binaryType:t&&t.binary&&(e.binaryType="arraybuffer");return{source:n(e,t&&t.onConnect),sink:i(e,t),headers:r.headers,url:r.url,upgrade:r.upgrade,method:r.method}}}}},{package:"pull-ws",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-ws/duplex.js"}],[5512,{"./client":5510,"./duplex":5511,"./server":2080,"./sink":5515,"./source":5516},function(){with(this)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./duplex")).source=e("./source"),r.sink=e("./sink"),r.createServer=e("./server"),r.connect=e("./client")}}},{package:"pull-ws",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-ws/index.js"}],[5513,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=e&&(e.removeEventListener||e.removeListener);function n(){"function"==typeof r&&(r.call(e,"open",i),r.call(e,"error",s))}function i(e){n(),t()}function s(e){n(),t(e)}return e.readyState>=2?t(!0):1===e.readyState?t():(e.addEventListener("open",i),void e.addEventListener("error",s))}}}},{package:"pull-ws",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-ws/ready.js"}],[5514,{"./":5512,events:2082,http:5876,https:4382,url:6004,ws:2080},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./"),i=e("ws"),s=(e("url"),e("http")),a=e("https"),o=e("events").EventEmitter;t.exports=i.Server?function(e,t){var r=new o;function u(e,t){return e.on(t,(function(){var e=[].slice.call(arguments);e.unshift(t),r.emit.apply(r,e)}))}"function"==typeof e&&(t=e,e=null),e=e||{},t&&r.on("connection",t);var c=e.server||(e.key&&e.cert?a.createServer(e):s.createServer()),l=new i.Server({server:c,perMessageDeflate:!1,verifyClient:e.verifyClient});return u(c,"listening"),u(c,"request"),u(c,"close"),l.on("connection",(function(e){var t=n(e);t.remoteAddress=e.upgradeReq.socket.remoteAddress,r.emit("connection",t)})),r.listen=function(e,t){return t&&r.once("listening",t),c.listen(e.port||e),r},r.close=function(e){return c.close(e),l.close(),r},r.address=c.address.bind(c),r}:null}}},{package:"pull-ws",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-ws/server.js"}],[5515,{"./ready":5513,_process:5420,timers:5935},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r,n){(function(){var i=e("./ready"),s=void 0!==n?n:r.nextTick;t.exports=function(e,t){return function(r){var n=!1!==(t=t||{}).closeOnEnd,a="function"==typeof t?t:t.onClose;r(null,(function t(o,u){o?n&&e.readyState<=1&&(a&&e.addEventListener("close",(function(e){if(e.wasClean||1006===e.code)a();else{var t=new Error("ws error");t.event=e,a(t)}})),e.close()):i(e,(function(n){if(n)return r(n,(function(){}));e.send(u),s((function(){r(null,t)}))}))}))}}}).call(this)}).call(this,e("_process"),e("timers").setImmediate)}}},{package:"pull-ws",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-ws/sink.js"}],[5516,{"safe-buffer":5739},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer;t.exports=function(e,t){var r,i,s=[],a=!1;return e.addEventListener("message",(function(e){var t,i=e.data;if(((t=i)instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength)&&(i=n.from(i)),r)return r(null,i);s.push(i)})),e.addEventListener("close",(function(e){i||r&&r(i=!0)})),e.addEventListener("error",(function(e){i||(i=e,a||(a=!0,t&&t(e)),r&&r(i))})),e.addEventListener("open",(function(e){a||i||(a=!0)})),function(t,n){if(r=null,i)return n(i);t?(r=n,e.close()):s.length>0?n(null,s.shift()):r=n}}}}},{package:"pull-ws",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-ws/source.js"}],[5517,{ws:2080},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports="undefined"==typeof WebSocket?e("ws"):WebSocket}}},{package:"pull-ws",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-ws/web-socket.js"}],[5518,{"relative-url":5727},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("relative-url"),i={http:"ws",https:"wss"};t.exports=function(e,t){return n(e,t,i,"ws")}}}},{package:"pull-ws",file:"/home/gudahtt/projects/metamask-extension/node_modules/pull-ws/ws-url.js"}],[5551,{"assemblyscript/lib/loader":1699},function(){with(this)return function(){"use strict";return function(e,t,r){const{instantiateStreaming:n}=e("assemblyscript/lib/loader");function i(e={}){if(!i.supported)return null;var t=new Uint8Array([0,97,115,109,1,0,0,0,1,90,16,96,0,0,96,2,127,127,1,127,96,4,127,127,127,127,0,96,1,127,1,127,96,3,127,127,127,0,96,1,126,1,127,96,2,126,126,1,126,96,5,127,127,127,127,127,1,127,96,3,127,127,126,0,96,2,127,127,1,126,96,3,127,127,127,1,127,96,1,127,0,96,2,127,127,0,96,1,127,1,126,96,2,127,126,0,96,0,1,127,2,13,1,3,101,110,118,5,97,98,111,114,116,0,2,3,57,56,3,3,12,3,3,15,5,6,1,8,4,1,9,11,7,4,10,10,11,0,0,0,3,12,3,12,3,12,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,4,4,1,112,0,1,5,3,1,0,1,6,26,5,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,7,253,6,44,6,109,101,109,111,114,121,2,0,5,116,97,98,108,101,1,0,6,100,101,103,114,101,101,0,7,3,109,111,100,0,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,23,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,24,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,25,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,26,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,27,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,28,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,29,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,30,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,31,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,32,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,33,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,34,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,35,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,36,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,37,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,38,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,39,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,40,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,41,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,42,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,43,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,44,27,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,95,100,101,103,114,101,101,0,45,27,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,95,100,101,103,114,101,101,0,46,26,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,95,115,104,105,102,116,0,47,26,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,95,115,104,105,102,116,0,48,22,82,97,98,105,110,35,103,101,116,58,97,118,101,114,97,103,101,95,98,105,116,115,0,49,22,82,97,98,105,110,35,115,101,116,58,97,118,101,114,97,103,101,95,98,105,116,115,0,50,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,51,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,52,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,53,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,54,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,55,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,56,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,15,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,16,14,109,101,109,111,114,121,46,99,111,109,112,97,114,101,0,18,15,109,101,109,111,114,121,46,97,108,108,111,99,97,116,101,0,4,11,109,101,109,111,114,121,46,102,114,101,101,0,19,12,109,101,109,111,114,121,46,114,101,115,101,116,0,20,8,1,21,9,7,1,0,65,0,11,1,22,10,188,30,56,104,1,3,127,32,0,65,128,128,128,128,4,75,4,64,0,11,35,1,34,1,32,0,65,1,32,0,65,1,75,27,106,65,7,106,65,120,113,34,0,63,0,34,2,65,16,116,75,4,64,32,2,32,0,32,1,107,65,255,255,3,106,65,128,128,124,113,65,16,118,34,3,32,2,32,3,74,27,64,0,65,0,72,4,64,32,3,64,0,65,0,72,4,64,0,11,11,11,32,0,36,1,32,1,11,51,1,1,127,32,0,65,248,255,255,255,3,75,4,64,65,0,65,200,0,65,26,65,2,16,0,0,11,65,1,65,32,32,0,65,7,106,103,107,116,16,1,34,1,32,0,54,2,0,32,1,11,145,3,1,1,127,32,1,69,4,64,15,11,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,4,64,15,11,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,4,64,15,11,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,4,64,15,11,65,0,32,0,107,65,3,113,34,2,32,0,106,34,0,65,0,54,2,0,32,1,32,2,107,65,124,113,34,1,32,0,106,65,4,107,65,0,54,2,0,32,1,65,8,77,4,64,15,11,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,4,64,15,11,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,65,4,113,65,24,106,34,2,32,0,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,6,0,32,0,16,1,11,76,1,1,127,65,128,16,16,2,34,1,65,8,106,65,128,16,16,3,32,0,69,4,64,65,12,16,1,33,0,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,32,1,54,2,0,32,0,65,0,54,2,4,32,0,65,128,16,54,2,8,32,0,11,8,0,65,12,16,1,16,5,11,70,2,1,127,1,126,66,128,128,128,128,128,128,128,128,128,127,33,2,3,64,2,64,32,1,65,192,0,78,13,0,32,0,32,2,131,66,0,86,4,64,65,63,32,1,107,15,5,32,2,66,1,136,33,2,32,1,65,1,106,33,1,12,2,11,0,11,11,65,127,11,175,2,2,1,127,2,126,3,64,2,127,66,128,128,128,128,128,128,128,128,128,127,33,3,65,0,33,2,3,64,2,64,32,2,65,192,0,78,13,0,65,63,32,2,107,32,0,32,3,131,66,0,86,13,2,26,32,3,66,1,136,33,3,32,2,65,1,106,33,2,12,1,11,11,65,127,11,2,127,32,1,33,4,66,128,128,128,128,128,128,128,128,128,127,33,3,65,0,33,2,3,64,2,64,32,2,65,192,0,78,13,0,65,63,32,2,107,32,3,32,4,131,66,0,86,13,2,26,32,3,66,1,136,33,3,32,2,65,1,106,33,2,12,1,11,11,65,127,11,78,4,64,32,1,2,127,66,128,128,128,128,128,128,128,128,128,127,33,3,65,0,33,2,3,64,2,64,32,2,65,192,0,78,13,0,65,63,32,2,107,32,0,32,3,131,66,0,86,13,2,26,32,3,66,1,136,33,3,32,2,65,1,106,33,2,12,1,11,11,65,127,11,2,127,66,128,128,128,128,128,128,128,128,128,127,33,3,65,0,33,2,3,64,2,64,32,2,65,192,0,78,13,0,65,63,32,2,107,32,1,32,3,131,66,0,86,13,2,26,32,3,66,1,136,33,3,32,2,65,1,106,33,2,12,1,11,11,65,127,11,107,172,134,32,0,133,33,0,12,1,11,11,32,0,11,96,1,1,127,32,1,65,248,255,255,255,3,75,4,64,65,0,65,8,65,23,65,34,16,0,0,11,32,1,16,2,34,2,65,8,106,32,1,16,3,32,0,69,4,64,65,12,16,1,33,0,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,32,2,54,2,0,32,0,65,0,54,2,4,32,0,32,1,54,2,8,32,0,11,49,0,32,1,32,0,40,2,8,65,3,118,79,4,64,65,0,65,8,65,50,65,63,16,0,0,11,32,0,40,2,4,32,0,40,2,0,32,1,65,3,116,106,106,32,2,55,3,8,11,43,0,32,1,32,0,40,2,8,79,4,64,65,0,65,8,65,50,65,63,16,0,0,11,32,0,40,2,4,32,1,32,0,40,2,0,106,106,32,2,58,0,8,11,41,0,32,1,32,0,40,2,8,79,4,64,65,0,65,8,65,39,65,63,16,0,0,11,32,0,40,2,4,32,1,32,0,40,2,0,106,106,45,0,8,11,47,0,32,1,32,0,40,2,8,65,3,118,79,4,64,65,0,65,8,65,39,65,63,16,0,0,11,32,0,40,2,4,32,0,40,2,0,32,1,65,3,116,106,106,41,3,8,11,166,10,2,3,127,5,126,35,2,69,4,64,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,4,32,0,41,3,72,33,6,3,64,2,127,32,4,33,5,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,2,127,32,6,33,7,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,7,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,78,4,64,32,6,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,6,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,107,172,134,32,5,133,33,4,12,1,11,11,65,0,33,1,3,64,32,1,32,0,40,2,4,65,1,107,72,4,64,32,5,66,8,134,33,4,32,0,41,3,72,33,6,3,64,2,127,32,4,33,5,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,3,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,3,65,1,106,33,3,12,1,11,11,65,127,11,2,127,32,6,33,7,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,3,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,4,32,7,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,3,65,1,106,33,3,12,1,11,11,65,127,11,78,4,64,32,6,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,3,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,3,65,1,106,33,3,12,1,11,11,65,127,11,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,3,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,4,32,6,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,3,65,1,106,33,3,12,1,11,11,65,127,11,107,172,134,32,5,133,33,4,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,35,4,32,2,32,5,16,10,32,2,65,1,106,33,2,12,1,11,11,2,127,32,0,41,3,72,33,4,66,128,128,128,128,128,128,128,128,128,127,33,5,65,0,33,2,3,64,32,2,65,192,0,72,4,64,65,63,32,2,107,32,4,32,5,131,66,0,86,13,2,26,32,5,66,1,136,33,5,32,2,65,1,106,33,2,12,1,11,11,65,127,11,172,33,8,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,3,33,3,32,2,172,32,8,134,33,5,32,0,41,3,72,33,6,3,64,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,2,127,32,6,33,7,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,7,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,78,4,64,32,6,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,6,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,107,172,134,32,5,133,33,5,12,1,11,11,32,3,32,2,32,2,172,32,8,134,32,5,132,16,10,32,2,65,1,106,33,2,12,1,11,11,65,1,36,2,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,65,0,16,11,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,12,33,1,32,0,40,2,0,32,0,40,2,8,65,1,16,11,32,0,32,0,41,3,40,35,4,32,1,65,255,1,113,16,13,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,41,3,40,32,0,41,3,88,136,167,33,1,32,0,32,0,41,3,40,66,8,134,55,3,40,32,0,32,0,41,3,40,66,1,132,55,3,40,32,0,32,0,41,3,40,35,3,32,1,65,255,1,113,16,13,133,55,3,40,11,234,1,0,32,0,69,4,64,65,128,1,16,1,33,0,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,66,0,55,3,104,32,0,66,0,55,3,112,32,0,66,0,55,3,120,32,0,32,1,173,55,3,96,32,0,32,2,173,55,3,104,32,0,32,3,173,55,3,112,32,0,65,12,16,1,32,4,16,9,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,0,41,3,96,134,66,1,125,55,3,120,32,0,66,243,130,183,218,216,230,232,30,55,3,72,32,0,66,53,55,3,80,32,0,32,0,41,3,80,66,8,125,55,3,88,32,0,16,14,32,0,11,206,4,1,5,127,32,1,40,2,8,33,4,32,1,40,2,0,65,8,106,33,5,3,64,2,127,65,0,33,3,3,64,32,3,32,4,72,4,64,32,3,32,5,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,12,33,6,32,0,40,2,0,32,0,40,2,8,32,1,16,11,32,0,32,0,41,3,40,35,4,32,6,65,255,1,113,16,13,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,41,3,40,32,0,41,3,88,136,167,33,6,32,0,32,0,41,3,40,66,8,134,55,3,40,32,0,32,0,41,3,40,32,1,173,132,55,3,40,32,0,32,0,41,3,40,35,3,32,6,65,255,1,113,16,13,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,2,127,32,0,41,3,16,32,0,41,3,104,90,34,1,4,64,32,0,41,3,40,32,0,41,3,120,131,66,0,81,33,1,11,32,1,69,11,4,127,32,0,41,3,16,32,0,41,3,112,90,5,32,1,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,65,0,16,11,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,12,33,1,32,0,40,2,0,32,0,40,2,8,65,1,16,11,32,0,32,0,41,3,40,35,4,32,1,65,255,1,113,16,13,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,41,3,40,32,0,41,3,88,136,167,33,1,32,0,32,0,41,3,40,66,8,134,55,3,40,32,0,32,0,41,3,40,66,1,132,55,3,40,32,0,32,0,41,3,40,35,3,32,1,65,255,1,113,16,13,133,55,3,40,32,3,65,1,106,12,3,5,32,3,65,1,106,33,3,12,2,11,0,11,11,65,127,11,34,1,65,0,78,4,64,32,4,32,1,107,33,4,32,1,32,5,106,33,5,32,7,34,1,65,1,106,33,7,32,2,40,2,4,32,2,40,2,0,32,1,65,2,116,106,106,32,0,41,3,56,62,2,8,32,2,40,2,4,32,2,40,2,0,32,1,65,2,116,106,106,40,2,8,26,12,1,11,11,11,88,1,1,127,32,0,32,1,70,4,64,65,0,15,11,3,64,32,2,65,0,71,34,3,4,64,32,0,45,0,0,32,1,45,0,0,70,33,3,11,32,3,4,64,32,2,65,1,107,33,2,32,0,65,1,106,33,0,32,1,65,1,106,33,1,12,1,11,11,32,2,4,127,32,0,45,0,0,32,1,45,0,0,107,5,65,0,11,11,10,0,32,0,32,1,32,2,16,17,11,3,0,1,11,6,0,35,0,36,1,11,19,0,65,136,1,36,0,35,0,36,1,16,6,36,3,16,6,36,4,11,3,0,1,11,7,0,32,0,40,2,0,11,9,0,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,7,0,32,0,41,3,104,11,9,0,32,0,32,1,55,3,104,11,7,0,32,0,41,3,112,11,9,0,32,0,32,1,55,3,112,11,7,0,32,0,41,3,120,11,9,0,32,0,32,1,55,3,120,11,11,128,1,2,0,65,8,11,57,27,0,0,0,126,0,108,0,105,0,98,0,47,0,105,0,110,0,116,0,101,0,114,0,110,0,97,0,108,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,200,0,11,59,28,0,0,0,126,0,108,0,105,0,98,0,47,0,105,0,110,0,116,0,101,0,114,0,110,0,97,0,108,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,32,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,14,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return n(new Response(new Blob([t],{type:"application/wasm"})),e)}i.supported="undefined"!=typeof WebAssembly,t.exports=i}}},{package:"rabin-wasm",file:"/home/gudahtt/projects/metamask-extension/node_modules/rabin-wasm/dist/rabin-wasm.js"}],[5552,{"../dist/rabin-wasm.node.js":5551,"./rabin":5553},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./rabin"),i=e("../dist/rabin-wasm.node.js");t.exports={Rabin:n,create:async(e,t,r,s)=>{const a=await i();return new n(e,t,r,s,a)}}}}},{package:"rabin-wasm",file:"/home/gudahtt/projects/metamask-extension/node_modules/rabin-wasm/src/index.js"}],[5553,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=class{constructor(e=12,t=8192,r=32768,n=64,i){this.bits=e,this.min=t,this.max=r,this.asModule=i,this.rabin=new i.Rabin(e,t,r,n)}fingerprint(e){const t=new Int32Array(Math.ceil(e.length/this.min)),r=this.asModule.newArray(t),n=this.asModule.newArray(e);this.rabin.fingerprint(n,r);const i=this.asModule.getArray(Int32Array,r);this.asModule.freeArray(r),this.asModule.freeArray(n);const s=[];for(let e=0;e<i.length&&0!==i[e];e++)s[e]=i[e];return s}}}}},{package:"rabin-wasm",file:"/home/gudahtt/projects/metamask-extension/node_modules/rabin-wasm/src/rabin.js"}],[56,{"../../_locales/index.json":1,"@babel/runtime/helpers/interopRequireDefault":195,"webextension-polyfill":6160},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=async function(){let e;try{e=await i.default.i18n.getAcceptLanguages()}catch(t){e=[]}e||(e=[]);let t=e.map((e=>e.toLowerCase().replace("_","-"))).find((e=>a[e]!==undefined||a[e.split("-")[0]]!==undefined));t!==undefined&&a[t]===undefined&&(t=t.split("-")[0]);return a[t]||"en"};var i=n(e("webextension-polyfill")),s=n(e("../../_locales/index.json"));const a={};s.default.forEach((e=>{e&&e.code&&(a[e.code.toLowerCase().replace("_","-")]=e.code)}))}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/get-first-preferred-lang-code.js"}],[57,{lodash:5172},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return i((0,n.cloneDeep)(e),(e=>null===e?"null":typeof e))};var n=e("lodash");function i(e={},t){return Object.entries(e).forEach((([r,n])=>{e[r]="object"==typeof n&&null!==n?i(n,t):t(n)})),e}}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/getObjStructure.js"}],[5703,{"readable-stream":5718},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ReadableWebToNodeStream=void 0;const n=e("readable-stream");class i extends n.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released)return void this.push(null);this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}r.ReadableWebToNodeStream=i}}},{package:"readable-web-to-node-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/lib/index.js"}],[5704,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function s(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,a,o;if("string"==typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(r===undefined||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(s(t,"type"));else{var u=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(s(t,"type"))}return o+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/errors-browser.js"}],[5705,{"./_stream_readable":5707,"./_stream_writable":5709,_process:5420,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,i);for(var a=n(s.prototype),o=0;o<a.length;o++){var u=a[o];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_duplex.js"}],[5706,{"./_stream_transform":5708,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_passthrough.js"}],[5707,{"../errors":5704,"./_stream_duplex":5705,"./internal/streams/async_iterator":5710,"./internal/streams/buffer_list":5711,"./internal/streams/destroy":5712,"./internal/streams/from":5714,"./internal/streams/state":5716,"./internal/streams/stream":5717,_process:5420,buffer:2081,events:2082,inherits:4404,"string_decoder/":5897,util:2080},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=S,S.ReadableState=C;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),a=e("buffer").Buffer,o=global.Uint8Array||function(){};var u,c=e("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,d,h,f=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),g=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,y=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,v=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(S,s);var E=p.errorOrDestroy,w=["error","close","destroy","pause","resume"];function C(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function S(t){if(n=n||e("./_stream_duplex"),!(this instanceof S))return new S(t);var r=this instanceof n;this._readableState=new C(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function I(e,t,r,n,i){u("readableAddChunk",t);var s,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,c);else if(i||(s=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof o||"string"==typeof t||t===undefined||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(c,t)),s)E(e,s);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)c.endEmitted?E(e,new _):k(e,c,t,!0);else if(c.ended)E(e,new b);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?k(e,c,t,!1):B(e,c)):k(e,c,t,!1)}else n||(c.reading=!1,B(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),B(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),I(this,e,t,!1,r)},S.prototype.unshift=function(e){return I(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var r=new l(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(R,e))}function R(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,P(e)}function B(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function j(e){u("readable nexttick read 0"),e.read(0)}function D(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(M,t,e))}function M(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function K(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):x(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?O(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){E(this,new v("_read()"))},S.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:m;function o(t,r){u("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",o),n.removeListener("end",c),n.removeListener("end",m),n.removeListener("data",h),d=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}s.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",o);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",l);var d=!1;function h(t){u("ondata");var r=e.write(t);u("dest.write",r),!1===r&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==K(s.pipes,e))&&!d&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),n.pause())}function f(t){u("onerror",t),m(),e.removeListener("error",f),0===i(e,"error")&&E(e,t)}function p(){e.removeListener("finish",g),m()}function g(){u("onfinish"),e.removeListener("close",p),m()}function m(){u("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",g),e.emit("pipe",n),s.flowing||(u("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=K(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?x(this):i.reading||r.nextTick(j,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(L,this),n},S.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(L,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<w.length;s++)e.on(w[s],this.emit.bind(this,w[s]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return d===undefined&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=O,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,r){return h===undefined&&(h=e("./internal/streams/from")),h(S,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[5708,{"../errors":5704,"./_stream_duplex":5705,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_transform.js"}],[5709,{"../errors":5704,"./_stream_duplex":5705,"./internal/streams/destroy":5712,"./internal/streams/state":5716,"./internal/streams/stream":5717,_process:5420,buffer:2081,inherits:4404,"util-deprecate":6008},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=S,S.WritableState=C;var s={deprecate:e("util-deprecate")},a=e("./internal/streams/stream"),o=e("buffer").Buffer,u=global.Uint8Array||function(){};var c,l=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,h=e("../errors").codes,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,v=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;function w(){}function C(t,s,a){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof a&&(a=s instanceof i),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(r.nextTick(s,i),r.nextTick(R,e,t),e._writableState.errorEmitted=!0,E(e,i)):(s(i),e._writableState.errorEmitted=!0,E(e,i),R(e,t))}(e,n,i,t,s);else{var a=A(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),i?r.nextTick(k,e,n,a,s):k(e,n,a,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!c.call(S,this))return new S(t);this._writableState=new C(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function I(e,t,r,n,i,s,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function T(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),a=t.corkedRequestsFree;a.entry=r;for(var o=0,u=!0;r;)s[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;s.allBuffers=u,I(e,t,!0,t.length,s,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,d=r.callback;if(I(e,t,!1,t.objectMode?1:c.length,c,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(S,a),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===S&&(e&&e._writableState instanceof C)}})):c=function(e){return e instanceof this},S.prototype.pipe=function(){E(this,new m)},S.prototype.write=function(e,t,n){var i,s=this._writableState,a=!1,c=!s.objectMode&&(i=e,o.isBuffer(i)||i instanceof u);return c&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),"function"==typeof t&&(n=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=w),s.ending?function(e,t){var n=new v;E(e,n),r.nextTick(t,n)}(this,n):(c||function(e,t,n,i){var s;return null===n?s=new b:"string"==typeof n||t.objectMode||(s=new f("chunk",["string","Buffer"],n)),!s||(E(e,s),r.nextTick(i,s),!1)}(this,s,e,n))&&(s.pendingcb++,a=function(e,t,r,n,i,s){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var u=t.objectMode?1:n.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else I(e,t,!1,u,n,i,s);return c}(this,s,c,e,t,n)),a},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,R(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_writable.js"}],[5710,{"./end-of-stream":5713,_process:5420},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=e("./end-of-stream"),a=Symbol("lastResolve"),o=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var r=e[h].read();null!==r&&(e[l]=null,e[a]=null,e[o]=null,t(f(r,!1)))}}function g(e){r.nextTick(p,e)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(f(undefined,!0));if(this[h].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[u]?n(e[u]):t(f(undefined,!0))}))}));var n,i=this[l];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[c]?r(f(undefined,!0)):t[d](r,n)}),n)}}(i,this));else{var s=this[h].read();if(null!==s)return Promise.resolve(f(s,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(f(undefined,!0))}))}))})),n),m);t.exports=function(e){var t,r=Object.create(y,(i(t={},h,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[h].read();n?(r[l]=null,r[a]=null,r[o]=null,e(f(n,!1))):(r[a]=e,r[o]=t)},writable:!0}),t));return r[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[o];return null!==t&&(r[l]=null,r[a]=null,r[o]=null,t(e)),void(r[u]=e)}var n=r[a];null!==n&&(r[l]=null,r[a]=null,r[o]=null,n(f(undefined,!0))),r[c]=!0})),e.on("readable",g.bind(null,r)),r}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[5711,{buffer:2081,util:2080},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=e("buffer").Buffer,o=e("util").inspect,u=o&&o.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,c;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,r=i,n=o,a.prototype.copy.call(t,r,n),o+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0==(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&s(t.prototype,r),c&&s(t,c),e}()}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[5712,{_process:5420},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var a=this,o=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return o||u?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!s&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(n,a):(a._writableState.errorEmitted=!0,e.nextTick(r,a,t)):e.nextTick(r,a,t):s?(e.nextTick(n,a),s(t)):e.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[5713,{"../../../errors":5704},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var a=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){o=!1,c=!0,a||s.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){a=!1,d=!0,o||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):o&&!c?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[5714,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[5715,{"../../../errors":5704,"./end-of-stream":5713},function(){with(this)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function u(t,r,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var o=!1;t.on("close",(function(){o=!0})),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return s(e);o=!0,s()}));var u=!1;return function(e){if(!o&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var a=t.map((function(e,r){var s=r<t.length-1;return u(e,s,r>0,(function(e){n||(n=e),e&&a.forEach(c),s||(a.forEach(c),i(n))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[5716,{"../../../errors":5704},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/state.js"}],[5717,{events:2082},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("events").EventEmitter}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[5718,{"./lib/_stream_duplex.js":5705,"./lib/_stream_passthrough.js":5706,"./lib/_stream_readable.js":5707,"./lib/_stream_transform.js":5708,"./lib/_stream_writable.js":5709,"./lib/internal/streams/end-of-stream.js":5713,"./lib/internal/streams/pipeline.js":5715},function(){with(this)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/readable-browser.js"}],[5719,{ms:5204},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=a;var n=e("ms"),i=a.prototype,s=new Date%1e9;function a(e){e=e||{},this.id=e.id||(1e9*Math.random()>>>0)+s++,this.max=e.max||Infinity,this.items=e.items||[],this._lookup={},this.size=this.items.length,this.lastModified=new Date(e.lastModified||new Date);for(var t,r,n=this.items.length;n--;)t=this.items[n],r=new Date(t.expires)-new Date,this._lookup[t.key]=t,r>0?this.expire(t.key,r):r<=0&&this.delete(t.key)}i.has=function(e){return e in this._lookup},i.get=function(e){if(!this.has(e))return null;var t=this._lookup[e];return t.refresh&&this.expire(e,t.refresh),this.items.splice(this.items.indexOf(t),1),this.items.push(t),t.value},i.meta=function(e){if(!this.has(e))return null;var t=this._lookup[e];return"meta"in t?t.meta:null},i.set=function(e,t,r){var n=this._lookup[e],i=this._lookup[e]={key:e,value:t};return this.lastModified=new Date,n?(clearTimeout(n.timeout),this.items.splice(this.items.indexOf(n),1,i)):(this.size>=this.max&&this.delete(this.items[0].key),this.items.push(i),this.size++),r&&("ttl"in r&&this.expire(e,r.ttl),"meta"in r&&(i.meta=r.meta),r.refresh&&(i.refresh=r.ttl)),this},i.delete=function(e){var t=this._lookup[e];return!!t&&(this.lastModified=new Date,this.items.splice(this.items.indexOf(t),1),clearTimeout(t.timeout),delete this._lookup[e],this.size--,this)},i.expire=function(e,t){var r=t||0,i=this._lookup[e];if(!i)return this;if("string"==typeof r&&(r=n(t)),"number"!=typeof r)throw new TypeError("Expiration time must be a string or number.");return clearTimeout(i.timeout),i.timeout=setTimeout(this.delete.bind(this,i.key),r),i.expires=Number(new Date)+r,this},i.clear=function(){for(var e=this.items.length;e--;)this.delete(this.items[e].key);return this},i.toJSON=function(){for(var e,t=new Array(this.items.length),r=t.length;r--;)e=this.items[r],t[r]={key:e.key,meta:e.meta,value:e.value,expires:e.expires,refresh:e.refresh};return{id:this.id,max:isFinite(this.max)?this.max:undefined,lastModified:this.lastModified,items:t}}}}},{package:"receptacle",file:"/home/gudahtt/projects/metamask-extension/node_modules/receptacle/index.js"}],[572,{"./metamask-airgapped-keyring.cjs.development.js":573,"./metamask-airgapped-keyring.cjs.production.min.js":574},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./metamask-airgapped-keyring.cjs.production.min.js")}}},{package:"@keystonehq/metamask-airgapped-keyring",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/metamask-airgapped-keyring/dist/index.js"}],[5727,{url:6004},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("url");t.exports=function(e,t,r,i){var s;return r=r||{},s=(e=n.parse(e,!1,!0)).protocol?e.protocol:(r[s=t.protocol?t.protocol.replace(/:$/,""):"http"]||i||s)+":",e.host&&":"===e.host[0]&&(e.host=null),e.hostname?n.format({protocol:s,slashes:!0,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search}):(e.host=t.host,e.port?n.format({protocol:s,slashes:!0,host:t.hostname+":"+e.port,port:e.port,pathname:e.pathname,search:e.search}):e.pathname?n.format({protocol:s,slashes:!0,host:e.host,pathname:e.pathname,search:e.search}):(e.pathname=t.pathname,e.search?n.format({protocol:s,slashes:!0,host:e.host,pathname:e.pathname,search:e.search}):(e.search=t.search,e.format(e))))}}}},{package:"relative-url",file:"/home/gudahtt/projects/metamask-extension/node_modules/relative-url/index.js"}],[5728,{},function(){with(this)return function(){"use strict";return function(e,t,r){(r=t.exports=function(e){return String(e).replace(r.expr,"")}).expr=/\/+$/}}},{package:"remove-trailing-slash",file:"/home/gudahtt/projects/metamask-extension/node_modules/remove-trailing-slash/index.js"}],[573,{"@ethereumjs/tx":405,"@keystonehq/base-eth-keyring":542,"@keystonehq/bc-ur-registry-eth":577,"@metamask/obs-store":582,buffer:2081,events:2082,rlp:5737,uuid:6009},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("@keystonehq/base-eth-keyring"),s=e("events"),a=e("@metamask/obs-store"),o=e("@keystonehq/bc-ur-registry-eth"),u=e("uuid"),c=e("@ethereumjs/tx"),l=(n=e("rlp"))&&"object"==typeof n&&"default"in n?n.default:n;class d extends s.EventEmitter{constructor(){if(super(),this.readCryptoHDKeyOrCryptoAccount=()=>new Promise(((e,r)=>{this.memStore.updateState({sync:{reading:!0}}),this.on("keystone-sync_success-hdkey",(r=>{const n=o.CryptoHDKey.fromCBOR(t.from(r,"hex"));this.resetState(),e(n)})),this.on("keystone-sync_success-account",(r=>{const n=o.CryptoAccount.fromCBOR(t.from(r,"hex"));this.resetState(),e(n)})),this.on("keystone-sync_cancel",(()=>{this.resetState(),r(new Error("KeystoneError#sync_cancel. Sync process canceled, please retry"))}))})),this.submitCryptoHDKey=e=>{this.emit("keystone-sync_success-hdkey",e)},this.submitCryptoAccount=e=>{this.emit("keystone-sync_success-account",e)},this.cancelSync=()=>{this.emit("keystone-sync_cancel")},this.requestSignature=(e,r,n)=>new Promise(((i,s)=>{const a=e.toUR(),c=e.getRequestId(),l=u.stringify(c),d={requestId:l,payload:{type:a.type,cbor:a.cbor.toString("hex")},title:r,description:n};this.memStore.updateState({sign:{request:d}}),this.once(`${l}-signed`,(e=>{const r=o.ETHSignature.fromCBOR(t.from(e,"hex"));this.resetState(),i(r)})),this.once(`${l}-canceled`,(()=>{this.resetState(),s(new Error("KeystoneError#Tx_canceled. Signing canceled, please retry"))}))})),this.submitSignature=(e,t)=>{this.emit(`${e}-signed`,t)},this.cancelRequestSignature=()=>{const e=this.memStore.getState().sign.request;if(e){const{requestId:t}=e;this.memStore.updateState({sign:{}}),this.emit(`${t}-canceled`)}},this.resetState=()=>{this.memStore.updateState({sync:{reading:!1},sign:{}})},d.instance)return d.instance;this.memStore=new a.ObservableStore({sync:{reading:!1},sign:{},_version:1}),d.instance=this}}class h extends i.BaseKeyring{constructor(e){if(super(e),this.getInteraction=()=>new d,this.getMemStore=()=>this.getInteraction().memStore,this.removeAccount=e=>{if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((t=>t.toLowerCase()!==e.toLowerCase()))},this.forgetDevice=()=>{this.page=0,this.perPage=5,this.accounts=[],this.currentAccount=0,this.name="QR Hardware",this.initialized=!1,this.xfp="",this.xpub="",this.hdPath="",this.indexes={},this.hdk=undefined,this.paths={}},this.submitCryptoHDKey=this.getInteraction().submitCryptoHDKey,this.submitCryptoAccount=this.getInteraction().submitCryptoAccount,this.submitSignature=this.getInteraction().submitSignature,this.cancelSync=this.getInteraction().cancelSync,this.cancelSignRequest=this.getInteraction().cancelRequestSignature,h.instance)return h.instance.deserialize(e),h.instance;h.instance=this}async signTransaction(e,t){const r=0===t.type?o.DataType.transaction:o.DataType.typedTransaction;let n;n=0===t.type?l.encode(t.getMessageToSign(!1)):t.getMessageToSign(!1);const i=await this._pathFromAddress(e),s=t.common.chainId(),a=u.v4(),d=o.EthSignRequest.constructETHRequest(n,r,i,this.xfp,a,s),{r:h,s:f,v:p}=await this.requestSignature(a,d,"Scan with your Keystone",'After your Keystone has signed the transaction, click on "Scan Keystone" to receive the signature'),g=t.toJSON();g.v=p,g.s=f,g.r=h,g.type=t.type;return c.TransactionFactory.fromTxData(g,{common:t.common})}}h.type=i.BaseKeyring.type,r.MetaMaskKeyring=h}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/metamask-airgapped-keyring/dist/metamask-airgapped-keyring.cjs.development.js"}],[5733,{"./time":5734},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./time");function i(e,t,r){var i=this;this._started=n(),this._rescheduled=0,this._scheduled=t,this._args=r,this._timer=setTimeout((function t(){i._rescheduled>0?(i._scheduled=i._rescheduled-(n()-i._started),i._timer=setTimeout(t,i._scheduled),i._rescheduled=0):e.apply(null,i._args)}),t)}i.prototype.reschedule=function(e){var t=n();return!(t+e-(this._started+this._scheduled)<0)&&(this._started=t,this._rescheduled=e,!0)},i.prototype.clear=function(){clearTimeout(this._timer)},t.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("timeout needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new i(arguments[0],arguments[1],e)}}}},{package:"retimer",file:"/home/gudahtt/projects/metamask-extension/node_modules/retimer/retimer.js"}],[5734,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){return Date.now()}}}},{package:"retimer",file:"/home/gudahtt/projects/metamask-extension/node_modules/retimer/time-browser.js"}],[5736,{assert:1700,"buffer/":2096},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("assert"),i=e("buffer/").Buffer;function s(e,t){if("00"===e.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function a(e,t){if(e<56)return new i([e+t]);var r=c(e),n=c(t+55+r.length/2);return new i(n+r,"hex")}function o(e){var t,r,n,a,u,c=[],l=e[0];if(l<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(l<=183){if(t=l-127,n=128===l?new i([]):e.slice(1,t),2===t&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:e.slice(t)}}if(l<=191){if(r=l-182,t=s(e.slice(1,r).toString("hex"),16),(n=e.slice(r,t+r)).length<t)throw new Error("invalid RLP");return{data:n,remainder:e.slice(t+r)}}if(l<=247){for(t=l-191,a=e.slice(1,t);a.length;)u=o(a),c.push(u.data),a=u.remainder;return{data:c,remainder:e.slice(t)}}var d=(r=l-246)+(t=s(e.slice(1,r).toString("hex"),16));if(d>e.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(a=e.slice(r,d)).length)throw new Error("invalid rlp, List has a invalid length");for(;a.length;)u=o(a),c.push(u.data),a=u.remainder;return{data:c,remainder:e.slice(d)}}function u(e){return"0x"===e.slice(0,2)}function c(e){var t=e.toString(16);return t.length%2&&(t="0"+t),t}function l(e){if(!i.isBuffer(e))if("string"==typeof e)e=u(e)?new i(((r="string"!=typeof(n=e)?n:u(n)?n.slice(2):n).length%2&&(r="0"+r),r),"hex"):new i(e);else if("number"==typeof e)e?(t=c(e),e=new i(t,"hex")):e=new i([]);else if(null===e||e===undefined)e=new i([]);else{if(!e.toArray)throw new Error("invalid type");e=new i(e.toArray())}var t,r,n;return e}r.encode=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(r.encode(e[n]));var s=i.concat(t);return i.concat([a(s.length,192),s])}return 1===(e=l(e)).length&&e[0]<128?e:i.concat([a(e.length,128),e])},r.decode=function(e,t){if(!e||0===e.length)return new i([]);var r=o(e=l(e));return t?r:(n.equal(r.remainder.length,0,"invalid remainder"),r.data)},r.getLength=function(e){if(!e||0===e.length)return new i([]);var t=(e=l(e))[0];if(t<=127)return e.length;if(t<=183)return t-127;if(t<=191)return t-182;if(t<=247)return t-191;var r=t-246;return r+s(e.slice(1,r).toString("hex"),16)}}}},{package:"rlp-browser",file:"/home/gudahtt/projects/metamask-extension/node_modules/rlp-browser/index.js"}],[574,{"@ethereumjs/tx":405,"@keystonehq/base-eth-keyring":542,"@keystonehq/bc-ur-registry-eth":577,"@metamask/obs-store":582,buffer:2081,events:2082,rlp:5737,uuid:6009},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("@keystonehq/base-eth-keyring"),s=e("events"),a=e("@metamask/obs-store"),o=e("@keystonehq/bc-ur-registry-eth"),u=e("uuid"),c=e("@ethereumjs/tx"),l=(n=e("rlp"))&&"object"==typeof n&&"default"in n?n.default:n;class d extends s.EventEmitter{constructor(){if(super(),this.readCryptoHDKeyOrCryptoAccount=()=>new Promise(((e,r)=>{this.memStore.updateState({sync:{reading:!0}}),this.on("keystone-sync_success-hdkey",(r=>{const n=o.CryptoHDKey.fromCBOR(t.from(r,"hex"));this.resetState(),e(n)})),this.on("keystone-sync_success-account",(r=>{const n=o.CryptoAccount.fromCBOR(t.from(r,"hex"));this.resetState(),e(n)})),this.on("keystone-sync_cancel",(()=>{this.resetState(),r(new Error("KeystoneError#sync_cancel. Sync process canceled, please retry"))}))})),this.submitCryptoHDKey=e=>{this.emit("keystone-sync_success-hdkey",e)},this.submitCryptoAccount=e=>{this.emit("keystone-sync_success-account",e)},this.cancelSync=()=>{this.emit("keystone-sync_cancel")},this.requestSignature=(e,r,n)=>new Promise(((i,s)=>{const a=e.toUR(),c=e.getRequestId(),l=u.stringify(c),d={requestId:l,payload:{type:a.type,cbor:a.cbor.toString("hex")},title:r,description:n};this.memStore.updateState({sign:{request:d}}),this.once(l+"-signed",(e=>{const r=o.ETHSignature.fromCBOR(t.from(e,"hex"));this.resetState(),i(r)})),this.once(l+"-canceled",(()=>{this.resetState(),s(new Error("KeystoneError#Tx_canceled. Signing canceled, please retry"))}))})),this.submitSignature=(e,t)=>{this.emit(e+"-signed",t)},this.cancelRequestSignature=()=>{const e=this.memStore.getState().sign.request;if(e){const{requestId:t}=e;this.memStore.updateState({sign:{}}),this.emit(t+"-canceled")}},this.resetState=()=>{this.memStore.updateState({sync:{reading:!1},sign:{}})},d.instance)return d.instance;this.memStore=new a.ObservableStore({sync:{reading:!1},sign:{},_version:1}),d.instance=this}}class h extends i.BaseKeyring{constructor(e){if(super(e),this.getInteraction=()=>new d,this.getMemStore=()=>this.getInteraction().memStore,this.removeAccount=e=>{if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((t=>t.toLowerCase()!==e.toLowerCase()))},this.forgetDevice=()=>{this.page=0,this.perPage=5,this.accounts=[],this.currentAccount=0,this.name="QR Hardware",this.initialized=!1,this.xfp="",this.xpub="",this.hdPath="",this.indexes={},this.hdk=void 0,this.paths={}},this.submitCryptoHDKey=this.getInteraction().submitCryptoHDKey,this.submitCryptoAccount=this.getInteraction().submitCryptoAccount,this.submitSignature=this.getInteraction().submitSignature,this.cancelSync=this.getInteraction().cancelSync,this.cancelSignRequest=this.getInteraction().cancelRequestSignature,h.instance)return h.instance.deserialize(e),h.instance;h.instance=this}async signTransaction(e,t){const r=0===t.type?o.DataType.transaction:o.DataType.typedTransaction;let n;n=0===t.type?l.encode(t.getMessageToSign(!1)):t.getMessageToSign(!1);const i=await this._pathFromAddress(e),s=t.common.chainId(),a=u.v4(),d=o.EthSignRequest.constructETHRequest(n,r,i,this.xfp,a,s),{r:h,s:f,v:p}=await this.requestSignature(a,d,"Scan with your Keystone",'After your Keystone has signed the transaction, click on "Scan Keystone" to receive the signature'),g=t.toJSON();return g.v=p,g.s=f,g.r=h,g.type=t.type,c.TransactionFactory.fromTxData(g,{common:t.common})}}h.type=i.BaseKeyring.type,r.MetaMaskKeyring=h}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/metamask-airgapped-keyring/dist/metamask-airgapped-keyring.cjs.production.min.js"}],[5741,{"truncate-utf8-bytes":5988},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("truncate-utf8-bytes"),i=/[\/\?<>\\:\*\|"]/g,s=/[\x00-\x1f\x80-\x9f]/g,a=/^\.+$/,o=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,u=/[\. ]+$/;function c(e,t){if("string"!=typeof e)throw new Error("Input must be string");var r=e.replace(i,t).replace(s,t).replace(a,t).replace(o,t).replace(u,t);return n(r,255)}t.exports=function(e,t){var r=t&&t.replacement||"",n=c(e,r);return""===r?n:c(n,"")}}}},{package:"sanitize-filename",file:"/home/gudahtt/projects/metamask-extension/node_modules/sanitize-filename/index.js"}],[5749,{buffer:2081,pbkdf2:5400},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("pbkdf2").pbkdf2Sync,i=2147483647;function s(e,t,n,i,s){if(r.isBuffer(e)&&r.isBuffer(n))e.copy(n,i,t,t+s);else for(;s--;)n[i++]=e[t++]}t.exports=function(e,t,a,o,u,c,l){if(0===a||0!=(a&a-1))throw Error("N must be > 0 and a power of 2");if(a>i/128/o)throw Error("Parameter N is too large");if(o>i/128/u)throw Error("Parameter r is too large");var d,h=new r(256*o),f=new r(128*o*a),p=new Int32Array(16),g=new Int32Array(16),m=new r(64),y=n(e,t,1,128*u*o,"sha256");if(l){var b=u*a*2,v=0;d=function(){++v%1e3==0&&l({current:v,total:b,percent:v/b*100})}}for(var _=0;_<u;_++)E(y,128*_*o,o,a,f,h);return n(e,y,1,c,"sha256");function E(e,t,r,n,i,s){var a,o=128*r;for(e.copy(s,0,t,t+o),a=0;a<n;a++)s.copy(i,a*o,0,0+o),w(s,0,o,r),d&&d();for(a=0;a<n;a++){var u=0+64*(2*r-1);I(i,(s.readUInt32LE(u)&n-1)*o,s,0,o),w(s,0,o,r),d&&d()}s.copy(e,t,0,0+o)}function w(e,t,r,n){var i;for(s(e,t+64*(2*n-1),m,0,64),i=0;i<2*n;i++)I(e,64*i,m,0,64),S(m),s(m,0,e,r+64*i,64);for(i=0;i<n;i++)s(e,r+2*i*64,e,t+64*i,64);for(i=0;i<n;i++)s(e,r+64*(2*i+1),e,t+64*(i+n),64)}function C(e,t){return e<<t|e>>>32-t}function S(e){var t;for(t=0;t<16;t++)p[t]=(255&e[4*t+0])<<0,p[t]|=(255&e[4*t+1])<<8,p[t]|=(255&e[4*t+2])<<16,p[t]|=(255&e[4*t+3])<<24;for(s(p,0,g,0,16),t=8;t>0;t-=2)g[4]^=C(g[0]+g[12],7),g[8]^=C(g[4]+g[0],9),g[12]^=C(g[8]+g[4],13),g[0]^=C(g[12]+g[8],18),g[9]^=C(g[5]+g[1],7),g[13]^=C(g[9]+g[5],9),g[1]^=C(g[13]+g[9],13),g[5]^=C(g[1]+g[13],18),g[14]^=C(g[10]+g[6],7),g[2]^=C(g[14]+g[10],9),g[6]^=C(g[2]+g[14],13),g[10]^=C(g[6]+g[2],18),g[3]^=C(g[15]+g[11],7),g[7]^=C(g[3]+g[15],9),g[11]^=C(g[7]+g[3],13),g[15]^=C(g[11]+g[7],18),g[1]^=C(g[0]+g[3],7),g[2]^=C(g[1]+g[0],9),g[3]^=C(g[2]+g[1],13),g[0]^=C(g[3]+g[2],18),g[6]^=C(g[5]+g[4],7),g[7]^=C(g[6]+g[5],9),g[4]^=C(g[7]+g[6],13),g[5]^=C(g[4]+g[7],18),g[11]^=C(g[10]+g[9],7),g[8]^=C(g[11]+g[10],9),g[9]^=C(g[8]+g[11],13),g[10]^=C(g[9]+g[8],18),g[12]^=C(g[15]+g[14],7),g[13]^=C(g[12]+g[15],9),g[14]^=C(g[13]+g[12],13),g[15]^=C(g[14]+g[13],18);for(t=0;t<16;++t)p[t]=g[t]+p[t];for(t=0;t<16;t++){var r=4*t;e[r+0]=p[t]>>0&255,e[r+1]=p[t]>>8&255,e[r+2]=p[t]>>16&255,e[r+3]=p[t]>>24&255}}function I(e,t,r,n,i){for(var s=0;s<i;s++)r[n+s]^=e[t+s]}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"scryptsy",file:"/home/gudahtt/projects/metamask-extension/node_modules/scryptsy/lib/scrypt.js"}],[575,{"@keystonehq/bc-ur-registry":566,buffer:2081,"ethereumjs-util":2521,hdkey:4375,uuid:6009},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("@keystonehq/bc-ur-registry"),s=e("uuid"),a=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,o=e("ethereumjs-util");const{RegistryType:u}=i.extend,c={ETH_SIGN_REQUEST:new u("eth-sign-request",401),ETH_SIGNATAURE:new u("eth-signature",402)},{decodeToDataItem:l,RegistryTypes:d}=i.extend;var h,f;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(h||(h={})),(f=r.DataType||(r.DataType={}))[f.transaction=1]="transaction",f[f.typedData=2]="typedData",f[f.personalMessage=3]="personalMessage",f[f.typedTransaction=4]="typedTransaction";class p extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.setupData=e=>{this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin},this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[h.requestId]=new i.DataItem(this.requestId,d.UUID.getTag())),this.address&&(e[h.address]=this.address),this.chainId&&(e[h.chainId]=this.chainId),this.origin&&(e[h.origin]=this.origin),e[h.signData]=this.signData,e[h.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[h.derivationPath]=t,new i.DataItem(e)},this.setupData(e)}static constructETHRequest(e,r,n,a,o,u,c,l){const d=n.replace(/[m|M]\//,"").split("/"),h=new i.CryptoKeypath(d.map((e=>{const t=parseInt(e.replace("'",""));let r=!1;return e.endsWith("'")&&(r=!0),new i.PathComponent({index:t,hardened:r})})),t.from(a,"hex"));return new p({requestId:o?t.from(s.parse(o)):undefined,signData:e,dataType:r,derivationPath:h,chainId:u,address:c?t.from(c.replace("0x",""),"hex"):undefined,origin:l||undefined})}}p.fromDataItem=e=>{const t=e.getData(),r=t[h.signData],n=t[h.dataType],s=i.CryptoKeypath.fromDataItem(t[h.derivationPath]),a=t[h.chainId]?t[h.chainId]:undefined,o=t[h.address]?t[h.address]:undefined,u=t[h.requestId]?t[h.requestId].getData():undefined,c=t[h.origin]?t[h.origin]:undefined;return new p({requestId:u,signData:r,dataType:n,chainId:a,derivationPath:s,address:o,origin:c})},p.fromCBOR=e=>{const t=l(e);return p.fromDataItem(t)};const{RegistryTypes:g,decodeToDataItem:m}=i.extend;var y;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature"}(y||(y={}));class b extends i.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>c.ETH_SIGNATAURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const e={};return this.requestId&&(e[y.requestId]=new i.DataItem(this.requestId,g.UUID.getTag())),e[y.signature]=this.signature,new i.DataItem(e)},this.signature=e,this.requestId=t}}b.fromDataItem=e=>{const t=e.getData(),r=t[y.signature],n=t[y.requestId]?t[y.requestId].getData():undefined;return new b(r,n)},b.fromCBOR=e=>{const t=m(e);return b.fromDataItem(t)};const v=(e,t)=>{const r=a.fromExtendedKey(e).derive(t),n="0x"+o.publicToAddress(r.publicKey,!0).toString("hex");return o.toChecksumAddress(n)},{cbor:_}=i.extend;_.patchTags(Object.values(c).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(i).forEach((function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})})),r.ETHSignature=b,r.EthSignRequest=p,r.findHDpatfromAddress=(e,t,r,n)=>{for(let i=0;i<r;i++){const r=v(t,`M/0/${i}`);if(e.toLowerCase()==r.toLowerCase())return`${n}/0/${i}`}return null},r.generateAddressfromXpub=v}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/metamask-airgapped-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js"}],[576,{"@keystonehq/bc-ur-registry":566,buffer:2081,"ethereumjs-util":2521,hdkey:4375,uuid:6009},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("@keystonehq/bc-ur-registry"),s=e("uuid"),a=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,o=e("ethereumjs-util");const{RegistryType:u}=i.extend,c={ETH_SIGN_REQUEST:new u("eth-sign-request",401),ETH_SIGNATAURE:new u("eth-signature",402)},{decodeToDataItem:l,RegistryTypes:d}=i.extend;var h,f;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(h||(h={})),(f=r.DataType||(r.DataType={}))[f.transaction=1]="transaction",f[f.typedData=2]="typedData",f[f.personalMessage=3]="personalMessage",f[f.typedTransaction=4]="typedTransaction";class p extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.setupData=e=>{this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin},this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[h.requestId]=new i.DataItem(this.requestId,d.UUID.getTag())),this.address&&(e[h.address]=this.address),this.chainId&&(e[h.chainId]=this.chainId),this.origin&&(e[h.origin]=this.origin),e[h.signData]=this.signData,e[h.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[h.derivationPath]=t,new i.DataItem(e)},this.setupData(e)}static constructETHRequest(e,r,n,a,o,u,c,l){const d=n.replace(/[m|M]\//,"").split("/"),h=new i.CryptoKeypath(d.map((e=>{const t=parseInt(e.replace("'",""));let r=!1;return e.endsWith("'")&&(r=!0),new i.PathComponent({index:t,hardened:r})})),t.from(a,"hex"));return new p({requestId:o?t.from(s.parse(o)):void 0,signData:e,dataType:r,derivationPath:h,chainId:u,address:c?t.from(c.replace("0x",""),"hex"):void 0,origin:l||void 0})}}p.fromDataItem=e=>{const t=e.getData(),r=t[h.signData],n=t[h.dataType],s=i.CryptoKeypath.fromDataItem(t[h.derivationPath]),a=t[h.chainId]?t[h.chainId]:void 0,o=t[h.address]?t[h.address]:void 0,u=t[h.requestId]?t[h.requestId].getData():void 0;return new p({requestId:u,signData:r,dataType:n,chainId:a,derivationPath:s,address:o,origin:t[h.origin]?t[h.origin]:void 0})},p.fromCBOR=e=>{const t=l(e);return p.fromDataItem(t)};const{RegistryTypes:g,decodeToDataItem:m}=i.extend;var y;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature"}(y||(y={}));class b extends i.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>c.ETH_SIGNATAURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const e={};return this.requestId&&(e[y.requestId]=new i.DataItem(this.requestId,g.UUID.getTag())),e[y.signature]=this.signature,new i.DataItem(e)},this.signature=e,this.requestId=t}}b.fromDataItem=e=>{const t=e.getData(),r=t[y.signature],n=t[y.requestId]?t[y.requestId].getData():void 0;return new b(r,n)},b.fromCBOR=e=>{const t=m(e);return b.fromDataItem(t)};const v=(e,t)=>{const r=a.fromExtendedKey(e).derive(t),n="0x"+o.publicToAddress(r.publicKey,!0).toString("hex");return o.toChecksumAddress(n)},{cbor:_}=i.extend;_.patchTags(Object.values(c).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(i).forEach((function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})})),r.ETHSignature=b,r.EthSignRequest=p,r.findHDpatfromAddress=(e,t,r,n)=>{for(let i=0;i<r;i++){const r=v(t,"M/0/"+i);if(e.toLowerCase()==r.toLowerCase())return`${n}/0/${i}`}return null},r.generateAddressfromXpub=v}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/metamask-airgapped-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.production.min.js"}],[577,{"./bc-ur-registry-eth.cjs.development.js":575,"./bc-ur-registry-eth.cjs.production.min.js":576},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./bc-ur-registry-eth.cjs.production.min.js")}}},{package:"@keystonehq/bc-ur-registry-eth",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/metamask-airgapped-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js"}],[578,{"./ObservableStore":580},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ComposedStore=void 0;const n=e("./ObservableStore");class i extends n.ObservableStore{constructor(e){super({}),this._children=e||{},Object.keys(this._children).forEach((e=>{const t=this._children[e];this._addChild(e,t)}))}_addChild(e,t){const r=t=>{const r=this.getState();r[e]=t,this.putState(r)};t.subscribe(r),r(t.getState())}}r.ComposedStore=i}}},{package:"@metamask/obs-store",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/metamask-airgapped-keyring/node_modules/@metamask/obs-store/dist/ComposedStore.js"}],[579,{"./ObservableStore":580},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MergedStore=void 0;const n=e("./ObservableStore");class i extends n.ObservableStore{constructor(e=[]){super({}),this._children=e,e.forEach((e=>this._addChild(e))),this._updateWholeState()}_addChild(e){e.subscribe((()=>this._updateWholeState()))}_updateWholeState(){const e=this._children.map((e=>e.getState())),t=Object.assign({},...e);this.putState(t)}}r.MergedStore=i}}},{package:"@metamask/obs-store",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/metamask-airgapped-keyring/node_modules/@metamask/obs-store/dist/MergedStore.js"}],[58,{"./util":81,"@babel/runtime/helpers/interopRequireDefault":195,loglevel:5182,"webextension-polyfill":6160},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("webextension-polyfill")),s=n(e("loglevel")),a=e("./util");r.default=class{constructor(){this.isSupported=Boolean(i.default.storage.local),this.isSupported||s.default.error("Storage local API not available.")}async get(){if(!this.isSupported)return undefined;const e=await this._get();return t=e,0===Object.keys(t).length?undefined:e;var t}async set(e){return this._set(e)}_get(){const{local:e}=i.default.storage;return new Promise(((t,r)=>{e.get(null).then((e=>{const n=(0,a.checkForError)();n?r(n):t(e)}))}))}_set(e){const{local:t}=i.default.storage;return new Promise(((r,n)=>{t.set(e).then((()=>{const e=(0,a.checkForError)();e?n(e):r()}))}))}}}}},{package:"<root>",file:"/home/gudahtt/projects/metamask-extension/app/scripts/lib/local-store.js"}],[580,{"@metamask/safe-event-emitter":1315},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.ObservableStore=void 0;const i=n(e("@metamask/safe-event-emitter"));class s extends i.default{constructor(e){super(),this._state=e||{}}getState(){return this._getState()}putState(e){this._putState(e),this.emit("update",e)}updateState(e){if(e&&"object"==typeof e){const t=this.getState();this.putState(Object.assign(Object.assign({},t),e))}else this.putState(e)}subscribe(e){this.on("update",e)}unsubscribe(e){this.removeListener("update",e)}_getState(){return this._state}_putState(e){this._state=e}}r.ObservableStore=s}}},{package:"@metamask/obs-store",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/metamask-airgapped-keyring/node_modules/@metamask/obs-store/dist/ObservableStore.js"}],[581,{stream:2084},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.storeAsStream=void 0;const n=e("stream");class i extends n.Duplex{constructor(e){super({objectMode:!0}),this.resume(),this.handler=e=>this.push(e),this.obsStore=e,this.obsStore.subscribe(this.handler)}pipe(e,t){const r=super.pipe(e,t);return e.write(this.obsStore.getState()),r}_write(e,t,r){this.obsStore.putState(e),r()}_read(e){return undefined}_destroy(e,t){this.obsStore.unsubscribe(this.handler),super._destroy(e,t)}}r.storeAsStream=function(e){return new i(e)}}}},{package:"@metamask/obs-store",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/metamask-airgapped-keyring/node_modules/@metamask/obs-store/dist/asStream.js"}],[5810,{"./lib/index":5814},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./lib/index")}}},{package:"shortid",file:"/home/gudahtt/projects/metamask-extension/node_modules/shortid/index.js"}],[5811,{"./random/random-from-seed":5817},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i,s,a=e("./random/random-from-seed"),o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function u(){s=!1}function c(e){if(e){if(e!==n){if(e.length!==o.length)throw new Error("Custom alphabet for shortid must be "+o.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,r){return t!==r.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+o.length+" unique characters. These characters were not unique: "+t.join(", "));n=e,u()}}else n!==o&&(n=o,u())}function l(){return s||(s=function(){n||c(o);for(var e,t=n.split(""),r=[],i=a.nextValue();t.length>0;)i=a.nextValue(),e=Math.floor(i*t.length),r.push(t.splice(e,1)[0]);return r.join("")}())}t.exports={get:function(){return n||o},characters:function(e){return c(e),n},seed:function(e){a.seed(e),i!==e&&(u(),i=e)},lookup:function(e){return l()[e]},shuffled:l}}}},{package:"shortid",file:"/home/gudahtt/projects/metamask-extension/node_modules/shortid/lib/alphabet.js"}],[5812,{"./alphabet":5811,"./generate":5813},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i,s=e("./generate");e("./alphabet");t.exports=function(e){var t="",r=Math.floor(.001*(Date.now()-1459707606518));return r===i?n++:(n=0,i=r),t+=s(6),t+=s(e),n>0&&(t+=s(n)),t+=s(r)}}}},{package:"shortid",file:"/home/gudahtt/projects/metamask-extension/node_modules/shortid/lib/build.js"}],[5813,{"./alphabet":5811,"./random/random-byte":5816,"nanoid/format":5256},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./alphabet"),i=e("./random/random-byte"),s=e("nanoid/format");t.exports=function(e){for(var t,r=0,a="";!t;)a+=s(i,n.get(),1),t=e<Math.pow(16,r+1),r++;return a}}}},{package:"shortid",file:"/home/gudahtt/projects/metamask-extension/node_modules/shortid/lib/generate.js"}],[5814,{"./alphabet":5811,"./build":5812,"./is-valid":5815,"./util/cluster-worker-id":5818},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./alphabet"),i=e("./build"),s=e("./is-valid"),a=e("./util/cluster-worker-id")||0;function o(){return i(a)}t.exports=o,t.exports.generate=o,t.exports.seed=function(e){return n.seed(e),t.exports},t.exports.worker=function(e){return a=e,t.exports},t.exports.characters=function(e){return e!==undefined&&n.characters(e),n.shuffled()},t.exports.isValid=s}}},{package:"shortid",file:"/home/gudahtt/projects/metamask-extension/node_modules/shortid/lib/index.js"}],[5815,{"./alphabet":5811},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./alphabet");t.exports=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+n.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}}}},{package:"shortid",file:"/home/gudahtt/projects/metamask-extension/node_modules/shortid/lib/is-valid.js"}],[5816,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i="object"==typeof window&&(window.crypto||window.msCrypto);n=i&&i.getRandomValues?function(e){return i.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},t.exports=n}}},{package:"shortid",file:"/home/gudahtt/projects/metamask-extension/node_modules/shortid/lib/random/random-byte-browser.js"}],[5817,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=1;t.exports={nextValue:function(){return(n=(9301*n+49297)%233280)/233280},seed:function(e){n=e}}}}},{package:"shortid",file:"/home/gudahtt/projects/metamask-extension/node_modules/shortid/lib/random/random-from-seed.js"}],[5818,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=0}}},{package:"shortid",file:"/home/gudahtt/projects/metamask-extension/node_modules/shortid/lib/util/cluster-worker-id-browser.js"}],[5819,{varint:6031},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("varint");r.encode=function e(t,r,i){t=t>=0?2*t:-2*t-1;var s=n.encode(t,r,i);return e.bytes=n.encode.bytes,s},r.decode=function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,1&i?(i+1)/-2:i/2},r.encodingLength=function(e){return n.encodingLength(e>=0?2*e:-2*e-1)}}}},{package:"signed-varint",file:"/home/gudahtt/projects/metamask-extension/node_modules/signed-varint/index.js"}],[582,{"./ComposedStore":578,"./MergedStore":579,"./ObservableStore":580,"./asStream":581,"./transform":583},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./asStream"),r),i(e("./ComposedStore"),r),i(e("./MergedStore"),r),i(e("./ObservableStore"),r),i(e("./transform"),r)}}},{package:"@metamask/obs-store",file:"/home/gudahtt/projects/metamask-extension/node_modules/@keystonehq/metamask-airgapped-keyring/node_modules/@metamask/obs-store/dist/index.js"}],[5820,{buffer:2081,debug:2253,"get-browser-rtc":4308,inherits:4404,randombytes:5554,"readable-stream":5835},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){t.exports=c;var n=e("debug")("simple-peer"),i=e("get-browser-rtc"),s=e("inherits"),a=e("randombytes"),o=e("readable-stream"),u=65536;function c(e){var t=this;if(!(t instanceof c))return new c(e);if(t._id=a(4).toString("hex").slice(0,7),t._debug("new peer %o",e),e=Object.assign({allowHalfOpen:!1},e),o.Duplex.call(t,e),t.channelName=e.initiator?e.channelName||a(20).toString("hex"):null,t.initiator=e.initiator||!1,t.channelConfig=e.channelConfig||c.channelConfig,t.config=Object.assign({},c.config,e.config),t.offerOptions=e.offerOptions||{},t.answerOptions=e.answerOptions||{},t.sdpTransform=e.sdpTransform||function(e){return e},t.streams=e.streams||(e.stream?[e.stream]:[]),t.trickle=e.trickle===undefined||e.trickle,t.allowHalfTrickle=e.allowHalfTrickle!==undefined&&e.allowHalfTrickle,t.iceCompleteTimeout=e.iceCompleteTimeout||5e3,t.destroyed=!1,t._connected=!1,t.remoteAddress=undefined,t.remoteFamily=undefined,t.remotePort=undefined,t.localAddress=undefined,t.localFamily=undefined,t.localPort=undefined,t._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!t._wrtc)throw"undefined"==typeof window?d("No WebRTC support: Specify `opts.wrtc` option in this environment","ERR_WEBRTC_SUPPORT"):d("No WebRTC support: Not a supported browser","ERR_WEBRTC_SUPPORT");t._pcReady=!1,t._channelReady=!1,t._iceComplete=!1,t._iceCompleteTimer=null,t._channel=null,t._pendingCandidates=[],t._isNegotiating=!t.initiator,t._batchedNegotiation=!1,t._queuedNegotiation=!1,t._sendersAwaitingStable=[],t._senderMap=new Map,t._firstStable=!0,t._closingInterval=null,t._remoteTracks=[],t._remoteStreams=[],t._chunk=null,t._cb=null,t._interval=null;try{t._pc=new t._wrtc.RTCPeerConnection(t.config)}catch(e){return void setTimeout((()=>t.destroy(e)),0)}t._isReactNativeWebrtc="number"==typeof t._pc._peerConnectionId,t._pc.oniceconnectionstatechange=function(){t._onIceStateChange()},t._pc.onicegatheringstatechange=function(){t._onIceStateChange()},t._pc.onsignalingstatechange=function(){t._onSignalingStateChange()},t._pc.onicecandidate=function(e){t._onIceCandidate(e)},t.initiator?t._setupData({channel:t._pc.createDataChannel(t.channelName,t.channelConfig)}):t._pc.ondatachannel=function(e){t._setupData(e)},t.streams&&t.streams.forEach((function(e){t.addStream(e)})),t._pc.ontrack=function(e){t._onTrack(e)},t.initiator&&t._needsNegotiation(),t._onFinishBound=function(){t._onFinish()},t.once("finish",t._onFinishBound)}function l(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function d(e,t){var r=new Error(e);return r.code=t,r}s(c,o.Duplex),c.WEBRTC_SUPPORT=!!i(),c.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}],sdpSemantics:"unified-plan"},c.channelConfig={},Object.defineProperty(c.prototype,"bufferSize",{get:function(){return this._channel&&this._channel.bufferedAmount||0}}),Object.defineProperty(c.prototype,"connected",{get:function(){return this._connected&&"open"===this._channel.readyState}}),c.prototype.address=function(){var e=this;return{port:e.localPort,family:e.localFamily,address:e.localAddress}},c.prototype.signal=function(e){var t=this;if(t.destroyed)throw d("cannot signal after peer is destroyed","ERR_SIGNALING");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}t._debug("signal()"),e.renegotiate&&t.initiator&&(t._debug("got request to renegotiate"),t._needsNegotiation()),e.transceiverRequest&&t.initiator&&(t._debug("got request for transceiver"),t.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(t._pc.localDescription&&t._pc.localDescription.type&&t._pc.remoteDescription&&t._pc.remoteDescription.type?t._addIceCandidate(e.candidate):t._pendingCandidates.push(e.candidate)),e.sdp&&t._pc.setRemoteDescription(new t._wrtc.RTCSessionDescription(e)).then((function(){t.destroyed||(t._pendingCandidates.forEach((function(e){t._addIceCandidate(e)})),t._pendingCandidates=[],"offer"===t._pc.remoteDescription.type&&t._createAnswer())})).catch((function(e){t.destroy(d(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||t.destroy(d("signal() called with invalid signal data","ERR_SIGNALING"))},c.prototype._addIceCandidate=function(e){var t=this,r=new t._wrtc.RTCIceCandidate(e);t._pc.addIceCandidate(r).catch((function(e){var n;!r.address||r.address.endsWith(".local")?(n="Ignoring unsupported ICE candidate.",console.warn(n)):t.destroy(d(e,"ERR_ADD_ICE_CANDIDATE"))}))},c.prototype.send=function(e){this._channel.send(e)},c.prototype.addTransceiver=function(e,t){var r=this;if(r._debug("addTransceiver()"),r.initiator)try{r._pc.addTransceiver(e,t),r._needsNegotiation()}catch(e){r.destroy(e)}else r.emit("signal",{transceiverRequest:{kind:e,init:t}})},c.prototype.addStream=function(e){var t=this;t._debug("addStream()"),e.getTracks().forEach((function(r){t.addTrack(r,e)}))},c.prototype.addTrack=function(e,t){var r=this;r._debug("addTrack()");var n=r._senderMap.get(e)||new Map,i=n.get(t);i?i.removed?r.destroy(d("Track has been removed. You should enable/disable tracks that you want to re-add.","ERR_SENDER_REMOVED")):r.destroy(d("Track has already been added to that stream.","ERR_SENDER_ALREADY_ADDED")):(i=r._pc.addTrack(e,t),n.set(t,i),r._senderMap.set(e,n),r._needsNegotiation())},c.prototype.replaceTrack=function(e,t,r){var n=this;n._debug("replaceTrack()");var i=n._senderMap.get(e),s=i?i.get(r):null;s||n.destroy(d("Cannot replace track that was never added.","ERR_TRACK_NOT_ADDED")),t&&n._senderMap.set(t,i),null!=s.replaceTrack?s.replaceTrack(t):n.destroy(d("replaceTrack is not supported in this browser","ERR_UNSUPPORTED_REPLACETRACK"))},c.prototype.removeTrack=function(e,t){var r=this;r._debug("removeSender()");var n=r._senderMap.get(e),i=n?n.get(t):null;i||r.destroy(d("Cannot remove track that was never added.","ERR_TRACK_NOT_ADDED"));try{i.removed=!0,r._pc.removeTrack(i)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?r._sendersAwaitingStable.push(i):r.destroy(e)}r._needsNegotiation()},c.prototype.removeStream=function(e){var t=this;t._debug("removeSenders()"),e.getTracks().forEach((function(r){t.removeTrack(r,e)}))},c.prototype._needsNegotiation=function(){var e=this;e._debug("_needsNegotiation"),e._batchedNegotiation||(e._batchedNegotiation=!0,setTimeout((function(){e._batchedNegotiation=!1,e._debug("starting batched negotiation"),e.negotiate()}),0))},c.prototype.negotiate=function(){var e=this;e.initiator?e._isNegotiating?(e._queuedNegotiation=!0,e._debug("already negotiating, queueing")):(e._debug("start negotiation"),setTimeout((()=>{e._createOffer()}),0)):e._isNegotiating||(e._debug("requesting negotiation from initiator"),e.emit("signal",{renegotiate:!0})),e._isNegotiating=!0},c.prototype.destroy=function(e){this._destroy(e,(function(){}))},c.prototype._destroy=function(e,t){var r=this;if(!r.destroyed){if(r._debug("destroy (error: %s)",e&&(e.message||e)),r.readable=r.writable=!1,r._readableState.ended||r.push(null),r._writableState.finished||r.end(),r.destroyed=!0,r._connected=!1,r._pcReady=!1,r._channelReady=!1,r._remoteTracks=null,r._remoteStreams=null,r._senderMap=null,clearInterval(r._closingInterval),r._closingInterval=null,clearInterval(r._interval),r._interval=null,r._chunk=null,r._cb=null,r._onFinishBound&&r.removeListener("finish",r._onFinishBound),r._onFinishBound=null,r._channel){try{r._channel.close()}catch(e){}r._channel.onmessage=null,r._channel.onopen=null,r._channel.onclose=null,r._channel.onerror=null}if(r._pc){try{r._pc.close()}catch(e){}r._pc.oniceconnectionstatechange=null,r._pc.onicegatheringstatechange=null,r._pc.onsignalingstatechange=null,r._pc.onicecandidate=null,r._pc.ontrack=null,r._pc.ondatachannel=null}r._pc=null,r._channel=null,e&&r.emit("error",e),r.emit("close"),t()}},c.prototype._setupData=function(e){var t=this;if(!e.channel)return t.destroy(d("Data channel event is missing `channel` property","ERR_DATA_CHANNEL"));t._channel=e.channel,t._channel.binaryType="arraybuffer","number"==typeof t._channel.bufferedAmountLowThreshold&&(t._channel.bufferedAmountLowThreshold=u),t.channelName=t._channel.label,t._channel.onmessage=function(e){t._onChannelMessage(e)},t._channel.onbufferedamountlow=function(){t._onChannelBufferedAmountLow()},t._channel.onopen=function(){t._onChannelOpen()},t._channel.onclose=function(){t._onChannelClose()},t._channel.onerror=function(e){t.destroy(d(e,"ERR_DATA_CHANNEL"))};var r=!1;t._closingInterval=setInterval((function(){t._channel&&"closing"===t._channel.readyState?(r&&t._onChannelClose(),r=!0):r=!1}),5e3)},c.prototype._read=function(){},c.prototype._write=function(e,t,r){var n=this;if(n.destroyed)return r(d("cannot write after peer is destroyed","ERR_DATA_CHANNEL"));if(n._connected){try{n.send(e)}catch(e){return n.destroy(d(e,"ERR_DATA_CHANNEL"))}n._channel.bufferedAmount>u?(n._debug("start backpressure: bufferedAmount %d",n._channel.bufferedAmount),n._cb=r):r(null)}else n._debug("write before connect"),n._chunk=e,n._cb=r},c.prototype._onFinish=function(){var e=this;function t(){setTimeout((function(){e.destroy()}),1e3)}e.destroyed||(e._connected?t():e.once("connect",t))},c.prototype._startIceCompleteTimeout=function(){var e=this;e.destroyed||e._iceCompleteTimer||(e._debug("started iceComplete timeout"),e._iceCompleteTimer=setTimeout((function(){e._iceComplete||(e._iceComplete=!0,e._debug("iceComplete timeout completed"),e.emit("iceTimeout"),e.emit("_iceComplete"))}),e.iceCompleteTimeout))},c.prototype._createOffer=function(){var e=this;e.destroyed||e._pc.createOffer(e.offerOptions).then((function(t){function r(){if(!e.destroyed){var r=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:r.type,sdp:r.sdp})}}e.destroyed||(e.trickle||e.allowHalfTrickle||(t.sdp=l(t.sdp)),t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t).then((function(){if(e._debug("createOffer success"),e.destroyed)return;e.trickle||e._iceComplete?r():e.once("_iceComplete",r)})).catch((function(t){e.destroy(d(t,"ERR_SET_LOCAL_DESCRIPTION"))})))})).catch((function(t){e.destroy(d(t,"ERR_CREATE_OFFER"))}))},c.prototype._requestMissingTransceivers=function(){var e=this;e._pc.getTransceivers&&e._pc.getTransceivers().forEach((t=>{t.mid||!t.sender.track||t.requested||(t.requested=!0,e.addTransceiver(t.sender.track.kind))}))},c.prototype._createAnswer=function(){var e=this;e.destroyed||e._pc.createAnswer(e.answerOptions).then((function(t){function r(){if(!e.destroyed){var r=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:r.type,sdp:r.sdp}),e.initiator||e._requestMissingTransceivers()}}e.destroyed||(e.trickle||e.allowHalfTrickle||(t.sdp=l(t.sdp)),t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t).then((function(){if(e.destroyed)return;e.trickle||e._iceComplete?r():e.once("_iceComplete",r)})).catch((function(t){e.destroy(d(t,"ERR_SET_LOCAL_DESCRIPTION"))})))})).catch((function(t){e.destroy(d(t,"ERR_CREATE_ANSWER"))}))},c.prototype._onIceStateChange=function(){var e=this;if(!e.destroyed){var t=e._pc.iceConnectionState,r=e._pc.iceGatheringState;e._debug("iceStateChange (connection: %s) (gathering: %s)",t,r),e.emit("iceStateChange",t,r),"connected"!==t&&"completed"!==t||(e._pcReady=!0,e._maybeReady()),"failed"===t&&e.destroy(d("Ice connection failed.","ERR_ICE_CONNECTION_FAILURE")),"closed"===t&&e.destroy(d("Ice connection closed.","ERR_ICE_CONNECTION_CLOSED"))}},c.prototype.getStats=function(e){var t=this;function r(e){return"[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((function(t){Object.assign(e,t)})),e}0===t._pc.getStats.length?t._pc.getStats().then((function(t){var n=[];t.forEach((function(e){n.push(r(e))})),e(null,n)}),(function(t){e(t)})):t._isReactNativeWebrtc?t._pc.getStats(null,(function(t){var n=[];t.forEach((function(e){n.push(r(e))})),e(null,n)}),(function(t){e(t)})):t._pc.getStats.length>0?t._pc.getStats((function(n){if(!t.destroyed){var i=[];n.result().forEach((function(e){var t={};e.names().forEach((function(r){t[r]=e.stat(r)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,i.push(r(t))})),e(null,i)}}),(function(t){e(t)})):e(null,[])},c.prototype._maybeReady=function(){var e=this;e._debug("maybeReady pc %s channel %s",e._pcReady,e._channelReady),!e._connected&&!e._connecting&&e._pcReady&&e._channelReady&&(e._connecting=!0,function t(){e.destroyed||e.getStats((function(r,n){if(!e.destroyed){r&&(n=[]);var i={},s={},a={},o=!1;if(n.forEach((function(e){"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(i[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(s[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(a[e.id]=e)})),n.forEach((function(e){"transport"===e.type&&e.selectedCandidatePairId&&c(a[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&c(e)})),o||Object.keys(a).length&&!Object.keys(s).length){if(e._connecting=!1,e._connected=!0,e._chunk){try{e.send(e._chunk)}catch(r){return e.destroy(d(r,"ERR_DATA_CHANNEL"))}e._chunk=null,e._debug('sent chunk from "write before connect"');var u=e._cb;e._cb=null,u(null)}"number"!=typeof e._channel.bufferedAmountLowThreshold&&(e._interval=setInterval((function(){e._onInterval()}),150),e._interval.unref&&e._interval.unref()),e._debug("connect"),e.emit("connect")}else setTimeout(t,100)}function c(t){o=!0;var r=s[t.localCandidateId];r&&(r.ip||r.address)?(e.localAddress=r.ip||r.address,e.localPort=Number(r.port)):r&&r.ipAddress?(e.localAddress=r.ipAddress,e.localPort=Number(r.portNumber)):"string"==typeof t.googLocalAddress&&(r=t.googLocalAddress.split(":"),e.localAddress=r[0],e.localPort=Number(r[1])),e.localAddress&&(e.localFamily=e.localAddress.includes(":")?"IPv6":"IPv4");var n=i[t.remoteCandidateId];n&&(n.ip||n.address)?(e.remoteAddress=n.ip||n.address,e.remotePort=Number(n.port)):n&&n.ipAddress?(e.remoteAddress=n.ipAddress,e.remotePort=Number(n.portNumber)):"string"==typeof t.googRemoteAddress&&(n=t.googRemoteAddress.split(":"),e.remoteAddress=n[0],e.remotePort=Number(n[1])),e.remoteAddress&&(e.remoteFamily=e.remoteAddress.includes(":")?"IPv6":"IPv4"),e._debug("connect local: %s:%s remote: %s:%s",e.localAddress,e.localPort,e.remoteAddress,e.remotePort)}}))}())},c.prototype._onInterval=function(){var e=this;!e._cb||!e._channel||e._channel.bufferedAmount>u||e._onChannelBufferedAmountLow()},c.prototype._onSignalingStateChange=function(){var e=this;e.destroyed||("stable"!==e._pc.signalingState||e._firstStable||(e._isNegotiating=!1,e._debug("flushing sender queue",e._sendersAwaitingStable),e._sendersAwaitingStable.forEach((function(t){e._pc.removeTrack(t),e._queuedNegotiation=!0})),e._sendersAwaitingStable=[],e._queuedNegotiation&&(e._debug("flushing negotiation queue"),e._queuedNegotiation=!1,e._needsNegotiation()),e._debug("negotiate"),e.emit("negotiate")),e._firstStable=!1,e._debug("signalingStateChange %s",e._pc.signalingState),e.emit("signalingStateChange",e._pc.signalingState))},c.prototype._onIceCandidate=function(e){var t=this;t.destroyed||(e.candidate&&t.trickle?t.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||t._iceComplete||(t._iceComplete=!0,t.emit("_iceComplete")),e.candidate&&t._startIceCompleteTimeout())},c.prototype._onChannelMessage=function(e){if(!this.destroyed){var t=e.data;t instanceof ArrayBuffer&&(t=r.from(t)),this.push(t)}},c.prototype._onChannelBufferedAmountLow=function(){var e=this;if(!e.destroyed&&e._cb){e._debug("ending backpressure: bufferedAmount %d",e._channel.bufferedAmount);var t=e._cb;e._cb=null,t(null)}},c.prototype._onChannelOpen=function(){var e=this;e._connected||e.destroyed||(e._debug("on channel open"),e._channelReady=!0,e._maybeReady())},c.prototype._onChannelClose=function(){var e=this;e.destroyed||(e._debug("on channel close"),e.destroy())},c.prototype._onTrack=function(e){var t=this;t.destroyed||e.streams.forEach((function(r){t._debug("on track"),t.emit("track",e.track,r),t._remoteTracks.push({track:e.track,stream:r}),t._remoteStreams.some((function(e){return e.id===r.id}))||(t._remoteStreams.push(r),setTimeout((function(){t.emit("stream",r)}),0))}))},c.prototype._debug=function(){var e=this,t=[].slice.call(arguments);t[0]="["+e._id+"] "+t[0],n.apply(null,t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"simple-peer",file:"/home/gudahtt/projects/metamask-extension/node_modules/simple-peer/index.js"}],[5821,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function s(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,a,o;if("string"==typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(r===undefined||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(s(t,"type"));else{var u=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(s(t,"type"))}return o+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/errors-browser.js"}],[5822,{"./_stream_readable":5824,"./_stream_writable":5826,_process:5420,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,i);for(var a=n(s.prototype),o=0;o<a.length;o++){var u=a[o];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/_stream_duplex.js"}],[5823,{"./_stream_transform":5825,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/_stream_passthrough.js"}],[5824,{"../errors":5821,"./_stream_duplex":5822,"./internal/streams/async_iterator":5827,"./internal/streams/buffer_list":5828,"./internal/streams/destroy":5829,"./internal/streams/from":5831,"./internal/streams/state":5833,"./internal/streams/stream":5834,_process:5420,buffer:2081,events:2082,inherits:4404,"string_decoder/":5897,util:2080},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=S,S.ReadableState=C;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),a=e("buffer").Buffer,o=global.Uint8Array||function(){};var u,c=e("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,d,h,f=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),g=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,y=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,v=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(S,s);var E=p.errorOrDestroy,w=["error","close","destroy","pause","resume"];function C(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function S(t){if(n=n||e("./_stream_duplex"),!(this instanceof S))return new S(t);var r=this instanceof n;this._readableState=new C(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function I(e,t,r,n,i){u("readableAddChunk",t);var s,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,c);else if(i||(s=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof o||"string"==typeof t||t===undefined||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(c,t)),s)E(e,s);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)c.endEmitted?E(e,new _):k(e,c,t,!0);else if(c.ended)E(e,new b);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?k(e,c,t,!1):B(e,c)):k(e,c,t,!1)}else n||(c.reading=!1,B(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),B(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),I(this,e,t,!1,r)},S.prototype.unshift=function(e){return I(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var r=new l(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(R,e))}function R(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,P(e)}function B(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function j(e){u("readable nexttick read 0"),e.read(0)}function D(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(M,t,e))}function M(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function K(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):x(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?O(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){E(this,new v("_read()"))},S.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:m;function o(t,r){u("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",o),n.removeListener("end",c),n.removeListener("end",m),n.removeListener("data",h),d=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}s.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",o);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",l);var d=!1;function h(t){u("ondata");var r=e.write(t);u("dest.write",r),!1===r&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==K(s.pipes,e))&&!d&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),n.pause())}function f(t){u("onerror",t),m(),e.removeListener("error",f),0===i(e,"error")&&E(e,t)}function p(){e.removeListener("finish",g),m()}function g(){u("onfinish"),e.removeListener("close",p),m()}function m(){u("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",g),e.emit("pipe",n),s.flowing||(u("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=K(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?x(this):i.reading||r.nextTick(j,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(L,this),n},S.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(L,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<w.length;s++)e.on(w[s],this.emit.bind(this,w[s]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return d===undefined&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=O,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,r){return h===undefined&&(h=e("./internal/streams/from")),h(S,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/_stream_readable.js"}],[5825,{"../errors":5821,"./_stream_duplex":5822,inherits:4404},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/_stream_transform.js"}],[5826,{"../errors":5821,"./_stream_duplex":5822,"./internal/streams/destroy":5829,"./internal/streams/state":5833,"./internal/streams/stream":5834,_process:5420,buffer:2081,inherits:4404,"util-deprecate":6008},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=S,S.WritableState=C;var s={deprecate:e("util-deprecate")},a=e("./internal/streams/stream"),o=e("buffer").Buffer,u=global.Uint8Array||function(){};var c,l=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,h=e("../errors").codes,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,v=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;function w(){}function C(t,s,a){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof a&&(a=s instanceof i),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(r.nextTick(s,i),r.nextTick(R,e,t),e._writableState.errorEmitted=!0,E(e,i)):(s(i),e._writableState.errorEmitted=!0,E(e,i),R(e,t))}(e,n,i,t,s);else{var a=A(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),i?r.nextTick(k,e,n,a,s):k(e,n,a,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!c.call(S,this))return new S(t);this._writableState=new C(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function I(e,t,r,n,i,s,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function T(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),a=t.corkedRequestsFree;a.entry=r;for(var o=0,u=!0;r;)s[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;s.allBuffers=u,I(e,t,!0,t.length,s,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,d=r.callback;if(I(e,t,!1,t.objectMode?1:c.length,c,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(S,a),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===S&&(e&&e._writableState instanceof C)}})):c=function(e){return e instanceof this},S.prototype.pipe=function(){E(this,new m)},S.prototype.write=function(e,t,n){var i,s=this._writableState,a=!1,c=!s.objectMode&&(i=e,o.isBuffer(i)||i instanceof u);return c&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),"function"==typeof t&&(n=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=w),s.ending?function(e,t){var n=new v;E(e,n),r.nextTick(t,n)}(this,n):(c||function(e,t,n,i){var s;return null===n?s=new b:"string"==typeof n||t.objectMode||(s=new f("chunk",["string","Buffer"],n)),!s||(E(e,s),r.nextTick(i,s),!1)}(this,s,e,n))&&(s.pendingcb++,a=function(e,t,r,n,i,s){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var u=t.objectMode?1:n.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else I(e,t,!1,u,n,i,s);return c}(this,s,c,e,t,n)),a},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,R(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/gudahtt/projects/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/_stream_writable.js"}]],[],{});